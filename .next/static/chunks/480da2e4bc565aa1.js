(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,551953,e=>{"use strict";var t=e.i(843476),a=e.i(271645),r=e.i(618566),s=e.i(555436),l=e.i(16715),i=e.i(440160),n=e.i(871689),o=e.i(475254);let d=(0,o.default)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),c=(0,o.default)("film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]),m=(0,o.default)("file-play",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M15.033 13.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56v-4.704a.645.645 0 0 1 .967-.56z",key:"1tzo1f"}]]),h=(0,o.default)("list",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]),u=(0,o.default)("layout-grid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);var x=e.i(37727),p=e.i(431343),f=e.i(373375),g=e.i(463059);let b=(0,o.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),w=(0,o.default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),v=(0,o.default)("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);var j=e.i(286536),y=e.i(174886),N=e.i(662031);let k=(0,o.default)("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);var C=e.i(87316);let S=(0,o.default)("hard-drive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);var T=e.i(643531),I=e.i(107233);let M=(0,o.default)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),E=(0,o.default)("megaphone",[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]]),z=(0,o.default)("message-square-quote",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M14 13a2 2 0 0 0 2-2V9h-2",key:"zjz9hw"}],["path",{d:"M8 13a2 2 0 0 0 2-2V9H8",key:"14e02x"}]]),$=(0,o.default)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]),P=(0,o.default)("presentation",[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]]),L=(0,o.default)("archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);var F=e.i(514764),O=e.i(63209);let D=(0,o.default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),A=(0,o.default)("folder-plus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]),U=(0,o.default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);var B=e.i(98919);function R(){var e;let s=(0,r.useRouter)(),[l,i]=(0,a.useState)(null),[n,o]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{let e=localStorage.getItem("user");e&&i(JSON.parse(e))},[]),l)?(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{onClick:()=>o(!n),className:"flex items-center gap-3 px-4 py-2 bg-white border border-gray-200 rounded-xl hover:bg-gray-50 transition-all shadow-sm hover:shadow-md",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-red-500 to-red-600 flex items-center justify-center text-white font-semibold",children:l.name.charAt(0).toUpperCase()}),(0,t.jsxs)("div",{className:"text-left hidden md:block",children:[(0,t.jsx)("div",{className:"text-sm font-semibold text-gray-900",children:l.name}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:l.email})]}),(0,t.jsx)("svg",{className:`w-4 h-4 text-gray-400 transition-transform ${n?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>o(!1)}),(0,t.jsxs)("div",{className:"absolute right-0 mt-2 w-72 bg-white border border-gray-200 rounded-xl shadow-xl z-50 overflow-hidden",children:[(0,t.jsxs)("div",{className:"p-4 bg-gradient-to-br from-red-50 to-red-100 border-b border-red-200",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-red-500 to-red-600 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"font-semibold text-gray-900",children:l.name}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:l.email})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(B.Shield,{className:"w-4 h-4 text-red-600"}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold border ${(e=>{switch(e){case"dev":case"superadmin":return"bg-purple-100 text-purple-800 border-purple-300";case"admin":return"bg-blue-100 text-blue-800 border-blue-300";case"sale":return"bg-green-100 text-green-800 border-green-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}})(l.role_tag)}`,children:{dev:"Developer",superadmin:"Super Admin",admin:"Admin",sale:"Sale",user:"User"}[e=l.role_tag]||e})]}),(l.department_name||l.position_name)&&(0,t.jsxs)("div",{className:"mt-3 pt-3 border-t border-red-200 text-sm",children:[l.department_name&&(0,t.jsxs)("div",{className:"text-gray-600",children:["ðŸ“ ",l.department_name]}),l.position_name&&(0,t.jsxs)("div",{className:"text-gray-600",children:["ðŸ’¼ ",l.position_name]})]})]}),(0,t.jsx)("div",{className:"p-2",children:(0,t.jsxs)("button",{onClick:()=>{localStorage.removeItem("user"),localStorage.removeItem("authToken"),document.cookie="authToken=; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;",s.push("/login")},className:"w-full flex items-center gap-3 px-4 py-3 text-left hover:bg-red-50 rounded-lg transition-colors text-red-600 font-medium",children:[(0,t.jsx)(U,{className:"w-5 h-5"}),(0,t.jsx)("span",{children:"à¸­à¸­à¸à¸ˆà¸²à¸à¸£à¸°à¸šà¸š"})]})})]})]})]}):null}var H=e.i(846932),V=e.i(88653);let q=(0,o.default)("file",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);var G=e.i(178583);let J=(0,o.default)("music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]),W=(0,o.default)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);var _=e.i(531278);let X=e=>{if(0===e)return"0 B";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(1))+" "+["B","KB","MB","GB"][t]},Y=({progress:e,size:a=56,strokeWidth:r=4,status:s,type:l})=>{let i=(a-r)/2,n=2*i*Math.PI,o=n-e/100*n,d=()=>`progress-gradient-${l}-${s}`,c=(()=>{switch(s){case"success":return{start:"#22c55e",end:"#10b981"};case"error":return{start:"#ef4444",end:"#dc2626"};case"uploading":return{start:"#8b5cf6",end:"#ec4899"};case"downloading":return{start:"#3b82f6",end:"#06b6d4"};default:return{start:"#6b7280",end:"#4b5563"}}})(),m="uploading"===s||"downloading"===s;return(0,t.jsxs)("svg",{width:a,height:a,className:"transform -rotate-90",children:[(0,t.jsxs)("defs",{children:[(0,t.jsxs)("linearGradient",{id:d(),x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:c.start}),(0,t.jsx)("stop",{offset:"100%",stopColor:c.end})]}),m&&(0,t.jsxs)("filter",{id:"glow",children:[(0,t.jsx)("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),(0,t.jsxs)("feMerge",{children:[(0,t.jsx)("feMergeNode",{in:"coloredBlur"}),(0,t.jsx)("feMergeNode",{in:"SourceGraphic"})]})]})]}),(0,t.jsx)("circle",{cx:a/2,cy:a/2,r:i,fill:"none",stroke:"rgba(255,255,255,0.1)",strokeWidth:r}),m&&(0,t.jsx)(H.motion.circle,{cx:a/2,cy:a/2,r:i,fill:"none",stroke:`url(#${d()})`,strokeWidth:r+4,strokeLinecap:"round",strokeDasharray:n,strokeDashoffset:o,opacity:.3,filter:"url(#glow)",animate:{opacity:[.2,.4,.2]},transition:{duration:1.5,repeat:1/0}}),(0,t.jsx)(H.motion.circle,{cx:a/2,cy:a/2,r:i,fill:"none",stroke:`url(#${d()})`,strokeWidth:r,strokeLinecap:"round",strokeDasharray:n,initial:{strokeDashoffset:n},animate:{strokeDashoffset:o},transition:{duration:.3,ease:"easeOut"}})]})},K=({progress:e,type:a,status:r,fileType:s})=>{let l=s.startsWith("image/")?d:s.startsWith("video/")?c:s.startsWith("audio/")?J:s.startsWith("text/")?G.FileText:s.includes("zip")||s.includes("rar")||s.includes("tar")?L:q;return(0,t.jsxs)("div",{className:"relative w-6 h-6",children:[(0,t.jsx)(l,{className:"w-6 h-6 text-white/20 absolute inset-0"}),(0,t.jsx)("div",{className:"absolute inset-0 overflow-hidden",style:{clipPath:`inset(${100-e}% 0 0 0)`},children:(0,t.jsx)(l,{className:`w-6 h-6 ${"success"===r?"text-green-400":"error"===r?"text-red-400":"upload"===a?"text-purple-400":"text-blue-400"}`})}),("uploading"===r||"downloading"===r)&&(0,t.jsx)(H.motion.div,{className:"absolute inset-0 flex items-center justify-center",animate:{y:"upload"===a?[-8,0]:[0,8]},transition:{duration:.6,repeat:1/0,repeatType:"reverse"},children:"upload"===a?(0,t.jsx)("div",{className:"w-2 h-2 border-t-2 border-l-2 border-purple-400 transform -rotate-45 translate-y-1"}):(0,t.jsx)("div",{className:"w-2 h-2 border-b-2 border-r-2 border-blue-400 transform -rotate-45 -translate-y-1"})})]})},Z=()=>(0,t.jsxs)(H.motion.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:25},className:"relative",children:[(0,t.jsx)(H.motion.div,{className:"absolute inset-0 bg-green-500/30 rounded-full",initial:{scale:1},animate:{scale:[1,1.5,1]},transition:{duration:.5}}),(0,t.jsx)(H.motion.div,{initial:{pathLength:0},animate:{pathLength:1},transition:{duration:.3,delay:.1},children:(0,t.jsx)(T.Check,{className:"w-6 h-6 text-green-400"})})]}),Q=()=>(0,t.jsx)(H.motion.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:500,damping:25},children:(0,t.jsx)(H.motion.div,{animate:{x:[-2,2,-2,2,0]},transition:{duration:.4,delay:.2},children:(0,t.jsx)(x.X,{className:"w-6 h-6 text-red-400"})})}),ee=({className:e})=>(0,t.jsx)(H.motion.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:(0,t.jsx)(_.Loader2,{className:e||"w-5 h-5 text-white/60"})}),et=({item:e,onCancel:a,onRetry:r,onDismiss:s})=>{var l;let i="uploading"===e.status||"downloading"===e.status,n="success"===e.status,o="error"===e.status,d="pending"===e.status;return(0,t.jsxs)(H.motion.div,{layout:!0,initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,x:100,scale:.9},transition:{duration:.3,ease:"easeOut"},className:`relative bg-gradient-to-r from-slate-900/95 to-slate-800/95 backdrop-blur-xl 
                 rounded-2xl border p-4 shadow-2xl overflow-hidden transition-all duration-300
                 ${n?"border-green-500/30":o?"border-red-500/30":"border-white/10"}
                 hover:border-white/20`,children:[i&&(0,t.jsx)(H.motion.div,{className:"absolute inset-0 opacity-20",style:{background:"upload"===e.type?"linear-gradient(90deg, #8b5cf6, #ec4899, #8b5cf6)":"linear-gradient(90deg, #3b82f6, #06b6d4, #3b82f6)",backgroundSize:"200% 100%"},animate:{backgroundPosition:["0% 0%","100% 0%","0% 0%"]},transition:{duration:2,repeat:1/0,ease:"linear"}}),n&&(0,t.jsx)(H.motion.div,{className:"absolute inset-0 bg-green-500/10",initial:{opacity:0},animate:{opacity:[0,.3,0]},transition:{duration:.5}}),(0,t.jsxs)("div",{className:"relative flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,t.jsx)(Y,{progress:e.progress,size:56,strokeWidth:3,status:e.status,type:e.type}),(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,t.jsx)(V.AnimatePresence,{mode:"wait",children:n?(0,t.jsx)(H.motion.div,{children:(0,t.jsx)(Z,{})},"success"):o?(0,t.jsx)(H.motion.div,{children:(0,t.jsx)(Q,{})},"error"):d?(0,t.jsx)(H.motion.div,{children:(0,t.jsx)(ee,{})},"pending"):i?(0,t.jsx)(H.motion.div,{animate:{scale:[1,1.1,1]},transition:{duration:1,repeat:1/0},children:(0,t.jsx)(K,{progress:e.progress,type:e.type,status:e.status,fileType:e.fileType})},"active"):(0,t.jsx)(H.motion.div,{children:(0,t.jsx)(K,{progress:0,type:e.type,status:e.status,fileType:e.fileType})},"idle")})})]}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("p",{className:"text-white font-medium truncate text-sm",children:e.fileName}),i&&(0,t.jsxs)(H.motion.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"text-xs font-bold px-2 py-0.5 rounded-full bg-white/10",style:{color:"upload"===e.type?"#a78bfa":"#60a5fa"},children:[e.progress,"%"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-0.5",children:[(0,t.jsx)("p",{className:"text-white/50 text-xs",children:X(e.fileSize)}),i&&e.speed&&(0,t.jsxs)("span",{className:"text-white/40 text-xs",children:["â€¢ ",X(e.speed),"/s"]}),i&&e.remainingTime&&(0,t.jsxs)("span",{className:"text-white/40 text-xs",children:["â€¢ ",(l=e.remainingTime)<60?`${Math.round(l)}s`:l<3600?`${Math.round(l/60)}m`:`${Math.round(l/3600)}h`," left"]})]}),(0,t.jsx)("div",{className:"mt-2 h-1.5 bg-white/10 rounded-full overflow-hidden",children:(0,t.jsx)(H.motion.div,{className:`h-full rounded-full relative ${n?"bg-gradient-to-r from-green-400 to-emerald-500":o?"bg-gradient-to-r from-red-400 to-rose-500":"upload"===e.type?"bg-gradient-to-r from-purple-500 via-pink-500 to-purple-500":"bg-gradient-to-r from-blue-500 via-cyan-500 to-blue-500"}`,style:{backgroundSize:i?"200% 100%":"100% 100%"},initial:{width:0},animate:{width:`${e.progress}%`,backgroundPosition:i?["0% 0%","100% 0%","0% 0%"]:"0% 0%"},transition:{width:{duration:.3,ease:"easeOut"},backgroundPosition:{duration:1.5,repeat:1/0,ease:"linear"}},children:i&&(0,t.jsx)(H.motion.div,{className:"absolute inset-0",style:{background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent)"},animate:{x:["-100%","200%"]},transition:{duration:1,repeat:1/0,ease:"linear"}})})}),(0,t.jsx)(V.AnimatePresence,{mode:"wait",children:(0,t.jsx)(H.motion.p,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},className:`text-xs mt-1.5 ${n?"text-green-400":o?"text-red-400":"text-white/40"}`,children:n?"upload"===e.type?"âœ“ à¸­à¸±à¸›à¹‚à¸«à¸¥à¸”à¸ªà¸³à¹€à¸£à¹‡à¸ˆ!":"âœ“ à¸”à¸²à¸§à¸™à¹Œà¹‚à¸«à¸¥à¸”à¸ªà¸³à¹€à¸£à¹‡à¸ˆ!":o?e.error||"à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”":d?"à¸à¸³à¸¥à¸±à¸‡à¸£à¸­...":i?"upload"===e.type?"à¸à¸³à¸¥à¸±à¸‡à¸­à¸±à¸›à¹‚à¸«à¸¥à¸”...":"à¸à¸³à¸¥à¸±à¸‡à¸”à¸²à¸§à¸™à¹Œà¹‚à¸«à¸¥à¸”...":"à¸žà¸£à¹‰à¸­à¸¡"},e.status)})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[i&&a&&(0,t.jsx)(H.motion.button,{initial:{scale:0},animate:{scale:1},whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>a(e.id),className:"p-2 rounded-xl bg-white/5 hover:bg-red-500/20    text-white/60 hover:text-red-400 transition-all duration-200",title:"à¸¢à¸à¹€à¸¥à¸´à¸",children:(0,t.jsx)(x.X,{className:"w-4 h-4"})}),o&&r&&(0,t.jsx)(H.motion.button,{initial:{scale:0},animate:{scale:1},whileHover:{scale:1.1,rotate:-180},whileTap:{scale:.9},onClick:()=>r(e.id),className:"p-2 rounded-xl bg-white/5 hover:bg-purple-500/20    text-white/60 hover:text-purple-400 transition-all duration-200",title:"à¸¥à¸­à¸‡à¹ƒà¸«à¸¡à¹ˆ",children:(0,t.jsx)(W,{className:"w-4 h-4"})}),(n||o)&&s&&(0,t.jsx)(H.motion.button,{initial:{scale:0},animate:{scale:1},whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>s(e.id),className:"p-2 rounded-xl bg-white/5 hover:bg-white/10    text-white/60 hover:text-white transition-all duration-200",title:"à¸›à¸´à¸”",children:(0,t.jsx)(x.X,{className:"w-4 h-4"})})]})]}),i&&(0,t.jsx)(H.motion.div,{className:"absolute inset-0 pointer-events-none",style:{background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.03), transparent)"},animate:{x:["-100%","200%"]},transition:{duration:2,repeat:1/0,ease:"linear"}}),n&&(0,t.jsx)("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[...Array(6)].map((e,a)=>(0,t.jsx)(H.motion.div,{className:"absolute w-1 h-1 bg-green-400 rounded-full",style:{left:`${20+12*a}%`,bottom:"50%"},initial:{y:0,opacity:1,scale:1},animate:{y:-30-20*Math.random(),x:(Math.random()-.5)*40,opacity:0,scale:0},transition:{duration:.6,delay:.05*a,ease:"easeOut"}},a))})]})},ea=(0,o.default)("minimize-2",[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]]);var er=e.i(398361),es=e.i(595468);let el=({items:e,onCancel:r,onRetry:s,onDismiss:l,onClearAll:n,position:o="bottom-right",autoDismissDelay:d=2e3})=>{let[c,m]=a.default.useState(!1),h=(0,a.useRef)(null),u=e.filter(e=>"upload"===e.type),p=e.filter(e=>"download"===e.type),f=e.filter(e=>"uploading"===e.status||"downloading"===e.status).length,g=e.filter(e=>"success"===e.status).length,b=e.filter(e=>"error"===e.status).length;(0,a.useEffect)(()=>(h.current&&(clearTimeout(h.current),h.current=null),e.length>0&&0===f&&0===b&&g===e.length&&n&&d>0&&(h.current=setTimeout(()=>{n()},d)),()=>{h.current&&clearTimeout(h.current)}),[e.length,f,b,g,n,d]);let v=e.length>0?Math.round(e.reduce((e,t)=>e+t.progress,0)/e.length):0;return 0===e.length?null:(0,t.jsx)(V.AnimatePresence,{children:(0,t.jsxs)(H.motion.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:50,scale:.9},transition:{type:"spring",stiffness:300,damping:25},className:`fixed ${{"bottom-right":"bottom-4 right-4","bottom-left":"bottom-4 left-4","top-right":"top-4 right-4","top-left":"top-4 left-4"}[o]} z-50 w-96 max-w-[calc(100vw-2rem)]`,children:[(0,t.jsxs)(H.motion.div,{layout:!0,className:"bg-gradient-to-r from-slate-900 via-slate-800 to-slate-900 rounded-t-2xl    border border-white/10 border-b-0 px-4 py-3 flex items-center justify-between   shadow-lg shadow-black/20",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"relative",children:f>0?(0,t.jsx)(H.motion.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},children:(0,t.jsx)(_.Loader2,{className:"w-5 h-5 text-purple-400"})}):g>0&&0===b?(0,t.jsx)(H.motion.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500},children:(0,t.jsx)(es.CheckCircle2,{className:"w-5 h-5 text-green-400"})}):b>0?(0,t.jsx)(H.motion.div,{animate:{x:[-1,1,-1]},transition:{duration:.2,repeat:3},children:(0,t.jsx)(O.AlertCircle,{className:"w-5 h-5 text-red-400"})}):null}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[u.length>0&&(0,t.jsxs)(H.motion.div,{initial:{scale:0},animate:{scale:1},className:"flex items-center gap-1.5 px-2 py-1 rounded-lg bg-purple-500/20",children:[(0,t.jsx)(w,{className:"w-3.5 h-3.5 text-purple-400"}),(0,t.jsx)("span",{className:"text-xs font-medium text-purple-300",children:u.length})]}),p.length>0&&(0,t.jsxs)(H.motion.div,{initial:{scale:0},animate:{scale:1},className:"flex items-center gap-1.5 px-2 py-1 rounded-lg bg-blue-500/20",children:[(0,t.jsx)(i.Download,{className:"w-3.5 h-3.5 text-blue-400"}),(0,t.jsx)("span",{className:"text-xs font-medium text-blue-300",children:p.length})]})]}),f>0&&(0,t.jsxs)(H.motion.div,{initial:{opacity:0},animate:{opacity:1},className:"text-xs text-white/50",children:[v,"%"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(H.motion.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>m(!c),className:"p-1.5 rounded-lg hover:bg-white/10 text-white/50 hover:text-white transition-colors",children:c?(0,t.jsx)(er.Maximize2,{className:"w-4 h-4"}):(0,t.jsx)(ea,{className:"w-4 h-4"})}),n&&e.every(e=>"success"===e.status||"error"===e.status)&&(0,t.jsx)(H.motion.button,{initial:{scale:0},animate:{scale:1},whileHover:{scale:1.1},whileTap:{scale:.9},onClick:n,className:"p-1.5 rounded-lg hover:bg-red-500/20 text-white/50 hover:text-red-400 transition-colors",children:(0,t.jsx)(x.X,{className:"w-4 h-4"})})]})]}),(0,t.jsx)(V.AnimatePresence,{children:!c&&(0,t.jsxs)(H.motion.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"bg-slate-900/95 backdrop-blur-xl rounded-b-2xl border border-white/10    border-t-0 overflow-hidden shadow-2xl shadow-black/30",children:[(0,t.jsx)("div",{className:"max-h-80 overflow-y-auto p-3 space-y-2 custom-scrollbar",children:(0,t.jsx)(V.AnimatePresence,{mode:"popLayout",children:e.map((e,a)=>(0,t.jsx)(H.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:50},transition:{delay:.05*a},children:(0,t.jsx)(et,{item:e,onCancel:r,onRetry:s,onDismiss:l})},e.id))})}),e.length>1&&(0,t.jsx)(H.motion.div,{initial:{opacity:0},animate:{opacity:1},className:"px-4 py-2 border-t border-white/5 bg-slate-900/50",children:(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs text-white/40",children:[(0,t.jsxs)("span",{children:["à¸£à¸§à¸¡ ",e.length," à¸£à¸²à¸¢à¸à¸²à¸£"]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[g>0&&(0,t.jsxs)("span",{className:"text-green-400",children:["âœ“ ",g," à¸ªà¸³à¹€à¸£à¹‡à¸ˆ"]}),b>0&&(0,t.jsxs)("span",{className:"text-red-400",children:["âœ• ",b," à¸¥à¹‰à¸¡à¹€à¸«à¸¥à¸§"]}),f>0&&(0,t.jsxs)("span",{className:"text-purple-400",children:["â—Ž ",f," à¸à¸³à¸¥à¸±à¸‡à¸”à¸³à¹€à¸™à¸´à¸™à¸à¸²à¸£"]})]})]})})]})}),c&&(0,t.jsx)(H.motion.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-slate-900/95 backdrop-blur-xl rounded-b-2xl border border-white/10 border-t-0 p-3",children:f>0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"h-2 bg-white/10 rounded-full overflow-hidden",children:(0,t.jsx)(H.motion.div,{className:"h-full bg-gradient-to-r from-purple-500 via-pink-500 to-blue-500 relative",style:{backgroundSize:"200% 100%"},animate:{width:`${v}%`,backgroundPosition:["0% 0%","100% 0%","0% 0%"]},transition:{width:{duration:.3},backgroundPosition:{duration:2,repeat:1/0,ease:"linear"}},children:(0,t.jsx)(H.motion.div,{className:"absolute inset-0",style:{background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent)"},animate:{x:["-100%","200%"]},transition:{duration:1,repeat:1/0}})})}),(0,t.jsxs)("p",{className:"text-xs text-white/40 mt-1.5 text-center",children:[f," à¸£à¸²à¸¢à¸à¸²à¸£ â€¢ ",v,"%"]})]}):(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2 text-xs",children:[g>0&&(0,t.jsxs)("span",{className:"text-green-400",children:["âœ“ ",g," à¸ªà¸³à¹€à¸£à¹‡à¸ˆ"]}),b>0&&(0,t.jsxs)("span",{className:"text-red-400",children:["âœ• ",b," à¸¥à¹‰à¸¡à¹€à¸«à¸¥à¸§"]})]})})]})})},ei=null,en=e=>{ei=e};e.i(373884),(0,o.default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var eo=e.i(182716);let ed=`
  .custom-scrollbar::-webkit-scrollbar {
    width: 10px;
    height: 10px;
  }
  .custom-scrollbar::-webkit-scrollbar-track {
    background: linear-gradient(180deg, #1e1b4b 0%, #312e81 100%);
    border-radius: 12px;
  }
  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, #8b5cf6 0%, #ec4899 50%, #f97316 100%);
    border-radius: 12px;
    border: 2px solid transparent;
    background-clip: padding-box;
  }
  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(180deg, #a78bfa 0%, #f472b6 50%, #fb923c 100%);
    border-radius: 12px;
  }

  @keyframes float {
    0%, 100% { transform: translateY(0px) rotate(0deg); }
    50% { transform: translateY(-20px) rotate(5deg); }
  }

  @keyframes pulse-glow {
    0%, 100% { box-shadow: 0 0 20px rgba(139, 92, 246, 0.5), 0 0 40px rgba(236, 72, 153, 0.3); }
    50% { box-shadow: 0 0 40px rgba(139, 92, 246, 0.8), 0 0 80px rgba(236, 72, 153, 0.5); }
  }

  @keyframes gradient-shift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  @keyframes shimmer {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
  }

  @keyframes bounce-in {
    0% { transform: scale(0); opacity: 0; }
    50% { transform: scale(1.1); }
    100% { transform: scale(1); opacity: 1; }
  }

  @keyframes slide-up {
    from { transform: translateY(100%); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
  }

  @keyframes slide-down {
    from { transform: translateY(0); opacity: 1; }
    to { transform: translateY(100%); opacity: 0; }
  }

  @keyframes rotate-3d {
    from { transform: perspective(1000px) rotateY(0deg); }
    to { transform: perspective(1000px) rotateY(360deg); }
  }

  .animate-float { animation: float 6s ease-in-out infinite; }
  .animate-pulse-glow { animation: pulse-glow 3s ease-in-out infinite; }
  .animate-gradient-shift { 
    background-size: 200% 200%;
    animation: gradient-shift 5s ease infinite;
  }
  .animate-shimmer { animation: shimmer 2s infinite; }
  .animate-bounce-in { animation: bounce-in 0.5s ease-out forwards; }
  .animate-slide-up { animation: slide-up 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
  .animate-slide-down { animation: slide-down 0.3s ease-in forwards; }

  .glass-effect {
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.2);
  }

  .glass-card {
    background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(255,255,255,0.18);
  }

  .neon-border {
    box-shadow: 0 0 5px theme('colors.purple.400'),
                0 0 20px theme('colors.purple.600'),
                inset 0 0 5px theme('colors.purple.400');
  }

  .image-card {
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  }

  .image-card:hover {
    transform: translateY(-8px) scale(1.02);
    box-shadow: 0 25px 50px -12px rgba(139, 92, 246, 0.4);
  }

  .file-item:hover .file-actions {
    opacity: 1;
    transform: translateY(0);
  }

  .file-actions {
    opacity: 0;
    transform: translateY(10px);
    transition: all 0.3s ease;
  }

  /* Mobile responsive styles */
  @media (max-width: 768px) {
    .image-card:hover {
      transform: none;
    }
    
    .file-actions {
      opacity: 1;
      transform: translateY(0);
    }

    .mobile-touch-target {
      min-height: 44px;
      min-width: 44px;
    }
  }

  /* Touch-friendly interactions */
  @media (hover: none) {
    .image-card:active {
      transform: scale(0.98);
    }
    
    .file-actions {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* AI Drop Zone Animation */
  @keyframes ai-pulse {
    0%, 100% { 
      box-shadow: 0 0 20px rgba(168, 85, 247, 0.4), 0 0 40px rgba(236, 72, 153, 0.2);
      border-color: rgba(168, 85, 247, 0.5);
    }
    50% { 
      box-shadow: 0 0 30px rgba(168, 85, 247, 0.6), 0 0 60px rgba(236, 72, 153, 0.4);
      border-color: rgba(236, 72, 153, 0.7);
    }
  }

  .ai-drop-zone {
    animation: ai-pulse 2s ease-in-out infinite;
  }

  .ai-drop-zone-active {
    animation: none;
    box-shadow: 0 0 40px rgba(34, 197, 94, 0.6), 0 0 80px rgba(34, 197, 94, 0.3);
    border-color: rgba(34, 197, 94, 0.8);
    background: rgba(34, 197, 94, 0.1);
  }

  /* LINE Share Button */
  .line-share-btn {
    background: linear-gradient(135deg, #00B900 0%, #00C300 100%);
  }

  .line-share-btn:hover {
    background: linear-gradient(135deg, #00C300 0%, #00D400 100%);
  }

  /* Responsive Text Sizing */
  .text-responsive-xs {
    font-size: clamp(0.625rem, 2vw, 0.75rem);
  }

  .text-responsive-sm {
    font-size: clamp(0.75rem, 2.5vw, 0.875rem);
  }

  .text-responsive-base {
    font-size: clamp(0.875rem, 3vw, 1rem);
  }

  .text-responsive-lg {
    font-size: clamp(1rem, 3.5vw, 1.125rem);
  }

  .text-responsive-xl {
    font-size: clamp(1.125rem, 4vw, 1.25rem);
  }

  .text-responsive-2xl {
    font-size: clamp(1.25rem, 4.5vw, 1.5rem);
  }

  .text-responsive-3xl {
    font-size: clamp(1.5rem, 5vw, 1.875rem);
  }

  .text-responsive-4xl {
    font-size: clamp(1.75rem, 5.5vw, 2.25rem);
  }

  .text-responsive-5xl {
    font-size: clamp(2rem, 6vw, 3rem);
  }

  /* Folder card responsive text */
  .folder-title {
    font-size: clamp(0.875rem, 2.5vw + 0.25rem, 1.125rem);
    line-height: 1.3;
  }

  .folder-description {
    font-size: clamp(0.625rem, 2vw + 0.1rem, 0.875rem);
    line-height: 1.4;
  }

  .folder-meta {
    font-size: clamp(0.625rem, 1.5vw + 0.1rem, 0.75rem);
  }

  /* File card responsive text */
  .file-title {
    font-size: clamp(0.75rem, 2vw + 0.2rem, 1rem);
    line-height: 1.3;
  }

  .file-meta {
    font-size: clamp(0.625rem, 1.5vw + 0.1rem, 0.75rem);
  }

  .file-tag {
    font-size: clamp(0.5rem, 1.5vw, 0.75rem);
    padding: clamp(0.125rem, 0.5vw, 0.25rem) clamp(0.375rem, 1vw, 0.5rem);
  }

  /* Header responsive text */
  .page-title {
    font-size: clamp(1.5rem, 5vw + 0.5rem, 3rem);
    line-height: 1.2;
  }

  .page-subtitle {
    font-size: clamp(0.75rem, 2.5vw + 0.1rem, 1.125rem);
  }

  /* Button responsive text */
  .btn-text {
    font-size: clamp(0.75rem, 2vw + 0.1rem, 0.875rem);
  }

  /* Breadcrumb responsive text */
  .breadcrumb-text {
    font-size: clamp(0.625rem, 2vw, 0.875rem);
  }
`,ec=[],em=[{id:"ad-content",name:"Ad Content",description:"âœ¨ à¸ à¸²à¸žà¸œà¸¥à¸¥à¸±à¸žà¸˜à¹Œà¸à¹ˆà¸­à¸™-à¸«à¸¥à¸±à¸‡à¸¨à¸±à¸¥à¸¢à¸à¸£à¸£à¸¡",gradient:"from-rose-500 to-pink-600",icon:$},{id:"before-and-after",name:"Before and After",description:"ðŸ’¬ à¸£à¸µà¸§à¸´à¸§à¹à¸¥à¸°à¸›à¸£à¸°à¸ªà¸šà¸à¸²à¸£à¸“à¹Œà¸„à¸™à¹„à¸‚à¹‰à¸ˆà¸£à¸´à¸‡",gradient:"from-amber-500 to-orange-500",icon:z},{id:"branding",name:"Branding",description:"ðŸŽ¬ à¸„à¸¥à¸´à¸›à¸§à¸µà¸”à¸µà¹‚à¸­à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¸«à¸±à¸•à¸–à¸à¸²à¸£",gradient:"from-emerald-500 to-teal-500",icon:c},{id:"presentations",name:"Presentations",description:"ðŸ‘¨â€âš•ï¸ à¹‚à¸›à¸£à¹„à¸Ÿà¸¥à¹Œà¸—à¸µà¸¡à¹à¸žà¸—à¸¢à¹Œà¸œà¸¹à¹‰à¹€à¸Šà¸µà¹ˆà¸¢à¸§à¸Šà¸²à¸",gradient:"from-sky-500 to-blue-600",icon:P},{id:"all-footages",name:"All Footages",description:"ðŸ¥ à¸žà¸²à¸Šà¸¡à¸„à¸¥à¸´à¸™à¸´à¸à¹à¸¥à¸°à¸«à¹‰à¸­à¸‡à¸œà¹ˆà¸²à¸•à¸±à¸”",gradient:"from-violet-500 to-purple-600",icon:E},{id:"other-files",name:"Other Files",description:"ðŸŽ à¹‚à¸›à¸£à¹‚à¸¡à¸Šà¸±à¹ˆà¸™à¹à¸¥à¸°à¸ªà¹ˆà¸§à¸™à¸¥à¸”à¸žà¸´à¹€à¸¨à¸©",gradient:"from-fuchsia-500 to-pink-500",icon:L}],eh={"Promo Clips":"ad-content","Social Media":"ad-content",Marketing:"ad-content","Before/After":"before-and-after",Products:"branding",Testimonials:"before-and-after",Consultations:"before-and-after",Events:"presentations","Surgery Videos":"all-footages",Training:"all-footages"},eu=e=>e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)+/g,""),ex=e=>e.split("/").map(e=>e.trim()).filter(Boolean),ep=e=>{let t=[...e.fileIds];return e.children.forEach(e=>{t.push(...ep(e))}),t},ef=(e,t)=>({id:e.id,name:e.name,fileIds:e.fileIds,parentId:t,relativePath:e.path,children:e.children.map(t=>ef(t,e.id))});e.s(["default",0,()=>{var e;let o=(0,r.useRouter)(),{setSuppressLoading:E}=(0,eo.useLoading)(),[$,P]=(0,a.useState)(ec),[L,U]=(0,a.useState)(!0),[B,H]=(0,a.useState)(null),[V,q]=(0,a.useState)("");(0,a.useEffect)(()=>(en(E),()=>{en(()=>{})}),[E]);let[G,J]=(0,a.useState)("grid"),[W,_]=(0,a.useState)("all"),[X,Y]=(0,a.useState)(!1),[K,Z]=(0,a.useState)("date"),[Q,ee]=(0,a.useState)("desc"),[et,ea]=(0,a.useState)([]),[er,es]=(0,a.useState)(!1),[eg,eb]=(0,a.useState)(0),[ew,ev]=(0,a.useState)(!1),[ej,ey]=(0,a.useState)("all"),[eN,ek]=(0,a.useState)(()=>{let e;return e=new Map,em.forEach(t=>{e.set(t.id,{...t,subFolders:[],rootFileIds:[],relativePath:t.name})}),ec.forEach(t=>{let a=eh[t.category]||"other-files",r=e.get(a);if(!r)return;let s=t.category,l=r.subFolders.find(e=>e.name===s);l||(l={id:`${r.id}-${eu(s)}`,name:s,fileIds:[],children:[],parentId:null,relativePath:`${r.name}/${s}`},r.subFolders.push(l)),l&&!l.fileIds.includes(t.id)&&l.fileIds.push(t.id)}),em.map(t=>e.get(t.id))}),[eC,eS]=(0,a.useState)(null),[eT,eI]=(0,a.useState)([]),[eM,eE]=(0,a.useState)(!1),[ez,e$]=(0,a.useState)(""),[eP,eL]=(0,a.useState)(null),[eF,eO]=(0,a.useState)(""),[eD,eA]=(0,a.useState)(null),[eU,eB]=(0,a.useState)(""),[eR,eH]=(0,a.useState)(null),[eV,eq]=(0,a.useState)(null),[eG,eJ]=(0,a.useState)(!1),[eW,e_]=(0,a.useState)(!1),[eX,eY]=(0,a.useState)(!1),[eK,eZ]=(0,a.useState)(!0),[eQ,e0]=(0,a.useState)(!1),[e1,e2]=(0,a.useState)([]),[e5,e4]=(0,a.useState)(!1),[e3,e6]=(0,a.useState)(null),[e8,e9]=(0,a.useState)(!1),[e7,te]=(0,a.useState)(""),[tt,ta]=(0,a.useState)("idle"),[tr,ts]=(0,a.useState)(""),[tl,ti]=(0,a.useState)([]),[tn,to]=(0,a.useState)(!1),[td,tc]=(0,a.useState)(""),[tm,th]=(0,a.useState)(""),[tu,tx]=(0,a.useState)(null),[tp,tf]=(0,a.useState)(!1),[tg,tb]=(0,a.useState)(!1),[tw,tv]=(0,a.useState)(!1),[tj,ty]=(0,a.useState)({isOpen:!1,folderId:null,folderName:""}),[tN,tk]=(0,a.useState)({isOpen:!1,fileId:null,fileName:"",fileIndex:-1}),[tC,tS]=(0,a.useState)(!1),tT=(0,a.useRef)(null),tI=(0,a.useRef)(null),[tM,tE]=(0,a.useState)({isOpen:!1,type:"delete",title:"",message:"",onConfirm:()=>{}}),tz=(0,a.useRef)(null),t$=(0,a.useRef)(null),tP=(0,a.useRef)(!0),tL=(0,a.useRef)(new Set);(0,a.useEffect)(()=>{let e=localStorage.getItem("lineGroups");if(e)try{let t=JSON.parse(e);ti(t),t.length>0&&tx(t[0].id)}catch(e){console.error("Error parsing LINE groups:",e)}else{let e=[{id:"C31a793e94485a393a7eb55cb36e6ecfd",name:"à¸à¸¥à¹ˆà¸­à¸‡à¹à¸Šà¸— AI"}];ti(e),tx(e[0].id),localStorage.setItem("lineGroups",JSON.stringify(e))}},[]);let tF=e=>{ti(e),localStorage.setItem("lineGroups",JSON.stringify(e))},{items:tO,uploadFile:tD,downloadFile:tA,cancelTransfer:tU,dismissItem:tB,clearCompleted:tR,updateItem:tH}=((e={})=>{let[t,r]=(0,a.useState)([]),s=(0,a.useRef)(new Map);(0,a.useEffect)(()=>{let e=t.some(e=>"uploading"===e.status||"downloading"===e.status);ei&&ei(e)},[t]);let l=()=>`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,i=(0,a.useCallback)((e,t)=>{r(a=>a.map(a=>a.id===e?{...a,...t}:a))},[]),n=(0,a.useCallback)((e,t,a="pending")=>{let s=l(),i={id:s,fileName:e.name,fileSize:e.size,fileType:e.type||"application/octet-stream",progress:0,status:a,type:t};return r(e=>[...e,i]),s},[]),o=(0,a.useCallback)(async(t,a)=>{let r=n(t,"upload","uploading"),l=new AbortController;s.current.set(r,l);try{let s=new FormData;s.append(a.fieldName||"file",t),a.additionalData&&Object.entries(a.additionalData).forEach(([e,t])=>{s.append(e,t)});let n=await new Promise((e,t)=>{let n=new XMLHttpRequest;n.upload.addEventListener("progress",e=>{if(e.lengthComputable){let t=Math.round(e.loaded/e.total*100);i(r,{progress:t})}}),n.addEventListener("load",()=>{if(n.status>=200&&n.status<300)try{e(JSON.parse(n.responseText))}catch{e(n.responseText)}else t(Error(`Upload failed with status ${n.status}`))}),n.addEventListener("error",()=>{t(Error("Upload failed"))}),n.addEventListener("abort",()=>{t(Error("Upload cancelled"))}),n.open(a.method||"POST",a.url),a.headers&&Object.entries(a.headers).forEach(([e,t])=>{n.setRequestHeader(e,t)}),l.signal.addEventListener("abort",()=>n.abort()),n.send(s)});return i(r,{status:"success",progress:100}),e.onUploadComplete?.(r,n),r}catch(a){let t=a instanceof Error?a.message:"Upload failed";return i(r,{status:"error",error:t}),e.onError?.(r,a instanceof Error?a:Error(t)),r}finally{s.current.delete(r)}},[n,i,e]),d=(0,a.useCallback)(async(t,a,n=0,o={})=>{let d=l(),c=new AbortController;s.current.set(d,c);let m={id:d,fileName:a,fileSize:n,fileType:"application/octet-stream",progress:0,status:"downloading",type:"download"};r(e=>[...e,m]);try{let r=await fetch(t,{signal:c.signal});if(!r.ok)throw Error(`Download failed with status ${r.status}`);let s=r.headers.get("Content-Length"),l=s?parseInt(s,10):n;l>0&&i(d,{fileSize:l});let m=r.body?.getReader();if(!m)throw Error("Failed to get response reader");let h=[],u=0;for(;;){let{done:e,value:t}=await m.read();if(e)break;if(h.push(t.buffer),u+=t.length,l>0){let e=Math.round(u/l*100);i(d,{progress:Math.min(e,99)})}}let x=new Blob(h);if(i(d,{status:"success",progress:100,fileSize:x.size}),!1!==o.saveAs){let e=URL.createObjectURL(x),t=document.createElement("a");t.href=e,t.download=a,document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(e)}return e.onDownloadComplete?.(d,x),d}catch(a){let t=a instanceof Error?a.message:"Download failed";return i(d,{status:"error",error:t}),e.onError?.(d,a instanceof Error?a:Error(t)),d}finally{s.current.delete(d)}},[i,e]),c=(0,a.useCallback)(e=>{let t=s.current.get(e);t&&(t.abort(),s.current.delete(e)),i(e,{status:"error",error:"Cancelled by user"})},[i]),m=(0,a.useCallback)(async(e,a)=>{let r=t.find(t=>t.id===e);r&&"error"===r.status&&i(e,{status:"pending",progress:0,error:void 0})},[t,i]),h=(0,a.useCallback)(e=>{r(t=>t.filter(t=>t.id!==e))},[]);return{items:t,uploadFile:o,downloadFile:d,cancelTransfer:c,retryTransfer:m,dismissItem:h,clearCompleted:(0,a.useCallback)(()=>{r(e=>e.filter(e=>"uploading"===e.status||"downloading"===e.status))},[]),clearAll:(0,a.useCallback)(()=>{s.current.forEach(e=>e.abort()),s.current.clear(),r([])},[]),updateItem:i}})({onUploadComplete:e=>{console.log("Upload complete:",e),tq()},onDownloadComplete:e=>{console.log("Download complete:",e)},onError:(e,t)=>{console.error("Transfer error:",e,t)}}),tV=(0,a.useCallback)(async e=>new Promise(t=>{let a=document.createElement("video");a.crossOrigin="anonymous",a.muted=!0,a.preload="metadata";let r=()=>{a.removeEventListener("loadeddata",i),a.removeEventListener("error",s),a.removeEventListener("loadedmetadata",l),a.src="",a.load()},s=()=>{console.warn(`Failed to load video for thumbnail: ${e.name}`),r(),t(null)},l=()=>{let e=Math.min(1,.1*a.duration);a.currentTime=e},i=()=>{try{let s=document.createElement("canvas");s.width=640,s.height=360;let l=s.getContext("2d");if(!l){r(),t(null);return}let i=a.videoWidth/a.videoHeight,n=s.width/s.height,o=s.width,d=s.height,c=0,m=0;i>n?(d=s.width/i,m=(s.height-d)/2):(o=s.height*i,c=(s.width-o)/2),l.fillStyle="#1e1b4b",l.fillRect(0,0,s.width,s.height),l.drawImage(a,c,m,o,d),s.toBlob(async a=>{if(!a){r(),t(null);return}try{let s=new FormData;s.append("videoPath",e.url),s.append("thumbnail",a,"thumbnail.jpg");let l=await fetch("/api/video-thumbnail",{method:"POST",body:s});if(l.ok){let e=await l.json();r(),t(e.thumbnailUrl)}else r(),t(null)}catch(e){console.error("Failed to upload thumbnail:",e),r(),t(null)}},"image/jpeg",.85)}catch(e){console.error("Failed to generate thumbnail:",e),r(),t(null)}};a.addEventListener("loadedmetadata",l),a.addEventListener("loadeddata",i),a.addEventListener("error",s),setTimeout(()=>{a.videoWidth||(r(),t(null))},1e4),a.src=e.url,a.load()}),[]);(0,a.useEffect)(()=>{let e=$.filter(e=>("video"===e.type||"clip"===e.type)&&e.needsThumbnailGeneration&&!tL.current.has(e.id));if(0===e.length)return;let t=setTimeout(async()=>{for(let t of e){if(!tP.current)break;tL.current.add(t.id);let e=await tV(t);e&&tP.current&&P(a=>a.map(a=>a.id===t.id?{...a,thumbnail:e,needsThumbnailGeneration:!1}:a))}},500);return()=>clearTimeout(t)},[$,tV]);let tq=(0,a.useCallback)(async e=>{tP.current&&U(!0);try{let t,a=await fetch("/api/marketing-folders",{signal:e});if(!a.ok)throw Error(`Failed to load marketing folders: ${a.status}`);let r=await a.json();if(!tP.current)return;let s=Array.isArray(r.folders)?r.folders:[],l=Array.isArray(r.files)?r.files:ec;P(l),ek((t=new Map(s.map(e=>[e.id,e])),em.map(e=>{let a=t.get(e.id),r=a?.path??e.relativePath??e.name;return{...e,relativePath:r,rootFileIds:a?.fileIds??[],subFolders:a?a.children.map(e=>ef(e,null)):[]}})))}catch(e){console.error("Unable to load marketing folders",e)}finally{tP.current&&U(!1)}},[]);(0,a.useEffect)(()=>{tP.current=!0;let e=new AbortController;return tq(e.signal),()=>{e.abort(),tP.current=!1}},[tq]),(0,a.useEffect)(()=>{let e=()=>{eJ(window.innerWidth<768||"ontouchstart"in window)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,a.useEffect)(()=>{eC&&window.history.pushState({folderId:eC,path:eT},"");let e=e=>{if(er){es(!1),window.history.pushState({folderId:eC,path:eT},"");return}if(e5){e4(!1),e6(null),window.history.pushState({folderId:eC,path:eT},"");return}if(tC){tS(!1),ea([]),window.history.pushState({folderId:eC,path:eT},"");return}eC?eT.length>0?(eI(e=>e.slice(0,-1)),window.history.pushState({folderId:eC,path:eT.slice(0,-1)},"")):(eS(null),eI([])):o.push("/home")};return window.addEventListener("popstate",e),()=>window.removeEventListener("popstate",e)},[eC,eT,er,e5,tC,o]),(0,a.useMemo)(()=>["all",...Array.from(new Set($.map(e=>e.category)))],[$]);let tG=(0,a.useMemo)(()=>eC&&eN.find(e=>e.id===eC)||null,[eC,eN]),tJ=(0,a.useMemo)(()=>{if(!tG||0===eT.length)return null;let e=null,t=tG.subFolders;for(let a of eT){if(!(e=t.find(e=>e.id===a)||null))return null;t=e.children}return e},[tG,eT]),tW=(0,a.useMemo)(()=>tG?0===eT.length?tG.subFolders:tJ?tJ.children:[]:[],[tG,eT,tJ]);(0,a.useMemo)(()=>tJ?0===tJ.children.length:!!tG&&0===eT.length&&0===tG.subFolders.length,[tJ,tG,eT]),(0,a.useMemo)(()=>{if(!tG)return[];let e=[{id:tG.id,name:tG.name,isRoot:!0}],t=tG.subFolders;for(let a of eT){let r=t.find(e=>e.id===a);r&&(e.push({id:r.id,name:r.name}),t=r.children)}return e},[tG,eT]);let t_=(0,a.useMemo)(()=>tG?tJ&&0===tJ.children.length?new Set(tJ.fileIds):tJ&&0!==tJ.children.length||tG.subFolders.length>0?new Set:new Set(tG.rootFileIds):new Set,[tG,tJ]),tX=(0,a.useMemo)(()=>{let e=$.filter(e=>t_.has(e.id));if("all"!==W&&(e=e.filter(e=>e.type===W)),"all"!==ej&&(e=e.filter(e=>e.category===ej)),ew&&(e=e.filter(e=>e.favorite)),V){let t=V.toLowerCase();e=e.filter(e=>e.name.toLowerCase().includes(t)||e.tags.some(e=>e.toLowerCase().includes(t))||e.category.toLowerCase().includes(t))}return e.sort((e,t)=>{let a=0;switch(K){case"date":a=new Date(t.date).getTime()-new Date(e.date).getTime();break;case"name":a=e.name.localeCompare(t.name);break;case"size":a=parseFloat(e.size)-parseFloat(t.size);break;case"views":a=e.views-t.views}return"asc"===Q?a:-a}),e},[$,W,ej,ew,V,K,Q,t_]);(0,a.useEffect)(()=>{(()=>{let e=localStorage.getItem("user");if(!e){window.location.href="/login";return}H(JSON.parse(e))})()},[]);let tY=async()=>{if(!eC)return;let e=ez.trim();if(!e)return;let t=eN.find(e=>e.id===eC);if(!t)return;if((0===eT.length?t.subFolders:tJ?.children||[]).some(t=>t.name.toLowerCase()===e.toLowerCase()))return void alert("This folder name is already in use at this level.");let a=(()=>{if(!tG)return null;let e=[tG.name],t=tG.subFolders;for(let a of eT){let r=t.find(e=>e.id===a);if(!r)break;e.push(r.name),t=r.children}return e.join("/")})();if(a)try{let t=await fetch("/api/marketing-folders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({parentPath:a,folderName:e})});if(!t.ok){let e=await t.json().catch(()=>null);throw Error(e?.error||`à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œà¹„à¸”à¹‰ (à¸£à¸«à¸±à¸ª ${t.status})`)}await tq(),e$(""),eE(!1)}catch(e){console.error("Failed to create subfolder",e),e instanceof Error?alert(e.message):alert("à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”à¸‚à¸“à¸°à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œ")}},tK=async e=>{if(!eC)return;let t=tW.find(t=>t.id===e);if(t){if(t.fileIds.length>0||t.children.length>0)return void t3({type:"warning",title:"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸¥à¸šà¹„à¸”à¹‰",message:"à¸à¸£à¸¸à¸“à¸²à¸¥à¸šà¹„à¸Ÿà¸¥à¹Œà¹à¸¥à¸°à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œà¸¢à¹ˆà¸­à¸¢à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”à¸à¹ˆà¸­à¸™à¸¥à¸šà¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œà¸™à¸µà¹‰",confirmText:"à¸•à¸à¸¥à¸‡",onConfirm:t6});t3({type:"delete",title:"à¸¢à¸·à¸™à¸¢à¸±à¸™à¸à¸²à¸£à¸¥à¸šà¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œ",message:"à¸„à¸¸à¸“à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸¥à¸šà¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œà¸™à¸µà¹‰à¸«à¸£à¸·à¸­à¹„à¸¡à¹ˆ?",itemName:t.name,confirmText:"à¸¥à¸šà¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œ",cancelText:"à¸¢à¸à¹€à¸¥à¸´à¸",onConfirm:async()=>{t6();let a=t.relativePath;if(!a)return void t3({type:"warning",title:"à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”",message:"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸¥à¸šà¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œà¸™à¸µà¹‰à¹„à¸”à¹‰à¹ƒà¸™à¸‚à¸“à¸°à¸™à¸µà¹‰",confirmText:"à¸•à¸à¸¥à¸‡",onConfirm:t6});try{let t=await fetch("/api/marketing-folders",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:a})});if(!t.ok){let e=await t.json().catch(()=>null);throw Error(e?.error||`à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸¥à¸šà¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œà¹„à¸”à¹‰ (à¸£à¸«à¸±à¸ª ${t.status})`)}await tq(),eI(t=>t.filter(t=>t!==e))}catch(e){console.error("Failed to delete subfolder",e),t3({type:"warning",title:"à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”",message:e instanceof Error?e.message:"à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”à¸‚à¸“à¸°à¸¥à¸šà¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œ",confirmText:"à¸•à¸à¸¥à¸‡",onConfirm:t6})}}})}},tZ=async e=>{if(!eC)return;let t=eF.trim();if(!t)return;let a=tW.find(t=>t.id===e);if(!a||!a.relativePath)return void alert("à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸Šà¸·à¹ˆà¸­à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œà¸™à¸µà¹‰à¹„à¸”à¹‰à¹ƒà¸™à¸‚à¸“à¸°à¸™à¸µà¹‰");if(tW.some(a=>a.id!==e&&a.name.toLowerCase()===t.toLowerCase()))return void alert("This folder name is already in use at this level.");try{let r=await fetch("/api/marketing-folders",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPath:a.relativePath,newName:t})});if(!r.ok){let e=await r.json().catch(()=>null);throw Error(e?.error||`à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸Šà¸·à¹ˆà¸­à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œà¹„à¸”à¹‰ (à¸£à¸«à¸±à¸ª ${r.status})`)}let s=await r.json().catch(()=>null),l=ex(a.relativePath).slice(0,-1),i=l.length?`${l.join("/")}/${t}`:t,n=s?.path||i,o=ex(n).map(e=>eu(e)).join("-");await tq(),eI(t=>t.map(t=>t===e?o:t)),eL(null),eO("")}catch(e){console.error("Failed to rename folder",e),e instanceof Error?alert(e.message):alert("à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”à¸‚à¸“à¸°à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸Šà¸·à¹ˆà¸­à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œ")}},tQ=()=>{eA(null),eB("")},t0=()=>{eq(null)},t1=async(e,t)=>{if(e.preventDefault(),e.stopPropagation(),e.dataTransfer.files?.length){let a=eN.find(e=>e.id===t),r=a?.relativePath??a?.name??null;if(tf(!1),eH(null),eq(null),!r)return void alert("à¹€à¸¥à¸·à¸­à¸à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œà¸›à¸¥à¸²à¸¢à¸—à¸²à¸‡à¸à¹ˆà¸­à¸™à¸­à¸±à¸›à¹‚à¸«à¸¥à¸”à¹„à¸Ÿà¸¥à¹Œ");try{await aa(e.dataTransfer.files,r)}catch(e){console.error("Failed to upload files via folder drop",e),e instanceof Error?alert(e.message):alert("à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”à¸‚à¸“à¸°à¸­à¸±à¸›à¹‚à¸«à¸¥à¸”à¹„à¸Ÿà¸¥à¹Œ")}return}let a=parseInt(e.dataTransfer.getData("text/plain"));isNaN(a)||(ek(e=>e.map(e=>{let r=t5(e,a);if(e.id!==t)return r;let s=r.subFolders;return s=0===s.length?[{id:`${e.id}-default`,name:"Unsorted",fileIds:[a],children:[],parentId:null,relativePath:null}]:t4(s,a),{...r,subFolders:s}})),eH(null),eq(null))},t2=(e,t)=>e.map(e=>({...e,fileIds:e.fileIds.filter(e=>e!==t),children:t2(e.children,t)})),t5=(e,t)=>({...e,rootFileIds:e.rootFileIds.filter(e=>e!==t),subFolders:t2(e.subFolders,t)}),t4=(e,t)=>{let a=!1;return e.map(e=>{if(a)return e;if(0===e.children.length)return e.fileIds.includes(t)?e:(a=!0,{...e,fileIds:[...e.fileIds,t]});{let r=t4(e.children,t);return r!==e.children?(a=!0,{...e,children:r}):e}})},t3=e=>{tE({isOpen:!0,type:e.type||"delete",title:e.title,message:e.message,itemName:e.itemName,onConfirm:e.onConfirm,onCancel:e.onCancel,confirmText:e.confirmText,cancelText:e.cancelText})},t6=()=>{tE(e=>({...e,isOpen:!1}))},t8=async e=>{let t=$.find(t=>t.id===e);t&&t3({type:"delete",title:"à¸¢à¸·à¸™à¸¢à¸±à¸™à¸à¸²à¸£à¸¥à¸šà¹„à¸Ÿà¸¥à¹Œ",message:"à¸„à¸¸à¸“à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸¥à¸šà¹„à¸Ÿà¸¥à¹Œà¸™à¸µà¹‰à¸«à¸£à¸·à¸­à¹„à¸¡à¹ˆ?",itemName:t.name,confirmText:"à¸¥à¸šà¹„à¸Ÿà¸¥à¹Œ",cancelText:"à¸¢à¸à¹€à¸¥à¸´à¸",onConfirm:async()=>{t6();try{let a=await fetch("/api/marketing-files",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({filePath:t.url})});if(!a.ok){let e=await a.json().catch(()=>null);throw Error(e?.error||`à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸¥à¸šà¹„à¸Ÿà¸¥à¹Œà¹„à¸”à¹‰ (à¸£à¸«à¸±à¸ª ${a.status})`)}await tq(),ea(t=>t.filter(t=>t!==e))}catch(e){console.error("Failed to delete file",e),t3({type:"warning",title:"à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”",message:e instanceof Error?e.message:"à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”à¸‚à¸“à¸°à¸¥à¸šà¹„à¸Ÿà¸¥à¹Œ",confirmText:"à¸•à¸à¸¥à¸‡",onConfirm:t6})}}})},t9=e=>{ea(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},t7=()=>{et.length===tX.length?ea([]):ea(tX.map(e=>e.id))},ae=e=>{eb(e),es(!0)},at=async(e,t)=>{if(e.length)for(let a of Array.from(e))await tD(a,{url:"/api/marketing-files",method:"POST",fieldName:"files",additionalData:{folderPath:t}})},aa=async(e,t)=>{if(!e.length)return;let a=new FormData;Array.from(e).forEach(e=>{a.append("files",e)}),a.append("folderPath",t);let r=await fetch("/api/marketing-files",{method:"POST",body:a});if(!r.ok){let e=await r.json().catch(()=>null);throw Error(e?.error||`à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸­à¸±à¸›à¹‚à¸«à¸¥à¸”à¹„à¸Ÿà¸¥à¹Œà¹„à¸”à¹‰ (à¸£à¸«à¸±à¸ª ${r.status})`)}await tq()},ar=async e=>{let t=e.target.files;if(!t?.length)return;let a=tJ?.relativePath??tG?.relativePath??null;if(!a){alert("à¸à¸£à¸¸à¸“à¸²à¹€à¸›à¸´à¸”à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œà¸à¹ˆà¸­à¸™à¸­à¸±à¸›à¹‚à¸«à¸¥à¸”à¹„à¸Ÿà¸¥à¹Œ"),e.target.value="";return}try{await at(t,a),eY(!1)}catch(e){console.error("Failed to upload files",e),e instanceof Error?alert(e.message):alert("à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”à¸‚à¸“à¸°à¸­à¸±à¸›à¹‚à¸«à¸¥à¸”à¹„à¸Ÿà¸¥à¹Œ")}finally{e.target.value=""}},as=e=>{Array.from(e.dataTransfer.types||[]).includes("Files")&&(e.preventDefault(),e.stopPropagation(),tf(!0),e.dataTransfer.dropEffect="copy")},al=async e=>{if(!e.dataTransfer.files?.length)return void tf(!1);e.preventDefault(),e.stopPropagation(),tf(!1),eq(null);let t=tJ?.relativePath??tG?.relativePath??null;if(!t)return void alert("à¸à¸£à¸¸à¸“à¸²à¹€à¸›à¸´à¸”à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œà¸à¹ˆà¸­à¸™à¸­à¸±à¸›à¹‚à¸«à¸¥à¸”à¹„à¸Ÿà¸¥à¹Œ");try{await aa(e.dataTransfer.files,t)}catch(e){console.error("Failed to upload files via drop",e),e instanceof Error?alert(e.message):alert("à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”à¸‚à¸“à¸°à¸­à¸±à¸›à¹‚à¸«à¸¥à¸”à¹„à¸Ÿà¸¥à¹Œ")}},ai=async e=>{if("video"===e.type||"clip"===e.type){let t=e.url,a=window.location.origin;t.startsWith(a)&&(t=t.substring(a.length)),t.startsWith("/")||(t="/"+t);try{let e=await fetch("/api/share-video",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({videoPath:t})});if(e.ok){let t=await e.json();return{shareUrl:t.shareUrl,needsTranscoding:t.needsTranscoding||!1,fileSizeMB:t.fileSizeMB}}}catch(e){console.error("Error generating share URL:",e)}}return{shareUrl:window.location.href,needsTranscoding:!1}},an=async e=>{try{let t=await fetch("/api/transcode-video",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({videoPath:e.url})});if(!t.ok)return!1;let a=await t.json();if("completed"===a.status)return!0;if("processing"===a.status){let e=a.jobId,t=0;for(;t<60;){await new Promise(e=>setTimeout(e,5e3));let a=await fetch(`/api/transcode-video?jobId=${e}`),r=await a.json();if("completed"===r.status)return!0;if("error"===r.status){console.error("Transcoding error:",r.error);break}t++}}return!1}catch(e){return console.error("Transcode error:",e),!1}},ao=async e=>{let t=await fetch(e,{cache:"no-store"});if(!t.ok)throw Error("Failed to download file for sharing");return await t.blob()},ad=async e=>{let t;if("video"===e.type||"clip"===e.type){let a=await ai(e);t=a.shareUrl,a.needsTranscoding&&(console.log(`Video ${e.name} (${a.fileSizeMB}MB) may need transcoding for optimal LINE playback`),an(e).then(t=>{t&&console.log("Transcoding completed for:",e.name)}))}else t=window.location.href;let a=encodeURIComponent(`ðŸ“¹ ${e.name} - BJH Bangkok`),r=encodeURIComponent(t),s=!1;if("undefined"!=typeof navigator&&navigator.share)try{var l;let t,a,r=e.url.startsWith("http")?e.url:`${window.location.origin}${e.url}`,i=await ao(r),n=new File([i],((e,t)=>{if(e.name.includes("."))return e.name;let a=t.split("?")[0].split("/").pop()?.split(".").pop();return a?`${e.name}.${a}`:e.name})(e,r),{type:(l=e.type,t=r.split("?")[0].split("/").pop()?.split(".").pop()?.toLowerCase(),a={mp4:"video/mp4",mov:"video/quicktime",webm:"video/webm",mkv:"video/x-matroska",jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",gif:"image/gif",bmp:"image/bmp",heic:"image/heic",heif:"image/heif"},t&&a[t]?a[t]:"image"===l?"image/jpeg":"video"===l||"clip"===l?"video/mp4":"application/octet-stream")});(!("canShare"in navigator)||navigator.canShare({files:[n]}))&&(await navigator.share({title:e.name,files:[n]}),s=!0)}catch(e){console.warn("Web Share failed, falling back to LINE deep link",e)}s||(eG?window.location.href=`line://msg/text/${a}%0A${r}`:window.open(`https://social-plugins.line.me/lineit/share?url=${r}&text=${a}`,"_blank","width=500,height=500")),e4(!1),e6(null)},ac=async(e,t)=>{let a=$.find(t=>t.id===e);if(a)switch(t){case"line":await ad(a);break;case"copy":{let e="video"===a.type||"clip"===a.type?await ai(a):{shareUrl:window.location.href};await navigator.clipboard.writeText(e.shareUrl),alert("Link copied to clipboard!"),e4(!1),e6(null);break}case"native":if(navigator.share)try{let e="video"===a.type||"clip"===a.type?await ai(a):{shareUrl:window.location.href};await navigator.share({title:a.name,text:`Check out this ${a.type}: ${a.name}`,url:e.shareUrl})}catch(e){console.log("Share cancelled")}e4(!1),e6(null)}},am=async e=>{let t=$.find(t=>t.id===e);if(t){if(!e7.trim())return void ts("à¸à¸£à¸¸à¸“à¸²à¹ƒà¸ªà¹ˆ LINE User ID");ta("sending"),ts("");try{let e=await fetch("/api/line-send-video",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({videoPath:t.url,lineUserId:e7.trim(),videoName:t.name})}),a=await e.json();a.success?(ta("success"),setTimeout(()=>{e9(!1),te(""),ta("idle"),e6(null)},2e3)):(ta("error"),ts(a.error||"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸ªà¹ˆà¸‡à¸§à¸´à¸”à¸µà¹‚à¸­à¹„à¸”à¹‰"))}catch(e){ta("error"),ts("à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”à¹ƒà¸™à¸à¸²à¸£à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­")}}},ah=async(e,t)=>{let a=$.find(t=>t.id===e);if(!a)return;let r=t||tu;if(!r)return void ts("à¸à¸£à¸¸à¸“à¸²à¹€à¸¥à¸·à¸­à¸à¸à¸¥à¸¸à¹ˆà¸¡ LINE");ta("sending"),ts("");try{let e=await fetch("/api/line-send-video",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({videoPath:a.url,lineGroupId:r,videoName:a.name})}),t=await e.json();t.success?(ta("success"),setTimeout(()=>{e4(!1),to(!1),ta("idle"),e6(null)},2e3)):(ta("error"),ts(t.error||"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸ªà¹ˆà¸‡à¸§à¸´à¸”à¸µà¹‚à¸­à¹„à¸”à¹‰"),setTimeout(()=>{ta("idle"),ts("")},3e3))}catch(e){ta("error"),ts("à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”à¹ƒà¸™à¸à¸²à¸£à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­"),setTimeout(()=>{ta("idle"),ts("")},3e3)}},au=async e=>{let t=$.find(t=>t.id===e);if(t)try{await tA(t.url,t.name,(e=>{let t=e.match(/([\d.]+)\s*(B|KB|MB|GB)/i);if(!t)return 0;let a=parseFloat(t[1]),r=t[2].toUpperCase();return Math.round(a*(({B:1,KB:1024,MB:1048576,GB:0x40000000})[r]||1))})(t.size),{saveAs:!0})}catch(e){console.error("Download error:",e),window.open(t.url,"_blank")}},ax="/images/video-placeholder.svg",ap=({file:e,className:r,alt:s})=>{let[l,i]=(0,a.useState)(e.thumbnail),[n,o]=(0,a.useState)(!1),d=(0,a.useRef)(null),c="video"===e.type||"clip"===e.type;return((0,a.useEffect)(()=>{i(e.thumbnail),o(!1)},[e.thumbnail]),c)?(0,t.jsxs)("div",{className:"relative w-full h-full bg-gradient-to-br from-slate-800 to-purple-900 overflow-hidden",children:[(0,t.jsx)("video",{ref:d,src:e.url,muted:!0,playsInline:!0,preload:"metadata",onLoadedData:()=>{d.current&&(d.current.currentTime=1)},className:`${r} w-full h-full object-cover`,style:{pointerEvents:"none"}}),(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:(0,t.jsx)("div",{className:"p-3 rounded-full bg-black/40 backdrop-blur-sm",children:(0,t.jsx)(p.Play,{className:"w-6 h-6 text-white fill-white"})})})]}):(0,t.jsx)("div",{className:"relative w-full h-full bg-gradient-to-br from-slate-800/50 to-purple-900/50",children:(0,t.jsx)("img",{src:l,alt:s,className:r,onError:()=>{o(!0),i(ax)},loading:"eager"})})};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("style",{children:ed}),(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 relative overflow-hidden",onDragOver:as,onDragEnter:as,onDragLeave:e=>{e.currentTarget===e.target&&(e.preventDefault(),e.stopPropagation(),tf(!1))},onDrop:e=>void al(e),children:[tp&&(0,t.jsx)("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/50 transition-opacity pointer-events-none",children:(0,t.jsx)("div",{className:"px-4 sm:px-6 py-3 sm:py-4 rounded-xl sm:rounded-2xl bg-gradient-to-r from-purple-600 via-purple-700 to-blue-500 text-white text-responsive-lg font-semibold pointer-events-none",children:"à¸§à¸²à¸‡à¹„à¸Ÿà¸¥à¹Œà¹€à¸žà¸·à¹ˆà¸­à¸­à¸±à¸žà¹‚à¸«à¸¥à¸”à¸—à¸µà¹ˆà¸™à¸µà¹ˆ"})}),(0,t.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[(0,t.jsx)("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-purple-500/30 rounded-full blur-3xl animate-pulse"}),(0,t.jsx)("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-pink-500/30 rounded-full blur-3xl animate-pulse delay-1000"}),(0,t.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-indigo-500/20 rounded-full blur-3xl animate-pulse delay-500"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(139,92,246,0.03)_1px,transparent_1px),linear-gradient(90deg,rgba(139,92,246,0.03)_1px,transparent_1px)] bg-[size:100px_100px]"}),[{left:5,top:10,color:"#8b5cf6",delay:0,duration:6},{left:15,top:80,color:"#ec4899",delay:1,duration:7},{left:25,top:30,color:"#f97316",delay:2,duration:8},{left:35,top:60,color:"#06b6d4",delay:3,duration:9},{left:45,top:20,color:"#8b5cf6",delay:4,duration:6},{left:55,top:90,color:"#ec4899",delay:.5,duration:7},{left:65,top:40,color:"#f97316",delay:1.5,duration:8},{left:75,top:70,color:"#06b6d4",delay:2.5,duration:9},{left:85,top:15,color:"#8b5cf6",delay:3.5,duration:6},{left:95,top:55,color:"#ec4899",delay:4.5,duration:7},{left:10,top:45,color:"#f97316",delay:.8,duration:8},{left:20,top:75,color:"#06b6d4",delay:1.8,duration:9},{left:30,top:5,color:"#8b5cf6",delay:2.8,duration:6},{left:40,top:85,color:"#ec4899",delay:3.8,duration:7},{left:50,top:35,color:"#f97316",delay:4.2,duration:8},{left:60,top:65,color:"#06b6d4",delay:.3,duration:9},{left:70,top:25,color:"#8b5cf6",delay:1.3,duration:6},{left:80,top:95,color:"#ec4899",delay:2.3,duration:7},{left:90,top:50,color:"#f97316",delay:3.3,duration:8},{left:98,top:8,color:"#06b6d4",delay:4.8,duration:9}].map((e,a)=>(0,t.jsx)("div",{className:"absolute w-2 h-2 rounded-full animate-float",style:{left:`${e.left}%`,top:`${e.top}%`,background:`linear-gradient(135deg, ${e.color}, transparent)`,animationDelay:`${e.delay}s`,animationDuration:`${e.duration}s`}},a))]}),(0,t.jsxs)("div",{className:"relative z-10 p-3 md:p-6 pb-20",children:[tC?(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:[(0,t.jsxs)("button",{onClick:t7,className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:`w-7 h-7 rounded-full border-2 flex items-center justify-center transition-colors ${et.length===tX.length&&tX.length>0?"bg-white border-white":"border-white/70"}`,children:et.length===tX.length&&tX.length>0&&(0,t.jsx)(T.Check,{className:"w-5 h-5 text-black"})}),(0,t.jsx)("span",{className:"text-white/70 text-sm",children:"à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”"})]}),(0,t.jsxs)("span",{className:"text-white/70 text-sm",children:["à¹€à¸¥à¸·à¸­à¸ ",et.length," à¸£à¸²à¸¢à¸à¸²à¸£à¹à¸¥à¹‰à¸§"]}),(0,t.jsx)("button",{onClick:()=>{tS(!1),ea([])},className:"text-white/70 text-sm px-2 py-1",children:"à¸¢à¸à¹€à¸¥à¸´à¸"})]}):(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("button",{onClick:()=>{tG?eT.length>0?eI(e=>e.slice(0,-1)):(eS(null),eI([])):o.push("/home")},className:"p-2 md:p-2.5 rounded-full bg-white/10 hover:bg-white/20 text-white transition-all flex items-center justify-center",children:(0,t.jsx)(n.ArrowLeft,{className:"w-5 h-5 md:w-6 md:h-6"})}),tG&&(0,t.jsx)("h1",{className:"folder-title font-bold text-white text-sm sm:text-base flex items-center",children:tJ?.name||tG.name}),!tG&&(0,t.jsx)("h1",{className:"hidden md:block text-lg font-semibold text-white/90 flex items-center",children:"à¸­à¸±à¸¥à¸šà¸±à¹‰à¸¡à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,t.jsx)("button",{onClick:()=>eY(!0),className:"p-2 md:p-2.5 rounded-full bg-gradient-to-r from-cyan-500 to-blue-600 text-white shadow-lg shadow-blue-500/30 hover:shadow-blue-500/50 transition-all hover:scale-105 flex items-center justify-center",title:"à¸­à¸±à¸žà¹‚à¸«à¸¥à¸”à¹„à¸Ÿà¸¥à¹Œ",children:(0,t.jsx)(I.Plus,{className:"w-5 h-5 md:w-6 md:h-6"})}),(0,t.jsx)("button",{onClick:()=>tv(!tw),className:`p-2 md:p-2.5 rounded-full transition-all flex items-center justify-center ${tw?"bg-purple-500/30 text-purple-300":"bg-white/10 hover:bg-white/20 text-white"}`,title:"à¸„à¹‰à¸™à¸«à¸²",children:(0,t.jsx)(s.Search,{className:"w-5 h-5 md:w-6 md:h-6"})}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("button",{onClick:()=>tb(!tg),className:`p-2 md:p-2.5 rounded-full transition-all flex items-center justify-center ${tg?"bg-purple-500/30 text-purple-300":"bg-white/10 hover:bg-white/20 text-white"}`,title:"à¹€à¸¡à¸™à¸¹",children:(0,t.jsx)(k,{className:"w-5 h-5 md:w-6 md:h-6"})}),tg&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>tb(!1)}),(0,t.jsxs)("div",{className:"absolute right-0 top-full mt-2 w-56 bg-slate-800/95 backdrop-blur-xl border border-purple-500/30 rounded-xl shadow-2xl overflow-hidden z-50 animate-slide-up",children:[(0,t.jsxs)("button",{onClick:()=>{tb(!1),tG?(eE(!0),e$("")):alert("à¸à¸£à¸¸à¸“à¸²à¹€à¸¥à¸·à¸­à¸à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œà¸«à¸¥à¸±à¸à¸à¹ˆà¸­à¸™à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œà¸¢à¹ˆà¸­à¸¢")},className:"w-full flex items-center gap-3 px-4 py-3 text-left text-white/90 hover:bg-white/10 transition-colors",children:[(0,t.jsx)(A,{className:"w-5 h-5 text-cyan-400"}),(0,t.jsx)("span",{children:"à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œ"})]}),(0,t.jsxs)("button",{onClick:()=>{tb(!1),t7()},className:"w-full flex items-center gap-3 px-4 py-3 text-left text-white/90 hover:bg-white/10 transition-colors",children:[(0,t.jsx)(T.Check,{className:"w-5 h-5 text-purple-400"}),(0,t.jsx)("span",{children:et.length>0?"à¸¢à¸à¹€à¸¥à¸´à¸à¸à¸²à¸£à¹€à¸¥à¸·à¸­à¸":"à¹€à¸¥à¸·à¸­à¸à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”"})]}),(0,t.jsx)("div",{className:"border-t border-white/10 my-1"}),(0,t.jsx)("div",{className:"px-4 py-2",children:(0,t.jsx)("span",{className:"text-xs text-purple-300/60 uppercase tracking-wider",children:"à¸¡à¸¸à¸¡à¸¡à¸­à¸‡"})}),(0,t.jsx)("div",{className:"flex items-center gap-1 px-4 pb-3",children:[{mode:"masonry",icon:u,label:"Masonry"},{mode:"list",icon:h,label:"List"}].map(({mode:e,icon:a,label:r})=>(0,t.jsx)("button",{onClick:()=>{J(e),tb(!1)},className:`flex-1 p-2 rounded-lg transition-all ${G===e?"bg-gradient-to-r from-purple-500 to-pink-500 text-white":"bg-white/10 text-purple-300 hover:bg-white/20"}`,title:r,children:(0,t.jsx)(a,{className:"w-4 h-4 mx-auto"})},e))})]})]})]}),(0,t.jsx)("div",{className:"hidden md:block ml-2",children:(0,t.jsx)(R,{})})]})]}),tw&&(0,t.jsx)("div",{className:"mb-4 animate-slide-up space-y-3",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(s.Search,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-purple-300"}),(0,t.jsx)("input",{type:"text",placeholder:"à¸„à¹‰à¸™à¸«à¸²à¹„à¸Ÿà¸¥à¹Œ...",value:V,onChange:e=>q(e.target.value),autoFocus:!0,className:"w-full pl-12 pr-12 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-purple-300/50 focus:outline-none focus:ring-2 focus:ring-purple-500"}),V&&(0,t.jsx)("button",{onClick:()=>q(""),className:"absolute right-4 top-1/2 transform -translate-y-1/2 p-1 rounded-full bg-white/10 hover:bg-white/20 text-purple-300",children:(0,t.jsx)(x.X,{className:"w-4 h-4"})})]})}),!tG&&(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-2 sm:gap-3 md:gap-5 mb-6 md:mb-8",children:eN.map((e,a)=>{let r=e.icon,s=eC===e.id,l=e.rootFileIds.length+e.subFolders.reduce((e,t)=>e+ep(t).length,0),i=e.subFolders.length,n=eD===e.id,o=eV===e.id;return(0,t.jsxs)("div",{onDragOver:t=>{var a;return a=e.id,void(t.preventDefault(),t.dataTransfer.dropEffect="move",eq(a))},onDragLeave:t0,onDrop:t=>void t1(t,e.id),className:`group relative glass-card rounded-xl sm:rounded-2xl p-3 sm:p-4 md:p-5 text-left transition-all duration-300 hover:scale-[1.03] border overflow-hidden animate-slide-up ${s?"border-purple-400/80 shadow-lg shadow-purple-500/30 ring-2 ring-purple-400/50":o?"border-emerald-400/80 shadow-lg shadow-emerald-500/30 ring-2 ring-emerald-400/50 scale-105":"border-white/10 hover:border-purple-300/50 hover:shadow-lg hover:shadow-purple-500/20"}`,style:{animationDelay:`${.05*a}s`},children:[o&&(0,t.jsx)("div",{className:"absolute inset-0 bg-emerald-500/20 flex items-center justify-center z-30 rounded-2xl",children:(0,t.jsxs)("div",{className:"text-emerald-300 font-semibold text-sm flex items-center gap-2",children:[(0,t.jsx)(w,{className:"w-5 h-5"}),"à¸§à¸²à¸‡à¹„à¸Ÿà¸¥à¹Œà¸—à¸µà¹ˆà¸™à¸µà¹ˆ"]})}),(0,t.jsx)("div",{className:`absolute inset-0 bg-gradient-to-br ${e.gradient} opacity-0 group-hover:opacity-10 transition-opacity duration-300 ${s?"opacity-10":""}`}),n?(0,t.jsxs)("div",{className:"relative z-10 flex flex-col gap-3 h-full",children:[(0,t.jsx)("input",{type:"text",value:eU,onChange:e=>eB(e.target.value),className:"w-full px-3 py-2 rounded-xl bg-white/10 border border-white/20 text-white text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 transition-all",autoFocus:!0}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>{var t;let a;return t=e.id,void(!(a=eU.trim())||(eN.some(e=>e.id!==t&&e.name.toLowerCase()===a.toLowerCase())?alert("This folder name is already in use."):(ek(e=>e.map(e=>e.id===t?{...e,name:a}:e)),eA(null),eB(""))))},className:"flex-1 px-3 py-2 rounded-xl bg-gradient-to-r from-emerald-500 to-green-600 text-white text-xs font-medium shadow-lg hover:shadow-green-500/50 transition-all",children:"à¸šà¸±à¸™à¸—à¸¶à¸"}),(0,t.jsx)("button",{onClick:tQ,className:"flex-1 px-3 py-2 rounded-xl bg-white/10 text-purple-100 text-xs font-medium hover:bg-white/20 transition-all",children:"à¸¢à¸à¹€à¸¥à¸´à¸"})]})]}):(0,t.jsxs)("div",{className:"relative z-10 cursor-pointer",onClick:()=>{var t;return t=e.id,void(ea([]),es(!1),t===eC?eS(null):eS(t),eI([]),eE(!1),e$(""),eL(null),eO(""),ey("all"))},children:[(0,t.jsx)("div",{className:`w-10 h-10 sm:w-12 sm:h-12 md:w-14 md:h-14 rounded-xl sm:rounded-2xl bg-gradient-to-br ${e.gradient} flex items-center justify-center mb-2 sm:mb-3 md:mb-4 shadow-lg group-hover:shadow-xl group-hover:scale-110 transition-all duration-300 ${s?"scale-110 shadow-xl":""}`,children:(0,t.jsx)(r,{className:"w-5 h-5 sm:w-6 sm:h-6 md:w-7 md:h-7 text-white drop-shadow-md"})}),(0,t.jsx)("h3",{className:"folder-title font-bold text-white group-hover:text-purple-100 transition-colors text-sm sm:text-base",children:e.name}),(0,t.jsx)("p",{className:"folder-description text-purple-200/60 mt-0.5 sm:mt-1 line-clamp-2 text-xs sm:text-sm hidden sm:block",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center justify-between folder-meta mt-2 sm:mt-3 md:mt-4 pt-2 sm:pt-3 border-t border-white/10 text-xs sm:text-sm",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1 sm:gap-1.5 text-purple-200/70",children:[(0,t.jsx)(v,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),i]}),(0,t.jsxs)("span",{className:"flex items-center gap-1 sm:gap-1.5 text-purple-200/70",children:[(0,t.jsx)(m,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),l]})]})]}),s&&!n&&(0,t.jsx)("div",{className:"absolute bottom-2 right-2 w-3 h-3 rounded-full bg-gradient-to-r from-purple-400 to-pink-400 animate-pulse shadow-lg shadow-purple-500/50"})]},e.id)})}),tG&&(0,t.jsx)("div",{className:"mb-6 md:mb-8 space-y-5",children:(0,t.jsx)("div",{className:"grid grid-cols-2 gap-2 sm:gap-3 md:gap-5",children:tW.map((e,a)=>{let r=eP===e.id;e.children.length;let s=0===e.children.length,l=e.children.length,i=e.fileIds.length;return(0,t.jsxs)("div",{onClick:()=>{var t;r||(t=e.id,eI(e=>[...e,t]),eE(!1),e$(""),eL(null))},onTouchStart:()=>{r||(tT.current=setTimeout(()=>{ty({isOpen:!0,folderId:e.id,folderName:e.name})},500))},onTouchEnd:()=>{tT.current&&(clearTimeout(tT.current),tT.current=null)},onTouchMove:()=>{tT.current&&(clearTimeout(tT.current),tT.current=null)},onContextMenu:t=>{t.preventDefault(),r||ty({isOpen:!0,folderId:e.id,folderName:e.name})},className:"group relative glass-card rounded-xl sm:rounded-2xl p-3 sm:p-4 md:p-5 text-left transition-all duration-300 hover:scale-[1.03] border overflow-hidden animate-slide-up cursor-pointer border-white/10 hover:border-purple-300/50 hover:shadow-lg hover:shadow-purple-500/20",style:{animationDelay:`${.05*a}s`},children:[(0,t.jsx)("div",{className:`absolute inset-0 bg-gradient-to-br ${tG.gradient} opacity-0 group-hover:opacity-10 transition-opacity duration-300`}),r?(0,t.jsxs)("div",{className:"relative z-10 flex flex-col gap-3 h-full",children:[(0,t.jsx)("input",{type:"text",value:eF,onChange:e=>eO(e.target.value),onClick:e=>e.stopPropagation(),className:"w-full px-3 py-2 rounded-xl bg-white/10 border border-white/20 text-white text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 transition-all",autoFocus:!0}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),tZ(e.id)},className:"flex-1 px-3 py-2 rounded-xl bg-gradient-to-r from-emerald-500 to-green-600 text-white text-xs font-medium shadow-lg hover:shadow-green-500/50 transition-all",children:"à¸šà¸±à¸™à¸—à¸¶à¸"}),(0,t.jsx)("button",{onClick:e=>{e.stopPropagation(),eL(null),eO("")},className:"flex-1 px-3 py-2 rounded-xl bg-white/10 text-purple-100 text-xs font-medium hover:bg-white/20 transition-all",children:"à¸¢à¸à¹€à¸¥à¸´à¸"})]})]}):(0,t.jsxs)("div",{className:"relative z-10 cursor-pointer",children:[(0,t.jsx)("div",{className:`w-10 h-10 sm:w-12 sm:h-12 md:w-14 md:h-14 rounded-xl sm:rounded-2xl bg-gradient-to-br ${tG.gradient} flex items-center justify-center mb-2 sm:mb-3 md:mb-4 shadow-lg group-hover:shadow-xl group-hover:scale-110 transition-all duration-300`,children:(0,t.jsx)(v,{className:"w-5 h-5 sm:w-6 sm:h-6 md:w-7 md:h-7 text-white drop-shadow-md"})}),(0,t.jsx)("h3",{className:"folder-title font-bold text-white group-hover:text-purple-100 transition-colors text-sm sm:text-base",children:e.name}),(0,t.jsx)("p",{className:"folder-description text-purple-200/60 mt-0.5 sm:mt-1 line-clamp-2 text-xs sm:text-sm hidden sm:block",children:s?`${i} à¹„à¸Ÿà¸¥à¹Œ`:`${l} à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œ`}),(0,t.jsxs)("div",{className:"flex items-center justify-between folder-meta mt-2 sm:mt-3 md:mt-4 pt-2 sm:pt-3 border-t border-white/10 text-xs sm:text-sm",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1 sm:gap-1.5 text-purple-200/70",children:[(0,t.jsx)(v,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),l]}),(0,t.jsxs)("span",{className:"flex items-center gap-1 sm:gap-1.5 text-purple-200/70",children:[(0,t.jsx)(m,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),i]})]})]}),s&&!r&&(0,t.jsx)("div",{className:"absolute bottom-2 right-2 w-2 h-2 sm:w-3 sm:h-3 rounded-full bg-gradient-to-r from-emerald-400 to-green-400 shadow-lg shadow-emerald-500/50"})]},e.id)})})}),eX&&(0,t.jsx)("div",{className:"fixed inset-0 z-50 bg-black/60 backdrop-blur-sm flex items-end justify-center",onClick:()=>eY(!1),children:(0,t.jsxs)("div",{className:"w-full max-w-lg bg-slate-900 rounded-t-3xl overflow-hidden animate-slide-up",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"p-5 border-b border-white/10",children:[(0,t.jsx)("div",{className:"w-12 h-1 bg-white/30 rounded-full mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-white text-center",children:"à¸­à¸±à¸žà¹‚à¸«à¸¥à¸”à¹„à¸Ÿà¸¥à¹Œ"})]}),(0,t.jsx)("input",{ref:tz,type:"file",multiple:!0,accept:"image/*,video/*,.jpg,.jpeg,.png,.gif,.webp,.mp4,.mov,.avi,.webm",onChange:ar,className:"hidden"}),(0,t.jsx)("input",{ref:t$,type:"file",accept:"image/*",capture:"environment",onChange:ar,className:"hidden"}),(0,t.jsx)("input",{id:"videoCaptureInput",type:"file",accept:"video/*",capture:"environment",onChange:ar,className:"hidden"}),(0,t.jsxs)("div",{className:"p-5 space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("button",{onClick:()=>tz.current?.click(),className:"w-full flex items-center gap-4 px-5 py-4 rounded-2xl bg-white/5 hover:bg-white/10 transition-colors",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-purple-500/20 flex items-center justify-center",children:(0,t.jsx)(d,{className:"w-6 h-6 text-purple-400"})}),(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("span",{className:"text-white text-lg block",children:"à¹à¸à¸¥à¹€à¸¥à¸­à¸£à¸µà¹ˆ"}),(0,t.jsx)("span",{className:"text-purple-200/60 text-sm",children:"à¹€à¸¥à¸·à¸­à¸à¸£à¸¹à¸›/à¸§à¸´à¸”à¸µà¹‚à¸­"})]})]}),(0,t.jsxs)("button",{onClick:()=>tz.current?.click(),className:"w-full flex items-center gap-4 px-5 py-4 rounded-2xl bg-white/5 hover:bg-white/10 transition-colors",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-emerald-500/20 flex items-center justify-center",children:(0,t.jsx)(v,{className:"w-6 h-6 text-emerald-400"})}),(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("span",{className:"text-white text-lg block",children:"à¹„à¸Ÿà¸¥à¹Œà¸­à¸·à¹ˆà¸™à¹†"}),(0,t.jsx)("span",{className:"text-emerald-200/60 text-sm",children:"à¹€à¸¥à¸·à¸­à¸à¸ˆà¸²à¸à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œ"})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-2 pt-2",children:[(0,t.jsx)("span",{className:"text-purple-300/50 text-xs",children:"à¸£à¸­à¸‡à¸£à¸±à¸š:"}),(0,t.jsx)("span",{className:"px-2 py-1 rounded-full bg-purple-500/20 text-purple-300 text-xs",children:"JPG"}),(0,t.jsx)("span",{className:"px-2 py-1 rounded-full bg-purple-500/20 text-purple-300 text-xs",children:"PNG"}),(0,t.jsx)("span",{className:"px-2 py-1 rounded-full bg-purple-500/20 text-purple-300 text-xs",children:"GIF"}),(0,t.jsx)("span",{className:"px-2 py-1 rounded-full bg-pink-500/20 text-pink-300 text-xs",children:"MP4"}),(0,t.jsx)("span",{className:"px-2 py-1 rounded-full bg-pink-500/20 text-pink-300 text-xs",children:"MOV"})]}),(tJ||tG)&&(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2 p-3 rounded-xl bg-emerald-500/10 border border-emerald-500/20",children:[(0,t.jsx)(v,{className:"w-4 h-4 text-emerald-400"}),(0,t.jsxs)("span",{className:"text-emerald-300 text-sm",children:["à¸­à¸±à¸žà¹‚à¸«à¸¥à¸”à¹„à¸›à¸—à¸µà¹ˆ: ",(0,t.jsx)("span",{className:"font-medium",children:tJ?.name||tG?.name})]})]})]}),(0,t.jsx)("div",{className:"p-5 pt-0",children:(0,t.jsx)("button",{onClick:()=>eY(!1),className:"w-full py-4 rounded-2xl bg-white/10 text-white font-medium text-lg hover:bg-white/20 transition-colors",children:"à¸¢à¸à¹€à¸¥à¸´à¸"})})]})}),tM.isOpen&&(0,t.jsxs)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:()=>{tM.onCancel&&tM.onCancel(),t6()}}),(0,t.jsx)("div",{className:"relative w-full max-w-md transform transition-all animate-bounce-in",children:(0,t.jsxs)("div",{className:"glass-card rounded-2xl sm:rounded-3xl overflow-hidden border border-white/20 shadow-2xl",children:[(0,t.jsxs)("div",{className:`p-6 sm:p-8 text-center ${"delete"===tM.type?"bg-gradient-to-br from-red-500/20 to-pink-500/20":"warning"===tM.type?"bg-gradient-to-br from-amber-500/20 to-orange-500/20":"bg-gradient-to-br from-blue-500/20 to-cyan-500/20"}`,children:[(0,t.jsx)("div",{className:`w-16 h-16 sm:w-20 sm:h-20 mx-auto mb-4 rounded-full flex items-center justify-center ${"delete"===tM.type?"bg-gradient-to-br from-red-500 to-pink-600 shadow-lg shadow-red-500/40":"warning"===tM.type?"bg-gradient-to-br from-amber-500 to-orange-600 shadow-lg shadow-amber-500/40":"bg-gradient-to-br from-blue-500 to-cyan-600 shadow-lg shadow-blue-500/40"}`,children:"delete"===tM.type?(0,t.jsx)(b,{className:"w-8 h-8 sm:w-10 sm:h-10 text-white"}):"warning"===tM.type?(0,t.jsx)(O.AlertCircle,{className:"w-8 h-8 sm:w-10 sm:h-10 text-white"}):(0,t.jsx)(D,{className:"w-8 h-8 sm:w-10 sm:h-10 text-white"})}),(0,t.jsx)("h3",{className:"text-responsive-xl sm:text-2xl font-bold text-white mb-2",children:tM.title}),(0,t.jsx)("p",{className:"text-responsive-sm sm:text-base text-purple-200/80",children:tM.message}),tM.itemName&&(0,t.jsxs)("div",{className:"mt-4 px-4 py-3 bg-white/10 rounded-xl border border-white/10",children:[(0,t.jsx)("p",{className:"text-responsive-sm text-purple-300/60 mb-1",children:"à¸Šà¸·à¹ˆà¸­à¹„à¸Ÿà¸¥à¹Œ:"}),(0,t.jsx)("p",{className:"text-responsive-base text-white font-medium truncate",children:tM.itemName})]}),"delete"===tM.type&&(0,t.jsxs)("div",{className:"mt-4 flex items-center justify-center gap-2 text-red-300/80",children:[(0,t.jsx)(O.AlertCircle,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-responsive-xs sm:text-sm",children:"à¸à¸²à¸£à¸”à¸³à¹€à¸™à¸´à¸™à¸à¸²à¸£à¸™à¸µà¹‰à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸¢à¹‰à¸­à¸™à¸à¸¥à¸±à¸šà¹„à¸”à¹‰"})]})]}),(0,t.jsxs)("div",{className:"p-4 sm:p-6 bg-slate-900/50 flex flex-col-reverse sm:flex-row gap-3",children:[tM.cancelText&&(0,t.jsx)("button",{onClick:()=>{tM.onCancel&&tM.onCancel(),t6()},className:"flex-1 px-6 py-3 sm:py-3.5 rounded-xl bg-white/10 hover:bg-white/20 text-white font-medium transition-all duration-200 btn-text border border-white/10",children:tM.cancelText}),(0,t.jsx)("button",{onClick:()=>tM.onConfirm(),className:`flex-1 px-6 py-3 sm:py-3.5 rounded-xl font-medium transition-all duration-200 btn-text shadow-lg ${"delete"===tM.type?"bg-gradient-to-r from-red-500 to-pink-600 hover:from-red-400 hover:to-pink-500 text-white shadow-red-500/30 hover:shadow-red-500/50":"warning"===tM.type?"bg-gradient-to-r from-amber-500 to-orange-600 hover:from-amber-400 hover:to-orange-500 text-white shadow-amber-500/30 hover:shadow-amber-500/50":"bg-gradient-to-r from-blue-500 to-cyan-600 hover:from-blue-400 hover:to-cyan-500 text-white shadow-blue-500/30 hover:shadow-blue-500/50"}`,children:tM.confirmText||"à¸¢à¸·à¸™à¸¢à¸±à¸™"})]})]})})]}),e5&&e3&&(0,t.jsx)("div",{className:"fixed inset-0 z-[60] bg-black/60 backdrop-blur-sm flex items-end justify-center",onClick:()=>{e4(!1),e6(null)},children:(0,t.jsxs)("div",{className:"w-full max-w-lg bg-slate-900 rounded-t-3xl overflow-hidden animate-slide-up",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"p-5 border-b border-white/10",children:[(0,t.jsx)("div",{className:"w-12 h-1 bg-white/30 rounded-full mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-white text-center",children:"à¹à¸Šà¸£à¹Œà¹„à¸Ÿà¸¥à¹Œ"})]}),(0,t.jsxs)("div",{className:"p-5 space-y-2",children:[(0,t.jsxs)("button",{onClick:()=>ac(e3,"line"),className:"w-full flex items-center gap-4 px-5 py-4 rounded-2xl bg-green-500/10 hover:bg-green-500/20 transition-colors",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-green-500 flex items-center justify-center",children:(0,t.jsx)(F.Send,{className:"w-6 h-6 text-white"})}),(0,t.jsxs)("div",{className:"flex-1 text-left",children:[(0,t.jsx)("span",{className:"text-white text-lg block",children:"LINE (à¹à¸Šà¸£à¹Œà¸¥à¸´à¸‡à¸à¹Œ)"}),(0,t.jsx)("span",{className:"text-white/50 text-sm",children:"à¹€à¸›à¸´à¸”à¹ƒà¸™à¹€à¸šà¸£à¸²à¸§à¹Œà¹€à¸‹à¸­à¸£à¹Œ LINE"})]})]}),($.find(e=>e.id===e3)?.type==="video"||$.find(e=>e.id===e3)?.type==="clip")&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 px-2",children:[(0,t.jsx)("span",{className:"text-white/60 text-sm",children:"à¸ªà¹ˆà¸‡à¹„à¸›à¸à¸¥à¸¸à¹ˆà¸¡:"}),(0,t.jsx)("select",{value:tu||"",onChange:e=>tx(e.target.value),className:"flex-1 bg-slate-800 text-white text-sm rounded-lg px-3 py-2 border border-white/20 focus:border-green-500 focus:outline-none",children:tl.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))}),(0,t.jsx)("button",{onClick:()=>to(!0),className:"p-2 rounded-lg bg-slate-800 hover:bg-slate-700 text-white/60 hover:text-white transition-colors",title:"à¸ˆà¸±à¸”à¸à¸²à¸£à¸à¸¥à¸¸à¹ˆà¸¡",children:(0,t.jsx)(I.Plus,{className:"w-5 h-5"})})]}),(0,t.jsxs)("button",{onClick:()=>{e3&&tu&&ah(e3,tu)},disabled:"sending"===tt||!tu,className:"w-full flex items-center gap-4 px-5 py-4 rounded-2xl bg-gradient-to-r from-green-500/20 to-emerald-500/20 hover:from-green-500/30 hover:to-emerald-500/30 transition-colors border border-green-500/30 disabled:opacity-50",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-green-500 to-emerald-500 flex items-center justify-center",children:"sending"===tt?(0,t.jsx)(l.RefreshCw,{className:"w-6 h-6 text-white animate-spin"}):"success"===tt?(0,t.jsx)(T.Check,{className:"w-6 h-6 text-white"}):(0,t.jsx)(c,{className:"w-6 h-6 text-white"})}),(0,t.jsxs)("div",{className:"flex-1 text-left",children:[(0,t.jsx)("span",{className:"text-white text-lg block",children:"sending"===tt?"à¸à¸³à¸¥à¸±à¸‡à¸ªà¹ˆà¸‡...":"success"===tt?"à¸ªà¹ˆà¸‡à¸ªà¸³à¹€à¸£à¹‡à¸ˆ! âœ…":"à¸ªà¹ˆà¸‡à¸§à¸´à¸”à¸µà¹‚à¸­à¸•à¸£à¸‡à¹„à¸› LINE â­"}),(0,t.jsx)("span",{className:"text-green-300 text-sm",children:"sending"===tt?"à¸£à¸­à¸ªà¸±à¸à¸„à¸£à¸¹à¹ˆ...":"success"===tt?"à¸”à¸¹à¹„à¸”à¹‰à¹ƒà¸™à¹à¸Šà¸—à¹€à¸¥à¸¢":tl.find(e=>e.id===tu)?.name||"à¹€à¸¥à¸·à¸­à¸à¸à¸¥à¸¸à¹ˆà¸¡"})]})]})]}),(0,t.jsxs)("button",{onClick:()=>{let e=$.find(e=>e.id===e3);if(e){let t=`https://app.bjhbangkok.com${e.url}`,a=encodeURIComponent(`ðŸŽ¬ ${e.name}

${t}`);window.open(`https://wa.me/?text=${a}`,"_blank")}e4(!1),e6(null)},className:"w-full flex items-center gap-4 px-5 py-4 rounded-2xl bg-emerald-500/10 hover:bg-emerald-500/20 transition-colors",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-emerald-500 flex items-center justify-center",children:(0,t.jsx)(z,{className:"w-6 h-6 text-white"})}),(0,t.jsxs)("div",{className:"flex-1 text-left",children:[(0,t.jsx)("span",{className:"text-white text-lg block",children:"WhatsApp"}),(0,t.jsx)("span",{className:"text-emerald-300 text-sm",children:"à¹€à¸¥à¹ˆà¸™ inline à¹„à¸”à¹‰à¹€à¸¥à¸¢"})]})]}),(0,t.jsxs)("button",{onClick:()=>{let e=$.find(e=>e.id===e3);if(e){let t=`https://app.bjhbangkok.com${e.url}`,a=encodeURIComponent(`ðŸŽ¬ ${e.name}`),r=encodeURIComponent(t);window.open(`https://t.me/share/url?url=${r}&text=${a}`,"_blank")}e4(!1),e6(null)},className:"w-full flex items-center gap-4 px-5 py-4 rounded-2xl bg-blue-500/10 hover:bg-blue-500/20 transition-colors",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-blue-500 flex items-center justify-center",children:(0,t.jsx)(F.Send,{className:"w-6 h-6 text-white"})}),(0,t.jsxs)("div",{className:"flex-1 text-left",children:[(0,t.jsx)("span",{className:"text-white text-lg block",children:"Telegram"}),(0,t.jsx)("span",{className:"text-blue-300 text-sm",children:"à¹€à¸¥à¹ˆà¸™ inline à¹„à¸”à¹‰à¹€à¸¥à¸¢"})]})]}),(0,t.jsxs)("button",{onClick:()=>ac(e3,"copy"),className:"w-full flex items-center gap-4 px-5 py-4 rounded-2xl bg-purple-500/10 hover:bg-purple-500/20 transition-colors",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-purple-500 flex items-center justify-center",children:(0,t.jsx)(y.Copy,{className:"w-6 h-6 text-white"})}),(0,t.jsx)("span",{className:"text-white text-lg",children:"à¸„à¸±à¸”à¸¥à¸­à¸à¸¥à¸´à¸‡à¸à¹Œ"})]}),($.find(e=>e.id===e3)?.type==="video"||$.find(e=>e.id===e3)?.type==="clip")&&(0,t.jsxs)("button",{onClick:()=>{let e=$.find(e=>e.id===e3);if(e){let t=`https://app.bjhbangkok.com${e.url}`;navigator.clipboard.writeText(t),alert("à¸„à¸±à¸”à¸¥à¸­à¸ Video URL à¹à¸¥à¹‰à¸§! ðŸ“‹")}e4(!1),e6(null)},className:"w-full flex items-center gap-4 px-5 py-4 rounded-2xl bg-orange-500/10 hover:bg-orange-500/20 transition-colors",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-orange-500 flex items-center justify-center",children:(0,t.jsx)(c,{className:"w-6 h-6 text-white"})}),(0,t.jsxs)("div",{className:"flex-1 text-left",children:[(0,t.jsx)("span",{className:"text-white text-lg block",children:"à¸„à¸±à¸”à¸¥à¸­à¸ Video URL"}),(0,t.jsx)("span",{className:"text-orange-300 text-sm",children:"à¸¥à¸´à¸‡à¸à¹Œ .mp4 à¹‚à¸”à¸¢à¸•à¸£à¸‡"})]})]}),(0,t.jsxs)("button",{onClick:()=>ac(e3,"native"),className:"w-full flex items-center gap-4 px-5 py-4 rounded-2xl bg-blue-500/10 hover:bg-blue-500/20 transition-colors",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-blue-500 flex items-center justify-center",children:(0,t.jsx)(N.Share2,{className:"w-6 h-6 text-white"})}),(0,t.jsx)("span",{className:"text-white text-lg",children:"à¹à¸­à¸›à¸­à¸·à¹ˆà¸™à¹†"})]})]}),(0,t.jsx)("div",{className:"p-5 pt-0",children:(0,t.jsx)("button",{onClick:()=>{e4(!1),e6(null)},className:"w-full py-4 rounded-2xl bg-white/10 text-white font-medium text-lg hover:bg-white/20 transition-colors",children:"à¸¢à¸à¹€à¸¥à¸´à¸"})})]})}),e8&&e3&&(0,t.jsx)("div",{className:"fixed inset-0 z-[70] bg-black/70 backdrop-blur-sm flex items-center justify-center p-4",onClick:()=>{"sending"!==tt&&(e9(!1),te(""),ta("idle"),ts(""))},children:(0,t.jsxs)("div",{className:"w-full max-w-md bg-slate-900 rounded-3xl overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"p-5 border-b border-white/10 bg-gradient-to-r from-green-500/20 to-emerald-500/20",children:[(0,t.jsxs)("h3",{className:"text-xl font-bold text-white text-center flex items-center justify-center gap-2",children:[(0,t.jsx)(c,{className:"w-6 h-6 text-green-400"}),"à¸ªà¹ˆà¸‡à¸§à¸´à¸”à¸µà¹‚à¸­à¸•à¸£à¸‡à¹„à¸› LINE"]}),(0,t.jsx)("p",{className:"text-green-300/80 text-sm text-center mt-1",children:"à¹€à¸¥à¹ˆà¸™à¹„à¸”à¹‰à¹€à¸¥à¸¢à¹ƒà¸™à¹à¸­à¸› LINE!"})]}),(0,t.jsx)("div",{className:"p-5 space-y-4",children:"success"===tt?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("div",{className:"w-20 h-20 rounded-full bg-green-500/20 flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(T.Check,{className:"w-10 h-10 text-green-400"})}),(0,t.jsx)("p",{className:"text-green-400 text-xl font-semibold",children:"à¸ªà¹ˆà¸‡à¸§à¸´à¸”à¸µà¹‚à¸­à¸ªà¸³à¹€à¸£à¹‡à¸ˆ!"}),(0,t.jsx)("p",{className:"text-white/60 text-sm mt-2",children:"à¸§à¸´à¸”à¸µà¹‚à¸­à¸–à¸¹à¸à¸ªà¹ˆà¸‡à¹„à¸›à¸¢à¸±à¸‡ LINE à¹à¸¥à¹‰à¸§"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"bg-black/30 rounded-xl p-3 flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-16 h-16 rounded-lg bg-purple-500/20 flex items-center justify-center overflow-hidden",children:$.find(e=>e.id===e3)?.thumbnail?(0,t.jsx)("img",{src:$.find(e=>e.id===e3)?.thumbnail,alt:"Video thumbnail",className:"w-full h-full object-cover"}):(0,t.jsx)(c,{className:"w-8 h-8 text-purple-400"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-white font-medium truncate",children:$.find(e=>e.id===e3)?.name}),(0,t.jsx)("p",{className:"text-white/50 text-sm",children:$.find(e=>e.id===e3)?.size})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"LINE User ID à¸‚à¸­à¸‡à¸œà¸¹à¹‰à¸£à¸±à¸š"}),(0,t.jsx)("input",{type:"text",value:e7,onChange:e=>te(e.target.value),placeholder:"U1234567890abcdef...",className:"w-full px-4 py-3 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/40 focus:outline-none focus:border-green-500 focus:ring-1 focus:ring-green-500",disabled:"sending"===tt}),(0,t.jsx)("p",{className:"text-white/40 text-xs mt-2",children:"ðŸ’¡ à¸œà¸¹à¹‰à¸£à¸±à¸šà¸•à¹‰à¸­à¸‡à¹€à¸žà¸´à¹ˆà¸¡ LINE Official Account à¸‚à¸­à¸‡à¸„à¸¸à¸“à¹€à¸›à¹‡à¸™à¹€à¸žà¸·à¹ˆà¸­à¸™à¸à¹ˆà¸­à¸™"})]}),tr&&(0,t.jsxs)("div",{className:"bg-red-500/20 border border-red-500/30 rounded-xl p-3 flex items-center gap-2",children:[(0,t.jsx)(O.AlertCircle,{className:"w-5 h-5 text-red-400 flex-shrink-0"}),(0,t.jsx)("p",{className:"text-red-300 text-sm",children:tr})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,t.jsx)("button",{onClick:()=>{e9(!1),te(""),ta("idle"),ts("")},disabled:"sending"===tt,className:"flex-1 py-3 rounded-xl bg-white/10 text-white font-medium hover:bg-white/20 transition-colors disabled:opacity-50",children:"à¸¢à¸à¹€à¸¥à¸´à¸"}),(0,t.jsx)("button",{onClick:()=>am(e3),disabled:"sending"===tt||!e7.trim(),className:"flex-1 py-3 rounded-xl bg-gradient-to-r from-green-500 to-emerald-500 text-white font-medium hover:from-green-600 hover:to-emerald-600 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:"sending"===tt?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"à¸à¸³à¸¥à¸±à¸‡à¸ªà¹ˆà¸‡..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(F.Send,{className:"w-5 h-5"}),"à¸ªà¹ˆà¸‡à¸§à¸´à¸”à¸µà¹‚à¸­"]})})]})]})})]})}),tn&&(0,t.jsx)("div",{className:"fixed inset-0 z-[80] bg-black/70 backdrop-blur-sm flex items-center justify-center p-4",onClick:()=>to(!1),children:(0,t.jsxs)("div",{className:"w-full max-w-md bg-slate-900 rounded-3xl overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"p-5 border-b border-white/10 bg-gradient-to-r from-green-500/20 to-emerald-500/20",children:[(0,t.jsxs)("h3",{className:"text-xl font-bold text-white text-center flex items-center justify-center gap-2",children:[(0,t.jsx)(F.Send,{className:"w-6 h-6 text-green-400"}),"à¸ˆà¸±à¸”à¸à¸²à¸£à¸à¸¥à¸¸à¹ˆà¸¡ LINE"]}),(0,t.jsx)("p",{className:"text-green-300/80 text-sm text-center mt-1",children:"à¹€à¸žà¸´à¹ˆà¸¡à¸«à¸£à¸·à¸­à¸¥à¸šà¸à¸¥à¸¸à¹ˆà¸¡à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸ªà¹ˆà¸‡à¸§à¸´à¸”à¸µà¹‚à¸­"})]}),(0,t.jsxs)("div",{className:"p-5 space-y-4 max-h-96 overflow-y-auto custom-scrollbar",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-white/80 text-sm font-medium",children:"à¸à¸¥à¸¸à¹ˆà¸¡à¸—à¸µà¹ˆà¸šà¸±à¸™à¸—à¸¶à¸à¹„à¸§à¹‰"}),0===tl.length?(0,t.jsx)("p",{className:"text-white/40 text-sm",children:"à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µà¸à¸¥à¸¸à¹ˆà¸¡"}):tl.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-2 bg-white/5 rounded-xl p-3",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-white font-medium",children:e.name}),(0,t.jsx)("p",{className:"text-white/40 text-xs truncate",children:e.id})]}),(0,t.jsx)("button",{onClick:()=>{var t;let a;return t=e.id,void(tF(a=tl.filter(e=>e.id!==t)),tu===t&&a.length>0&&tx(a[0].id))},className:"p-2 rounded-lg bg-red-500/20 hover:bg-red-500/30 text-red-400 transition-colors",title:"à¸¥à¸šà¸à¸¥à¸¸à¹ˆà¸¡",children:(0,t.jsx)(b,{className:"w-4 h-4"})})]},e.id))]}),(0,t.jsxs)("div",{className:"bg-green-500/10 border border-green-500/20 rounded-xl p-4 space-y-2",children:[(0,t.jsxs)("p",{className:"text-green-400 font-medium flex items-center gap-2",children:[(0,t.jsx)(D,{className:"w-4 h-4"}),"à¸§à¸´à¸˜à¸µà¸«à¸² Group ID"]}),(0,t.jsxs)("ol",{className:"text-white/70 text-sm space-y-1 list-decimal list-inside",children:[(0,t.jsx)("li",{children:"à¹€à¸›à¸´à¸”à¹à¸­à¸› LINE à¸šà¸™à¸¡à¸·à¸­à¸–à¸·à¸­"}),(0,t.jsx)("li",{children:"à¹€à¸Šà¸´à¸ Bot à¹€à¸‚à¹‰à¸²à¸à¸¥à¸¸à¹ˆà¸¡à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸à¸²à¸£"}),(0,t.jsxs)("li",{children:["à¸žà¸´à¸¡à¸žà¹Œ ",(0,t.jsx)("code",{className:"bg-white/10 px-1 rounded",children:"!groupid"})," à¹ƒà¸™à¸à¸¥à¸¸à¹ˆà¸¡"]}),(0,t.jsx)("li",{children:"Bot à¸ˆà¸°à¸•à¸­à¸šà¸à¸¥à¸±à¸š Group ID à¸¡à¸²à¹ƒà¸«à¹‰"}),(0,t.jsx)("li",{children:"à¸„à¸±à¸”à¸¥à¸­à¸ ID à¸¡à¸²à¹ƒà¸ªà¹ˆà¸”à¹‰à¸²à¸™à¸¥à¹ˆà¸²à¸‡"})]})]}),(0,t.jsxs)("div",{className:"border-t border-white/10 pt-4 space-y-3",children:[(0,t.jsx)("label",{className:"block text-white/80 text-sm font-medium",children:"à¹€à¸žà¸´à¹ˆà¸¡à¸à¸¥à¸¸à¹ˆà¸¡à¹ƒà¸«à¸¡à¹ˆ"}),(0,t.jsx)("input",{type:"text",value:tm,onChange:e=>th(e.target.value),placeholder:"à¸Šà¸·à¹ˆà¸­à¸à¸¥à¸¸à¹ˆà¸¡ (à¹€à¸Šà¹ˆà¸™ à¸—à¸µà¸¡à¸à¸²à¸£à¸•à¸¥à¸²à¸”)",className:"w-full px-4 py-3 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/40 focus:outline-none focus:border-green-500"}),(0,t.jsx)("input",{type:"text",value:td,onChange:e=>tc(e.target.value),placeholder:"Group ID (à¹€à¸Šà¹ˆà¸™ C31a793e94485a393...)",className:"w-full px-4 py-3 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/40 focus:outline-none focus:border-green-500"}),(0,t.jsxs)("button",{onClick:()=>{td.trim()&&tm.trim()&&(tF([...tl,{id:td.trim(),name:tm.trim()}]),tc(""),th(""),tx(td.trim()))},disabled:!tm.trim()||!td.trim(),className:"w-full py-3 rounded-xl bg-gradient-to-r from-green-500 to-emerald-600 text-white font-semibold hover:from-green-400 hover:to-emerald-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[(0,t.jsx)(I.Plus,{className:"w-5 h-5"}),"à¹€à¸žà¸´à¹ˆà¸¡à¸à¸¥à¸¸à¹ˆà¸¡"]})]})]}),(0,t.jsx)("div",{className:"p-4 border-t border-white/10",children:(0,t.jsx)("button",{onClick:()=>to(!1),className:"w-full py-3 rounded-xl bg-white/10 text-white font-medium hover:bg-white/20 transition-colors",children:"à¸›à¸´à¸”"})})]})}),L?(0,t.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-purple-500 border-t-transparent"})}):0===tX.length?null:"list"===G?(0,t.jsx)("div",{className:"glass-card rounded-2xl overflow-hidden",children:(0,t.jsx)("table",{className:"w-full",children:(0,t.jsx)("tbody",{children:tX.map((e,a)=>(0,t.jsxs)("tr",{className:`border-b border-purple-500/10 hover:bg-white/5 transition-colors ${et.includes(e.id)?"bg-purple-500/10":""}`,onTouchStart:()=>{tI.current=setTimeout(()=>{tS(!0),et.includes(e.id)||t9(e.id)},500)},onTouchEnd:()=>{tI.current&&(clearTimeout(tI.current),tI.current=null)},onTouchMove:()=>{tI.current&&(clearTimeout(tI.current),tI.current=null)},onContextMenu:t=>{t.preventDefault(),tS(!0),et.includes(e.id)||t9(e.id)},children:[tC&&(0,t.jsx)("td",{className:"p-1 sm:p-2 text-center",children:(0,t.jsx)("input",{type:"checkbox",checked:et.includes(e.id),onChange:()=>t9(e.id),className:"w-4 h-4 rounded cursor-pointer"})}),(0,t.jsx)("td",{className:"p-1 sm:p-2",children:(0,t.jsxs)("div",{className:"relative w-10 h-10 sm:w-12 sm:h-10 rounded-lg overflow-hidden cursor-pointer hover:scale-110 transition-transform mx-auto",onClick:()=>ae(a),children:[(0,t.jsx)(ap,{file:e,alt:e.name,className:"w-full h-full object-cover"}),("video"===e.type||"clip"===e.type)&&(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50",children:(0,t.jsx)(p.Play,{className:"w-3 h-3 text-white"})})]})}),(0,t.jsxs)("td",{className:"p-1 sm:p-2",children:[(0,t.jsx)("div",{className:"font-medium text-white text-xs sm:text-sm truncate max-w-[100px] sm:max-w-[180px]",children:e.name}),(0,t.jsx)("div",{className:"flex gap-0.5 mt-0.5 flex-wrap",children:e.tags.slice(0,2).map(e=>(0,t.jsx)("span",{className:"px-1 py-0 bg-purple-500/20 text-purple-300 text-[10px] rounded-full",children:e},e))})]}),(0,t.jsx)("td",{className:"p-1 sm:p-2",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-0.5 sm:gap-1",children:[(0,t.jsx)("button",{onClick:()=>au(e.id),className:"p-1 sm:p-1.5 rounded-lg bg-white/10 text-purple-300 hover:bg-white/20 transition-colors flex items-center justify-center",title:"à¸”à¸²à¸§à¸™à¹Œà¹‚à¸«à¸¥à¸”",children:(0,t.jsx)(i.Download,{className:"w-3.5 h-3.5"})}),(0,t.jsx)("button",{onClick:()=>{e6(e.id),e4(!0)},className:"p-1 sm:p-1.5 rounded-lg bg-white/10 text-purple-300 hover:bg-white/20 transition-colors flex items-center justify-center",title:"à¹à¸Šà¸£à¹Œ",children:(0,t.jsx)(N.Share2,{className:"w-3.5 h-3.5"})}),(0,t.jsx)("button",{onClick:()=>t8(e.id),className:"p-1 sm:p-1.5 rounded-lg bg-white/10 text-red-400 hover:bg-red-500/20 transition-colors flex items-center justify-center",title:"à¸¥à¸š",children:(0,t.jsx)(b,{className:"w-3.5 h-3.5"})})]})})]},e.id))})})}):(0,t.jsx)("div",{className:"grid grid-cols-4 gap-0.5",children:tX.map((e,a)=>(0,t.jsxs)("div",{className:`relative aspect-square overflow-hidden cursor-pointer ${et.includes(e.id)?"ring-2 ring-white ring-inset":""}`,onClick:()=>{tC?t9(e.id):ae(a)},onTouchStart:()=>{tI.current=setTimeout(()=>{tS(!0),et.includes(e.id)||t9(e.id)},500)},onTouchEnd:()=>{tI.current&&(clearTimeout(tI.current),tI.current=null)},onTouchMove:()=>{tI.current&&(clearTimeout(tI.current),tI.current=null)},onContextMenu:t=>{t.preventDefault(),tS(!0),et.includes(e.id)||t9(e.id)},children:[(0,t.jsx)(ap,{file:e,alt:e.name,className:"w-full h-full object-cover"}),(tC||et.includes(e.id))&&(0,t.jsx)("div",{className:"absolute top-2 left-2",children:(0,t.jsx)("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-colors ${et.includes(e.id)?"bg-white border-white":"border-white/70 bg-black/30"}`,children:et.includes(e.id)&&(0,t.jsx)(T.Check,{className:"w-4 h-4 text-black"})})}),e.duration&&(0,t.jsx)("div",{className:"absolute bottom-1 right-1 px-1.5 py-0.5 bg-black/70 rounded text-white text-xs font-medium",children:e.duration}),("video"===e.type||"clip"===e.type)&&!e.duration&&(0,t.jsx)("div",{className:"absolute bottom-1 right-1",children:(0,t.jsx)(p.Play,{className:"w-4 h-4 text-white drop-shadow-lg",fill:"white"})})]},e.id))}),(0,t.jsx)("div",{className:`fixed bottom-0 left-0 right-0 bg-black border-t border-white/10 z-50 safe-area-bottom transform transition-transform duration-300 ease-out ${tC&&!e5?"translate-y-0":"translate-y-full"}`,children:(0,t.jsxs)("div",{className:"flex items-center justify-around py-3 px-4",children:[(0,t.jsxs)("button",{onClick:()=>{et.length>0&&et.forEach(e=>au(e))},className:"flex flex-col items-center gap-1 px-4 py-2",children:[(0,t.jsx)(i.Download,{className:"w-6 h-6 text-white"}),(0,t.jsx)("span",{className:"text-white text-xs",children:"à¸”à¸²à¸§à¸™à¹Œà¹‚à¸«à¸¥à¸”"})]}),(0,t.jsxs)("button",{onClick:()=>{et.length>0&&(e6(et[0]),e4(!0))},className:"flex flex-col items-center gap-1 px-4 py-2",children:[(0,t.jsx)(N.Share2,{className:"w-6 h-6 text-white"}),(0,t.jsx)("span",{className:"text-white text-xs",children:"à¹à¸Šà¸£à¹Œ"})]}),(0,t.jsxs)("button",{onClick:()=>{et.length>0&&tE({isOpen:!0,type:"delete",title:"à¸¥à¸šà¹„à¸Ÿà¸¥à¹Œà¸—à¸µà¹ˆà¹€à¸¥à¸·à¸­à¸",message:`à¸„à¸¸à¸“à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸¥à¸š ${et.length} à¹„à¸Ÿà¸¥à¹Œà¸—à¸µà¹ˆà¹€à¸¥à¸·à¸­à¸à¸«à¸£à¸·à¸­à¹„à¸¡à¹ˆ?`,onConfirm:()=>{et.forEach(e=>t8(e)),ea([]),tS(!1),t6()},confirmText:"à¸¥à¸š",cancelText:"à¸¢à¸à¹€à¸¥à¸´à¸"})},className:"flex flex-col items-center gap-1 px-4 py-2",children:[(0,t.jsx)(b,{className:"w-6 h-6 text-white"}),(0,t.jsx)("span",{className:"text-white text-xs",children:"à¸¥à¸š"})]})]})}),er&&tX[eg]&&(0,t.jsx)("div",{className:"fixed inset-0 z-50 bg-black/95 flex items-center justify-center",onClick:()=>es(!1),children:(0,t.jsxs)("div",{className:"relative w-full h-full flex items-center justify-center p-4",onClick:e=>e.stopPropagation(),onTouchStart:e=>{let t=e.touches[0];e.currentTarget.dataset.touchStartX=String(t.clientX)},onTouchEnd:e=>{let t=parseFloat(e.currentTarget.dataset.touchStartX||"0")-e.changedTouches[0].clientX;Math.abs(t)>50&&(t>0?eb(e=>e<tX.length-1?e+1:0):eb(e=>e>0?e-1:tX.length-1))},children:[(0,t.jsxs)("div",{className:"absolute top-4 right-4 flex items-center gap-2 z-50",children:[(0,t.jsx)("button",{onClick:()=>au(tX[eg].id),className:"p-3 rounded-full bg-gradient-to-r from-blue-500 to-cyan-500 text-white hover:from-blue-400 hover:to-cyan-400 transition-colors",title:"à¸”à¸²à¸§à¸™à¹Œà¹‚à¸«à¸¥à¸”",children:(0,t.jsx)(i.Download,{className:"w-6 h-6"})}),(0,t.jsx)("button",{onClick:()=>{e6(tX[eg].id),e4(!0)},className:"p-3 rounded-full bg-gradient-to-r from-green-500 to-emerald-500 text-white hover:from-green-400 hover:to-emerald-400 transition-colors",title:"à¹à¸Šà¸£à¹Œ",children:(0,t.jsx)(N.Share2,{className:"w-6 h-6"})}),(0,t.jsx)("button",{onClick:()=>{confirm("à¸„à¸¸à¸“à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸¥à¸šà¹„à¸Ÿà¸¥à¹Œà¸™à¸µà¹‰à¸«à¸£à¸·à¸­à¹„à¸¡à¹ˆ?")&&(t8(tX[eg].id),tX.length<=1?es(!1):eg>=tX.length-1&&eb(eg-1))},className:"p-3 rounded-full bg-gradient-to-r from-red-500 to-pink-500 text-white hover:from-red-400 hover:to-pink-400 transition-colors",title:"à¸¥à¸š",children:(0,t.jsx)(b,{className:"w-6 h-6"})}),(0,t.jsx)("button",{onClick:()=>es(!1),className:"p-3 rounded-full bg-white/10 text-white hover:bg-white/20 transition-colors",children:(0,t.jsx)(x.X,{className:"w-6 h-6"})})]}),(0,t.jsx)("button",{onClick:()=>eb(e=>e>0?e-1:tX.length-1),className:"absolute left-4 p-3 rounded-full bg-white/10 text-white hover:bg-white/20 transition-colors z-50",children:(0,t.jsx)(f.ChevronLeft,{className:"w-8 h-8"})}),(0,t.jsx)("button",{onClick:()=>eb(e=>e<tX.length-1?e+1:0),className:"absolute right-4 p-3 rounded-full bg-white/10 text-white hover:bg-white/20 transition-colors z-50",children:(0,t.jsx)(g.ChevronRight,{className:"w-8 h-8"})}),(0,t.jsx)("div",{className:"max-w-6xl max-h-[85vh] rounded-2xl overflow-hidden shadow-2xl",children:"video"===tX[eg].type||"clip"===tX[eg].type?(0,t.jsx)("video",{src:tX[eg].url,poster:tX[eg].thumbnail!==ax?tX[eg].thumbnail:void 0,controls:!0,autoPlay:!0,className:"max-w-full max-h-[85vh] object-contain"}):(0,t.jsx)("img",{src:tX[eg].thumbnail,alt:tX[eg].name,className:"max-w-full max-h-[85vh] object-contain"})}),(0,t.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black/90 to-transparent",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:tX[eg].name}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-white/70",children:[(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[(0,t.jsx)(C.Calendar,{className:"w-4 h-4"}),tX[eg].date]}),(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[(0,t.jsx)(S,{className:"w-4 h-4"}),tX[eg].size]}),(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[(0,t.jsx)(j.Eye,{className:"w-4 h-4"}),(e=tX[eg].views)>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString()," views"]})]}),(0,t.jsx)("div",{className:"flex gap-2 mt-3",children:tX[eg].tags.map(e=>(0,t.jsxs)("span",{className:"px-3 py-1 bg-white/20 rounded-full text-white text-sm",children:["#",e]},e))})]})}),(0,t.jsxs)("div",{className:"absolute top-4 left-4 px-4 py-2 bg-white/10 backdrop-blur-sm rounded-full text-white font-medium",children:[eg+1," / ",tX.length]})]})}),tj.isOpen&&(0,t.jsx)("div",{className:"fixed inset-0 z-50 bg-black/60 backdrop-blur-sm flex items-end justify-center",onClick:()=>ty({isOpen:!1,folderId:null,folderName:""}),children:(0,t.jsxs)("div",{className:"w-full max-w-lg bg-slate-900 rounded-t-3xl overflow-hidden animate-slide-up",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"p-5 border-b border-white/10",children:[(0,t.jsx)("div",{className:"w-12 h-1 bg-white/30 rounded-full mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-white text-center",children:tj.folderName})]}),(0,t.jsxs)("div",{className:"p-4 space-y-2",children:[(0,t.jsxs)("button",{onClick:()=>{let e=tW.find(e=>e.id===tj.folderId);e&&(eL(e.id),eO(e.name)),ty({isOpen:!1,folderId:null,folderName:""})},className:"w-full flex items-center gap-4 px-5 py-4 rounded-2xl bg-white/5 hover:bg-white/10 transition-colors",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-blue-500/20 flex items-center justify-center",children:(0,t.jsx)(M,{className:"w-6 h-6 text-blue-400"})}),(0,t.jsx)("span",{className:"text-white text-lg",children:"à¹à¸à¹‰à¹„à¸‚à¸Šà¸·à¹ˆà¸­"})]}),(0,t.jsxs)("button",{onClick:()=>{tj.folderId&&tK(tj.folderId),ty({isOpen:!1,folderId:null,folderName:""})},className:"w-full flex items-center gap-4 px-5 py-4 rounded-2xl bg-white/5 hover:bg-red-500/20 transition-colors",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-red-500/20 flex items-center justify-center",children:(0,t.jsx)(b,{className:"w-6 h-6 text-red-400"})}),(0,t.jsx)("span",{className:"text-red-400 text-lg",children:"à¸¥à¸šà¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œ"})]})]}),(0,t.jsx)("div",{className:"p-4 pt-0",children:(0,t.jsx)("button",{onClick:()=>ty({isOpen:!1,folderId:null,folderName:""}),className:"w-full py-4 rounded-2xl bg-white/10 text-white font-medium text-lg hover:bg-white/20 transition-colors",children:"à¸¢à¸à¹€à¸¥à¸´à¸"})})]})}),eM&&(0,t.jsx)("div",{className:"fixed inset-0 z-50 bg-black/60 backdrop-blur-sm flex items-end justify-center",onClick:()=>eE(!1),children:(0,t.jsxs)("div",{className:"w-full max-w-lg bg-slate-900 rounded-t-3xl overflow-hidden animate-slide-up",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"p-5 border-b border-white/10",children:[(0,t.jsx)("div",{className:"w-12 h-1 bg-white/30 rounded-full mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-white text-center",children:"à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œà¹ƒà¸«à¸¡à¹ˆ"})]}),(0,t.jsxs)("div",{className:"p-5 space-y-4",children:[(0,t.jsx)("input",{type:"text",value:ez,onChange:e=>e$(e.target.value),placeholder:"à¸•à¸±à¹‰à¸‡à¸Šà¸·à¹ˆà¸­à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œà¹ƒà¸«à¸¡à¹ˆ",className:"w-full px-4 py-4 rounded-2xl bg-white/10 border border-white/20 text-white placeholder-purple-200/50 focus:outline-none focus:ring-2 focus:ring-purple-500 transition-all text-lg",autoFocus:!0}),(0,t.jsx)("button",{onClick:()=>{tY()},className:"w-full py-4 rounded-2xl bg-gradient-to-r from-green-500 to-emerald-600 text-white font-semibold text-lg hover:from-green-400 hover:to-emerald-500 shadow-lg shadow-green-500/30 hover:shadow-green-500/50 transition-all duration-200",children:"à¸ªà¸£à¹‰à¸²à¸‡"})]}),(0,t.jsx)("div",{className:"p-5 pt-0",children:(0,t.jsx)("button",{onClick:()=>eE(!1),className:"w-full py-4 rounded-2xl bg-white/10 text-white font-medium text-lg hover:bg-white/20 transition-colors",children:"à¸¢à¸à¹€à¸¥à¸´à¸"})})]})}),tN.isOpen&&(0,t.jsx)("div",{className:"fixed inset-0 z-50 bg-black/60 backdrop-blur-sm flex items-end md:items-center justify-center",onClick:()=>tk({isOpen:!1,fileId:null,fileName:"",fileIndex:-1}),children:(0,t.jsxs)("div",{className:"w-full max-w-lg bg-slate-900 rounded-t-3xl md:rounded-3xl overflow-hidden animate-slide-up",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"p-5 border-b border-white/10",children:[(0,t.jsx)("div",{className:"w-12 h-1 bg-white/30 rounded-full mx-auto mb-4 md:hidden"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-white text-center truncate px-4",children:tN.fileName})]}),(0,t.jsxs)("div",{className:"p-4 space-y-2",children:[(0,t.jsxs)("button",{onClick:()=>{tN.fileIndex>=0&&ae(tN.fileIndex),tk({isOpen:!1,fileId:null,fileName:"",fileIndex:-1})},className:"w-full flex items-center gap-4 px-5 py-4 rounded-2xl bg-white/5 hover:bg-white/10 transition-colors",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-purple-500/20 flex items-center justify-center",children:(0,t.jsx)(j.Eye,{className:"w-6 h-6 text-purple-400"})}),(0,t.jsx)("span",{className:"text-white text-lg",children:"à¸”à¸¹à¹„à¸Ÿà¸¥à¹Œ"})]}),(0,t.jsxs)("button",{onClick:()=>{tN.fileId&&au(tN.fileId),tk({isOpen:!1,fileId:null,fileName:"",fileIndex:-1})},className:"w-full flex items-center gap-4 px-5 py-4 rounded-2xl bg-white/5 hover:bg-white/10 transition-colors",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-blue-500/20 flex items-center justify-center",children:(0,t.jsx)(i.Download,{className:"w-6 h-6 text-blue-400"})}),(0,t.jsx)("span",{className:"text-white text-lg",children:"à¸”à¸²à¸§à¸™à¹Œà¹‚à¸«à¸¥à¸”"})]}),(0,t.jsxs)("button",{onClick:()=>{tN.fileId&&(tS(!0),et.includes(tN.fileId)||t9(tN.fileId)),tk({isOpen:!1,fileId:null,fileName:"",fileIndex:-1})},className:"w-full flex items-center gap-4 px-5 py-4 rounded-2xl bg-white/5 hover:bg-white/10 transition-colors",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-emerald-500/20 flex items-center justify-center",children:(0,t.jsx)(T.Check,{className:"w-6 h-6 text-emerald-400"})}),(0,t.jsx)("span",{className:"text-white text-lg",children:"à¹€à¸¥à¸·à¸­à¸"})]}),(0,t.jsxs)("button",{onClick:()=>{tN.fileId&&t8(tN.fileId),tk({isOpen:!1,fileId:null,fileName:"",fileIndex:-1})},className:"w-full flex items-center gap-4 px-5 py-4 rounded-2xl bg-white/5 hover:bg-red-500/20 transition-colors",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-red-500/20 flex items-center justify-center",children:(0,t.jsx)(b,{className:"w-6 h-6 text-red-400"})}),(0,t.jsx)("span",{className:"text-red-400 text-lg",children:"à¸¥à¸šà¹„à¸Ÿà¸¥à¹Œ"})]})]}),(0,t.jsx)("div",{className:"p-4 pt-0",children:(0,t.jsx)("button",{onClick:()=>tk({isOpen:!1,fileId:null,fileName:"",fileIndex:-1}),className:"w-full py-4 rounded-2xl bg-white/10 text-white font-medium text-lg hover:bg-white/20 transition-colors",children:"à¸¢à¸à¹€à¸¥à¸´à¸"})})]})})]}),(0,t.jsx)(el,{items:tO,onCancel:tU,onDismiss:tB,onClearAll:tR,position:"bottom-right"})]})]})}],551953)}]);