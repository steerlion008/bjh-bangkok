(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,684635,e=>{"use strict";var t,s,a,l,r,n,i,o,d,c,x,m,p,h,g,b,u,f,y,j,v=e.i(843476),w=e.i(271645),N=e.i(618566);(t=x||(x={})).CONNECTED="connected",t.AUTHORIZATION_EXPIRED="authorization_expired",t.NOT_AUTHORIZED="not_authorized",t.UNKNOWN="unknown";var _=x;class k extends Error{constructor(e,t,s){super(e),this.code=t,this.type=s}}(s=m||(m={})).GET="get",s.POST="post",s.DELETE="delete",(a=p||(p={})).UI="ui",a.API="api",a.LOGIN="login",a.LOGOUT="logout",a.GET_LOGIN_STATUS="getLoginStatus",a.GET_AUTH_RESPONSE="getAuthResponse";let S={domain:"connect.facebook.net",version:"v23.0",cookie:!1,status:!1,xfbml:!1,language:"en_US",frictionlessRequests:!1,debug:!1,chatSupport:!1,autoLogAppEvents:!0,lazy:!1};class T{constructor(e){if(!e.appId)throw Error("You need to set appId");this.options={...S,...e},this.options.lazy||this.init()}getAppId(){return this.options.appId}getFB(){return window.FB}async init(){return this.loadingPromise||(this.loadingPromise=new Promise(e=>{let{domain:t,language:s,debug:a,chatSupport:l,...r}=this.options;if(window.fbAsyncInit=()=>{window.FB.init({appId:r.appId,version:r.version,cookie:r.cookie,status:r.status,xfbml:r.xfbml,frictionlessRequests:r.frictionlessRequests}),e(this)},window.document.getElementById("facebook-jssdk"))return e(this);let n=window.document.createElement("script");n.id="facebook-jssdk",n.async=!0,n.defer=!0,n.crossOrigin="anonymous",n.src=`https://${t}/${s}/sdk${l?"/xfbml.customerchat":""}${a?"/debug":""}.js`,window.document.body.appendChild(n)})),this.loadingPromise}async process(e,t=[],s=[]){await this.init();let a=this.getFB();return new Promise((l,r)=>{a[e](...t,t=>{if(t)if(t&&"object"==typeof t&&"error"in t){let{code:e,type:s,message:a}=t.error;r(new k(a,e,s))}else l(t);else e!==p.UI&&r(Error("Response is undefined"))},...s)})}async ui(e){return this.process(p.UI,[e])}async api(e,t=m.GET,s={}){return this.process(p.API,[e,t,s])}async login(e){let{scope:t,authType:s=[],returnScopes:a,rerequest:l,reauthorize:r}=e,n={scope:t};return a&&(n.return_scopes=!0),l&&s.push("rerequest"),r&&s.push("reauthenticate"),s.length&&(n.auth_type=s.join(",")),this.process(p.LOGIN,[],[n])}async logout(){return this.process(p.LOGOUT)}async getLoginStatus(){return this.process(p.GET_LOGIN_STATUS)}async getAuthResponse(){return this.process(p.GET_AUTH_RESPONSE)}async getTokenDetail(e){if((null==e?void 0:e.status)===_.CONNECTED)return e.authResponse;let t=await this.getLoginStatus();if(t.status===_.CONNECTED)return t.authResponse;throw Error("Token is undefined")}async getProfile(e){return this.api("/me",m.GET,e)}async getTokenDetailWithProfile(e,t){let s=await this.getTokenDetail(t);return{profile:await this.getProfile(e),tokenDetail:s}}async getToken(){return(await this.getTokenDetail()).accessToken}async getUserId(){return(await this.getTokenDetail()).userID}async sendInvite(e,t){return this.ui({to:e,method:"apprequests",...t})}async postAction(e,t,s,a,l=!1){let r=`/me/${e}:${t}?${s}=${encodeURIComponent(a)}`;return!0===l&&(r+="&no_feed_story=true"),this.api(r,m.POST)}async getPermissions(){return(await this.api("/me/permissions")).data}async hasPermissions(e){let t=await this.getPermissions();return e.filter(e=>!!t.find(t=>{let{permission:s,status:a}=t;return"granted"===a&&s===e})).length===e.length}async subscribe(e,t){return await this.init(),this.getFB().Event.subscribe(e,t),()=>this.unsubscribe(e,t)}async unsubscribe(e,t){await this.init(),this.getFB().Event.unsubscribe(e,t)}async parse(e){await this.init(),void 0===e?this.getFB().XFBML.parse():this.getFB().XFBML.parse(e)}async getRequests(){return this.api("/me/apprequests")}async removeRequest(e){return this.api(e,m.DELETE)}async setAutoGrow(){await this.init(),this.getFB().Canvas.setAutoGrow()}async paySimple(e,t=1){return this.ui({method:"pay",action:"purchaseitem",product:e,quantity:t})}async pay(e,t){return this.ui({method:"pay",action:"purchaseitem",product:e,...t})}getLocale(){return this.options.language||"en_US"}async changeLocale(e){this.options.language=e;let t=window.document.getElementById("facebook-jssdk");t&&t.remove(),window.FB&&delete window.FB,this.loadingPromise=void 0,await this.init(),await this.parseAll()}async parseAll(){await this.init();let e=this.getFB();e&&e.XFBML&&e.XFBML.parse&&e.XFBML.parse()}}var I=(0,w.createContext)(void 0);let C={autoConfig:!0,debug:!1,advancedMatching:{}};class D{constructor(e){if(!e.pixelId)throw Error("You need to set pixelId");this.options={...C,...e},this.options.debug||(this.options.debug=!1)}warn(...e){this.options.debug&&console.warn("[react-facebook-pixel]",...e)}log(...e){this.options.debug&&console.info("[react-facebook-pixel]",...e)}loadPixelScript(){return new Promise(e=>{if(window.fbq)return void e();let t=document.createElement("script");t.async=!0,t.src="https://connect.facebook.net/en_US/fbevents.js",t.onload=()=>{window.fbq||(window.fbq=function(){window.fbq.callMethod?window.fbq.callMethod.apply(window.fbq,arguments):window.fbq.queue.push(arguments)}),window._fbq||(window._fbq=window.fbq),window.fbq.push=window.fbq,window.fbq.loaded=!0,window.fbq.version="2.0",window.fbq.queue=[],e()},t.onerror=()=>{this.warn("Failed to load Facebook Pixel script"),e()},document.head.appendChild(t)})}async init(){return this.loadingPromise||(this.loadingPromise=this.loadPixelScript().then(()=>{let{pixelId:e,autoConfig:t,advancedMatching:s}=this.options;return!1===t&&window.fbq("set","autoConfig",!1,e),window.fbq("init",e,s),this.log("Pixel initialized successfully"),this})),this.loadingPromise}async pageView(){await this.init(),window.fbq("track","PageView"),this.log("Called fbq('track', 'PageView')")}async track(e,t){await this.init(),window.fbq("track",e,t),this.log(`Called fbq('track', '${e}')`),t&&this.log("with data:",t)}async trackSingle(e,t,s){await this.init(),window.fbq("trackSingle",e,t,s),this.log(`Called fbq('trackSingle', '${e}', '${t}')`),s&&this.log("with data:",s)}async trackCustom(e,t){await this.init(),window.fbq("trackCustom",e,t),this.log(`Called fbq('trackCustom', '${e}')`),t&&this.log("with data:",t)}async trackSingleCustom(e,t,s){await this.init(),window.fbq("trackSingleCustom",e,t,s),this.log(`Called fbq('trackSingleCustom', '${e}', '${t}')`),s&&this.log("with data:",s)}async grantConsent(){await this.init(),window.fbq("consent","grant"),this.log("Called fbq('consent', 'grant')")}async revokeConsent(){await this.init(),window.fbq("consent","revoke"),this.log("Called fbq('consent', 'revoke')")}async fbq(...e){await this.init(),window.fbq(...e),this.log(`Called fbq('${e.slice(0,2).join("', '")}')`),e[2]&&this.log("with data:",e[2])}isInitialized(){return!!this.loadingPromise}getOptions(){return{...this.options}}}let E=(0,w.createContext)(void 0);function F(e){let{children:t,lazy:s=!1,...a}=e,[l,r]=(0,w.useState)(!0),[n,i]=(0,w.useState)(),o=(0,w.useRef)(),d=(0,w.useRef)();async function c(){return d.current||(d.current=(async()=>{try{if(o.current)return;r(!0),i(void 0),o.current=new D(a),await o.current.init()}catch(e){i(e)}finally{r(!1)}})()),d.current}async function x(){var e;await c(),await (null==(e=o.current)?void 0:e.pageView())}async function m(e,t){var s;await c(),await (null==(s=o.current)?void 0:s.track(e,t))}async function p(e,t){var s;await c(),await (null==(s=o.current)?void 0:s.trackCustom(e,t))}async function h(){var e;await c(),await (null==(e=o.current)?void 0:e.grantConsent())}async function g(){var e;await c(),await (null==(e=o.current)?void 0:e.revokeConsent())}async function b(...e){var t;await c(),await (null==(t=o.current)?void 0:t.fbq(...e))}(0,w.useEffect)(()=>{s||c()},[s]);let u={isLoading:l,error:n,init:c,pixel:o.current,pageView:x,track:m,trackCustom:p,grantConsent:h,revokeConsent:g,fbq:b};return w.default.createElement(E.Provider,{value:u},t)}function O(e){let{children:t,pixel:s,...a}=e,[l,r]=(0,w.useState)(!0),[n,i]=(0,w.useState)(!1),[o,d]=(0,w.useState)(),[c,x]=(0,w.useState)(a.language||"en_US"),m=(0,w.useRef)(),p=(0,w.useRef)();async function h(){return p.current||(p.current=(async()=>{try{if(m.current)return m.current;return i(!1),r(!0),m.current=new T(a),await m.current.init(),i(!0),m.current}catch(e){d(e)}finally{r(!1)}return m.current})()),p.current}async function g(e){let t=await h();t&&await t.parse(e)}async function b(e){if(!m.current)return void x(e);try{r(!0),d(void 0),await m.current.changeLocale(e),x(e)}catch(e){d(e)}finally{r(!1)}}(0,w.useEffect)(()=>{let{lazy:e}=a;e||h()},[a.lazy]),(0,w.useEffect)(()=>{let e=a.language||"en_US";e!==c&&b(e)},[a.language,c]);let u={isLoading:l,error:o,init:h,api:n?m.current:void 0,parse:g,locale:c,setLocale:b},f=w.default.createElement(I.Provider,{value:u},t);return s?w.default.createElement(F,{...s},f):f}var $=(0,w.memo)((0,w.forwardRef)(function(e,t){let{as:s="div",children:a,className:l,style:r,data:n}=e,{parse:i}=function(e={}){let{lazy:t=!1}=e,s=(0,w.useContext)(I);if(!s)throw Error("useFacebook must be used within a FacebookProvider");return(0,w.useEffect)(()=>{t||s.init()},[t,s.init]),s}(),[o,d]=(0,w.useState)(null),c=(0,w.useCallback)(e=>{d(e),t&&("function"==typeof t?t(e):t&&(t.current=e))},[t]),x=(0,w.useMemo)(()=>{let e=`fb-parser-${s}-${l}`;if(!n)return e;for(let t in n)void 0!==n[t]&&(e+=`-${t}:${n[t]||""}`);return e},[n,a,s,l]);return(0,w.useEffect)(()=>{o&&i(o)},[o,i,x]),w.default.createElement(s,{key:x,style:r,ref:c},w.default.createElement(s,{className:l,...n},a))}));let P=!!("undefined"!=typeof window&&window.document&&window.document.createElement);function A(){return P?window.location.href:"https://www.facebook.com"}(0,w.memo)((0,w.forwardRef)(function(e,t){let{className:s="",href:a=A(),layout:l,colorScheme:r,action:n,showFaces:i,share:o,width:d,size:c,kidDirectedSite:x,referral:m,lazy:p,...h}=e,g=(0,w.useMemo)(()=>({"data-ref":m,"data-href":a,"data-layout":l,"data-colorscheme":r,"data-action":n,"data-show-faces":i?"true":"false","data-share":o?"true":"false","data-width":null==d?void 0:d.toString(),"data-size":c,"data-lazy":p?"true":"false","data-kid-directed-site":x?"true":"false"}),[m,a,l,r,n,i,o,d,c,x,p]);return w.default.createElement($,{className:`fb-like ${s}`,data:g,...h,ref:t})})),(0,w.memo)((0,w.forwardRef)(function(e,t){let{className:s="",style:a,href:l=A(),tabs:r,hideCover:n,width:i,height:o,showFacepile:d,hideCTA:c,smallHeader:x,adaptContainerWidth:m,lazy:p,...h}=e,g=(0,w.useMemo)(()=>({"data-tabs":r,"data-hide-cover":n?"true":"false","data-show-facepile":d?"true":"false","data-hide-cta":c?"true":"false","data-href":l,"data-small-header":x?"true":"false","data-adapt-container-width":m?"true":"false","data-height":null==o?void 0:o.toString(),"data-width":null==i?void 0:i.toString(),"data-lazy":p?"true":"false"}),[l,r,n,i,o,d,c,x,m,p]);return w.default.createElement($,{className:`fb-page ${s}`,style:a,data:g,...h,ref:t})}));var M=(0,w.memo)((0,w.forwardRef)(function(e,t){let{className:s="",href:a,width:l,showText:r,lazy:n,...i}=e,o=(0,w.useMemo)(()=>({"data-href":a,"data-width":null==l?void 0:l.toString(),"data-lazy":n?"true":"false","data-show-text":r?"true":"false"}),[a,l,n,r]);return w.default.createElement($,{className:`fb-post ${s}`,data:o,...i,ref:t})}));if((0,w.memo)((0,w.forwardRef)(function(e,t){let{className:s="",href:a,width:l,showText:r,allowFullScreen:n,autoPlay:i,lazy:o,showCaptions:d,...c}=e,x=(0,w.useMemo)(()=>({"data-href":a,"data-width":null==l?void 0:l.toString(),"data-show-text":r?"true":"false","data-show-captions":d?"true":"false","data-autoplay":i?"true":"false","data-lazy":o?"true":"false","data-allowfullscreen":n?"true":"false"}),[a,l,r,d,i,o,n]);return w.default.createElement($,{className:`fb-video ${s}`,data:x,...c,ref:t})})),(0,w.memo)((0,w.forwardRef)(function(e,t){let{className:s="",colorScheme:a,href:l=A(),numPosts:r,orderBy:n,width:i,mobile:o,lazy:d,...c}=e,x=(0,w.useMemo)(()=>({"data-colorscheme":a,"data-numposts":null==r?void 0:r.toString(),"data-href":l,"data-order-by":n,"data-width":null==i?void 0:i.toString(),"data-skin":a,"data-mobile":o?"true":"false","data-lazy":d?"true":"false"}),[a,l,r,n,i,o,d]);return w.default.createElement($,{className:`fb-comments ${s}`,data:x,...c,ref:t})})),(0,w.memo)((0,w.forwardRef)(function(e,t){let{className:s="",href:a=A(),...l}=e,r=(0,w.useMemo)(()=>({"data-href":a}),[a]);return w.default.createElement($,{as:"span",className:`fb-comments-count ${s}`,data:r,...l,ref:t})})),(0,w.memo)((0,w.forwardRef)(function(e,t){let{className:s="",href:a=A(),lazy:l,layout:r,size:n,...i}=e,o=(0,w.useMemo)(()=>({"data-href":a,"data-lazy":l?"true":"false","data-size":n,"data-layout":r}),[a,l,n,r]);return w.default.createElement($,{className:`fb-share-button ${s}`,data:o,...i,ref:t})})),(l=h||(h={})).SMALL="small",l.LARGE="large",(r=g||(g={})).STANDARD="standard",r.BUTTON_COUNT="button_count",r.BUTTON="button",r.BOX_COUNT="box_count",(n=b||(b={})).LIGHT="light",n.DARK="dark",(i=u||(u={})).LIKE="like",i.RECOMMEND="recommend",(o=f||(f={})).SOCIAL="social",o.REVERSE_TIME="reverse_time",o.TIME="time",(d=y||(y={})).SMALL="small",d.MEDIUM="medium",d.STANDARD="standard",d.LARGE="large",d.XLARGE="xlarge",(c=j||(j={})).BLUE="blue",c.WHITE="white",window.fbAsyncInit=function(){window.FB&&window.FB.init({xfbml:!0,version:"v18.0"})},!document.getElementById("facebook-jssdk")){let e=document.createElement("script");e.id="facebook-jssdk",e.src="https://connect.facebook.net/th_TH/sdk.js",e.async=!0,e.defer=!0,e.crossOrigin="anonymous",document.head.appendChild(e)}if("undefined"!=typeof document){let e=document.createElement("style");e.textContent=`
    header, footer, nav.navbar, .layout-grid > :not(main) {
      display: none !important;
    }
    body {
      padding: 0 !important;
      margin: 0 !important;
      overflow-x: hidden !important;
    }
    main, .layout-grid {
      padding: 0 !important;
      margin: 0 !important;
    }
    /* Mobile Responsive Styles */
    @media (max-width: 640px) {
      .min-h-screen {
        min-height: 100vh !important;
      }
    }
    @media (max-width: 768px) {
      /* Make tables scrollable on mobile */
      .overflow-x-auto {
        overflow-x: auto !important;
        -webkit-overflow-scrolling: touch !important;
      }
    }
    .modal-overlay {
      backdrop-filter: blur(8px);
      animation: fadeIn 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    .video-modal-container {
      animation: slideUp 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    @keyframes slideUp {
      from { 
        opacity: 0;
        transform: translateY(30px) scale(0.95);
      }
      to { 
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }
    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }
    @keyframes shimmer {
      0% { background-position: -1000px 0; }
      100% { background-position: 1000px 0; }
    }
    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.8; }
    }
    @keyframes slideInFromLeft {
      from { 
        opacity: 0;
        transform: translateX(-30px);
      }
      to { 
        opacity: 1;
        transform: translateX(0);
      }
    }
    @keyframes slideInFromRight {
      from { 
        opacity: 0;
        transform: translateX(30px);
      }
      to { 
        opacity: 1;
        transform: translateX(0);
      }
    }
    .animate-slide-in-left {
      animation: slideInFromLeft 0.5s ease-out;
    }
    .animate-slide-in-right {
      animation: slideInFromRight 0.5s ease-out;
    }
    .glass-effect {
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
    }
    .gradient-border {
      position: relative;
      background: linear-gradient(white, white) padding-box,
                  linear-gradient(135deg, #667eea 0%, #764ba2 100%) border-box;
      border: 2px solid transparent;
    }
  `,document.head.appendChild(e)}function L(){var e;let t,s,a,l,r,n,i,o,d,c,x,m,p,h=(0,N.useRouter)(),[g,b]=(0,w.useState)([]),[u,f]=(0,w.useState)(!0),[y,j]=(0,w.useState)(null),[_,k]=(0,w.useState)("ads"),[S,T]=(0,w.useState)("today"),[I,C]=(0,w.useState)(""),[D,E]=(0,w.useState)(""),[F,$]=(0,w.useState)(!1),[P,A]=(0,w.useState)(1),[L,R]=(0,w.useState)(0),[q,B]=(0,w.useState)(!1),[U,z]=(0,w.useState)(0),[H,G]=(0,w.useState)(!1),[Y,X]=(0,w.useState)(0),[V,W]=(0,w.useState)(!1),[J,K]=(0,w.useState)({total:0,datesWithData:0}),[Z,Q]=(0,w.useState)(!1),[ee,et]=(0,w.useState)("facebook"),[es,ea]=(0,w.useState)(new Map),[el,er]=(0,w.useState)(!1),[en,ei]=(0,w.useState)(null),[eo,ed]=(0,w.useState)(!1),[ec,ex]=(0,w.useState)("leads"),[em,ep]=(0,w.useState)([]),[eh,eg]=(0,w.useState)(!1),[eb,eu]=(0,w.useState)({}),[ef,ey]=(0,w.useState)(!1),[ej,ev]=(0,w.useState)(new Map),[ew,eN]=(0,w.useState)(!1),[e_,ek]=(0,w.useState)(20),[eS,eT]=(0,w.useState)([]),[eI,eC]=(0,w.useState)(!1),[eD,eE]=(0,w.useState)(new Set(["MOF","BOF"])),[eF,eO]=(0,w.useState)("leads"),[e$,eP]=(0,w.useState)(20),[eA,eM]=(0,w.useState)(null),[eL,eR]=(0,w.useState)(!1),[eq,eB]=(0,w.useState)([]),[eU,ez]=(0,w.useState)(!1),[eH,eG]=(0,w.useState)(null),[eY,eX]=(0,w.useState)({totalSpend:0,totalImpressions:0,totalClicks:0,totalAds:0,avgCtr:0,avgCpc:0,avgCpm:0,total_messaging_first_reply:0,total_messaging_connection:0}),[eV,eW]=(0,w.useState)("spend"),[eJ,eK]=(0,w.useState)(20),[eZ,eQ]=(0,w.useState)(0),[e0,e2]=(0,w.useState)(!1),[e1,e3]=(0,w.useState)(0),[e4,e6]=(0,w.useState)("THB"),e5=(0,w.useCallback)(e=>g.filter(t=>t.adset_id===e),[g]),e7=(0,w.useCallback)(e=>{let t=g.filter(t=>t.adset_id===e),s=0;return t.forEach(e=>{s+=ej.get(e.ad_id)||0}),s},[g,ej]);(0,w.useEffect)(()=>{eo&&window.FB&&setTimeout(()=>{window.FB&&window.FB.XFBML.parse()},100)},[eo,en]);let e8=(0,w.useCallback)(async e=>{er(!0);try{let t=new Map;for(let s of e)try{let e=await fetch(`/api/facebook-ads-creative?ad_id=${s}`),a=await e.json();a.success&&a.data&&t.set(s,a.data)}catch(e){}ea(new Map(t))}catch(e){}finally{er(!1)}},[]),e9=(0,w.useCallback)(async e=>{try{let t;eN(!0);let s=e.join(","),a=new Date,l=a.toISOString().split("T")[0];if("custom"===S&&I&&D)t=I,l=D;else{let e;switch(S){case"today":default:t=l;break;case"yesterday":let s=new Date(a);s.setDate(s.getDate()-1),t=l=s.toISOString().split("T")[0];break;case"last_7d":(e=new Date(a)).setDate(e.getDate()-7),t=e.toISOString().split("T")[0];break;case"last_14d":(e=new Date(a)).setDate(e.getDate()-14),t=e.toISOString().split("T")[0];break;case"last_30d":(e=new Date(a)).setDate(e.getDate()-30),t=e.toISOString().split("T")[0];break;case"this_month":t=(e=new Date(a.getFullYear(),a.getMonth(),1)).toISOString().split("T")[0];break;case"last_month":e=new Date(a.getFullYear(),a.getMonth()-1,1);let r=new Date(a.getFullYear(),a.getMonth(),0);t=e.toISOString().split("T")[0],l=r.toISOString().split("T")[0]}}let r=await fetch(`/api/facebook-ads-phone-leads-sql?ad_ids=${s}&date_start=${t}&date_end=${l}`),n=await r.json();if(n.success&&n.data){let e=new Map;Object.keys(n.data).forEach(t=>{e.set(t,n.data[t])}),ev(new Map(e))}}catch(e){ev(new Map)}finally{eN(!1)}},[S,I,D]),te=(0,w.useCallback)(async(e=!1,t=0)=>{try{e||f(!0),j(null);let s="campaigns"===_?"campaign":"adsets"===_?"adset":"ad",a=`https://believable-ambition-production.up.railway.app/api/facebook-ads-campaigns?level=${s}`,l=JSON.stringify([{field:"action_type",operator:"IN",value:["onsite_conversion.messaging_first_reply","onsite_conversion.total_messaging_connection"]}]);if(a+=`&filtering=${encodeURIComponent(l)}&action_breakdowns=action_type`,"custom"===S&&I&&D){let e=JSON.stringify({since:I,until:D});a+=`&time_range=${encodeURIComponent(e)}`}else a+=`&date_preset=${S}`;let r=await fetch(a),n=await r.json();if(403===r.status&&n.error?.includes("Application request limit reached")){let s=Math.min(3e4*Math.pow(2,t),12e4);j(`‚è≥ API Rate Limit - ‡∏à‡∏∞‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÉ‡∏ô‡∏≠‡∏µ‡∏Å ${s/1e3} ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ... (‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà ${t+1})`),setTimeout(()=>{t<3?te(e,t+1):(j("‚ùå API Rate Limit - ‡πÄ‡∏Å‡∏¥‡∏ô‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á"),f(!1))},s);return}if(!r.ok||!n.success)throw Error(n.error||"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ");let i=new Map;n.data.forEach(e=>{let t=e.ad_id||e.adset_id||e.campaign_id;if(i.has(t)){let s=i.get(t);e.actions&&(s.actions||(s.actions=[]),e.actions.forEach(e=>{let t=s.actions.find(t=>t.action_type===e.action_type);t?t.value=String(parseInt(t.value||"0")+parseInt(e.value||"0")):s.actions.push({...e})})),e.conversions&&(s.conversions||(s.conversions=[]),e.conversions.forEach(e=>{let t=s.conversions.find(t=>t.action_type===e.action_type);t?t.value=String(parseInt(t.value||"0")+parseInt(e.value||"0")):s.conversions.push({...e})}))}else i.set(t,{...e})});let o=Array.from(i.values());b(o);let d=o.filter(e=>e.ad_id).map(e=>e.ad_id);d.length>0&&(e8(d),e9(d))}catch(e){j(e instanceof Error?e.message:"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î")}finally{e||f(!1)}},[S,_,I,D,e8,e9]),tt=(0,w.useCallback)(async()=>{try{B(!0);let e="https://believable-ambition-production.up.railway.app/api/google-sheets-data";if("custom"===S&&I&&D){let t=JSON.stringify({since:I,until:D});e+=`?time_range=${encodeURIComponent(t)}`}else e+=`?date_preset=${S}`;let t=await fetch(e),s=await t.json();t.ok&&s.success?R(s.total||0):R(0)}catch(e){R(0)}finally{B(!1)}},[S,I,D]),ts=(0,w.useCallback)(async()=>{try{G(!0);let e="https://believable-ambition-production.up.railway.app/api/google-ads";if("custom"===S&&I&&D)e+=`?startDate=${I}&endDate=${D}`;else{let t=new Date,s="",a=t.toISOString().split("T")[0];switch(S){case"today":default:s=a;break;case"yesterday":let l=new Date(t);l.setDate(l.getDate()-1),s=a=l.toISOString().split("T")[0];break;case"last_7d":let r=new Date(t);r.setDate(r.getDate()-7),s=r.toISOString().split("T")[0];break;case"last_30d":let n=new Date(t);n.setDate(n.getDate()-30),s=n.toISOString().split("T")[0];break;case"this_month":s=new Date(t.getFullYear(),t.getMonth(),1).toISOString().split("T")[0];break;case"last_month":let i=new Date(t.getFullYear(),t.getMonth()-1,1),o=new Date(t.getFullYear(),t.getMonth(),0);s=i.toISOString().split("T")[0],a=o.toISOString().split("T")[0]}e+=`?startDate=${s}&endDate=${a}`}let t=await fetch(e),s=await t.json();if(!t.ok||s.error)z(0);else{let e=s.summary?.totalClicks||0;z(e)}}catch(e){z(0)}finally{G(!1)}},[S,I,D]),ta=(0,w.useCallback)(async()=>{try{W(!0);let e=await fetch("/api/facebook-ads-balance"),t=await e.json();e.ok&&t.success?X(t.data.available_balance||0):X(0)}catch(e){X(0)}finally{W(!1)}},[]),tl=(0,w.useCallback)(async()=>{try{let e;Q(!0);let t=new Date,s=t.toISOString().split("T")[0];if("custom"===S&&I&&D)e=I,s=D;else{let a;switch(S){case"today":default:e=s;break;case"yesterday":let l=new Date(t);l.setDate(l.getDate()-1),e=s=l.toISOString().split("T")[0];break;case"last_7d":(a=new Date(t)).setDate(a.getDate()-7),e=a.toISOString().split("T")[0];break;case"last_14d":(a=new Date(t)).setDate(a.getDate()-14),e=a.toISOString().split("T")[0];break;case"last_30d":(a=new Date(t)).setDate(a.getDate()-30),e=a.toISOString().split("T")[0];break;case"this_month":e=(a=new Date(t.getFullYear(),t.getMonth(),1)).toISOString().split("T")[0];break;case"last_month":a=new Date(t.getFullYear(),t.getMonth()-1,1);let r=new Date(t.getFullYear(),t.getMonth(),0);e=a.toISOString().split("T")[0],s=r.toISOString().split("T")[0]}}let a=await fetch("/api/phone-count"),l=await a.json();if(a.ok&&l.success){let t=0,a=0;Object.keys(l.data||{}).forEach(r=>{r>=e&&r<=s&&(t+=l.data[r],a++)}),K({total:t,datesWithData:a})}else K({total:0,datesWithData:0})}catch(e){K({total:0,datesWithData:0})}finally{Q(!1)}},[S,I,D]),tr=(0,w.useCallback)(async()=>{try{ey(!0);let e=await fetch("/api/facebook-ads-phone-leads"),t=await e.json();t.success&&t.data?eu(t.data):eu({})}catch(e){eu({})}finally{ey(!1)}},[]),tn=(0,w.useCallback)(async()=>{try{eg(!0);let e=await fetch("https://believable-ambition-production.up.railway.app/api/facebook-ads-campaigns?level=ad&date_preset=last_30d&time_increment=1"),t=await e.json();e.ok&&t.success?(ep(t.data||[]),tr()):ep([])}catch(e){ep([])}finally{eg(!1)}},[tr]),ti=(0,w.useCallback)(async()=>{try{eC(!0);let e="https://believable-ambition-production.up.railway.app/api/facebook-ads-campaigns?level=adset";if("custom"===S&&I&&D){let t=JSON.stringify({since:I,until:D});e+=`&time_range=${encodeURIComponent(t)}`}else e+=`&date_preset=${S}`;let t=await fetch(e),s=await t.json();if(t.ok&&s.success){let e=new Map;s.data.forEach(t=>{let s=t.adset_id;if(e.has(s)){let a=e.get(s);t.actions&&(a.actions||(a.actions=[]),t.actions.forEach(e=>{let t=a.actions.find(t=>t.action_type===e.action_type);t?t.value=String(parseInt(t.value||"0")+parseInt(e.value||"0")):a.actions.push({...e})}))}else e.set(s,{...t})}),eT(Array.from(e.values()))}else eT([])}catch(e){eT([])}finally{eC(!1)}},[S,I,D]),to=(0,w.useCallback)(async()=>{try{ez(!0),eG(null);let e=new URLSearchParams;e.append("ad_account_id","act_869492750129928"),e.append("level","ad");let t=JSON.stringify([{field:"action_type",operator:"IN",value:["onsite_conversion.messaging_first_reply","onsite_conversion.total_messaging_connection"]}]);if(e.append("filtering",t),e.append("action_breakdowns","action_type"),"custom"===S&&I&&D){let t=JSON.stringify({since:I,until:D});e.append("time_range",t)}else e.append("date_preset",S);let s=await fetch(`https://believable-ambition-production.up.railway.app/api/facebook-ads-campaigns?${e.toString()}`),a=await s.json();s.ok&&a.success?(eB(a.data||[]),eX({totalSpend:a.summary?.total_spend||0,totalImpressions:a.summary?.total_impressions||0,totalClicks:a.summary?.total_clicks||0,totalAds:a.data?.length||0,avgCtr:a.summary?.total_impressions>0?a.summary?.total_clicks/a.summary?.total_impressions*100:0,avgCpc:a.summary?.total_clicks>0?a.summary?.total_spend/a.summary?.total_clicks:0,avgCpm:a.summary?.total_impressions>0?a.summary?.total_spend/a.summary?.total_impressions*1e3:0,total_messaging_first_reply:a.summary?.total_messaging_first_reply||0,total_messaging_connection:a.summary?.total_messaging_connection||0})):(eG(a.error||"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Page 2 ‡πÑ‡∏î‡πâ"),eB([]),eX({totalSpend:0,totalImpressions:0,totalClicks:0,totalAds:0,avgCtr:0,avgCpc:0,avgCpm:0,total_messaging_first_reply:0,total_messaging_connection:0}))}catch(e){eG(e instanceof Error?e.message:"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î"),eB([])}finally{ez(!1)}},[S,I,D]),td=(0,w.useCallback)(async()=>{try{e2(!0);let e=await fetch("/api/facebook-ads-balance-page2"),t=await e.json();e.ok&&t.success?(eQ(t.data.available_balance||t.data.balance||0),e3(t.data.amount_spent||0),e6(t.data.currency||"THB")):(eQ(0),e3(0))}catch(e){eQ(0),e3(0)}finally{e2(!1)}},[]);(0,w.useEffect)(()=>{(async()=>{try{await Promise.all([te(),tt(),ts(),ta(),tl(),tn(),ti(),to(),td()])}catch(e){j("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•"),f(!1)}})();let e=setInterval(()=>{Promise.all([te(!0),tt(),ts(),ta(),tl(),tn(),ti(),to(),td()])},12e4);return()=>{clearInterval(e)}},[te,tt,ts,ta,tl,tn,ti,to,td]),(0,w.useEffect)(()=>{},[es]);let tc=e=>{let t="string"==typeof e?parseFloat(e):e;return isNaN(t)?"‚Äî":t.toLocaleString("th-TH",{maximumFractionDigits:2})},tx=e=>{let t="string"==typeof e?parseFloat(e):e;return isNaN(t)?"‚Äî":`‡∏ø${t.toLocaleString("th-TH",{minimumFractionDigits:2,maximumFractionDigits:2})}`},tm=(e,t)=>{if(!e)return 0;let s=e.find(e=>e.action_type===t);return s?parseInt(s.value||"0"):0},tp=()=>{let e=0;return g.forEach(t=>{if(t.actions){let s=t.actions.find(e=>"onsite_conversion.messaging_first_reply"===e.action_type);if(s){let t=parseInt(s.value||"0");e+=t}}}),e},th=()=>{let e=0;return g.forEach(t=>{if(t.actions){let s=t.actions.find(e=>"onsite_conversion.total_messaging_connection"===e.action_type);if(s){let t=parseInt(s.value||"0");e+=t}}}),e},tg=e=>{if(T(e),"custom"===e){let e=new Date().toISOString().split("T")[0];I||C(e),D||E(e),$(!0)}else $(!1)},tb=(0,w.useCallback)(()=>g,[g,S]);return u?(0,v.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 flex items-center justify-center",children:(0,v.jsxs)("div",{className:"text-center",children:[(0,v.jsx)("div",{className:"inline-block animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600 mb-6"}),(0,v.jsx)("p",{className:"text-gray-700 text-xl font-semibold",children:"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•..."}),(0,v.jsx)("p",{className:"text-gray-500 text-sm mt-2",children:"‡πÇ‡∏õ‡∏£‡∏î‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà"})]})}):y?(0,v.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,v.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-2xl w-full",children:[(0,v.jsx)("div",{className:"text-red-500 text-5xl mb-4 text-center",children:"‚ö†Ô∏è"}),(0,v.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4 text-center",children:"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î"}),(0,v.jsx)("p",{className:"text-gray-600 mb-6 text-center",children:y}),(0,v.jsx)("div",{className:"flex gap-3",children:(0,v.jsx)("button",{onClick:()=>{j(null),f(!0),te(!1)},className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded transition-colors",children:"‡∏•‡∏≠‡∏á‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á"})})]})}):(0,v.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50",children:[(0,v.jsx)("div",{className:"bg-white border-b border-gray-200 px-3 sm:px-6 py-3",children:(0,v.jsxs)("button",{onClick:()=>h.push("/home"),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-lg transition-all shadow-md hover:shadow-lg font-medium text-sm",children:[(0,v.jsx)("span",{className:"text-lg",children:"‚Üê"}),(0,v.jsx)("span",{children:"‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å"})]})}),(0,v.jsx)("div",{className:"bg-white shadow-md border-b border-gray-200",children:(0,v.jsxs)("div",{className:"px-3 sm:px-6 py-3",children:[(0,v.jsxs)("div",{className:"hidden md:flex items-center space-x-2",children:[(0,v.jsx)("button",{className:"px-3 sm:px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium text-xs sm:text-sm",children:"üìä ‡∏ä‡πà‡∏≠‡∏á‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°"}),(0,v.jsx)("button",{onClick:()=>tg("today"),className:`px-3 sm:px-6 py-2 rounded-lg transition-colors font-medium text-xs sm:text-sm ${"today"===S?"bg-blue-500 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ"}),(0,v.jsx)("button",{onClick:()=>tg("yesterday"),className:`px-6 py-2 rounded-lg transition-colors font-medium text-sm ${"yesterday"===S?"bg-blue-500 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ß‡∏≤‡∏ô"}),(0,v.jsx)("button",{onClick:()=>tg("last_7d"),className:`px-6 py-2 rounded-lg transition-colors font-medium text-sm ${"last_7d"===S?"bg-blue-500 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"7 ‡∏ß‡∏±‡∏ô"}),(0,v.jsx)("button",{onClick:()=>tg("last_30d"),className:`px-6 py-2 rounded-lg transition-colors font-medium text-sm ${"last_30d"===S?"bg-blue-500 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"30 ‡∏ß‡∏±‡∏ô"}),(0,v.jsx)("button",{onClick:()=>tg("this_month"),className:`px-6 py-2 rounded-lg transition-colors font-medium text-sm ${"this_month"===S?"bg-blue-500 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ô‡∏µ‡πâ"}),(0,v.jsx)("button",{onClick:()=>tg("custom"),className:`px-6 py-2 rounded-lg transition-colors font-medium text-sm ${"custom"===S?"bg-blue-500 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"üóìÔ∏è ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏≠‡∏á"}),"custom"===S&&I&&D&&(0,v.jsxs)("span",{className:"text-xs text-gray-600 bg-blue-50 px-3 py-2 rounded-lg border border-blue-200 font-medium ml-2",children:[I," ‡∏ñ‡∏∂‡∏á ",D]}),(0,v.jsx)("div",{className:"flex-1"}),(0,v.jsxs)("div",{className:"flex items-center gap-2 border-l border-gray-300 pl-4 ml-2",children:[(0,v.jsx)("button",{onClick:()=>A(1),className:`px-4 py-2 rounded-lg transition-colors font-medium text-sm ${1===P?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Page 1"}),(0,v.jsx)("button",{onClick:()=>A(2),className:`px-4 py-2 rounded-lg transition-colors font-medium text-sm ${2===P?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Page 2"}),(0,v.jsx)("button",{onClick:()=>A(3),className:`px-4 py-2 rounded-lg transition-colors font-medium text-sm ${3===P?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Page 3"}),(0,v.jsx)("button",{onClick:()=>A(4),className:`px-4 py-2 rounded-lg transition-colors font-medium text-sm ${4===P?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Page 4"})]})]}),(0,v.jsxs)("div",{className:"md:hidden space-y-3",children:[(0,v.jsxs)("div",{className:"flex items-center gap-2",children:[(0,v.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:"üìÖ"}),(0,v.jsxs)("select",{value:S,onChange:e=>tg(e.target.value),className:"flex-1 px-4 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-700 font-medium text-sm",children:[(0,v.jsx)("option",{value:"today",children:"‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ"}),(0,v.jsx)("option",{value:"yesterday",children:"‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ß‡∏≤‡∏ô"}),(0,v.jsx)("option",{value:"last_7d",children:"7 ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏°‡∏≤"}),(0,v.jsx)("option",{value:"last_14d",children:"14 ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏°‡∏≤"}),(0,v.jsx)("option",{value:"last_30d",children:"30 ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏°‡∏≤"}),(0,v.jsx)("option",{value:"this_month",children:"‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ô‡∏µ‡πâ"}),(0,v.jsx)("option",{value:"custom",children:"üóìÔ∏è ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏≠‡∏á‡πÄ‡∏≠‡∏á"})]})]}),"custom"===S&&I&&D&&(0,v.jsxs)("div",{className:"text-xs text-gray-600 bg-blue-50 px-3 py-2 rounded-lg border border-blue-200 font-medium",children:[I," ‡∏ñ‡∏∂‡∏á ",D]}),(0,v.jsxs)("div",{className:"flex items-center gap-2",children:[(0,v.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:"üìÑ"}),(0,v.jsxs)("select",{value:P,onChange:e=>A(Number(e.target.value)),className:"flex-1 px-4 py-2 border-2 border-purple-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white text-gray-700 font-medium text-sm",children:[(0,v.jsx)("option",{value:1,children:"Page 1"}),(0,v.jsx)("option",{value:2,children:"Page 2"}),(0,v.jsx)("option",{value:3,children:"Page 3"}),(0,v.jsx)("option",{value:4,children:"Page 4"})]})]})]})]})}),F&&(0,v.jsx)("div",{className:"modal-overlay fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:e=>{e.target===e.currentTarget&&$(!1)},children:(0,v.jsxs)("div",{className:"date-picker-container bg-white rounded-2xl shadow-2xl p-8 max-w-3xl w-full",onClick:e=>e.stopPropagation(),children:[(0,v.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,v.jsx)("h3",{className:"text-2xl font-bold text-gray-800",children:"‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡πà‡∏ß‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà"}),(0,v.jsx)("button",{onClick:()=>$(!1),className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full p-2 transition-all text-2xl w-10 h-10 flex items-center justify-center",children:"‚úï"})]}),(0,v.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{className:"block text-base font-bold text-gray-700 mb-4",children:"üìÖ ‡∏à‡∏≤‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà"}),(0,v.jsx)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-xl border-2 border-blue-300 shadow-md",children:(0,v.jsx)("input",{type:"date",value:I||new Date().toISOString().split("T")[0],onChange:e=>C(e.target.value),className:"w-full px-5 py-4 border-2 border-gray-300 rounded-xl text-lg font-medium focus:outline-none focus:ring-4 focus:ring-blue-300 focus:border-blue-500"})})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{className:"block text-base font-bold text-gray-700 mb-4",children:"üìÖ ‡∏ñ‡∏∂‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà"}),(0,v.jsx)("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 p-6 rounded-xl border-2 border-orange-300 shadow-md",children:(0,v.jsx)("input",{type:"date",value:D||new Date().toISOString().split("T")[0],onChange:e=>E(e.target.value),className:"w-full px-5 py-4 border-2 border-gray-300 rounded-xl text-lg font-medium focus:outline-none focus:ring-4 focus:ring-orange-300 focus:border-orange-500"})})]})]}),(0,v.jsxs)("div",{className:"flex space-x-4 justify-end",children:[(0,v.jsx)("button",{onClick:()=>$(!1),className:"px-10 py-4 text-base border-2 border-gray-300 rounded-xl hover:bg-gray-100 transition-colors font-semibold text-gray-700",children:"‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å"}),(0,v.jsx)("button",{onClick:()=>{I&&D&&($(!1),setTimeout(()=>{T("custom")},0))},className:"px-10 py-4 text-base bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all font-semibold",children:"‚úì ‡∏ï‡∏Å‡∏•‡∏á"})]})]})}),eo&&en&&(0,v.jsx)("div",{className:"modal-overlay fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",style:{position:"fixed",top:0,left:0,right:0,bottom:0,width:"100vw",height:"100vh",margin:0,padding:"1rem"},onClick:e=>{e.target===e.currentTarget&&(ed(!1),ei(null))},children:(0,v.jsxs)("div",{className:"video-modal-container bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[(0,v.jsxs)("div",{className:"sticky top-0 bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 px-6 py-4 flex items-center justify-between z-10 rounded-t-2xl",children:[(0,v.jsxs)("div",{className:"flex-1",children:[(0,v.jsxs)("h3",{className:"text-xl font-bold text-white truncate",children:["üéØ ",en.ad_name]}),(0,v.jsxs)("div",{className:"flex flex-col sm:flex-row sm:gap-4 mt-1",children:[(0,v.jsxs)("p",{className:"text-sm text-white/80",children:["üìÅ Campaign: ",en.campaign_name]}),(0,v.jsxs)("p",{className:"text-sm text-white/80",children:["üìÇ Ad Set: ",en.adset_name||"‚Äî"]})]})]}),(0,v.jsx)("button",{onClick:()=>{ed(!1),ei(null)},className:"text-white hover:text-gray-200 hover:bg-white/20 rounded-full p-2 transition-all text-2xl w-10 h-10 flex items-center justify-center ml-4",children:"‚úï"})]}),(0,v.jsxs)("div",{className:"p-6",children:[(0,v.jsx)("div",{className:"mb-6",children:(()=>{let e=es.get(en.ad_id),t=e?.effective_object_story_id,s=e?.object_story_spec?.video_data?.video_id||e?.video_id,a=e?.thumbnail_url||e?.object_story_spec?.video_data?.image_url||e?.image_url;if(t){let e=`https://www.facebook.com/${t.replace("_","/posts/")}`;return(0,v.jsxs)("div",{className:"space-y-4",children:[(0,v.jsx)("div",{className:"bg-white rounded-xl overflow-hidden shadow-lg",children:(0,v.jsx)(O,{appId:"1086145253509335",children:(0,v.jsx)(M,{href:e,width:"100%",showText:!0})})}),(0,v.jsx)("div",{className:"flex justify-center",children:(0,v.jsxs)("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 px-8 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-medium shadow-lg",children:[(0,v.jsx)("span",{children:"üì±"}),(0,v.jsx)("span",{children:"‡πÄ‡∏õ‡∏¥‡∏î‡∏î‡∏π‡πÇ‡∏û‡∏™‡∏ï‡πå‡πÄ‡∏ï‡πá‡∏°‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡πÉ‡∏ô Facebook"})]})})]})}let l=s?`/images/video/${s}.mp4`:null,r=e?.video_source;return s?(0,v.jsxs)("div",{className:"space-y-4",children:[(0,v.jsx)("div",{className:"rounded-xl overflow-hidden bg-black shadow-lg",children:(0,v.jsxs)("video",{controls:!0,autoPlay:!0,className:"w-full h-auto max-h-[60vh]",poster:a,onError:e=>{console.log("‚ùå [Video Error] Local video not found, trying Facebook source");let t=e.target;if(r&&t.src!==r)t.src=r;else{t.style.display="none";let e=t.parentElement;e&&a&&(e.innerHTML=`
                                    <div class="relative">
                                      <img src="${a}" alt="Video thumbnail" class="w-full h-auto" />
                                      <div class="absolute inset-0 flex items-center justify-center bg-black bg-opacity-40">
                                        <span class="text-white text-4xl">‚ö†Ô∏è ‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏•‡πà‡∏ô‡πÑ‡∏î‡πâ</span>
                                      </div>
                                    </div>
                                  `)}},children:[(0,v.jsx)("source",{src:l||r||"",type:"video/mp4"}),"‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠"]})}),(0,v.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,v.jsxs)("a",{href:`https://www.facebook.com/reel/${s}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-medium shadow-lg text-sm sm:text-base",children:[(0,v.jsx)("span",{children:"üé¨"}),(0,v.jsx)("span",{children:"‡∏î‡∏π‡πÄ‡∏õ‡πá‡∏ô Reel"})]}),(0,v.jsxs)("a",{href:`https://www.facebook.com/watch/?v=${s}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 px-6 py-3 bg-gray-700 hover:bg-gray-800 text-white rounded-lg transition-colors font-medium shadow-lg text-sm sm:text-base",children:[(0,v.jsx)("span",{children:"‚ñ∂Ô∏è"}),(0,v.jsx)("span",{children:"‡∏î‡∏π‡πÄ‡∏õ‡πá‡∏ô Video"})]})]})]}):a?(0,v.jsx)("div",{className:"rounded-xl overflow-hidden bg-gray-100 shadow-lg",children:(0,v.jsx)("img",{src:a,alt:en.ad_name,className:"w-full h-auto",onError:e=>{e.target.style.display="none"}})}):(0,v.jsx)("div",{className:"aspect-video bg-gray-200 rounded-xl flex items-center justify-center",children:(0,v.jsxs)("div",{className:"text-center",children:[(0,v.jsx)("span",{className:"text-6xl mb-4 block",children:"üé¨"}),(0,v.jsx)("p",{className:"text-gray-600",children:"‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û"})]})})})()}),(0,v.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[(0,v.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,v.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"üí∞ Spent"}),(0,v.jsx)("div",{className:"text-xl font-bold text-blue-700",children:tx(en.spend)})]}),(0,v.jsxs)("div",{className:"bg-green-50 rounded-lg p-4",children:[(0,v.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"üí¨ New Inbox"}),(0,v.jsx)("div",{className:"text-xl font-bold text-green-700",children:tm(en.actions,"onsite_conversion.messaging_first_reply")})]}),(0,v.jsxs)("div",{className:"bg-teal-50 rounded-lg p-4",children:[(0,v.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"üì® Total Inbox"}),(0,v.jsx)("div",{className:"text-xl font-bold text-teal-700",children:tm(en.actions,"onsite_conversion.total_messaging_connection")})]}),(0,v.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4",children:[(0,v.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"üìû ‡∏ä‡∏∑‡πà‡∏≠ - ‡πÄ‡∏ö‡∏≠‡∏£‡πå"}),(0,v.jsx)("div",{className:"text-xl font-bold text-purple-700",children:ej.get(en.ad_id)||0})]})]}),(0,v.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[(0,v.jsxs)("div",{className:"bg-orange-50 rounded-lg p-4 text-center",children:[(0,v.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"üìä CTR"}),(0,v.jsx)("div",{className:"text-2xl font-bold text-orange-700",children:isNaN(t="string"==typeof(e=en.ctr)?parseFloat(e):e)?"‚Äî":`${t.toLocaleString("th-TH",{minimumFractionDigits:2,maximumFractionDigits:2})}%`}),(0,v.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Click-Through Rate"})]}),(0,v.jsxs)("div",{className:"bg-pink-50 rounded-lg p-4 text-center",children:[(0,v.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"üíµ CPM"}),(0,v.jsx)("div",{className:"text-2xl font-bold text-pink-700",children:tx(en.cpm)}),(0,v.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Cost per 1,000 Impressions"})]}),(0,v.jsxs)("div",{className:"bg-indigo-50 rounded-lg p-4 text-center",children:[(0,v.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"üñ±Ô∏è CPC"}),(0,v.jsx)("div",{className:"text-2xl font-bold text-indigo-700",children:tx(en.cpc)}),(0,v.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Cost per Click"})]})]}),(0,v.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,v.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,v.jsx)("h4",{className:"font-semibold text-gray-800 mb-3",children:"üìà Performance Details"}),(0,v.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,v.jsxs)("div",{className:"flex justify-between",children:[(0,v.jsx)("span",{className:"text-gray-600",children:"Impressions:"}),(0,v.jsx)("span",{className:"font-medium",children:tc(en.impressions)})]}),(0,v.jsxs)("div",{className:"flex justify-between",children:[(0,v.jsx)("span",{className:"text-gray-600",children:"Clicks:"}),(0,v.jsx)("span",{className:"font-medium",children:tc(en.clicks)})]}),en.reach&&(0,v.jsxs)("div",{className:"flex justify-between",children:[(0,v.jsx)("span",{className:"text-gray-600",children:"Reach:"}),(0,v.jsx)("span",{className:"font-medium",children:tc(en.reach)})]}),(0,v.jsxs)("div",{className:"flex justify-between",children:[(0,v.jsx)("span",{className:"text-gray-600",children:"ThruPlay:"}),(0,v.jsx)("span",{className:"font-medium",children:(s=en.actions?.find(e=>"video_view"===e.action_type))?tc(s.value):"‚Äî"})]}),(0,v.jsxs)("div",{className:"flex justify-between",children:[(0,v.jsx)("span",{className:"text-gray-600",children:"Cost per Inbox:"}),(0,v.jsx)("span",{className:"font-medium",children:(a=en.cost_per_action_type?.find(e=>"onsite_conversion.total_messaging_connection"===e.action_type))?tx(a.value):"‚Äî"})]})]})]}),(0,v.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,v.jsx)("h4",{className:"font-semibold text-gray-800 mb-3",children:"üìã Campaign & Ad Set Info"}),(0,v.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,v.jsxs)("div",{className:"flex justify-between",children:[(0,v.jsx)("span",{className:"text-gray-600",children:"Campaign:"}),(0,v.jsx)("span",{className:"font-medium text-right max-w-[180px] truncate",title:en.campaign_name,children:en.campaign_name})]}),(0,v.jsxs)("div",{className:"flex justify-between",children:[(0,v.jsx)("span",{className:"text-gray-600",children:"Ad Set:"}),(0,v.jsx)("span",{className:"font-medium text-right max-w-[180px] truncate",title:en.adset_name,children:en.adset_name||"‚Äî"})]}),(0,v.jsxs)("div",{className:"flex justify-between",children:[(0,v.jsx)("span",{className:"text-gray-600",children:"Ad ID:"}),(0,v.jsx)("span",{className:"font-medium text-xs",children:en.ad_id})]}),(0,v.jsxs)("div",{className:"flex justify-between",children:[(0,v.jsx)("span",{className:"text-gray-600",children:"Date Range:"}),(0,v.jsx)("span",{className:"font-medium",children:en.date_start})]})]})]})]})]})]})}),eL&&eA&&(0,v.jsx)("div",{className:"modal-overlay fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",style:{position:"fixed",top:0,left:0,right:0,bottom:0,width:"100vw",height:"100vh",margin:0,padding:"1rem"},onClick:e=>{e.target===e.currentTarget&&(eR(!1),eM(null))},children:(0,v.jsxs)("div",{className:"video-modal-container bg-white rounded-2xl shadow-2xl max-w-5xl w-full max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[(0,v.jsxs)("div",{className:"sticky top-0 bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 px-6 py-4 flex items-center justify-between z-10 rounded-t-2xl",children:[(0,v.jsxs)("div",{className:"flex-1",children:[(0,v.jsxs)("h3",{className:"text-xl font-bold text-white truncate",children:["üìä ",eA.adset_name]}),(0,v.jsxs)("p",{className:"text-sm text-white/80 mt-1",children:["Campaign: ",eA.campaign_name]})]}),(0,v.jsx)("button",{onClick:()=>{eR(!1),eM(null)},className:"text-white hover:text-gray-200 hover:bg-white/20 rounded-full p-2 transition-all text-2xl w-10 h-10 flex items-center justify-center ml-4",children:"‚úï"})]}),(0,v.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,v.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[(0,v.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,v.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß"}),(0,v.jsx)("div",{className:"text-xl font-bold text-blue-700",children:tx(eA.spend)})]}),(0,v.jsxs)("div",{className:"bg-green-50 rounded-lg p-4",children:[(0,v.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"New Inbox"}),(0,v.jsx)("div",{className:"text-xl font-bold text-green-700",children:tm(eA.actions,"onsite_conversion.messaging_first_reply")})]}),(0,v.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4",children:[(0,v.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"Total Inbox"}),(0,v.jsx)("div",{className:"text-xl font-bold text-purple-700",children:tm(eA.actions,"onsite_conversion.total_messaging_connection")})]}),(0,v.jsxs)("div",{className:"bg-cyan-50 rounded-lg p-4",children:[(0,v.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"ThruPlay"}),(0,v.jsx)("div",{className:"text-xl font-bold text-cyan-700",children:(l=eA.actions?.find(e=>"video_view"===e.action_type))?tc(l.value):"‚Äî"})]}),(0,v.jsxs)("div",{className:"bg-orange-50 rounded-lg p-4",children:[(0,v.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô/Inbox"}),(0,v.jsx)("div",{className:"text-xl font-bold text-orange-700",children:(r=parseFloat(eA.spend||"0"),(n=tm(eA.actions,"onsite_conversion.total_messaging_connection"))>0?tx(r/n):"‚Äî")})]})]})}),(0,v.jsxs)("div",{className:"p-6",children:[(0,v.jsxs)("h4",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2",children:["üéØ Ads ‡πÉ‡∏ô Ad Set ‡∏ô‡∏µ‡πâ",(0,v.jsxs)("span",{className:"bg-purple-100 text-purple-700 text-sm px-2 py-1 rounded-full",children:[e5(eA.adset_id).length," ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£"]})]}),0===e5(eA.adset_id).length?(0,v.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,v.jsx)("div",{className:"text-4xl mb-2",children:"üí≠"}),(0,v.jsx)("p",{children:"‡πÑ‡∏°‡πà‡∏û‡∏ö Ads ‡πÉ‡∏ô Ad Set ‡∏ô‡∏µ‡πâ"})]}):(0,v.jsx)("div",{className:"overflow-x-auto",children:(0,v.jsxs)("table",{className:"w-full",children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{className:"border-b-2 border-gray-200 bg-gray-50",children:[(0,v.jsx)("th",{className:"text-center py-3 px-2 font-semibold text-gray-700 text-sm",children:"#"}),(0,v.jsx)("th",{className:"text-left py-3 px-2 font-semibold text-gray-700 text-sm",children:"‡∏£‡∏π‡∏õ"}),(0,v.jsx)("th",{className:"text-left py-3 px-2 font-semibold text-gray-700 text-sm",children:"‡∏ä‡∏∑‡πà‡∏≠ Ad"}),(0,v.jsx)("th",{className:"text-center py-3 px-2 font-semibold text-gray-700 text-sm",children:"‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß"}),(0,v.jsx)("th",{className:"text-center py-3 px-2 font-semibold text-gray-700 text-sm",children:"New Inbox"}),(0,v.jsx)("th",{className:"text-center py-3 px-2 font-semibold text-gray-700 text-sm",children:"Total Inbox"}),(0,v.jsx)("th",{className:"text-center py-3 px-2 font-semibold text-gray-700 text-sm",children:"‡∏ä‡∏∑‡πà‡∏≠-‡πÄ‡∏ö‡∏≠‡∏£‡πå"}),(0,v.jsx)("th",{className:"text-center py-3 px-2 font-semibold text-gray-700 text-sm",children:"ThruPlay"}),(0,v.jsx)("th",{className:"text-center py-3 px-2 font-semibold text-gray-700 text-sm",children:"‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô/Inbox"})]})}),(0,v.jsx)("tbody",{children:e5(eA.adset_id).sort((e,t)=>{let s=tm(e.actions,"onsite_conversion.total_messaging_connection");return tm(t.actions,"onsite_conversion.total_messaging_connection")-s}).map((e,t)=>{let s,a=es.get(e.ad_id),l=a?.thumbnail_url||a?.image_url||a?.object_story_spec?.video_data?.image_url,r=parseFloat(e.spend||"0"),n=tm(e.actions,"onsite_conversion.total_messaging_connection"),i=n>0?r/n:0,o=ej.get(e.ad_id)||0;return(0,v.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>{ei(e),ed(!0)},children:[(0,v.jsx)("td",{className:"py-3 px-2 text-center text-gray-600 font-medium",children:t+1}),(0,v.jsx)("td",{className:"py-3 px-2",children:l?(0,v.jsx)("img",{src:l,alt:"Ad thumbnail",className:"w-12 h-12 object-cover rounded-lg shadow-sm"}):(0,v.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center text-gray-400",children:"üñºÔ∏è"})}),(0,v.jsx)("td",{className:"py-3 px-2",children:(0,v.jsx)("div",{className:"text-gray-700 font-medium text-sm max-w-[200px] truncate",title:e.ad_name,children:e.ad_name||"‚Äî"})}),(0,v.jsx)("td",{className:"py-3 px-2 text-center text-gray-700 font-semibold",children:tx(e.spend)}),(0,v.jsx)("td",{className:"py-3 px-2 text-center font-semibold text-green-600",children:tm(e.actions,"onsite_conversion.messaging_first_reply")}),(0,v.jsx)("td",{className:"py-3 px-2 text-center font-semibold text-blue-600",children:tm(e.actions,"onsite_conversion.total_messaging_connection")}),(0,v.jsx)("td",{className:"py-3 px-2 text-center font-semibold text-purple-600",children:o}),(0,v.jsx)("td",{className:"py-3 px-2 text-center font-semibold text-cyan-600",children:(s=e.actions?.find(e=>"video_view"===e.action_type))?tc(s.value):"‚Äî"}),(0,v.jsx)("td",{className:"py-3 px-2 text-center text-gray-700",children:i>0?tx(i):"‚Äî"})]},e.ad_id)})})]})})]})]})}),(0,v.jsxs)("div",{className:"px-3 sm:px-6 py-3 sm:py-6",children:[1===P&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4",children:[(0,v.jsxs)("div",{className:"flex flex-col",children:[(0,v.jsx)("div",{className:"bg-gradient-to-br from-blue-500 via-blue-600 to-blue-700 rounded-2xl sm:rounded-3xl p-4 sm:p-8 text-white shadow-2xl",children:(0,v.jsxs)("div",{className:"grid grid-cols-2 gap-2 sm:gap-4",children:[(0,v.jsxs)("div",{className:"text-center",children:[(0,v.jsx)("div",{className:"text-xs sm:text-base font-semibold opacity-90 mb-1 sm:mb-2",children:"üíµ ‡πÄ‡∏á‡∏¥‡∏ô‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠"}),(0,v.jsx)("div",{className:"text-xl sm:text-3xl font-bold",children:V?(0,v.jsx)("span",{className:"text-2xl",children:"‚è≥"}):`‡∏ø${Y.toLocaleString("th-TH",{minimumFractionDigits:2,maximumFractionDigits:2})}`})]}),(0,v.jsxs)("div",{className:"text-center",children:[(0,v.jsx)("div",{className:"text-xs sm:text-base font-semibold opacity-90 mb-1 sm:mb-2",children:"üí∞ ‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏£‡∏ß‡∏°"}),(0,v.jsx)("div",{className:"text-xl sm:text-3xl font-bold",children:tx(g.reduce((e,t)=>e+parseFloat(t.spend||"0"),0))})]})]})}),(0,v.jsx)("div",{className:"bg-white rounded-b-2xl sm:rounded-b-3xl shadow-2xl overflow-hidden border border-gray-100 border-t-0 flex-1 mt-0",children:(0,v.jsx)("div",{className:"overflow-y-auto max-h-[120px]",children:(0,v.jsxs)("table",{className:"w-full min-w-max text-xs",children:[(0,v.jsx)("thead",{className:"bg-blue-50 sticky top-0",children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà"}),(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß"})]})}),(0,v.jsx)("tbody",{children:eh?(0,v.jsx)("tr",{children:(0,v.jsx)("td",{colSpan:2,className:"px-2 py-4 text-center text-xs",children:"‚è≥"})}):(i=new Map,em.forEach(e=>{let t=e.date_start,s=i.get(t)||{spend:0};s.spend+=parseFloat(e.spend||"0"),i.set(t,s)}),Array.from(i.keys()).sort((e,t)=>new Date(t).getTime()-new Date(e).getTime()).slice(1,31).map(e=>{let t=i.get(e);return(0,v.jsxs)("tr",{className:"hover:bg-blue-50 border-b",children:[(0,v.jsx)("td",{className:"px-2 py-2 text-center text-xs text-gray-900",children:new Date(e).toLocaleDateString("th-TH",{month:"short",day:"numeric"})}),(0,v.jsx)("td",{className:"px-2 py-2 text-center text-xs font-semibold text-blue-600",children:tx(t.spend)})]},e)}))})]})})})]}),(0,v.jsxs)("div",{className:"flex flex-col",children:[(0,v.jsx)("div",{className:"bg-gradient-to-br from-teal-500 via-teal-600 to-cyan-600 rounded-2xl sm:rounded-3xl p-4 sm:p-8 text-white shadow-2xl",children:(0,v.jsxs)("div",{className:"grid grid-cols-2 gap-2 sm:gap-4",children:[(0,v.jsxs)("div",{className:"text-center",children:[(0,v.jsx)("div",{className:"text-xs sm:text-base font-semibold opacity-90 mb-1 sm:mb-3",children:"New Inbox"}),(0,v.jsx)("div",{className:"text-xl sm:text-4xl font-bold",children:tp()})]}),(0,v.jsxs)("div",{className:"text-center",children:[(0,v.jsx)("div",{className:"text-xs sm:text-base font-semibold opacity-90 mb-1 sm:mb-3",children:"Total Inbox"}),(0,v.jsx)("div",{className:"text-xl sm:text-4xl font-bold",children:th()})]})]})}),(0,v.jsx)("div",{className:"bg-white rounded-b-2xl sm:rounded-b-3xl shadow-2xl overflow-hidden border border-gray-100 border-t-0 flex-1 mt-0",children:(0,v.jsx)("div",{className:"overflow-y-auto max-h-[120px]",children:(0,v.jsxs)("table",{className:"w-full min-w-max text-xs",children:[(0,v.jsx)("thead",{className:"bg-teal-50 sticky top-0",children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà"}),(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"New Inbox"}),(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"Total Inbox"})]})}),(0,v.jsx)("tbody",{children:eh?(0,v.jsx)("tr",{children:(0,v.jsx)("td",{colSpan:3,className:"px-2 py-4 text-center text-xs",children:"‚è≥"})}):(o=new Map,em.forEach(e=>{let t=e.date_start,s=o.get(t)||{newInbox:0,totalInbox:0};s.newInbox+=tm(e.actions,"onsite_conversion.messaging_first_reply"),s.totalInbox+=tm(e.actions,"onsite_conversion.total_messaging_connection"),o.set(t,s)}),Array.from(o.keys()).sort((e,t)=>new Date(t).getTime()-new Date(e).getTime()).slice(1,31).map(e=>{let t=o.get(e);return(0,v.jsxs)("tr",{className:"hover:bg-teal-50 border-b",children:[(0,v.jsx)("td",{className:"px-2 py-2 text-center text-xs text-gray-900",children:new Date(e).toLocaleDateString("th-TH",{month:"short",day:"numeric"})}),(0,v.jsx)("td",{className:"px-2 py-2 text-center text-xs font-semibold text-green-600",children:t.newInbox}),(0,v.jsx)("td",{className:"px-2 py-2 text-center text-xs font-semibold text-teal-600",children:t.totalInbox})]},e)}))})]})})})]}),(0,v.jsxs)("div",{className:"flex flex-col",children:[(0,v.jsxs)("div",{className:"bg-gradient-to-br from-purple-500 via-purple-600 to-indigo-600 rounded-2xl sm:rounded-3xl p-4 sm:p-8 text-white shadow-2xl text-center",children:[(0,v.jsx)("div",{className:"text-base sm:text-xl font-semibold mb-2 sm:mb-3 opacity-90",children:"üìû ‡∏ä‡∏∑‡πà‡∏≠ - ‡πÄ‡∏ö‡∏≠‡∏£‡πå"}),(0,v.jsx)("div",{className:"text-2xl sm:text-4xl font-bold",children:Z?(0,v.jsx)("span",{className:"text-3xl",children:"‚è≥"}):(0,v.jsx)("div",{children:J.total.toLocaleString()})})]}),(0,v.jsx)("div",{className:"bg-white rounded-b-2xl sm:rounded-b-3xl shadow-2xl overflow-hidden border border-gray-100 border-t-0 flex-1 mt-0",children:(0,v.jsx)("div",{className:"overflow-y-auto max-h-[120px]",children:(0,v.jsxs)("table",{className:"w-full min-w-max text-xs",children:[(0,v.jsx)("thead",{className:"bg-purple-50 sticky top-0",children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà"}),(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"‡πÄ‡∏ö‡∏≠‡∏£‡πå"})]})}),(0,v.jsx)("tbody",{children:ef?(0,v.jsx)("tr",{children:(0,v.jsx)("td",{colSpan:2,className:"px-2 py-4 text-center text-xs",children:"‚è≥"})}):Object.entries(eb).sort(([e],[t])=>new Date(t).getTime()-new Date(e).getTime()).slice(1).map(([e,t])=>(0,v.jsxs)("tr",{className:"hover:bg-purple-50 border-b",children:[(0,v.jsx)("td",{className:"px-2 py-2 text-center text-xs text-gray-900",children:new Date(e).toLocaleDateString("th-TH",{month:"short",day:"numeric"})}),(0,v.jsx)("td",{className:"px-2 py-2 text-center text-xs font-semibold text-purple-600",children:t})]},e))})]})})})]})]}),(0,v.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mt-4 sm:mt-8",children:[(0,v.jsxs)("div",{className:"bg-white rounded-2xl sm:rounded-3xl shadow-2xl p-4 sm:p-8 border border-gray-100",children:[(0,v.jsx)("div",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 px-4 sm:px-8 py-4 sm:py-6 -m-4 sm:-m-8 mb-4 sm:mb-8 relative overflow-hidden rounded-t-2xl sm:rounded-t-3xl",children:(0,v.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-10 transition-opacity duration-500"})}),(0,v.jsxs)("div",{className:"flex flex-col gap-3 mb-3 sm:mb-4",children:[(0,v.jsxs)("h2",{className:"text-lg sm:text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent flex items-center gap-2",children:["üèÜ TOP ","all"===e_?"‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î":e_," Ads"," ",(0,v.jsx)("span",{className:"bg-gradient-to-r from-yellow-400 via-orange-400 to-red-500 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-full text-base sm:text-xl font-bold shadow-xl",children:"‡∏ô‡∏±‡∏Å‡πÄ‡∏ï‡∏∞‡∏¢‡∏≠‡∏î‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°"})]}),(0,v.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 w-full",children:[(0,v.jsxs)("div",{className:"flex gap-2 flex-1",children:[(0,v.jsxs)("button",{onClick:()=>ex("leads"),className:`flex-1 sm:flex-none px-3 sm:px-4 py-2 rounded-lg font-medium text-xs sm:text-sm transition-all ${"leads"===ec?"bg-purple-600 text-white shadow-lg":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[(0,v.jsx)("span",{className:"hidden sm:inline",children:"üí¨ Total Inbox (‡∏°‡∏≤‡∏Å ‚Üí ‡∏ô‡πâ‡∏≠‡∏¢)"}),(0,v.jsx)("span",{className:"sm:hidden",children:"üí¨ Inbox"})]}),(0,v.jsxs)("button",{onClick:()=>ex("phone"),className:`flex-1 sm:flex-none px-3 sm:px-4 py-2 rounded-lg font-medium text-xs sm:text-sm transition-all ${"phone"===ec?"bg-purple-600 text-white shadow-lg":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[(0,v.jsx)("span",{className:"hidden sm:inline",children:"üìû ‡∏ä‡∏∑‡πà‡∏≠ - ‡πÄ‡∏ö‡∏≠‡∏£‡πå (‡∏°‡∏≤‡∏Å ‚Üí ‡∏ô‡πâ‡∏≠‡∏¢)"}),(0,v.jsx)("span",{className:"sm:hidden",children:"üìû ‡πÄ‡∏ö‡∏≠‡∏£‡πå"})]}),(0,v.jsxs)("button",{onClick:()=>ex("cost"),className:`flex-1 sm:flex-none px-3 sm:px-4 py-2 rounded-lg font-medium text-xs sm:text-sm transition-all ${"cost"===ec?"bg-purple-600 text-white shadow-lg":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[(0,v.jsx)("span",{className:"hidden sm:inline",children:"üí∞ ‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô (‡∏ô‡πâ‡∏≠‡∏¢ ‚Üí ‡∏°‡∏≤‡∏Å)"}),(0,v.jsx)("span",{className:"sm:hidden",children:"üí∞ Cost"})]}),(0,v.jsxs)("button",{onClick:()=>ex("thruplay"),className:`flex-1 sm:flex-none px-3 sm:px-4 py-2 rounded-lg font-medium text-xs sm:text-sm transition-all ${"thruplay"===ec?"bg-purple-600 text-white shadow-lg":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[(0,v.jsx)("span",{className:"hidden sm:inline",children:"üé¨ ThruPlay (‡∏°‡∏≤‡∏Å ‚Üí ‡∏ô‡πâ‡∏≠‡∏¢)"}),(0,v.jsx)("span",{className:"sm:hidden",children:"üé¨ ThruPlay"})]})]}),(0,v.jsxs)("select",{value:e_,onChange:e=>{let t=e.target.value;ek("all"===t?"all":Number(t))},className:"flex-1 sm:flex-none sm:min-w-[140px] px-3 py-2 rounded-lg font-medium text-xs sm:text-sm bg-gradient-to-r from-yellow-400 to-orange-400 text-gray-800 hover:from-yellow-500 hover:to-orange-500 transition-all border-2 border-yellow-500 shadow-lg cursor-pointer",children:[(0,v.jsx)("option",{value:5,children:"‚≠ê Top 5"}),(0,v.jsx)("option",{value:10,children:"‚≠ê Top 10"}),(0,v.jsx)("option",{value:15,children:"‚≠ê Top 15"}),(0,v.jsx)("option",{value:20,children:"‚≠ê Top 20"}),(0,v.jsx)("option",{value:30,children:"‚≠ê Top 30"}),(0,v.jsx)("option",{value:"all",children:"‚≠ê Top ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î"})]})]})]}),(0,v.jsxs)("div",{className:"overflow-x-auto",children:[el&&0===es.size&&(0,v.jsx)("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-3 mb-4 rounded",children:(0,v.jsx)("p",{className:"text-blue-700 text-sm font-medium",children:"‚è≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÇ‡∏Ü‡∏©‡∏ì‡∏≤..."})}),(0,v.jsxs)("table",{className:"w-full",children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{className:"border-b-2 border-gradient-to-r from-blue-200 via-purple-200 to-pink-200",children:[(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"#"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"Ad Image"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"New Inbox"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"Total Inbox"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"‡∏ä‡∏∑‡πà‡∏≠ - ‡πÄ‡∏ö‡∏≠‡∏£‡πå"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"ThruPlay"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô Inbox"})]})}),(0,v.jsx)("tbody",{children:tb().sort((e,t)=>{if("leads"===ec){let s=tm(e.actions,"onsite_conversion.total_messaging_connection");return tm(t.actions,"onsite_conversion.total_messaging_connection")-s}if("phone"===ec){let s=ej.get(e.ad_id)||0;return(ej.get(t.ad_id)||0)-s}if("thruplay"===ec){let s=e.actions?.find(e=>"video_view"===e.action_type),a=t.actions?.find(e=>"video_view"===e.action_type),l=s?parseFloat(s.value):0;return(a?parseFloat(a.value):0)-l}{let s=e.cost_per_action_type?.find(e=>"onsite_conversion.total_messaging_connection"===e.action_type),a=t.cost_per_action_type?.find(e=>"onsite_conversion.total_messaging_connection"===e.action_type);return(s?parseFloat(s.value):1/0)-(a?parseFloat(a.value):1/0)}}).slice(0,"all"===e_?void 0:e_).map((e,t)=>{let s,a,l,r,n,i=es.get(e.ad_id);return console.log(`üñºÔ∏è [Render TOP ${t+1}] Ad:`,e.ad_id,e.ad_name?.substring(0,30),"| Creative:",i?{id:i.id,has_thumbnail:!!i.thumbnail_url,has_image:!!i.image_url,thumbnail_preview:i.thumbnail_url?.substring(0,60)}:"NO CREATIVE DATA"),console.log("üì¶ [Render] adCreatives Map:","size=",es.size,"| Has this ad?",es.has(e.ad_id),"| All ad IDs in map:",Array.from(es.keys())),(0,v.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gradient-to-r hover:from-blue-50 hover:via-purple-50 hover:to-pink-50 transition-all duration-300 hover:shadow-md",children:[(0,v.jsx)("td",{className:"py-2 px-1 text-center",children:(0,v.jsx)("div",{className:"text-gray-700 font-bold text-lg",children:t+1})}),(0,v.jsx)("td",{className:"py-2 px-1 text-center",children:(0,v.jsx)("div",{className:"relative group cursor-pointer flex justify-center items-center",onClick:()=>{ei(e),ed(!0)},children:(s=i?.object_story_spec?.video_data?.video_id||i?.video_id,a=i?.thumbnail_url||i?.image_url,l=s?`/images/video/${s}.mp4`:null,s&&l?(0,v.jsxs)("div",{className:"w-20 h-20 flex-shrink-0 relative overflow-hidden rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[(0,v.jsx)("video",{src:l,className:"w-full h-full object-cover",muted:!0,loop:!0,playsInline:!0,autoPlay:!0,onLoadedMetadata:e=>{let t=e.currentTarget;t.currentTime=0,t.addEventListener("timeupdate",()=>{t.currentTime>=3&&(t.currentTime=0)})},onError:e=>{let t=e.currentTarget;t.style.display="none";let s=t.parentElement;if(s&&a){let e=document.createElement("img");e.src=a,e.className="w-full h-full object-cover",e.alt="Ad preview",s.appendChild(e)}}}),(0,v.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-20 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,v.jsx)("span",{className:"text-white text-2xl drop-shadow-lg",children:"‚ñ∂Ô∏è"})})]}):a?(0,v.jsxs)("div",{className:"w-20 h-20 flex-shrink-0 relative",children:[(0,v.jsx)("img",{src:a,alt:"Ad preview",className:"w-full h-full object-cover rounded-lg shadow-sm cursor-pointer hover:shadow-md transition-shadow",onError:e=>{e.currentTarget.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='80' height='80'%3E%3Crect width='80' height='80' fill='%23e5e7eb'/%3E%3Ctext x='50%25' y='50%25' text-anchor='middle' dy='.3em' fill='%239ca3af' font-size='12'%3ENo Image%3C/text%3E%3C/svg%3E"}}),s&&(0,v.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30 rounded-lg",children:(0,v.jsx)("span",{className:"text-white text-2xl",children:"‚ñ∂Ô∏è"})})]}):(0,v.jsx)("div",{className:"w-20 h-20 bg-gray-100 rounded-lg flex items-center justify-center",children:(0,v.jsx)("span",{className:"text-gray-400 text-xs",children:"üì∑"})}))})}),(0,v.jsx)("td",{className:"py-2 px-1 text-center text-gray-700 font-semibold text-xl",children:tx(e.spend)}),(0,v.jsx)("td",{className:"py-2 px-1 text-center font-semibold text-green-700 text-xl",children:tm(e.actions,"onsite_conversion.messaging_first_reply")}),(0,v.jsx)("td",{className:"py-2 px-1 text-center font-semibold text-blue-700 text-xl",children:tm(e.actions,"onsite_conversion.total_messaging_connection")}),(0,v.jsx)("td",{className:"py-2 px-1 text-center font-semibold text-purple-700 text-xl",children:ew?(0,v.jsx)("span",{className:"text-sm",children:"‚è≥"}):ej.get(e.ad_id)||0}),(0,v.jsx)("td",{className:"py-2 px-1 text-center text-gray-700 text-xl",children:(r=e.actions?.find(e=>"video_view"===e.action_type))?tc(r.value):"‚Äî"}),(0,v.jsx)("td",{className:"py-2 px-1 text-center text-gray-700 text-xl",children:(n=e.cost_per_action_type?.find(e=>"onsite_conversion.total_messaging_connection"===e.action_type))?tx(n.value):"‚Äî"})]},e.ad_id)})},`tbody-${es.size}-${Date.now()}`)]},`table-${es.size}`)]})]}),(0,v.jsxs)("div",{className:"bg-white rounded-2xl sm:rounded-3xl shadow-2xl p-4 sm:p-8 border border-gray-100",children:[(0,v.jsx)("div",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 px-4 sm:px-8 py-4 sm:py-6 -m-4 sm:-m-8 mb-4 sm:mb-8 relative overflow-hidden rounded-t-2xl sm:rounded-t-3xl",children:(0,v.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-10 transition-opacity duration-500"})}),(0,v.jsxs)("div",{className:"flex flex-col gap-3 mb-3 sm:mb-4",children:[(0,v.jsxs)("h2",{className:"text-lg sm:text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent flex items-center gap-2",children:["üèÜ TOP ","all"===e$?"‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î":e$," Ad Set"," ",(0,v.jsx)("span",{className:"bg-gradient-to-r from-yellow-400 via-orange-400 to-red-500 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-full text-base sm:text-xl font-bold shadow-xl",children:"‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏¢‡∏≠‡∏î‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°"})]}),(0,v.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 w-full",children:[(0,v.jsxs)("div",{className:"flex gap-2 flex-1",children:[(0,v.jsxs)("button",{onClick:()=>eO("leads"),className:`flex-1 sm:flex-none px-3 sm:px-4 py-2 rounded-lg font-medium text-xs sm:text-sm transition-all ${"leads"===eF?"bg-purple-600 text-white shadow-lg":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[(0,v.jsx)("span",{className:"hidden sm:inline",children:"üí¨ Total Inbox (‡∏°‡∏≤‡∏Å ‚Üí ‡∏ô‡πâ‡∏≠‡∏¢)"}),(0,v.jsx)("span",{className:"sm:hidden",children:"üí¨ Inbox"})]}),(0,v.jsxs)("button",{onClick:()=>eO("phone"),className:`flex-1 sm:flex-none px-3 sm:px-4 py-2 rounded-lg font-medium text-xs sm:text-sm transition-all ${"phone"===eF?"bg-purple-600 text-white shadow-lg":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[(0,v.jsx)("span",{className:"hidden sm:inline",children:"üìû ‡∏ä‡∏∑‡πà‡∏≠ - ‡πÄ‡∏ö‡∏≠‡∏£‡πå (‡∏°‡∏≤‡∏Å ‚Üí ‡∏ô‡πâ‡∏≠‡∏¢)"}),(0,v.jsx)("span",{className:"sm:hidden",children:"üìû ‡πÄ‡∏ö‡∏≠‡∏£‡πå"})]}),(0,v.jsxs)("button",{onClick:()=>eO("thruplay"),className:`flex-1 sm:flex-none px-3 sm:px-4 py-2 rounded-lg font-medium text-xs sm:text-sm transition-all ${"thruplay"===eF?"bg-purple-600 text-white shadow-lg":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[(0,v.jsx)("span",{className:"hidden sm:inline",children:"üé¨ ThruPlay (‡∏°‡∏≤‡∏Å ‚Üí ‡∏ô‡πâ‡∏≠‡∏¢)"}),(0,v.jsx)("span",{className:"sm:hidden",children:"üé¨ ThruPlay"})]})]}),(0,v.jsxs)("select",{value:e$,onChange:e=>{let t=e.target.value;eP("all"===t?"all":Number(t))},className:"flex-1 sm:flex-none sm:min-w-[140px] px-3 py-2 rounded-lg font-medium text-xs sm:text-sm bg-gradient-to-r from-yellow-400 to-orange-400 text-gray-800 hover:from-yellow-500 hover:to-orange-500 transition-all border-2 border-yellow-500 shadow-lg cursor-pointer",children:[(0,v.jsx)("option",{value:5,children:"‚≠ê Top 5"}),(0,v.jsx)("option",{value:10,children:"‚≠ê Top 10"}),(0,v.jsx)("option",{value:15,children:"‚≠ê Top 15"}),(0,v.jsx)("option",{value:20,children:"‚≠ê Top 20"}),(0,v.jsx)("option",{value:30,children:"‚≠ê Top 30"}),(0,v.jsx)("option",{value:"all",children:"‚≠ê Top ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î"})]})]}),(0,v.jsxs)("div",{className:"flex gap-2",children:[(0,v.jsx)("button",{onClick:()=>{let e=new Set(eD);e.has("TOF")?e.delete("TOF"):e.add("TOF"),eE(e)},className:`px-3 sm:px-4 py-2 rounded-lg font-medium text-xs sm:text-sm transition-all ${eD.has("TOF")?"bg-blue-600 text-white shadow-lg":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"TOF"}),(0,v.jsx)("button",{onClick:()=>{let e=new Set(eD);e.has("MOF")?e.delete("MOF"):e.add("MOF"),eE(e)},className:`px-3 sm:px-4 py-2 rounded-lg font-medium text-xs sm:text-sm transition-all ${eD.has("MOF")?"bg-green-600 text-white shadow-lg":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"MOF"}),(0,v.jsx)("button",{onClick:()=>{let e=new Set(eD);e.has("BOF")?e.delete("BOF"):e.add("BOF"),eE(e)},className:`px-3 sm:px-4 py-2 rounded-lg font-medium text-xs sm:text-sm transition-all ${eD.has("BOF")?"bg-orange-600 text-white shadow-lg":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"BOF"})]})]}),(0,v.jsxs)("div",{className:"overflow-x-auto",children:[eI&&0===eS.length&&(0,v.jsx)("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-3 mb-4 rounded",children:(0,v.jsx)("p",{className:"text-blue-700 text-sm font-medium",children:"‚è≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Ad Set..."})}),(0,v.jsxs)("table",{className:"w-full",children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{className:"border-b-2 border-gradient-to-r from-blue-200 via-purple-200 to-pink-200",children:[(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"#"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"Ad Set"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"New Inbox"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"Total Inbox"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"‡∏ä‡∏∑‡πà‡∏≠ - ‡πÄ‡∏ö‡∏≠‡∏£‡πå"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"ThruPlay"})]})}),(0,v.jsx)("tbody",{children:eS.filter(e=>{if(0===eD.size)return!0;let t=(e.campaign_name||"").substring(0,3).toUpperCase();return eD.has(t)}).sort((e,t)=>{if("leads"===eF){let s=tm(e.actions,"onsite_conversion.total_messaging_connection");return tm(t.actions,"onsite_conversion.total_messaging_connection")-s}if("phone"===eF){let s=e7(e.adset_id);return e7(t.adset_id)-s}{let s=e.actions?.find(e=>"video_view"===e.action_type),a=t.actions?.find(e=>"video_view"===e.action_type),l=s?parseFloat(s.value):0;return(a?parseFloat(a.value):0)-l}}).slice(0,"all"===e$?void 0:e$).map((e,t)=>{let s;return parseFloat(e.spend||"0"),tm(e.actions,"onsite_conversion.total_messaging_connection"),(0,v.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gradient-to-r hover:from-blue-50 hover:via-purple-50 hover:to-pink-50 transition-all duration-300 hover:shadow-md cursor-pointer",onClick:()=>{eM(e),eR(!0)},children:[(0,v.jsx)("td",{className:"py-2 px-1 text-center",children:(0,v.jsx)("div",{className:"text-gray-700 font-bold text-lg",children:t+1})}),(0,v.jsx)("td",{className:"py-2 px-1 text-center",children:(0,v.jsx)("div",{className:"text-gray-700 font-medium text-sm max-w-[150px] truncate mx-auto hover:text-purple-600",title:e.adset_name,children:e.adset_name||"‚Äî"})}),(0,v.jsx)("td",{className:"py-2 px-1 text-center text-gray-700 font-semibold text-xl",children:tx(e.spend)}),(0,v.jsx)("td",{className:"py-2 px-1 text-center font-semibold text-green-700 text-xl",children:tm(e.actions,"onsite_conversion.messaging_first_reply")}),(0,v.jsx)("td",{className:"py-2 px-1 text-center font-semibold text-blue-700 text-xl",children:tm(e.actions,"onsite_conversion.total_messaging_connection")}),(0,v.jsx)("td",{className:"py-2 px-1 text-center font-semibold text-purple-700 text-xl",children:ew?(0,v.jsx)("span",{className:"text-sm",children:"‚è≥"}):e7(e.adset_id)}),(0,v.jsx)("td",{className:"py-2 px-1 text-center text-gray-700 text-xl",children:(s=e.actions?.find(e=>"video_view"===e.action_type))?tc(s.value):"‚Äî"})]},e.adset_id)})},`tbody2-${eS.length}-${Date.now()}`)]},`table2-${eS.length}`)]})]})]})]}),2===P&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4",children:[(0,v.jsxs)("div",{className:"flex flex-col",children:[(0,v.jsx)("div",{className:"bg-gradient-to-br from-blue-500 via-blue-600 to-blue-700 rounded-2xl sm:rounded-3xl p-4 sm:p-8 text-white shadow-2xl",children:(0,v.jsxs)("div",{className:"grid grid-cols-2 gap-2 sm:gap-4",children:[(0,v.jsxs)("div",{className:"text-center",children:[(0,v.jsx)("div",{className:"text-xs sm:text-base font-semibold opacity-90 mb-1 sm:mb-2",children:"üíµ ‡πÄ‡∏á‡∏¥‡∏ô‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠"}),(0,v.jsx)("div",{className:"text-xl sm:text-3xl font-bold",children:e0?(0,v.jsx)("span",{className:"text-2xl",children:"‚è≥"}):`‡∏ø${eZ.toLocaleString("th-TH",{minimumFractionDigits:2,maximumFractionDigits:2})}`})]}),(0,v.jsxs)("div",{className:"text-center",children:[(0,v.jsx)("div",{className:"text-xs sm:text-base font-semibold opacity-90 mb-1 sm:mb-2",children:"üí∞ ‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏£‡∏ß‡∏°"}),(0,v.jsx)("div",{className:"text-xl sm:text-3xl font-bold",children:eU?(0,v.jsx)("span",{className:"text-2xl",children:"‚è≥"}):tx(eY.totalSpend)})]})]})}),(0,v.jsx)("div",{className:"bg-white rounded-b-2xl sm:rounded-b-3xl shadow-2xl overflow-hidden border border-gray-100 border-t-0 flex-1 mt-0",children:(0,v.jsx)("div",{className:"overflow-y-auto max-h-[120px]",children:(0,v.jsxs)("table",{className:"w-full min-w-max text-xs",children:[(0,v.jsx)("thead",{className:"bg-blue-50 sticky top-0",children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà"}),(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß"})]})}),(0,v.jsx)("tbody",{children:eU?(0,v.jsx)("tr",{children:(0,v.jsx)("td",{colSpan:2,className:"px-2 py-4 text-center text-xs",children:"‚è≥"})}):(0,v.jsx)("tr",{children:(0,v.jsx)("td",{colSpan:2,className:"px-2 py-4 text-center text-xs text-gray-400",children:"‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô"})})})]})})})]}),(0,v.jsxs)("div",{className:"flex flex-col",children:[(0,v.jsx)("div",{className:"bg-gradient-to-br from-teal-500 via-teal-600 to-cyan-600 rounded-2xl sm:rounded-3xl p-4 sm:p-8 text-white shadow-2xl",children:(0,v.jsxs)("div",{className:"grid grid-cols-2 gap-2 sm:gap-4",children:[(0,v.jsxs)("div",{className:"text-center",children:[(0,v.jsx)("div",{className:"text-xs sm:text-base font-semibold opacity-90 mb-1 sm:mb-3",children:"New Inbox"}),(0,v.jsx)("div",{className:"text-xl sm:text-4xl font-bold",children:eU?(0,v.jsx)("span",{className:"text-2xl",children:"‚è≥"}):tc(eY.total_messaging_first_reply||0)})]}),(0,v.jsxs)("div",{className:"text-center",children:[(0,v.jsx)("div",{className:"text-xs sm:text-base font-semibold opacity-90 mb-1 sm:mb-3",children:"Total Inbox"}),(0,v.jsx)("div",{className:"text-xl sm:text-4xl font-bold",children:eU?(0,v.jsx)("span",{className:"text-2xl",children:"‚è≥"}):tc(eY.total_messaging_connection||0)})]})]})}),(0,v.jsx)("div",{className:"bg-white rounded-b-2xl sm:rounded-b-3xl shadow-2xl overflow-hidden border border-gray-100 border-t-0 flex-1 mt-0",children:(0,v.jsx)("div",{className:"overflow-y-auto max-h-[120px]",children:(0,v.jsxs)("table",{className:"w-full min-w-max text-xs",children:[(0,v.jsx)("thead",{className:"bg-teal-50 sticky top-0",children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà"}),(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"New Inbox"}),(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"Total Inbox"})]})}),(0,v.jsx)("tbody",{children:eU?(0,v.jsx)("tr",{children:(0,v.jsx)("td",{colSpan:3,className:"px-2 py-4 text-center text-xs",children:"‚è≥"})}):(0,v.jsx)("tr",{children:(0,v.jsx)("td",{colSpan:3,className:"px-2 py-4 text-center text-xs text-gray-400",children:"‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Inbox"})})})]})})})]}),(0,v.jsxs)("div",{className:"flex flex-col",children:[(0,v.jsxs)("div",{className:"bg-gradient-to-br from-purple-500 via-purple-600 to-indigo-600 rounded-2xl sm:rounded-3xl p-4 sm:p-8 text-white shadow-2xl text-center",children:[(0,v.jsx)("div",{className:"text-base sm:text-xl font-semibold mb-2 sm:mb-3 opacity-90",children:"üìû ‡∏ä‡∏∑‡πà‡∏≠ - ‡πÄ‡∏ö‡∏≠‡∏£‡πå"}),(0,v.jsx)("div",{className:"text-2xl sm:text-4xl font-bold",children:eU?(0,v.jsx)("span",{className:"text-3xl",children:"‚è≥"}):"‚Äî"})]}),(0,v.jsx)("div",{className:"bg-white rounded-b-2xl sm:rounded-b-3xl shadow-2xl overflow-hidden border border-gray-100 border-t-0 flex-1 mt-0",children:(0,v.jsx)("div",{className:"overflow-y-auto max-h-[120px]",children:(0,v.jsxs)("table",{className:"w-full min-w-max text-xs",children:[(0,v.jsx)("thead",{className:"bg-purple-50 sticky top-0",children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà"}),(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"‡πÄ‡∏ö‡∏≠‡∏£‡πå"})]})}),(0,v.jsx)("tbody",{children:eU?(0,v.jsx)("tr",{children:(0,v.jsx)("td",{colSpan:2,className:"px-2 py-4 text-center text-xs",children:"‚è≥"})}):(0,v.jsx)("tr",{children:(0,v.jsx)("td",{colSpan:2,className:"px-2 py-4 text-center text-xs text-gray-400",children:"‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£"})})})]})})})]})]}),(0,v.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mt-4 sm:mt-8",children:[(0,v.jsxs)("div",{className:"bg-white rounded-2xl sm:rounded-3xl shadow-2xl p-4 sm:p-8 border border-gray-100",children:[(0,v.jsx)("div",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 px-4 sm:px-8 py-4 sm:py-6 -m-4 sm:-m-8 mb-4 sm:mb-8 relative overflow-hidden rounded-t-2xl sm:rounded-t-3xl",children:(0,v.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-10 transition-opacity duration-500"})}),(0,v.jsxs)("div",{className:"flex flex-col gap-3 mb-3 sm:mb-4",children:[(0,v.jsxs)("h2",{className:"text-lg sm:text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent flex items-center gap-2",children:["üèÜ TOP ","all"===eJ?"‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î":eJ," Ads"," ",(0,v.jsx)("span",{className:"bg-gradient-to-r from-yellow-400 via-orange-400 to-red-500 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-full text-base sm:text-xl font-bold shadow-xl",children:"‡∏ô‡∏±‡∏Å‡πÄ‡∏ï‡∏∞‡∏¢‡∏≠‡∏î‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°"})]}),(0,v.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 w-full",children:[(0,v.jsxs)("div",{className:"flex gap-2 flex-1",children:[(0,v.jsxs)("button",{onClick:()=>eW("spend"),className:`flex-1 sm:flex-none px-3 sm:px-4 py-2 rounded-lg font-medium text-xs sm:text-sm transition-all ${"spend"===eV?"bg-purple-600 text-white shadow-lg":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[(0,v.jsx)("span",{className:"hidden sm:inline",children:"üí∞ Spend (‡∏°‡∏≤‡∏Å ‚Üí ‡∏ô‡πâ‡∏≠‡∏¢)"}),(0,v.jsx)("span",{className:"sm:hidden",children:"üí∞ Spend"})]}),(0,v.jsxs)("button",{onClick:()=>eW("clicks"),className:`flex-1 sm:flex-none px-3 sm:px-4 py-2 rounded-lg font-medium text-xs sm:text-sm transition-all ${"clicks"===eV?"bg-purple-600 text-white shadow-lg":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[(0,v.jsx)("span",{className:"hidden sm:inline",children:"üñ±Ô∏è Clicks (‡∏°‡∏≤‡∏Å ‚Üí ‡∏ô‡πâ‡∏≠‡∏¢)"}),(0,v.jsx)("span",{className:"sm:hidden",children:"üñ±Ô∏è Clicks"})]}),(0,v.jsxs)("button",{onClick:()=>eW("ctr"),className:`flex-1 sm:flex-none px-3 sm:px-4 py-2 rounded-lg font-medium text-xs sm:text-sm transition-all ${"ctr"===eV?"bg-purple-600 text-white shadow-lg":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[(0,v.jsx)("span",{className:"hidden sm:inline",children:"üìà CTR (‡∏°‡∏≤‡∏Å ‚Üí ‡∏ô‡πâ‡∏≠‡∏¢)"}),(0,v.jsx)("span",{className:"sm:hidden",children:"üìà CTR"})]}),(0,v.jsxs)("button",{onClick:()=>eW("impressions"),className:`flex-1 sm:flex-none px-3 sm:px-4 py-2 rounded-lg font-medium text-xs sm:text-sm transition-all ${"impressions"===eV?"bg-purple-600 text-white shadow-lg":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[(0,v.jsx)("span",{className:"hidden sm:inline",children:"üëÅÔ∏è Impressions (‡∏°‡∏≤‡∏Å ‚Üí ‡∏ô‡πâ‡∏≠‡∏¢)"}),(0,v.jsx)("span",{className:"sm:hidden",children:"üëÅÔ∏è Impr"})]})]}),(0,v.jsxs)("select",{value:eJ,onChange:e=>{let t=e.target.value;eK("all"===t?"all":Number(t))},className:"flex-1 sm:flex-none sm:min-w-[140px] px-3 py-2 rounded-lg font-medium text-xs sm:text-sm bg-gradient-to-r from-yellow-400 to-orange-400 text-gray-800 hover:from-yellow-500 hover:to-orange-500 transition-all border-2 border-yellow-500 shadow-lg cursor-pointer",children:[(0,v.jsx)("option",{value:5,children:"‚≠ê Top 5"}),(0,v.jsx)("option",{value:10,children:"‚≠ê Top 10"}),(0,v.jsx)("option",{value:15,children:"‚≠ê Top 15"}),(0,v.jsx)("option",{value:20,children:"‚≠ê Top 20"}),(0,v.jsx)("option",{value:30,children:"‚≠ê Top 30"}),(0,v.jsx)("option",{value:"all",children:"‚≠ê Top ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î"})]})]})]}),(0,v.jsxs)("div",{className:"overflow-x-auto",children:[eU&&0===eq.length&&(0,v.jsx)("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-3 mb-4 rounded",children:(0,v.jsx)("p",{className:"text-blue-700 text-sm font-medium",children:"‚è≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•..."})}),eH&&(0,v.jsx)("div",{className:"bg-red-50 border-l-4 border-red-500 p-3 mb-4 rounded",children:(0,v.jsxs)("p",{className:"text-red-700 text-sm font-medium",children:["‚ùå ",eH]})}),(0,v.jsxs)("table",{className:"w-full",children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{className:"border-b-2 border-gradient-to-r from-blue-200 via-purple-200 to-pink-200",children:[(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"#"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"Ad Image"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"New Inbox"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"Total Inbox"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"‡∏ä‡∏∑‡πà‡∏≠ - ‡πÄ‡∏ö‡∏≠‡∏£‡πå"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"ThruPlay"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô Inbox"})]})}),(0,v.jsx)("tbody",{children:eq.sort((e,t)=>{switch(eV){case"spend":default:return parseFloat(t.spend||"0")-parseFloat(e.spend||"0");case"clicks":return parseInt(t.clicks||"0")-parseInt(e.clicks||"0");case"impressions":return parseInt(t.impressions||"0")-parseInt(e.impressions||"0");case"ctr":return parseFloat(t.ctr||"0")-parseFloat(e.ctr||"0");case"cpc":return parseFloat(t.cpc||"0")-parseFloat(e.cpc||"0");case"cpm":return parseFloat(t.cpm||"0")-parseFloat(e.cpm||"0")}}).slice(0,"all"===eJ?void 0:eJ).map((e,t)=>{let s,a,l,r,n;return(0,v.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gradient-to-r hover:from-blue-50 hover:via-purple-50 hover:to-pink-50 transition-all duration-300 hover:shadow-md",children:[(0,v.jsx)("td",{className:"py-2 px-1 text-center",children:(0,v.jsx)("div",{className:"text-gray-700 font-bold text-lg",children:t+1})}),(0,v.jsx)("td",{className:"py-2 px-1 text-center",children:(0,v.jsx)("div",{className:"relative group cursor-pointer flex justify-center items-center",children:(0,v.jsx)("div",{className:"w-20 h-20 bg-gray-100 rounded-lg flex items-center justify-center",children:(0,v.jsx)("span",{className:"text-gray-400 text-xs",children:"üì∑"})})})}),(0,v.jsx)("td",{className:"py-2 px-1 text-center text-gray-700 font-semibold text-xl",children:tx(e.spend)}),(0,v.jsx)("td",{className:"py-2 px-1 text-center font-semibold text-green-700 text-xl",children:(s=e.actions?.find(e=>"onsite_conversion.messaging_first_reply"===e.action_type))?tc(s.value):"‚Äî"}),(0,v.jsx)("td",{className:"py-2 px-1 text-center font-semibold text-blue-700 text-xl",children:(a=e.actions?.find(e=>"onsite_conversion.total_messaging_connection"===e.action_type))?tc(a.value):"‚Äî"}),(0,v.jsx)("td",{className:"py-2 px-1 text-center font-semibold text-purple-700 text-xl",children:"‚Äî"}),(0,v.jsx)("td",{className:"py-2 px-1 text-center text-gray-700 text-xl",children:"‚Äî"}),(0,v.jsx)("td",{className:"py-2 px-1 text-center text-gray-700 text-xl",children:(l=e.actions?.find(e=>"onsite_conversion.total_messaging_connection"===e.action_type),r=parseFloat(e.spend||"0"),(n=parseInt(l?.value||"0"))>0?tx(r/n):"‚Äî")})]},e.ad_id)})})]},`page2-table-${eq.length}`)]})]}),(0,v.jsxs)("div",{className:"bg-white rounded-2xl sm:rounded-3xl shadow-2xl p-4 sm:p-8 border border-gray-100",children:[(0,v.jsx)("div",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 px-4 sm:px-8 py-4 sm:py-6 -m-4 sm:-m-8 mb-4 sm:mb-8 relative overflow-hidden rounded-t-2xl sm:rounded-t-3xl",children:(0,v.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-10 transition-opacity duration-500"})}),(0,v.jsxs)("div",{className:"flex flex-col gap-3 mb-3 sm:mb-4",children:[(0,v.jsxs)("h2",{className:"text-lg sm:text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent flex items-center gap-2",children:["üèÜ TOP ","all"===eJ?"‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î":eJ," Ad Set"," ",(0,v.jsx)("span",{className:"bg-gradient-to-r from-yellow-400 via-orange-400 to-red-500 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-full text-base sm:text-xl font-bold shadow-xl",children:"‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏¢‡∏≠‡∏î‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°"})]}),(0,v.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 w-full",children:[(0,v.jsxs)("div",{className:"flex gap-2 flex-1",children:[(0,v.jsxs)("button",{onClick:()=>eW("spend"),className:`flex-1 sm:flex-none px-3 sm:px-4 py-2 rounded-lg font-medium text-xs sm:text-sm transition-all ${"spend"===eV?"bg-purple-600 text-white shadow-lg":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[(0,v.jsx)("span",{className:"hidden sm:inline",children:"üí∞ Spend (‡∏°‡∏≤‡∏Å ‚Üí ‡∏ô‡πâ‡∏≠‡∏¢)"}),(0,v.jsx)("span",{className:"sm:hidden",children:"üí∞ Spend"})]}),(0,v.jsxs)("button",{onClick:()=>eW("clicks"),className:`flex-1 sm:flex-none px-3 sm:px-4 py-2 rounded-lg font-medium text-xs sm:text-sm transition-all ${"clicks"===eV?"bg-purple-600 text-white shadow-lg":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[(0,v.jsx)("span",{className:"hidden sm:inline",children:"üñ±Ô∏è Clicks (‡∏°‡∏≤‡∏Å ‚Üí ‡∏ô‡πâ‡∏≠‡∏¢)"}),(0,v.jsx)("span",{className:"sm:hidden",children:"üñ±Ô∏è Clicks"})]}),(0,v.jsxs)("button",{onClick:()=>eW("impressions"),className:`flex-1 sm:flex-none px-3 sm:px-4 py-2 rounded-lg font-medium text-xs sm:text-sm transition-all ${"impressions"===eV?"bg-purple-600 text-white shadow-lg":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[(0,v.jsx)("span",{className:"hidden sm:inline",children:"üëÅÔ∏è Impressions (‡∏°‡∏≤‡∏Å ‚Üí ‡∏ô‡πâ‡∏≠‡∏¢)"}),(0,v.jsx)("span",{className:"sm:hidden",children:"üëÅÔ∏è Impr"})]})]}),(0,v.jsxs)("select",{value:eJ,onChange:e=>{let t=e.target.value;eK("all"===t?"all":Number(t))},className:"flex-1 sm:flex-none sm:min-w-[140px] px-3 py-2 rounded-lg font-medium text-xs sm:text-sm bg-gradient-to-r from-yellow-400 to-orange-400 text-gray-800 hover:from-yellow-500 hover:to-orange-500 transition-all border-2 border-yellow-500 shadow-lg cursor-pointer",children:[(0,v.jsx)("option",{value:5,children:"‚≠ê Top 5"}),(0,v.jsx)("option",{value:10,children:"‚≠ê Top 10"}),(0,v.jsx)("option",{value:15,children:"‚≠ê Top 15"}),(0,v.jsx)("option",{value:20,children:"‚≠ê Top 20"}),(0,v.jsx)("option",{value:30,children:"‚≠ê Top 30"}),(0,v.jsx)("option",{value:"all",children:"‚≠ê Top ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î"})]})]})]}),(0,v.jsxs)("div",{className:"overflow-x-auto",children:[eU&&(0,v.jsx)("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-3 mb-4 rounded",children:(0,v.jsx)("p",{className:"text-blue-700 text-sm font-medium",children:"‚è≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Ad Set..."})}),(0,v.jsxs)("table",{className:"w-full",children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{className:"border-b-2 border-gradient-to-r from-blue-200 via-purple-200 to-pink-200",children:[(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"#"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"Ad Set"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"New Inbox"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"Total Inbox"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"‡∏ä‡∏∑‡πà‡∏≠ - ‡πÄ‡∏ö‡∏≠‡∏£‡πå"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"ThruPlay"})]})}),(0,v.jsx)("tbody",{children:(d=new Map,eq.forEach(e=>{let t=d.get(e.adset_id)||{adset_id:e.adset_id,adset_name:e.adset_name,campaign_name:e.campaign_name,spend:0,clicks:0,impressions:0,newInbox:0,totalInbox:0};if(t.spend+=parseFloat(e.spend||"0"),t.clicks+=parseInt(e.clicks||"0"),t.impressions+=parseInt(e.impressions||"0"),e.actions){let s=e.actions.find(e=>"onsite_conversion.messaging_first_reply"===e.action_type),a=e.actions.find(e=>"onsite_conversion.total_messaging_connection"===e.action_type);t.newInbox+=parseInt(s?.value||"0"),t.totalInbox+=parseInt(a?.value||"0")}d.set(e.adset_id,t)}),Array.from(d.values()).sort((e,t)=>{switch(eV){case"spend":default:return t.spend-e.spend;case"clicks":return t.clicks-e.clicks;case"impressions":return t.impressions-e.impressions}}).slice(0,"all"===eJ?void 0:eJ).map((e,t)=>(0,v.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gradient-to-r hover:from-blue-50 hover:via-purple-50 hover:to-pink-50 transition-all duration-300 hover:shadow-md cursor-pointer",children:[(0,v.jsx)("td",{className:"py-2 px-1 text-center",children:(0,v.jsx)("div",{className:"text-gray-700 font-bold text-lg",children:t+1})}),(0,v.jsx)("td",{className:"py-2 px-1 text-center",children:(0,v.jsx)("div",{className:"text-gray-700 font-medium text-sm max-w-[150px] truncate mx-auto hover:text-purple-600",title:e.adset_name,children:e.adset_name||"‚Äî"})}),(0,v.jsx)("td",{className:"py-2 px-1 text-center text-gray-700 font-semibold text-xl",children:tx(e.spend)}),(0,v.jsx)("td",{className:"py-2 px-1 text-center font-semibold text-green-700 text-xl",children:e.newInbox>0?tc(e.newInbox):"‚Äî"}),(0,v.jsx)("td",{className:"py-2 px-1 text-center font-semibold text-blue-700 text-xl",children:e.totalInbox>0?tc(e.totalInbox):"‚Äî"}),(0,v.jsx)("td",{className:"py-2 px-1 text-center font-semibold text-purple-700 text-xl",children:"‚Äî"}),(0,v.jsx)("td",{className:"py-2 px-1 text-center text-gray-700 text-xl",children:"‚Äî"})]},e.adset_id)))})]},`page2-adset-table-${eq.length}`)]})]})]})]}),3===P&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4",children:[(0,v.jsxs)("div",{className:"flex flex-col",children:[(0,v.jsx)("div",{className:"bg-gradient-to-br from-blue-500 via-blue-600 to-blue-700 rounded-2xl sm:rounded-3xl p-4 sm:p-8 text-white shadow-2xl",children:(0,v.jsxs)("div",{className:"grid grid-cols-2 gap-2 sm:gap-4",children:[(0,v.jsxs)("div",{className:"text-center",children:[(0,v.jsx)("div",{className:"text-xs sm:text-base font-semibold opacity-90 mb-1 sm:mb-2",children:"üíµ ‡πÄ‡∏á‡∏¥‡∏ô‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠ (Page 3)"}),(0,v.jsx)("div",{className:"text-xl sm:text-3xl font-bold",children:V?(0,v.jsx)("span",{className:"text-2xl",children:"‚è≥"}):`‡∏ø${Y.toLocaleString("th-TH",{minimumFractionDigits:2,maximumFractionDigits:2})}`})]}),(0,v.jsxs)("div",{className:"text-center",children:[(0,v.jsx)("div",{className:"text-xs sm:text-base font-semibold opacity-90 mb-1 sm:mb-2",children:"üí∞ ‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏£‡∏ß‡∏°"}),(0,v.jsx)("div",{className:"text-xl sm:text-3xl font-bold",children:tx(g.reduce((e,t)=>e+parseFloat(t.spend||"0"),0))})]})]})}),(0,v.jsx)("div",{className:"bg-white rounded-b-2xl sm:rounded-b-3xl shadow-2xl overflow-hidden border border-gray-100 border-t-0 flex-1 mt-0",children:(0,v.jsx)("div",{className:"overflow-y-auto max-h-[120px]",children:(0,v.jsxs)("table",{className:"w-full min-w-max text-xs",children:[(0,v.jsx)("thead",{className:"bg-blue-50 sticky top-0",children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà"}),(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß"})]})}),(0,v.jsx)("tbody",{children:eh?(0,v.jsx)("tr",{children:(0,v.jsx)("td",{colSpan:2,className:"px-2 py-4 text-center text-xs",children:"‚è≥"})}):(c=new Map,em.forEach(e=>{let t=e.date_start,s=c.get(t)||{spend:0};s.spend+=parseFloat(e.spend||"0"),c.set(t,s)}),Array.from(c.keys()).sort((e,t)=>new Date(t).getTime()-new Date(e).getTime()).slice(1,31).map(e=>{let t=c.get(e);return(0,v.jsxs)("tr",{className:"hover:bg-blue-50 border-b",children:[(0,v.jsx)("td",{className:"px-2 py-2 text-center text-xs text-gray-900",children:new Date(e).toLocaleDateString("th-TH",{month:"short",day:"numeric"})}),(0,v.jsx)("td",{className:"px-2 py-2 text-center text-xs font-semibold text-blue-600",children:tx(t.spend)})]},e)}))})]})})})]}),(0,v.jsxs)("div",{className:"flex flex-col",children:[(0,v.jsx)("div",{className:"bg-gradient-to-br from-teal-500 via-teal-600 to-cyan-600 rounded-2xl sm:rounded-3xl p-4 sm:p-8 text-white shadow-2xl",children:(0,v.jsxs)("div",{className:"grid grid-cols-2 gap-2 sm:gap-4",children:[(0,v.jsxs)("div",{className:"text-center",children:[(0,v.jsx)("div",{className:"text-xs sm:text-base font-semibold opacity-90 mb-1 sm:mb-3",children:"New Inbox"}),(0,v.jsx)("div",{className:"text-xl sm:text-4xl font-bold",children:tp()})]}),(0,v.jsxs)("div",{className:"text-center",children:[(0,v.jsx)("div",{className:"text-xs sm:text-base font-semibold opacity-90 mb-1 sm:mb-3",children:"Total Inbox"}),(0,v.jsx)("div",{className:"text-xl sm:text-4xl font-bold",children:th()})]})]})}),(0,v.jsx)("div",{className:"bg-white rounded-b-2xl sm:rounded-b-3xl shadow-2xl overflow-hidden border border-gray-100 border-t-0 flex-1 mt-0",children:(0,v.jsx)("div",{className:"overflow-y-auto max-h-[120px]",children:(0,v.jsxs)("table",{className:"w-full min-w-max text-xs",children:[(0,v.jsx)("thead",{className:"bg-teal-50 sticky top-0",children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà"}),(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"New Inbox"}),(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"Total Inbox"})]})}),(0,v.jsx)("tbody",{children:eh?(0,v.jsx)("tr",{children:(0,v.jsx)("td",{colSpan:3,className:"px-2 py-4 text-center text-xs",children:"‚è≥"})}):(x=new Map,em.forEach(e=>{let t=e.date_start,s=x.get(t)||{newInbox:0,totalInbox:0};s.newInbox+=tm(e.actions,"onsite_conversion.messaging_first_reply"),s.totalInbox+=tm(e.actions,"onsite_conversion.total_messaging_connection"),x.set(t,s)}),Array.from(x.keys()).sort((e,t)=>new Date(t).getTime()-new Date(e).getTime()).slice(1,31).map(e=>{let t=x.get(e);return(0,v.jsxs)("tr",{className:"hover:bg-teal-50 border-b",children:[(0,v.jsx)("td",{className:"px-2 py-2 text-center text-xs text-gray-900",children:new Date(e).toLocaleDateString("th-TH",{month:"short",day:"numeric"})}),(0,v.jsx)("td",{className:"px-2 py-2 text-center text-xs font-semibold text-green-600",children:t.newInbox}),(0,v.jsx)("td",{className:"px-2 py-2 text-center text-xs font-semibold text-teal-600",children:t.totalInbox})]},e)}))})]})})})]}),(0,v.jsxs)("div",{className:"flex flex-col",children:[(0,v.jsxs)("div",{className:"bg-gradient-to-br from-purple-500 via-purple-600 to-indigo-600 rounded-2xl sm:rounded-3xl p-4 sm:p-8 text-white shadow-2xl text-center",children:[(0,v.jsx)("div",{className:"text-base sm:text-xl font-semibold mb-2 sm:mb-3 opacity-90",children:"üìû ‡∏ä‡∏∑‡πà‡∏≠ - ‡πÄ‡∏ö‡∏≠‡∏£‡πå"}),(0,v.jsx)("div",{className:"text-2xl sm:text-4xl font-bold",children:Z?(0,v.jsx)("span",{className:"text-3xl",children:"‚è≥"}):(0,v.jsx)("div",{children:J.total.toLocaleString()})})]}),(0,v.jsx)("div",{className:"bg-white rounded-b-2xl sm:rounded-b-3xl shadow-2xl overflow-hidden border border-gray-100 border-t-0 flex-1 mt-0",children:(0,v.jsx)("div",{className:"overflow-y-auto max-h-[120px]",children:(0,v.jsxs)("table",{className:"w-full min-w-max text-xs",children:[(0,v.jsx)("thead",{className:"bg-purple-50 sticky top-0",children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà"}),(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"‡πÄ‡∏ö‡∏≠‡∏£‡πå"})]})}),(0,v.jsx)("tbody",{children:ef?(0,v.jsx)("tr",{children:(0,v.jsx)("td",{colSpan:2,className:"px-2 py-4 text-center text-xs",children:"‚è≥"})}):Object.entries(eb).sort(([e],[t])=>new Date(t).getTime()-new Date(e).getTime()).slice(1).map(([e,t])=>(0,v.jsxs)("tr",{className:"hover:bg-purple-50 border-b",children:[(0,v.jsx)("td",{className:"px-2 py-2 text-center text-xs text-gray-900",children:new Date(e).toLocaleDateString("th-TH",{month:"short",day:"numeric"})}),(0,v.jsx)("td",{className:"px-2 py-2 text-center text-xs font-semibold text-purple-600",children:t})]},e))})]})})})]})]}),(0,v.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mt-4 sm:mt-8",children:[(0,v.jsxs)("div",{className:"bg-white rounded-2xl sm:rounded-3xl shadow-2xl p-4 sm:p-8 border border-gray-100",children:[(0,v.jsx)("div",{className:"bg-gradient-to-r from-green-600 via-emerald-600 to-teal-600 px-4 sm:px-8 py-4 sm:py-6 -m-4 sm:-m-8 mb-4 sm:mb-8 relative overflow-hidden rounded-t-2xl sm:rounded-t-3xl",children:(0,v.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-10 transition-opacity duration-500"})}),(0,v.jsxs)("div",{className:"flex flex-col gap-3 mb-3 sm:mb-4",children:[(0,v.jsx)("h2",{className:"text-lg sm:text-2xl font-bold bg-gradient-to-r from-green-600 to-teal-600 bg-clip-text text-transparent flex items-center gap-2",children:"üåê Page 3 - Campaign Overview"}),(0,v.jsx)("p",{className:"text-gray-600 text-sm",children:"Page 3 content area - Same structure as Page 1"})]}),(0,v.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,v.jsx)("div",{className:"text-6xl mb-4",children:"üéØ"}),(0,v.jsx)("p",{className:"text-lg",children:"Page 3 specific content will be displayed here"})]})]}),(0,v.jsxs)("div",{className:"bg-white rounded-2xl sm:rounded-3xl shadow-2xl p-4 sm:p-8 border border-gray-100",children:[(0,v.jsx)("div",{className:"bg-gradient-to-r from-green-600 via-emerald-600 to-teal-600 px-4 sm:px-8 py-4 sm:py-6 -m-4 sm:-m-8 mb-4 sm:mb-8 relative overflow-hidden rounded-t-2xl sm:rounded-t-3xl",children:(0,v.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-10 transition-opacity duration-500"})}),(0,v.jsxs)("div",{className:"flex flex-col gap-3 mb-3 sm:mb-4",children:[(0,v.jsx)("h2",{className:"text-lg sm:text-2xl font-bold bg-gradient-to-r from-green-600 to-teal-600 bg-clip-text text-transparent flex items-center gap-2",children:"üìä Page 3 - Performance Metrics"}),(0,v.jsx)("p",{className:"text-gray-600 text-sm",children:"Page 3 metrics area"})]}),(0,v.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,v.jsx)("div",{className:"text-6xl mb-4",children:"üìâ"}),(0,v.jsx)("p",{className:"text-lg",children:"Page 3 metrics will be displayed here"})]})]})]})]}),4===P&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4",children:[(0,v.jsxs)("div",{className:"flex flex-col",children:[(0,v.jsx)("div",{className:"bg-gradient-to-br from-blue-500 via-blue-600 to-blue-700 rounded-2xl sm:rounded-3xl p-4 sm:p-8 text-white shadow-2xl",children:(0,v.jsxs)("div",{className:"grid grid-cols-2 gap-2 sm:gap-4",children:[(0,v.jsxs)("div",{className:"text-center",children:[(0,v.jsx)("div",{className:"text-xs sm:text-base font-semibold opacity-90 mb-1 sm:mb-2",children:"üíµ ‡πÄ‡∏á‡∏¥‡∏ô‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠ (Page 4)"}),(0,v.jsx)("div",{className:"text-xl sm:text-3xl font-bold",children:V?(0,v.jsx)("span",{className:"text-2xl",children:"‚è≥"}):`‡∏ø${Y.toLocaleString("th-TH",{minimumFractionDigits:2,maximumFractionDigits:2})}`})]}),(0,v.jsxs)("div",{className:"text-center",children:[(0,v.jsx)("div",{className:"text-xs sm:text-base font-semibold opacity-90 mb-1 sm:mb-2",children:"üí∞ ‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏£‡∏ß‡∏°"}),(0,v.jsx)("div",{className:"text-xl sm:text-3xl font-bold",children:tx(g.reduce((e,t)=>e+parseFloat(t.spend||"0"),0))})]})]})}),(0,v.jsx)("div",{className:"bg-white rounded-b-2xl sm:rounded-b-3xl shadow-2xl overflow-hidden border border-gray-100 border-t-0 flex-1 mt-0",children:(0,v.jsx)("div",{className:"overflow-y-auto max-h-[120px]",children:(0,v.jsxs)("table",{className:"w-full min-w-max text-xs",children:[(0,v.jsx)("thead",{className:"bg-blue-50 sticky top-0",children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà"}),(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß"})]})}),(0,v.jsx)("tbody",{children:eh?(0,v.jsx)("tr",{children:(0,v.jsx)("td",{colSpan:2,className:"px-2 py-4 text-center text-xs",children:"‚è≥"})}):(m=new Map,em.forEach(e=>{let t=e.date_start,s=m.get(t)||{spend:0};s.spend+=parseFloat(e.spend||"0"),m.set(t,s)}),Array.from(m.keys()).sort((e,t)=>new Date(t).getTime()-new Date(e).getTime()).slice(1,31).map(e=>{let t=m.get(e);return(0,v.jsxs)("tr",{className:"hover:bg-blue-50 border-b",children:[(0,v.jsx)("td",{className:"px-2 py-2 text-center text-xs text-gray-900",children:new Date(e).toLocaleDateString("th-TH",{month:"short",day:"numeric"})}),(0,v.jsx)("td",{className:"px-2 py-2 text-center text-xs font-semibold text-blue-600",children:tx(t.spend)})]},e)}))})]})})})]}),(0,v.jsxs)("div",{className:"flex flex-col",children:[(0,v.jsx)("div",{className:"bg-gradient-to-br from-teal-500 via-teal-600 to-cyan-600 rounded-2xl sm:rounded-3xl p-4 sm:p-8 text-white shadow-2xl",children:(0,v.jsxs)("div",{className:"grid grid-cols-2 gap-2 sm:gap-4",children:[(0,v.jsxs)("div",{className:"text-center",children:[(0,v.jsx)("div",{className:"text-xs sm:text-base font-semibold opacity-90 mb-1 sm:mb-3",children:"New Inbox"}),(0,v.jsx)("div",{className:"text-xl sm:text-4xl font-bold",children:tp()})]}),(0,v.jsxs)("div",{className:"text-center",children:[(0,v.jsx)("div",{className:"text-xs sm:text-base font-semibold opacity-90 mb-1 sm:mb-3",children:"Total Inbox"}),(0,v.jsx)("div",{className:"text-xl sm:text-4xl font-bold",children:th()})]})]})}),(0,v.jsx)("div",{className:"bg-white rounded-b-2xl sm:rounded-b-3xl shadow-2xl overflow-hidden border border-gray-100 border-t-0 flex-1 mt-0",children:(0,v.jsx)("div",{className:"overflow-y-auto max-h-[120px]",children:(0,v.jsxs)("table",{className:"w-full min-w-max text-xs",children:[(0,v.jsx)("thead",{className:"bg-teal-50 sticky top-0",children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà"}),(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"New Inbox"}),(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"Total Inbox"})]})}),(0,v.jsx)("tbody",{children:eh?(0,v.jsx)("tr",{children:(0,v.jsx)("td",{colSpan:3,className:"px-2 py-4 text-center text-xs",children:"‚è≥"})}):(p=new Map,em.forEach(e=>{let t=e.date_start,s=p.get(t)||{newInbox:0,totalInbox:0};s.newInbox+=tm(e.actions,"onsite_conversion.messaging_first_reply"),s.totalInbox+=tm(e.actions,"onsite_conversion.total_messaging_connection"),p.set(t,s)}),Array.from(p.keys()).sort((e,t)=>new Date(t).getTime()-new Date(e).getTime()).slice(1,31).map(e=>{let t=p.get(e);return(0,v.jsxs)("tr",{className:"hover:bg-teal-50 border-b",children:[(0,v.jsx)("td",{className:"px-2 py-2 text-center text-xs text-gray-900",children:new Date(e).toLocaleDateString("th-TH",{month:"short",day:"numeric"})}),(0,v.jsx)("td",{className:"px-2 py-2 text-center text-xs font-semibold text-green-600",children:t.newInbox}),(0,v.jsx)("td",{className:"px-2 py-2 text-center text-xs font-semibold text-teal-600",children:t.totalInbox})]},e)}))})]})})})]}),(0,v.jsxs)("div",{className:"flex flex-col",children:[(0,v.jsxs)("div",{className:"bg-gradient-to-br from-purple-500 via-purple-600 to-indigo-600 rounded-2xl sm:rounded-3xl p-4 sm:p-8 text-white shadow-2xl text-center",children:[(0,v.jsx)("div",{className:"text-base sm:text-xl font-semibold mb-2 sm:mb-3 opacity-90",children:"üìû ‡∏ä‡∏∑‡πà‡∏≠ - ‡πÄ‡∏ö‡∏≠‡∏£‡πå"}),(0,v.jsx)("div",{className:"text-2xl sm:text-4xl font-bold",children:Z?(0,v.jsx)("span",{className:"text-3xl",children:"‚è≥"}):(0,v.jsx)("div",{children:J.total.toLocaleString()})})]}),(0,v.jsx)("div",{className:"bg-white rounded-b-2xl sm:rounded-b-3xl shadow-2xl overflow-hidden border border-gray-100 border-t-0 flex-1 mt-0",children:(0,v.jsx)("div",{className:"overflow-y-auto max-h-[120px]",children:(0,v.jsxs)("table",{className:"w-full min-w-max text-xs",children:[(0,v.jsx)("thead",{className:"bg-purple-50 sticky top-0",children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà"}),(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"‡πÄ‡∏ö‡∏≠‡∏£‡πå"})]})}),(0,v.jsx)("tbody",{children:ef?(0,v.jsx)("tr",{children:(0,v.jsx)("td",{colSpan:2,className:"px-2 py-4 text-center text-xs",children:"‚è≥"})}):Object.entries(eb).sort(([e],[t])=>new Date(t).getTime()-new Date(e).getTime()).slice(1).map(([e,t])=>(0,v.jsxs)("tr",{className:"hover:bg-purple-50 border-b",children:[(0,v.jsx)("td",{className:"px-2 py-2 text-center text-xs text-gray-900",children:new Date(e).toLocaleDateString("th-TH",{month:"short",day:"numeric"})}),(0,v.jsx)("td",{className:"px-2 py-2 text-center text-xs font-semibold text-purple-600",children:t})]},e))})]})})})]})]}),(0,v.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mt-4 sm:mt-8",children:[(0,v.jsxs)("div",{className:"bg-white rounded-2xl sm:rounded-3xl shadow-2xl p-4 sm:p-8 border border-gray-100",children:[(0,v.jsx)("div",{className:"bg-gradient-to-r from-orange-600 via-red-600 to-pink-600 px-4 sm:px-8 py-4 sm:py-6 -m-4 sm:-m-8 mb-4 sm:mb-8 relative overflow-hidden rounded-t-2xl sm:rounded-t-3xl",children:(0,v.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-10 transition-opacity duration-500"})}),(0,v.jsxs)("div",{className:"flex flex-col gap-3 mb-3 sm:mb-4",children:[(0,v.jsx)("h2",{className:"text-lg sm:text-2xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent flex items-center gap-2",children:"‚öôÔ∏è Page 4 - Settings & Configuration"}),(0,v.jsx)("p",{className:"text-gray-600 text-sm",children:"Page 4 content area - Same structure as Page 1"})]}),(0,v.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,v.jsx)("div",{className:"text-6xl mb-4",children:"üîß"}),(0,v.jsx)("p",{className:"text-lg",children:"Page 4 specific content will be displayed here"})]})]}),(0,v.jsxs)("div",{className:"bg-white rounded-2xl sm:rounded-3xl shadow-2xl p-4 sm:p-8 border border-gray-100",children:[(0,v.jsx)("div",{className:"bg-gradient-to-r from-orange-600 via-red-600 to-pink-600 px-4 sm:px-8 py-4 sm:py-6 -m-4 sm:-m-8 mb-4 sm:mb-8 relative overflow-hidden rounded-t-2xl sm:rounded-t-3xl",children:(0,v.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-10 transition-opacity duration-500"})}),(0,v.jsxs)("div",{className:"flex flex-col gap-3 mb-3 sm:mb-4",children:[(0,v.jsx)("h2",{className:"text-lg sm:text-2xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent flex items-center gap-2",children:"üìù Page 4 - Additional Info"}),(0,v.jsx)("p",{className:"text-gray-600 text-sm",children:"Page 4 additional area"})]}),(0,v.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,v.jsx)("div",{className:"text-6xl mb-4",children:"üìã"}),(0,v.jsx)("p",{className:"text-lg",children:"Page 4 additional content will be displayed here"})]})]})]})]})]})]})}e.s(["default",()=>L],684635)}]);