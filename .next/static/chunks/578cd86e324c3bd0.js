(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,311593,e=>{"use strict";var t=e.i(843476),s=e.i(271645),a=e.i(618566),l=e.i(555436),r=e.i(475254);let n=(0,r.default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var o=e.i(664659);let i=(0,r.default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);var d=e.i(37727),c=e.i(107233),u=e.i(871689),m=e.i(356909),x=e.i(531278),p=e.i(870273),b=e.i(178583);let h=(0,r.default)("clipboard-check",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);var g=e.i(63727),f=e.i(87316),j=e.i(284614),v=e.i(437902),y=e.i(269638),N=e.i(373884);let w=({isOpen:e,onClose:a,type:l,title:r,message:n})=>{let[o,i]=(0,s.useState)(!1),[c,u]=(0,s.useState)(!1);(0,s.useEffect)(()=>{if(e){i(!0),setTimeout(()=>u(!0),10);let e=setTimeout(()=>{m()},3e3);return()=>clearTimeout(e)}u(!1),setTimeout(()=>i(!1),300)},[e]);let m=()=>{u(!1),setTimeout(()=>{i(!1),a()},300)};if(!o)return null;let x="success"===l;return(0,t.jsxs)("div",{className:"jsx-39caaad5107536c0 fixed inset-0 flex items-center justify-center z-[9999] pointer-events-none",children:[(0,t.jsx)("div",{style:{backgroundColor:"rgba(0, 0, 0, 0.3)"},onClick:m,className:`jsx-39caaad5107536c0 absolute inset-0 backdrop-blur-sm transition-opacity duration-300 pointer-events-auto ${c?"opacity-100":"opacity-0"}`}),(0,t.jsx)("div",{className:`jsx-39caaad5107536c0 relative pointer-events-auto transform transition-all duration-300 ${c?"scale-100 opacity-100 translate-y-0":"scale-95 opacity-0 -translate-y-4"}`,children:(0,t.jsxs)("div",{className:`jsx-39caaad5107536c0 relative bg-white rounded-2xl shadow-2xl overflow-hidden w-96 ${x?"border-4 border-green-400":"border-4 border-red-400"}`,children:[(0,t.jsx)("div",{className:`jsx-39caaad5107536c0 absolute inset-0 opacity-10 ${x?"bg-gradient-to-br from-green-400 via-emerald-400 to-teal-400":"bg-gradient-to-br from-red-400 via-rose-400 to-pink-400"} animate-gradient`}),(0,t.jsx)("button",{onClick:m,className:"jsx-39caaad5107536c0 absolute top-4 right-4 p-1 rounded-full hover:bg-gray-100 transition-colors z-10",children:(0,t.jsx)(d.X,{className:"w-5 h-5 text-gray-500"})}),(0,t.jsxs)("div",{className:"jsx-39caaad5107536c0 relative p-8",children:[(0,t.jsx)("div",{className:"jsx-39caaad5107536c0 flex justify-center mb-6",children:(0,t.jsx)("div",{className:`jsx-39caaad5107536c0 relative ${x?"animate-success-icon":"animate-error-icon"}`,children:x?(0,t.jsxs)("div",{className:"jsx-39caaad5107536c0 relative",children:[(0,t.jsx)("div",{className:"jsx-39caaad5107536c0 absolute inset-0 animate-ping-slow",children:(0,t.jsx)("div",{className:"jsx-39caaad5107536c0 w-24 h-24 rounded-full bg-green-400 opacity-30"})}),(0,t.jsx)("div",{className:"jsx-39caaad5107536c0 absolute inset-0 animate-pulse-slow",children:(0,t.jsx)("div",{className:"jsx-39caaad5107536c0 w-24 h-24 rounded-full bg-green-300 opacity-20"})}),(0,t.jsx)(y.CheckCircle,{className:"w-24 h-24 text-green-500 relative z-10 drop-shadow-lg"}),(0,t.jsxs)("div",{className:"jsx-39caaad5107536c0 absolute top-0 left-0 w-full h-full",children:[(0,t.jsx)("div",{className:"jsx-39caaad5107536c0 absolute top-2 right-2 w-3 h-3 bg-yellow-400 rounded-full animate-sparkle-1"}),(0,t.jsx)("div",{className:"jsx-39caaad5107536c0 absolute top-6 right-0 w-2 h-2 bg-yellow-300 rounded-full animate-sparkle-2"}),(0,t.jsx)("div",{className:"jsx-39caaad5107536c0 absolute top-0 right-6 w-2 h-2 bg-yellow-500 rounded-full animate-sparkle-3"}),(0,t.jsx)("div",{className:"jsx-39caaad5107536c0 absolute bottom-2 left-2 w-3 h-3 bg-green-300 rounded-full animate-sparkle-1"}),(0,t.jsx)("div",{className:"jsx-39caaad5107536c0 absolute bottom-6 left-0 w-2 h-2 bg-green-400 rounded-full animate-sparkle-2"})]})]}):(0,t.jsxs)("div",{className:"jsx-39caaad5107536c0 relative",children:[(0,t.jsx)("div",{className:"jsx-39caaad5107536c0 absolute inset-0 animate-ping-slow",children:(0,t.jsx)("div",{className:"jsx-39caaad5107536c0 w-24 h-24 rounded-full bg-red-400 opacity-30"})}),(0,t.jsx)("div",{className:"jsx-39caaad5107536c0 absolute inset-0 animate-pulse-slow",children:(0,t.jsx)("div",{className:"jsx-39caaad5107536c0 w-24 h-24 rounded-full bg-red-300 opacity-20"})}),(0,t.jsx)(N.XCircle,{className:"w-24 h-24 text-red-500 relative z-10 drop-shadow-lg animate-shake"})]})})}),(0,t.jsx)("h2",{className:`jsx-39caaad5107536c0 text-2xl font-bold text-center mb-3 ${x?"text-green-600":"text-red-600"}`,children:r}),(0,t.jsx)("p",{className:"jsx-39caaad5107536c0 text-gray-600 text-center text-base leading-relaxed",children:n}),(0,t.jsx)("div",{className:"jsx-39caaad5107536c0 mt-6",children:(0,t.jsx)("div",{className:"jsx-39caaad5107536c0 w-full h-1 bg-gray-200 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:`jsx-39caaad5107536c0 h-full ${x?"bg-green-500":"bg-red-500"} animate-progress`})})})]}),(0,t.jsx)("div",{className:`jsx-39caaad5107536c0 h-2 ${x?"bg-gradient-to-r from-green-400 via-emerald-400 to-teal-400":"bg-gradient-to-r from-red-400 via-rose-400 to-pink-400"}`})]})}),(0,t.jsx)(v.default,{id:"39caaad5107536c0",children:"@keyframes gradient{0%,to{transform:scale(1)rotate(0)}50%{transform:scale(1.1)rotate(5deg)}}@keyframes ping-slow{0%{opacity:.3;transform:scale(1)}50%{opacity:.15;transform:scale(1.2)}to{opacity:0;transform:scale(1.4)}}@keyframes pulse-slow{0%,to{opacity:.2;transform:scale(1)}50%{opacity:.3;transform:scale(1.15)}}@keyframes success-icon{0%{transform:scale(0)rotate(-180deg)}50%{transform:scale(1.2)rotate(10deg)}to{transform:scale(1)rotate(0)}}@keyframes error-icon{0%{transform:scale(0)rotate(0)}50%{transform:scale(1.2)}to{transform:scale(1)}}@keyframes shake{0%,to{transform:translate(0)}10%,30%,50%,70%,90%{transform:translate(-3px)}20%,40%,60%,80%{transform:translate(3px)}}@keyframes sparkle-1{0%,to{opacity:0;transform:scale(0)rotate(0)}50%{opacity:1;transform:scale(1)rotate(180deg)}}@keyframes sparkle-2{0%,to{opacity:0;transform:scale(0)rotate(0)}60%{opacity:1;transform:scale(1)rotate(180deg)}}@keyframes sparkle-3{0%,to{opacity:0;transform:scale(0)rotate(0)}40%{opacity:1;transform:scale(1)rotate(180deg)}}@keyframes progress{0%{width:0%}to{width:100%}}.animate-gradient.jsx-39caaad5107536c0{animation:3s ease-in-out infinite gradient}.animate-ping-slow.jsx-39caaad5107536c0{animation:2s cubic-bezier(0,0,.2,1) infinite ping-slow}.animate-pulse-slow.jsx-39caaad5107536c0{animation:2s cubic-bezier(.4,0,.6,1) infinite pulse-slow}.animate-success-icon.jsx-39caaad5107536c0{animation:.6s cubic-bezier(.68,-.55,.265,1.55) success-icon}.animate-error-icon.jsx-39caaad5107536c0{animation:.6s cubic-bezier(.68,-.55,.265,1.55) error-icon}.animate-shake.jsx-39caaad5107536c0{animation:.5s cubic-bezier(.36,.07,.19,.97) .6s shake}.animate-sparkle-1.jsx-39caaad5107536c0{animation:1s ease-in-out .3s sparkle-1}.animate-sparkle-2.jsx-39caaad5107536c0{animation:1s ease-in-out .4s sparkle-2}.animate-sparkle-3.jsx-39caaad5107536c0{animation:1s ease-in-out .5s sparkle-3}.animate-progress.jsx-39caaad5107536c0{animation:3s linear progress}"})]})},k="https://raw.githubusercontent.com/kongvut/thai-province-data/refs/heads/master/api/latest",C=null,_=null,S=async()=>C||(_||(_=Promise.all([fetch(`${k}/province.json`).then(e=>{if(!e.ok)throw Error("à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹‚à¸«à¸¥à¸”à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”à¹„à¸”à¹‰");return e.json()}),fetch(`${k}/district.json`).then(e=>{if(!e.ok)throw Error("à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹‚à¸«à¸¥à¸”à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸­à¸³à¹€à¸ à¸­à¹„à¸”à¹‰");return e.json()}),fetch(`${k}/sub_district.json`).then(e=>{if(!e.ok)throw Error("à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹‚à¸«à¸¥à¸”à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸•à¸³à¸šà¸¥à¹„à¸”à¹‰");return e.json()})]).then(([e,t,s])=>{let a={provinces:e,districts:t,subdistricts:s};return C=a,a})),_),D=e=>e?e.trim().toLowerCase():"",$=(e,t)=>{let s=D(t);return!!s&&(D(e.name_th)===s||D(e.name_en)===s)},E=[{key:"patient",label:"à¸œà¸¹à¹‰à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£"},{key:"provider",label:"à¸œà¸¹à¹‰à¹ƒà¸«à¹‰à¸‚à¹‰à¸­à¸¡à¸¹à¸¥"}],O=()=>E.reduce((e,t)=>(e[t.key]={weight:"",height:"",hasChronic:!1,chronicDiseaseDetail:"",hasDrugAllergy:!1,drugAllergyDetail:"",signatureUrl:"",medicalConsent:"",acceptPdpa:"",acceptMedia:""},e),{}),F=["à¸¢à¸´à¸™à¸¢à¸­à¸¡","à¹„à¸¡à¹ˆà¸¢à¸´à¸™à¸¢à¸­à¸¡"],P=["à¸‚à¹‰à¸²à¸žà¹€à¸ˆà¹‰à¸²à¸‚à¸­à¹à¸ªà¸”à¸‡à¸„à¸§à¸²à¸¡à¸¢à¸´à¸™à¸¢à¸­à¸¡à¹à¸¥à¸°à¸£à¸±à¸šà¸—à¸£à¸²à¸šà¹€à¸‡à¸·à¹ˆà¸­à¸™à¹„à¸‚à¸à¸²à¸£à¸•à¸£à¸§à¸ˆà¸£à¸±à¸à¸©à¸²à¸”à¸±à¸‡à¸•à¹ˆà¸­à¹„à¸›à¸™à¸µà¹‰","à¸‚à¹‰à¸²à¸žà¹€à¸ˆà¹‰à¸²à¸¢à¸´à¸™à¸¢à¸­à¸¡à¹€à¸‚à¹‰à¸²à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£à¸«à¸±à¸•à¸–à¸à¸²à¸£, à¸à¸²à¸£à¸¨à¸±à¸¥à¸¢à¸à¸£à¸£à¸¡ à¸«à¸£à¸·à¸­à¸à¸²à¸£à¸£à¸±à¸à¸©à¸²à¸—à¸²à¸‡à¸à¸²à¸£à¹à¸žà¸—à¸¢à¹Œà¸­à¸·à¹ˆà¸™ à¹† à¸•à¸²à¸¡à¸—à¸µà¹ˆà¹à¸žà¸—à¸¢à¹Œà¹€à¸«à¹‡à¸™à¸ªà¸¡à¸„à¸§à¸£","à¸‚à¹‰à¸²à¸žà¹€à¸ˆà¹‰à¸²à¸•à¸à¸¥à¸‡à¸¢à¸´à¸™à¸¢à¸­à¸¡à¹ƒà¸«à¹‰à¸—à¸µà¸¡à¹à¸žà¸—à¸¢à¹Œà¹à¸¥à¸°à¸šà¸¸à¸„à¸¥à¸²à¸à¸£à¸—à¸²à¸‡à¸à¸²à¸£à¹à¸žà¸—à¸¢à¹Œ à¸”à¸³à¹€à¸™à¸´à¸™à¸à¸²à¸£à¸•à¸£à¸§à¸ˆà¸§à¸´à¸™à¸´à¸ˆà¸‰à¸±à¸¢ à¸£à¸±à¸à¸©à¸² à¹ƒà¸«à¹‰à¸„à¸³à¸›à¸£à¸¶à¸à¸©à¸² à¸«à¸£à¸·à¸­à¸—à¸³à¸«à¸±à¸•à¸–à¸à¸²à¸£à¸•à¹ˆà¸²à¸‡ à¹† à¸—à¸µà¹ˆà¸ˆà¸³à¹€à¸›à¹‡à¸™ à¸­à¸±à¸™à¸£à¸§à¸¡à¸–à¸¶à¸‡à¹à¸•à¹ˆà¹„à¸¡à¹ˆà¸ˆà¸³à¸à¸±à¸”à¹€à¸žà¸µà¸¢à¸‡ à¸à¸²à¸£à¸‰à¸µà¸”à¸¢à¸², à¸à¸²à¸£à¹€à¸ˆà¸²à¸°à¹€à¸¥à¸·à¸­à¸”, à¸à¸²à¸£à¸—à¸³à¸«à¸±à¸•à¸–à¸à¸²à¸£à¹€à¸¥à¹‡à¸, à¸à¸²à¸£à¸—à¸³à¹€à¸¥à¹€à¸‹à¸­à¸£à¹Œ, à¸à¸²à¸£à¸œà¹ˆà¸²à¸•à¸±à¸”à¹€à¸‰à¸žà¸²à¸°à¸ˆà¸¸à¸” à¹à¸¥à¸°à¸à¸²à¸£à¸£à¸±à¸à¸©à¸²à¹‚à¸”à¸¢à¹€à¸—à¸„à¹‚à¸™à¹‚à¸¥à¸¢à¸µà¸•à¹ˆà¸²à¸‡ à¹† à¸•à¸²à¸¡à¸”à¸¸à¸¥à¸¢à¸žà¸´à¸™à¸´à¸ˆà¸‚à¸­à¸‡à¹à¸žà¸—à¸¢à¹Œ","à¸‚à¹‰à¸²à¸žà¹€à¸ˆà¹‰à¸²à¸£à¸±à¸šà¸—à¸£à¸²à¸šà¸–à¸¶à¸‡à¸œà¸¥à¸¥à¸±à¸žà¸˜à¹Œà¸—à¸µà¹ˆà¸­à¸²à¸ˆà¹€à¸à¸´à¸”à¸‚à¸¶à¹‰à¸™ à¸£à¸§à¸¡à¸–à¸¶à¸‡à¸ à¸²à¸§à¸°à¹à¸—à¸£à¸à¸‹à¹‰à¸­à¸™à¸«à¸£à¸·à¸­à¸„à¸§à¸²à¸¡à¹€à¸ªà¸µà¹ˆà¸¢à¸‡à¸•à¹ˆà¸²à¸‡ à¹† à¸—à¸µà¹ˆà¸­à¸²à¸ˆà¹€à¸à¸´à¸”à¸‚à¸¶à¹‰à¸™à¹„à¸”à¹‰à¸ˆà¸²à¸à¸à¸²à¸£à¸•à¸£à¸§à¸ˆà¸£à¸±à¸à¸©à¸²à¸«à¸£à¸·à¸­à¸«à¸±à¸•à¸–à¸à¸²à¸£à¸”à¸±à¸‡à¸à¸¥à¹ˆà¸²à¸§ à¹à¸¥à¸°à¸‚à¸­à¸¢à¸·à¸™à¸¢à¸±à¸™à¸§à¹ˆà¸²à¹„à¸”à¹‰à¸£à¸±à¸šà¸„à¸³à¸­à¸˜à¸´à¸šà¸²à¸¢à¸ˆà¸²à¸à¸šà¸¸à¸„à¸¥à¸²à¸à¸£à¸—à¸²à¸‡à¸à¸²à¸£à¹à¸žà¸—à¸¢à¹Œà¸­à¸¢à¹ˆà¸²à¸‡à¹€à¸žà¸µà¸¢à¸‡à¸žà¸­à¹à¸¥à¹‰à¸§","à¹ƒà¸™à¸à¸£à¸“à¸µà¹€à¸à¸´à¸”à¹€à¸«à¸•à¸¸à¸à¸²à¸£à¸“à¹Œà¸‰à¸¸à¸à¹€à¸‰à¸´à¸™ à¸‚à¹‰à¸²à¸žà¹€à¸ˆà¹‰à¸²à¸¢à¸´à¸™à¸¢à¸­à¸¡à¹ƒà¸«à¹‰à¸šà¸¸à¸„à¸¥à¸²à¸à¸£à¸—à¸²à¸‡à¸à¸²à¸£à¹à¸žà¸—à¸¢à¹Œà¸”à¸³à¹€à¸™à¸´à¸™à¸à¸²à¸£à¸£à¸±à¸à¸©à¸²à¸­à¸¢à¹ˆà¸²à¸‡à¹€à¸£à¹ˆà¸‡à¸”à¹ˆà¸§à¸™à¸•à¸²à¸¡à¸„à¸§à¸²à¸¡à¹€à¸«à¸¡à¸²à¸°à¸ªà¸¡à¹‚à¸”à¸¢à¹„à¸¡à¹ˆà¸ˆà¸³à¹€à¸›à¹‡à¸™à¸•à¹‰à¸­à¸‡à¸‚à¸­à¸„à¸§à¸²à¸¡à¸¢à¸´à¸™à¸¢à¸­à¸¡à¹€à¸žà¸´à¹ˆà¸¡à¹€à¸•à¸´à¸¡","à¸‚à¹‰à¸²à¸žà¹€à¸ˆà¹‰à¸²à¸£à¸±à¸šà¸—à¸£à¸²à¸šà¸–à¸¶à¸‡à¸ªà¸´à¸—à¸˜à¸´à¹Œà¸‚à¸­à¸‡à¸‚à¹‰à¸²à¸žà¹€à¸ˆà¹‰à¸²à¹ƒà¸™à¸à¸²à¸£à¸‚à¸­à¹€à¸‚à¹‰à¸²à¸–à¸¶à¸‡ à¹à¸à¹‰à¹„à¸‚ à¸«à¸£à¸·à¸­à¹€à¸žà¸´à¸à¸–à¸­à¸™à¸„à¸§à¸²à¸¡à¸¢à¸´à¸™à¸¢à¸­à¸¡à¹ƒà¸™à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ªà¹ˆà¸§à¸™à¸šà¸¸à¸„à¸„à¸¥ à¸•à¸²à¸¡à¸—à¸µà¹ˆà¸à¸Žà¸«à¸¡à¸²à¸¢ PDPA à¸à¸³à¸«à¸™à¸”","à¸‚à¹‰à¸²à¸žà¹€à¸ˆà¹‰à¸²à¹€à¸‚à¹‰à¸²à¹ƒà¸ˆà¹à¸¥à¸°à¸¢à¸´à¸™à¸¢à¸­à¸¡à¸§à¹ˆà¸² à¹€à¸¡à¸·à¹ˆà¸­à¹„à¸”à¹‰à¸¡à¸µà¸à¸²à¸£à¸Šà¸³à¸£à¸°à¹€à¸‡à¸´à¸™à¸¡à¸±à¸”à¸ˆà¸³à¹€à¸žà¸·à¹ˆà¸­à¸¢à¸·à¸™à¸¢à¸±à¸™à¸à¸²à¸£à¸ˆà¸­à¸‡à¸šà¸£à¸´à¸à¸²à¸£à¹à¸¥à¹‰à¸§ à¸ˆà¸°à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸‚à¸­à¸„à¸·à¸™à¹€à¸‡à¸´à¸™à¸¡à¸±à¸”à¸ˆà¸³à¸”à¸±à¸‡à¸à¸¥à¹ˆà¸²à¸§à¹„à¸”à¹‰à¹„à¸¡à¹ˆà¸§à¹ˆà¸²à¸à¸£à¸“à¸µà¹ƒà¸” à¹†","à¸‚à¹‰à¸²à¸žà¹€à¸ˆà¹‰à¸²à¹„à¸”à¹‰à¸­à¹ˆà¸²à¸™à¹à¸¥à¸°à¹€à¸‚à¹‰à¸²à¹ƒà¸ˆà¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¸‚à¹‰à¸²à¸‡à¸•à¹‰à¸™à¹‚à¸”à¸¢à¸Šà¸±à¸”à¹€à¸ˆà¸™à¹à¸¥à¹‰à¸§ à¹à¸¥à¸°à¸¢à¸´à¸™à¸¢à¸­à¸¡à¹‚à¸”à¸¢à¸ªà¸¡à¸±à¸„à¸£à¹ƒà¸ˆ à¹‚à¸”à¸¢à¹„à¸¡à¹ˆà¸¡à¸µà¸à¸²à¸£à¸šà¸±à¸‡à¸„à¸±à¸šà¸«à¸£à¸·à¸­à¸«à¸¥à¸­à¸à¸¥à¸§à¸‡à¹ƒà¸” à¹† à¸—à¸±à¹‰à¸‡à¸ªà¸´à¹‰à¸™","à¸œà¸¹à¹‰à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£à¸‚à¸­à¸£à¸±à¸šà¸£à¸­à¸‡à¸§à¹ˆà¸²à¹„à¸”à¹‰à¹à¸ªà¸”à¸‡à¹€à¸ˆà¸•à¸™à¸²à¹„à¸§à¹‰à¸à¹ˆà¸­à¸™à¹€à¸‚à¹‰à¸²à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£à¸£à¸±à¸à¸©à¸²à¹à¸¥à¸°/à¸«à¸£à¸·à¸­à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£à¹ƒà¸” à¹† à¸à¹‡à¸•à¸²à¸¡ à¸œà¸¹à¹‰à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£à¸«à¸£à¸·à¸­à¸œà¸¹à¹‰à¹à¸—à¸™à¸‚à¸­à¸ªà¸¥à¸°à¸ªà¸´à¸—à¸˜à¸´à¹Œà¸—à¸¸à¸à¸›à¸£à¸°à¹€à¸ à¸—à¸—à¸µà¹ˆà¸ˆà¸°à¹€à¸£à¸µà¸¢à¸à¸£à¹‰à¸­à¸‡à¸„à¹ˆà¸²à¹€à¸ªà¸µà¸¢à¸«à¸²à¸¢à¸«à¸£à¸·à¸­à¸„à¹ˆà¸²à¹ƒà¸Šà¹‰à¸ˆà¹ˆà¸²à¸¢à¹ƒà¸” à¹† à¸ˆà¸²à¸à¸šà¸£à¸´à¸©à¸±à¸—à¸«à¸£à¸·à¸­à¹à¸žà¸—à¸¢à¹Œà¸œà¸¹à¹‰à¹€à¸Šà¸µà¹ˆà¸¢à¸§à¸Šà¸²à¸à¸«à¸£à¸·à¸­à¸œà¸¹à¹‰à¹ƒà¸«à¹‰à¸šà¸£à¸´à¸à¸²à¸£","à¸œà¸¹à¹‰à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£à¸—à¸£à¸²à¸šà¸”à¸µà¸§à¹ˆà¸²à¸à¸²à¸£à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£à¸™à¸µà¹‰à¹€à¸›à¹‡à¸™à¸„à¸§à¸²à¸¡à¸¢à¸´à¸™à¸¢à¸­à¸¡à¹à¸¥à¸°à¸ªà¸¡à¸±à¸„à¸£à¹ƒà¸ˆà¹‚à¸”à¸¢à¹„à¸¡à¹ˆà¹„à¸”à¹‰à¸–à¸¹à¸à¸šà¸±à¸‡à¸„à¸±à¸š à¸«à¸¥à¸­à¸à¸¥à¸§à¸‡ à¸«à¸£à¸·à¸­à¹€à¸‚à¹‰à¸²à¹ƒà¸ˆà¸œà¸´à¸”à¹ƒà¸™à¸ªà¸²à¸£à¸°à¸ªà¸³à¸„à¸±à¸à¸‚à¸­à¸‡à¸‚à¹‰à¸­à¹€à¸—à¹‡à¸ˆà¸ˆà¸£à¸´à¸‡","à¹„à¸¡à¹ˆà¸§à¹ˆà¸²à¸à¸£à¸“à¸µà¹ƒà¸” à¹† à¸œà¸¹à¹‰à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£à¸ˆà¸°à¹„à¸¡à¹ˆà¸šà¸­à¸à¹€à¸¥à¸´à¸à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸šà¸£à¸´à¸à¸²à¸£à¸«à¸£à¸·à¸­à¸‚à¸­à¸„à¸·à¸™à¹€à¸‡à¸´à¸™à¸—à¸µà¹ˆà¸Šà¸³à¸£à¸°à¹„à¸§à¹‰à¹à¸¥à¹‰à¸§","à¸à¸£à¸“à¸µà¸Šà¸³à¸£à¸°à¹€à¸‡à¸´à¸™à¸¡à¸±à¸”à¸ˆà¸³à¹„à¸§à¹‰à¸šà¸²à¸‡à¸ªà¹ˆà¸§à¸™à¹à¸¥à¸°à¸‚à¸²à¸”à¸à¸²à¸£à¸•à¸´à¸”à¸•à¹ˆà¸­à¸«à¸£à¸·à¸­à¹„à¸¡à¹ˆà¹€à¸‚à¹‰à¸²à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£à¹€à¸à¸´à¸™ 6 à¹€à¸”à¸·à¸­à¸™ à¸œà¸¹à¹‰à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£à¸ˆà¸°à¸«à¸¡à¸”à¸­à¸²à¸¢à¸¸à¸à¸²à¸£à¹€à¸›à¹‡à¸™à¸ªà¸¡à¸²à¸Šà¸´à¸ à¸¢à¸à¹€à¸§à¹‰à¸™à¸à¸£à¸“à¸µà¸Šà¸³à¸£à¸°à¹€à¸‡à¸´à¸™à¸„à¸£à¸šà¸–à¹‰à¸§à¸™à¸•à¸²à¸¡à¹‚à¸›à¸£à¹à¸à¸£à¸¡ à¸œà¸¹à¹‰à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£à¸ˆà¸°à¸•à¹‰à¸­à¸‡à¹€à¸‚à¹‰à¸²à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£à¹ƒà¸«à¹‰à¸„à¸£à¸šà¸ à¸²à¸¢à¹ƒà¸™à¸£à¸°à¸¢à¸°à¹€à¸§à¸¥à¸² 2 à¸›à¸µ à¸«à¸²à¸à¹€à¸à¸´à¸™à¸à¸³à¸«à¸™à¸” à¸šà¸£à¸´à¸©à¸±à¸—à¸¡à¸µà¸ªà¸´à¸—à¸˜à¸´à¹Œà¸¢à¸à¹€à¸¥à¸´à¸à¸à¸²à¸£à¹ƒà¸«à¹‰à¸šà¸£à¸´à¸à¸²à¸£à¹‚à¸”à¸¢à¹„à¸¡à¹ˆà¸•à¹‰à¸­à¸‡à¹à¸ˆà¹‰à¸‡à¸¥à¹ˆà¸§à¸‡à¸«à¸™à¹‰à¸²","à¸œà¸¹à¹‰à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£à¸•à¹‰à¸­à¸‡à¸Šà¸³à¸£à¸°à¸„à¹ˆà¸²à¸šà¸£à¸´à¸à¸²à¸£à¹ƒà¸«à¹‰à¸„à¸£à¸šà¸–à¹‰à¸§à¸™à¸•à¸²à¸¡à¸—à¸µà¹ˆà¸•à¸à¸¥à¸‡à¹„à¸§à¹‰ à¸¡à¸´à¸‰à¸°à¸™à¸±à¹‰à¸™à¹‚à¸›à¸£à¹à¸à¸£à¸¡à¸ˆà¸°à¸ªà¸´à¹‰à¸™à¸ªà¸¸à¸”à¸¥à¸‡à¹‚à¸”à¸¢à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´","à¸«à¸²à¸à¸œà¸¹à¹‰à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£à¸Šà¸³à¸£à¸°à¹€à¸‡à¸´à¸™à¹„à¸¡à¹ˆà¸„à¸£à¸šà¸–à¹‰à¸§à¸™ à¸«à¸²à¸à¸¡à¸µà¸à¸²à¸£à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£ à¸šà¸£à¸´à¸©à¸±à¸—à¸ˆà¸°à¸„à¸³à¸™à¸§à¸“à¸«à¸±à¸à¸„à¹ˆà¸²à¹ƒà¸Šà¹‰à¸šà¸£à¸´à¸à¸²à¸£à¸ˆà¸²à¸à¸£à¸²à¸„à¸²à¹€à¸•à¹‡à¸¡ à¸ˆà¸™à¸à¸§à¹ˆà¸²à¸ˆà¸°à¸Šà¸³à¸£à¸°à¸„à¸£à¸šà¹à¸¥à¹‰à¸§à¸ˆà¸¶à¸‡à¸„à¸´à¸”à¸£à¸²à¸„à¸²à¸•à¸²à¸¡à¸ªà¹ˆà¸§à¸™à¸¥à¸”à¸«à¸£à¸·à¸­à¹‚à¸›à¸£à¹‚à¸¡à¸Šà¸±à¹ˆà¸™","à¹‚à¸›à¸£à¹à¸à¸£à¸¡à¸™à¸µà¹‰à¹€à¸›à¹‡à¸™à¹‚à¸›à¸£à¹à¸à¸£à¸¡à¹€à¸‰à¸žà¸²à¸°à¸šà¸¸à¸„à¸„à¸¥ à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹‚à¸­à¸™à¸ªà¸´à¸—à¸˜à¸´à¹Œà¹ƒà¸«à¹‰à¸œà¸¹à¹‰à¸­à¸·à¹ˆà¸™à¹„à¸”à¹‰","à¸à¸£à¸“à¸µà¸¡à¸µà¸›à¸±à¸à¸«à¸²à¸ªà¸¸à¸‚à¸ à¸²à¸žà¸—à¸µà¹ˆà¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹ƒà¸Šà¹‰à¹‚à¸›à¸£à¹à¸à¸£à¸¡à¸•à¹ˆà¸­à¹„à¸”à¹‰ à¸•à¹‰à¸­à¸‡à¹„à¸”à¹‰à¸£à¸±à¸šà¸à¸²à¸£à¸•à¸£à¸§à¸ˆà¹à¸¥à¸°à¸¢à¸·à¸™à¸¢à¸±à¸™à¸ˆà¸²à¸à¹à¸žà¸—à¸¢à¹Œà¹€à¸—à¹ˆà¸²à¸™à¸±à¹‰à¸™ à¸šà¸£à¸´à¸©à¸±à¸—à¸ˆà¸°à¸„à¸·à¸™à¹€à¸‡à¸´à¸™à¹„à¸¡à¹ˆà¹€à¸à¸´à¸™ 70% à¸‚à¸­à¸‡à¸£à¸²à¸„à¸²à¹€à¸•à¹‡à¸¡","à¸œà¸¹à¹‰à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£à¸—à¸£à¸²à¸šà¹à¸¥à¸°à¸•à¸à¸¥à¸‡à¸§à¹ˆà¸²à¸ˆà¸°à¹„à¸¡à¹ˆà¸–à¸·à¸­à¹€à¸­à¸²à¸„à¹ˆà¸²à¹‚à¸†à¸©à¸“à¸² à¸„à¸³à¸Šà¸§à¸™ à¸„à¸³à¹à¸™à¸°à¸™à¸³ à¸«à¸£à¸·à¸­à¸„à¸³à¸šà¸£à¸£à¸¢à¸²à¸¢à¸ªà¸£à¸£à¸žà¸„à¸¸à¸“à¹ƒà¸” à¹† à¸ˆà¸²à¸à¸žà¸™à¸±à¸à¸‡à¸²à¸™à¹€à¸›à¹‡à¸™à¸ªà¹ˆà¸§à¸™à¸«à¸™à¸¶à¹ˆà¸‡à¸‚à¸­à¸‡à¸‚à¹‰à¸­à¸•à¸à¸¥à¸‡ à¸—à¸±à¹‰à¸‡à¸™à¸µà¹‰à¸œà¸¥à¸¥à¸±à¸žà¸˜à¹Œà¸‚à¸¶à¹‰à¸™à¸à¸±à¸šà¸ªà¸¸à¸‚à¸ à¸²à¸žà¸£à¹ˆà¸²à¸‡à¸à¸²à¸¢ à¸ªà¸ à¸²à¸žà¸œà¸´à¸§ à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸¢à¸² à¸ªà¸´à¹ˆà¸‡à¹à¸§à¸”à¸¥à¹‰à¸­à¸¡ à¹à¸¥à¸°à¸žà¸¤à¸•à¸´à¸à¸£à¸£à¸¡à¸‚à¸­à¸‡à¸œà¸¹à¹‰à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£","à¸«à¸²à¸à¸šà¸£à¸´à¸©à¸±à¸—à¸žà¸´à¸ˆà¸²à¸£à¸“à¸²à¸§à¹ˆà¸²à¸ªà¸ à¸²à¸žà¸œà¸´à¸§à¸«à¸£à¸·à¸­à¸£à¹ˆà¸²à¸‡à¸à¸²à¸¢à¸œà¸¹à¹‰à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£à¹„à¸¡à¹ˆà¸žà¸£à¹‰à¸­à¸¡ à¸šà¸£à¸´à¸©à¸±à¸—à¸‚à¸­à¸ªà¸‡à¸§à¸™à¸ªà¸´à¸—à¸˜à¸´à¹Œà¸«à¸¢à¸¸à¸”à¸«à¸£à¸·à¸­à¸¢à¸à¹€à¸¥à¸´à¸à¸šà¸£à¸´à¸à¸²à¸£à¸šà¸²à¸‡à¸ªà¹ˆà¸§à¸™à¸«à¸£à¸·à¸­à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”à¹„à¸”à¹‰à¸—à¸±à¸™à¸—à¸µ","à¸œà¸¹à¹‰à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£à¸¢à¸´à¸™à¸¢à¸­à¸¡à¹ƒà¸«à¹‰à¸•à¸£à¸§à¸ˆà¸ªà¸¸à¸‚à¸ à¸²à¸žà¹à¸¥à¸°à¸—à¸³à¹à¸šà¸šà¸—à¸”à¸ªà¸­à¸šà¸•à¹ˆà¸²à¸‡ à¹† à¸•à¸²à¸¡à¸—à¸µà¹ˆà¸šà¸£à¸´à¸©à¸±à¸—à¸à¸³à¸«à¸™à¸”","à¸œà¸¹à¹‰à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£à¸•à¸à¸¥à¸‡à¸£à¸±à¸šà¸œà¸´à¸”à¸Šà¸­à¸šà¸•à¹ˆà¸­à¸„à¸§à¸²à¸¡à¹€à¸ªà¸µà¸¢à¸«à¸²à¸¢à¸—à¸µà¹ˆà¹€à¸à¸´à¸”à¸‚à¸¶à¹‰à¸™à¸à¸±à¸šà¸—à¸£à¸±à¸žà¸¢à¹Œà¸ªà¸´à¸™à¸‚à¸­à¸‡à¸•à¸™à¹€à¸­à¸‡","à¸œà¸¹à¹‰à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£à¸•à¸à¸¥à¸‡à¸£à¸±à¸šà¸œà¸´à¸”à¸Šà¸­à¸šà¸•à¹ˆà¸­à¸à¸²à¸£à¸à¸£à¸°à¸—à¸³à¹ƒà¸” à¹† à¸—à¸µà¹ˆà¸à¹ˆà¸­à¹ƒà¸«à¹‰à¹€à¸à¸´à¸”à¸„à¸§à¸²à¸¡à¹€à¸ªà¸µà¸¢à¸«à¸²à¸¢à¸•à¹ˆà¸­à¸—à¸£à¸±à¸žà¸¢à¹Œà¸ªà¸´à¸™à¸«à¸£à¸·à¸­à¸Šà¸·à¹ˆà¸­à¹€à¸ªà¸µà¸¢à¸‡à¸‚à¸­à¸‡à¸šà¸£à¸´à¸©à¸±à¸—","à¸šà¸£à¸´à¸©à¸±à¸—à¸¡à¸µà¸ªà¸´à¸—à¸˜à¸´à¹Œà¸«à¸¢à¸¸à¸” à¸£à¸°à¸‡à¸±à¸š à¸«à¸£à¸·à¸­à¸¢à¸à¹€à¸¥à¸´à¸à¸à¸²à¸£à¹ƒà¸«à¹‰à¸šà¸£à¸´à¸à¸²à¸£à¸«à¸²à¸à¸œà¸¹à¹‰à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£à¸¡à¸µà¸žà¸¤à¸•à¸´à¸à¸£à¸£à¸¡à¹„à¸¡à¹ˆà¹€à¸«à¸¡à¸²à¸°à¸ªà¸¡","à¸ªà¸±à¸à¸à¸²à¸™à¸µà¹‰à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸”à¸±à¸”à¹à¸›à¸¥à¸‡ à¹à¸à¹‰à¹„à¸‚ à¸«à¸£à¸·à¸­à¸‚à¸¹à¸”à¸¥à¸šà¹ƒà¸” à¹† à¹€à¸§à¹‰à¸™à¹à¸•à¹ˆà¸¡à¸µà¸‚à¹‰à¸­à¸•à¸à¸¥à¸‡à¹€à¸›à¹‡à¸™à¸¥à¸²à¸¢à¸¥à¸±à¸à¸©à¸“à¹Œà¸­à¸±à¸à¸©à¸£","à¸à¸£à¸“à¸µà¸Šà¸³à¸£à¸°à¸¢à¸­à¸”à¸„à¸‡à¹€à¸«à¸¥à¸·à¸­ à¸œà¸¹à¹‰à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£à¸•à¹‰à¸­à¸‡à¸Šà¸³à¸£à¸°à¸ à¸²à¸¢à¹ƒà¸™ 14 à¸§à¸±à¸™à¸™à¸±à¸šà¸ˆà¸²à¸à¸§à¸±à¸™à¸—à¸µà¹ˆà¸•à¸à¸¥à¸‡à¹ƒà¸Šà¹‰à¸šà¸£à¸´à¸à¸²à¸£","à¸ˆà¸”à¸„à¸·à¸™à¹€à¸‡à¸´à¸™à¸—à¸¸à¸à¸à¸£à¸“à¸µ: No Refund"],T=["PDPA - à¸‚à¹‰à¸²à¸žà¹€à¸ˆà¹‰à¸²à¸¢à¸´à¸™à¸¢à¸­à¸¡à¹ƒà¸«à¹‰à¹‚à¸£à¸‡à¸žà¸¢à¸²à¸šà¸²à¸¥/à¸„à¸¥à¸´à¸™à¸´à¸ à¹€à¸à¹‡à¸š à¸£à¸§à¸šà¸£à¸§à¸¡ à¹ƒà¸Šà¹‰ à¹à¸¥à¸°à¹€à¸›à¸´à¸”à¹€à¸œà¸¢à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ªà¹ˆà¸§à¸™à¸šà¸¸à¸„à¸„à¸¥à¹€à¸žà¸·à¹ˆà¸­à¸§à¸±à¸•à¸–à¸¸à¸›à¸£à¸°à¸ªà¸‡à¸„à¹Œà¹ƒà¸™à¸à¸²à¸£à¹ƒà¸«à¹‰à¸šà¸£à¸´à¸à¸²à¸£à¸—à¸²à¸‡à¸à¸²à¸£à¹à¸žà¸—à¸¢à¹Œ à¹à¸¥à¸°/à¸«à¸£à¸·à¸­à¸à¸²à¸£à¹ƒà¸Šà¹‰à¹€à¸žà¸·à¹ˆà¸­à¸›à¸£à¸°à¹‚à¸¢à¸Šà¸™à¹Œà¸—à¸²à¸‡à¸à¸²à¸£à¹à¸žà¸—à¸¢à¹Œà¸­à¸·à¹ˆà¸™ à¹†","à¸‚à¹‰à¸²à¸žà¹€à¸ˆà¹‰à¸²à¸¢à¸´à¸™à¸¢à¸­à¸¡à¹ƒà¸«à¹‰à¸¡à¸µà¸à¸²à¸£à¸šà¸±à¸™à¸—à¸¶à¸à¸ à¸²à¸žà¸–à¹ˆà¸²à¸¢ à¸§à¸´à¸”à¸µà¹‚à¸­ à¸«à¸£à¸·à¸­à¹€à¸­à¸à¸ªà¸²à¸£à¸—à¸²à¸‡à¸à¸²à¸£à¹à¸žà¸—à¸¢à¹Œà¸—à¸µà¹ˆà¹€à¸à¸µà¹ˆà¸¢à¸§à¸‚à¹‰à¸­à¸‡ à¹€à¸žà¸·à¹ˆà¸­à¸›à¸£à¸°à¸à¸­à¸šà¸à¸²à¸£à¸£à¸±à¸à¸©à¸² à¸•à¸´à¸”à¸•à¸²à¸¡à¸œà¸¥ à¸«à¸£à¸·à¸­à¹ƒà¸Šà¹‰à¹€à¸žà¸·à¹ˆà¸­à¸à¸²à¸£à¸¨à¸¶à¸à¸©à¸² à¸§à¸´à¸ˆà¸±à¸¢ à¸«à¸£à¸·à¸­à¸›à¸£à¸°à¸Šà¸²à¸ªà¸±à¸¡à¸žà¸±à¸™à¸˜à¹Œ (à¹‚à¸”à¸¢à¹„à¸¡à¹ˆà¹€à¸›à¸´à¸”à¹€à¸œà¸¢à¸•à¸±à¸§à¸•à¸™ à¹€à¸§à¹‰à¸™à¹à¸•à¹ˆà¸ˆà¸°à¹„à¸”à¹‰à¸£à¸±à¸šà¸„à¸§à¸²à¸¡à¸¢à¸´à¸™à¸¢à¸­à¸¡à¹€à¸›à¹‡à¸™à¸¥à¸²à¸¢à¸¥à¸±à¸à¸©à¸“à¹Œà¸­à¸±à¸à¸©à¸£à¹€à¸žà¸´à¹ˆà¸¡à¹€à¸•à¸´à¸¡)"],z=["à¸‚à¹‰à¸²à¸žà¹€à¸ˆà¹‰à¸²à¸¢à¸´à¸™à¸¢à¸­à¸¡à¹ƒà¸«à¹‰à¸„à¸¥à¸´à¸™à¸´à¸à¹ƒà¸Šà¹‰à¸ à¸²à¸žà¸–à¹ˆà¸²à¸¢ à¸«à¸£à¸·à¸­à¸§à¸´à¸”à¸µà¹‚à¸­à¸—à¸µà¹ˆà¹€à¸à¸´à¸”à¸‚à¸¶à¹‰à¸™à¸£à¸°à¸«à¸§à¹ˆà¸²à¸‡à¸à¸²à¸£à¸£à¸±à¸à¸©à¸²à¹€à¸žà¸·à¹ˆà¸­à¸›à¸£à¸°à¸à¸­à¸šà¸à¸²à¸£à¸¨à¸¶à¸à¸©à¸²à¸ à¸²à¸¢à¹ƒà¸™à¸«à¸£à¸·à¸­à¸›à¸£à¸°à¸Šà¸²à¸ªà¸±à¸¡à¸žà¸±à¸™à¸˜à¹Œ à¹‚à¸”à¸¢à¹„à¸¡à¹ˆà¸£à¸°à¸šà¸¸à¸Šà¸·à¹ˆà¸­à¸šà¸¸à¸„à¸„à¸¥ à¹à¸¥à¸°à¸‚à¸­à¸ªà¸‡à¸§à¸™à¸ªà¸´à¸—à¸˜à¸´à¹Œà¹ƒà¸™à¸à¸²à¸£à¸‚à¸­à¸„à¸§à¸²à¸¡à¸¢à¸´à¸™à¸¢à¸­à¸¡à¹€à¸žà¸´à¹ˆà¸¡à¹€à¸•à¸´à¸¡à¸«à¸²à¸à¸¡à¸µà¸à¸²à¸£à¹€à¸›à¸´à¸”à¹€à¸œà¸¢à¸•à¸±à¸§à¸•à¸™","à¸‚à¹‰à¸²à¸žà¹€à¸ˆà¹‰à¸²à¸¢à¸´à¸™à¸¢à¸­à¸¡à¸£à¸±à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸›à¸£à¸°à¸Šà¸²à¸ªà¸±à¸¡à¸žà¸±à¸™à¸˜à¹Œà¹€à¸à¸µà¹ˆà¸¢à¸§à¸à¸±à¸šà¸à¸²à¸£à¸£à¸±à¸à¸©à¸² à¸œà¹ˆà¸²à¸™à¸Šà¹ˆà¸­à¸‡à¸—à¸²à¸‡à¸—à¸µà¹ˆà¸„à¸¥à¸´à¸™à¸´à¸à¸à¸³à¸«à¸™à¸” à¹€à¸žà¸·à¹ˆà¸­à¹€à¸›à¹‡à¸™à¸ªà¹ˆà¸§à¸™à¸«à¸™à¸¶à¹ˆà¸‡à¸‚à¸­à¸‡à¸à¸²à¸£à¸•à¸´à¸”à¸•à¸²à¸¡à¸œà¸¥à¸à¸²à¸£à¸£à¸±à¸à¸©à¸²à¸«à¸£à¸·à¸­à¸à¸²à¸£à¹ƒà¸«à¹‰à¸‚à¹ˆà¸²à¸§à¸ªà¸²à¸£à¸ªà¸³à¸„à¸±à¸"],A=["à¸¢à¸­à¸¡à¸£à¸±à¸š","à¹„à¸¡à¹ˆà¸¢à¸­à¸¡à¸£à¸±à¸š"],L=new Intl.NumberFormat("th-TH",{minimumFractionDigits:2,maximumFractionDigits:2}),M=e=>Number.isFinite(e)?L.format(e):"0.00",I=e=>Number.isFinite(e)?e.toFixed(2):"",R=e=>{let t=e.trim();if(!t)return 0;let s=Number(t);return Number.isFinite(s)?s:0},U=e=>{if(null==e)return 0;if("number"==typeof e&&Number.isFinite(e))return e;let t=Number(e);return Number.isFinite(t)?t:0},X=e=>{if(null==e)return 0;let t="number"==typeof e?e:Number(e);return Number.isFinite(t)?t:0},B=e=>(Number.isFinite(e.salesprice)?e.salesprice:0)+R(e.chargePrice)-R(e.discountPrice),W=[{key:"record_no",label:"Record No",readOnly:!0},{key:"code",label:"Code",readOnly:!0},{key:"appoint_code",label:"Appoint Code",readOnly:!0},{key:"register_date",label:"à¸§à¸±à¸™à¸—à¸µà¹ˆà¸¥à¸‡à¸—à¸°à¹€à¸šà¸µà¸¢à¸™",type:"date"},{key:"start_date",label:"à¸§à¸±à¸™à¸™à¸±à¸”",type:"datetime-local"},{key:"end_date",label:"à¸„à¸£à¸šà¸à¸³à¸«à¸™à¸”",type:"datetime-local"},{key:"prefix",label:"à¸„à¸³à¸™à¸³à¸«à¸™à¹‰à¸²"},{key:"name",label:"à¸Šà¸·à¹ˆà¸­"},{key:"surname",label:"à¸™à¸²à¸¡à¸ªà¸à¸¸à¸¥"},{key:"nickname",label:"à¸Šà¸·à¹ˆà¸­à¹€à¸¥à¹ˆà¸™"},{key:"display_name",label:"à¸Šà¸·à¹ˆà¸­à¸—à¸µà¹ˆà¹à¸ªà¸”à¸‡",placeholder:"à¹€à¸Šà¹ˆà¸™ à¸Šà¸·à¹ˆà¸­à¸—à¸µà¹ˆà¸¥à¸¹à¸à¸„à¹‰à¸²à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¹ƒà¸«à¹‰à¹à¸ªà¸”à¸‡"},{key:"mobilephone",label:"à¹€à¸šà¸­à¸£à¹Œà¸¡à¸·à¸­à¸–à¸·à¸­",type:"tel"},{key:"email",label:"à¸­à¸µà¹€à¸¡à¸¥"},{key:"activity",label:"à¸à¸´à¸ˆà¸à¸£à¸£à¸¡"},{key:"note",label:"à¸«à¸¡à¸²à¸¢à¹€à¸«à¸•à¸¸",type:"textarea",fullWidth:!0},{key:"doctor_code",label:"à¸£à¸«à¸±à¸ªà¸«à¸¡à¸­"},{key:"doctor_name",label:"à¸Šà¸·à¹ˆà¸­à¸«à¸¡à¸­"},{key:"dest_code",label:"à¸£à¸«à¸±à¸ªà¸ˆà¸¸à¸”à¸«à¸¡à¸²à¸¢"},{key:"dest_name",label:"à¸Šà¸·à¹ˆà¸­à¸ˆà¸¸à¸”à¸«à¸¡à¸²à¸¢"},{key:"organize",label:"à¸«à¸™à¹ˆà¸§à¸¢à¸‡à¸²à¸™"},{key:"bind_code",label:"à¸£à¸«à¸±à¸ª Bind"},{key:"bind_date",label:"à¸§à¸±à¸™à¸—à¸µà¹ˆ Bind",type:"date"},{key:"id_all",label:"ID à¸¥à¸¹à¸à¸„à¹‰à¸²",readOnly:!0}],H=W.reduce((e,t)=>(e[t.key]=t,e),{}),J=e=>{if(null==e||""===e)return"-";let t="number"==typeof e?e:String(e),s=new Date(t);return Number.isNaN(s.getTime())?("string"==typeof t?t:String(t)).replace("T"," ").split(".")[0]:new Intl.DateTimeFormat("th-TH",{dateStyle:"medium",timeStyle:"short"}).format(s)},G=(e,t)=>e.appoint_code?`code-${e.appoint_code}`:void 0!==e.record_no&&null!==e.record_no?`record-${e.record_no}`:`history-${t}`,V=[{title:"à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸à¸²à¸£à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢",fields:["register_date","start_date","end_date","bind_date"],columns:"grid-cols-1 md:grid-cols-3"},{title:"à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸œà¸¹à¹‰à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£",fields:["prefix","name","surname","nickname","display_name","mobilephone","email","id_all"],columns:"grid-cols-1 md:grid-cols-2"},{title:"à¸£à¸²à¸¢à¸¥à¸°à¹€à¸­à¸µà¸¢à¸”à¹€à¸žà¸´à¹ˆà¸¡à¹€à¸•à¸´à¸¡",fields:["activity","note","doctor_code","doctor_name","dest_code","dest_name","organize","bind_code"],columns:"grid-cols-1 md:grid-cols-2"}],Y=()=>W.reduce((e,t)=>(e[t.key]="",e),{}),Z=({value:e,onChange:a})=>{let l=(0,s.useRef)(null),r=(0,s.useRef)(null),n=(0,s.useRef)(!1),[o,i]=(0,s.useState)(!1),d=(0,s.useCallback)(()=>{let e=l.current;e&&a(e.toDataURL("image/png"))},[a]),c=(0,s.useCallback)(()=>{let e=l.current,t=r.current;e&&t&&(t.clearRect(0,0,e.width,e.height),a(""))},[a]),u=(0,s.useCallback)(()=>{let t=r.current,s=l.current;if(!t||!s||(t.clearRect(0,0,s.width,s.height),!e))return;let a=new Image;a.crossOrigin="anonymous",a.onload=()=>{t.drawImage(a,0,0,s.width,s.height)},a.src=e},[e]);(0,s.useEffect)(()=>{let e=l.current;if(!e)return;let t=e.getContext("2d");if(!t)return;let s=Math.max(1,window.devicePixelRatio||1),a=e.clientWidth||400;e.width=a*s,e.height=150*s,e.style.width="100%",e.style.height="150px",t.scale(s,s),t.lineCap="round",t.lineJoin="round",t.lineWidth=1.8,t.strokeStyle="#4c1d95",r.current=t,i(!0)},[]),(0,s.useEffect)(()=>{o&&u()},[u,o]);let m=e=>{let t=l.current;if(!t)return{x:0,y:0};let s=t.getBoundingClientRect();return{x:e.clientX-s.left,y:e.clientY-s.top}},x=()=>{n.current&&(n.current=!1,d())};return(0,t.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-3",children:[(0,t.jsx)("canvas",{ref:l,className:"w-full touch-none",onPointerDown:e=>{e.preventDefault();let t=r.current;if(!t)return;let{x:s,y:a}=m(e);n.current=!0,t.beginPath(),t.moveTo(s,a)},onPointerMove:e=>{if(!n.current)return;let t=r.current;if(!t)return;let{x:s,y:a}=m(e);t.lineTo(s,a),t.stroke()},onPointerUp:x,onPointerLeave:x}),(0,t.jsxs)("div",{className:"mt-2 flex items-center justify-between",children:[(0,t.jsx)("button",{type:"button",onClick:c,className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-semibold text-slate-600 transition hover:border-slate-400",children:"à¸¥à¹‰à¸²à¸‡à¸¥à¸²à¸¢à¹€à¸‹à¹‡à¸™"}),(0,t.jsx)("span",{className:"text-[11px] text-slate-500",children:"à¸¥à¸‡à¸Šà¸·à¹ˆà¸­à¸”à¹‰à¸§à¸¢à¹€à¸¡à¸²à¸ªà¹Œà¸«à¸£à¸·à¸­à¸ªà¸±à¸¡à¸œà¸±à¸ª"})]})]})},q=({isOpen:e,onClose:a,customerData:l,onSave:r})=>{var n;let[o,i]=(0,s.useState)({}),[c,u]=(0,s.useState)("contact"),[v,y]=(0,s.useState)([]),[N,k]=(0,s.useState)([]),[C,_]=(0,s.useState)([]),[D,L]=(0,s.useState)([]),[q,K]=(0,s.useState)([]),[Q,ee]=(0,s.useState)(!1),[et,es]=(0,s.useState)(!1),[ea,el]=(0,s.useState)(!1),[er,en]=(0,s.useState)(!1),[eo,ei]=(0,s.useState)(!1),[ed,ec]=(0,s.useState)(Y),[eu,em]=(0,s.useState)(!1),[ex,ep]=(0,s.useState)(null),[eb,eh]=(0,s.useState)([]),[eg,ef]=(0,s.useState)(!1),[ej,ev]=(0,s.useState)(null),[ey,eN]=(0,s.useState)(null),[ew,ek]=(0,s.useState)(null),eC=(0,s.useRef)({}),[e_,eS]=(0,s.useState)([]),[eD,e$]=(0,s.useState)([]),[eE,eO]=(0,s.useState)([]),[eF,eP]=(0,s.useState)(null),[eT,ez]=(0,s.useState)(null),[eA,eL]=(0,s.useState)(null),[eM,eI]=(0,s.useState)(!1),[eR,eU]=(0,s.useState)(null),eX=e=>null==e?"":("string"==typeof e?e:String(e)).trim(),eB=(0,s.useMemo)(()=>{for(let e of["id_all","id","à¸£à¸«à¸±à¸ªà¸¥à¸¹à¸à¸„à¹‰à¸²","customer_code"])if(e in o){let t=eX(o[e]);if(t)return t}return""},[o]),eW=(0,s.useMemo)(()=>{for(let e of["id_all","idAll","id"])if(e in o){let t=eX(o[e]);if(t)return t}return""},[o]),eH=(0,s.useMemo)(()=>{for(let e of["à¸Šà¸·à¹ˆà¸­","customer_name","displayName"])if(e in o){let t=eX(o[e]);if(t)return t}return""},[o]),eJ=(0,s.useMemo)(()=>{for(let e of["à¸£à¸«à¸±à¸ªà¸¥à¸¹à¸à¸„à¹‰à¸²","customer_code"])if(e in o){let t=eX(o[e]);if(t)return t}return""},[o]),[eG,eV]=(0,s.useState)([]),[eY,eZ]=(0,s.useState)(!1),[eq,eK]=(0,s.useState)(""),[eQ,e0]=(0,s.useState)([]),[e2,e1]=(0,s.useState)(!1),[e5,e4]=(0,s.useState)(null),[e3,e6]=(0,s.useState)(""),[e7,e8]=(0,s.useState)([]),e9=(0,s.useRef)(null),[te,tt]=(0,s.useState)([]),[ts,ta]=(0,s.useState)(!1),[tl,tr]=(0,s.useState)(null),[tn,to]=(0,s.useState)(!1),[ti,td]=(0,s.useState)(!1),[tc,tu]=(0,s.useState)(null),[tm,tx]=(0,s.useState)(O()),[tp,tb]=(0,s.useState)(E[0].key),[th,tg]=(0,s.useState)(!1),[tf,tj]=(0,s.useState)(null),[tv,ty]=(0,s.useState)(!1),[tN,tw]=(0,s.useState)(""),[tk,tC]=(0,s.useState)({isOpen:!1,type:"success",title:"",message:""}),t_=async()=>{try{let e=await fetch("/api/status-options"),t=await e.json();t.success&&t.data?y(t.data):y([{value:"à¸•à¸´à¸”à¸•à¸²à¸¡à¸•à¹ˆà¸­à¹€à¸™à¸·à¹ˆà¸­à¸‡",label:"à¸•à¸´à¸”à¸•à¸²à¸¡à¸•à¹ˆà¸­à¹€à¸™à¸·à¹ˆà¸­à¸‡",color:"#FFD700"},{value:"à¸›à¸´à¸”à¸à¸²à¸£à¸‚à¸²à¸¢",label:"à¸›à¸´à¸”à¸à¸²à¸£à¸‚à¸²à¸¢",color:"#90EE90"},{value:"à¸¢à¸à¹€à¸¥à¸´à¸",label:"à¸¢à¸à¹€à¸¥à¸´à¸",color:"#FFB6C1"},{value:"à¸£à¸­à¸•à¸­à¸šà¸à¸¥à¸±à¸š",label:"à¸£à¸­à¸•à¸­à¸šà¸à¸¥à¸±à¸š",color:"#87CEEB"},{value:"à¹„à¸”à¹‰à¸™à¸±à¸” Consult",label:"à¹„à¸”à¹‰à¸™à¸±à¸” Consult",color:"#FFA500"},{value:"à¹„à¸”à¹‰à¸™à¸±à¸”à¸œà¹ˆà¸²à¸•à¸±à¸”",label:"à¹„à¸”à¹‰à¸™à¸±à¸”à¸œà¹ˆà¸²à¸•à¸±à¸”",color:"#FF6347"},{value:"à¸œà¹ˆà¸²à¸•à¸±à¸”à¹à¸¥à¹‰à¸§",label:"à¸œà¹ˆà¸²à¸•à¸±à¸”à¹à¸¥à¹‰à¸§",color:"#32CD32"}])}catch(e){console.error("Error fetching status options:",e),y([{value:"à¸•à¸´à¸”à¸•à¸²à¸¡à¸•à¹ˆà¸­à¹€à¸™à¸·à¹ˆà¸­à¸‡",label:"à¸•à¸´à¸”à¸•à¸²à¸¡à¸•à¹ˆà¸­à¹€à¸™à¸·à¹ˆà¸­à¸‡",color:"#FFD700"},{value:"à¸›à¸´à¸”à¸à¸²à¸£à¸‚à¸²à¸¢",label:"à¸›à¸´à¸”à¸à¸²à¸£à¸‚à¸²à¸¢",color:"#90EE90"},{value:"à¸¢à¸à¹€à¸¥à¸´à¸",label:"à¸¢à¸à¹€à¸¥à¸´à¸",color:"#FFB6C1"},{value:"à¸£à¸­à¸•à¸­à¸šà¸à¸¥à¸±à¸š",label:"à¸£à¸­à¸•à¸­à¸šà¸à¸¥à¸±à¸š",color:"#87CEEB"},{value:"à¹„à¸”à¹‰à¸™à¸±à¸” Consult",label:"à¹„à¸”à¹‰à¸™à¸±à¸” Consult",color:"#FFA500"},{value:"à¹„à¸”à¹‰à¸™à¸±à¸”à¸œà¹ˆà¸²à¸•à¸±à¸”",label:"à¹„à¸”à¹‰à¸™à¸±à¸”à¸œà¹ˆà¸²à¸•à¸±à¸”",color:"#FF6347"},{value:"à¸œà¹ˆà¸²à¸•à¸±à¸”à¹à¸¥à¹‰à¸§",label:"à¸œà¹ˆà¸²à¸•à¸±à¸”à¹à¸¥à¹‰à¸§",color:"#32CD32"}])}},tS=async()=>{try{let e=await fetch("/api/source-options"),t=await e.json();t.success&&t.data?k(t.data):k([{value:"Facebook",label:"Facebook"},{value:"Instagram",label:"Instagram"},{value:"Google Ads",label:"Google Ads"},{value:"Line",label:"Line"},{value:"Walk-in",label:"Walk-in"},{value:"Referral",label:"Referral"}])}catch(e){console.error("Error fetching source options:",e),k([{value:"Facebook",label:"Facebook"},{value:"Instagram",label:"Instagram"},{value:"Google Ads",label:"Google Ads"},{value:"Line",label:"Line"},{value:"Walk-in",label:"Walk-in"},{value:"Referral",label:"Referral"}])}},tD=async()=>{try{let e=await fetch("/api/product-options"),t=await e.json();t.success&&t.data?_(t.data):_([{value:"à¸•à¸µà¸•à¸±à¸§à¹„à¸¥à¹ˆà¸•à¸±à¸§",label:"à¸•à¸µà¸•à¸±à¸§à¹„à¸¥à¹ˆà¸•à¸±à¸§"},{value:"Sub brow lift",label:"Sub brow lift"},{value:"à¹à¸à¹‰à¸•à¸²à¸«à¸¡à¸·à¹ˆà¸­à¸•à¸­à¸™à¹à¸¥à¸°à¹à¸à¹‰à¸§",label:"à¹à¸à¹‰à¸•à¸²à¸«à¸¡à¸·à¹ˆà¸­à¸•à¸­à¸™à¹à¸¥à¸°à¹à¸à¹‰à¸§"},{value:"à¸•à¸²à¸ªà¸­à¸‡à¸Šà¸±à¹‰à¸™",label:"à¸•à¸²à¸ªà¸­à¸‡à¸Šà¸±à¹‰à¸™"},{value:"à¹€à¸ªà¸£à¸´à¸¡à¸ˆà¸¡à¸¹à¸",label:"à¹€à¸ªà¸£à¸´à¸¡à¸ˆà¸¡à¸¹à¸"},{value:"à¹à¸à¹‰à¸ˆà¸¡à¸¹à¸",label:"à¹à¸à¹‰à¸ˆà¸¡à¸¹à¸"},{value:"à¹€à¸ªà¸£à¸´à¸¡à¸•à¸²à¸‚à¸²à¸§",label:"à¹€à¸ªà¸£à¸´à¸¡à¸•à¸²à¸‚à¸²à¸§"},{value:"à¸¥à¸´à¸Ÿà¸«à¸™à¹‰à¸²",label:"à¸¥à¸´à¸Ÿà¸«à¸™à¹‰à¸²"},{value:"Skin",label:"Skin"}])}catch(e){console.error("Error fetching product options:",e),_([{value:"à¸•à¸µà¸•à¸±à¸§à¹„à¸¥à¹ˆà¸•à¸±à¸§",label:"à¸•à¸µà¸•à¸±à¸§à¹„à¸¥à¹ˆà¸•à¸±à¸§"},{value:"Sub brow lift",label:"Sub brow lift"},{value:"à¹à¸à¹‰à¸•à¸²à¸«à¸¡à¸·à¹ˆà¸­à¸•à¸­à¸™à¹à¸¥à¸°à¹à¸à¹‰à¸§",label:"à¹à¸à¹‰à¸•à¸²à¸«à¸¡à¸·à¹ˆà¸­à¸•à¸­à¸™à¹à¸¥à¸°à¹à¸à¹‰à¸§"},{value:"à¸•à¸²à¸ªà¸­à¸‡à¸Šà¸±à¹‰à¸™",label:"à¸•à¸²à¸ªà¸­à¸‡à¸Šà¸±à¹‰à¸™"},{value:"à¹€à¸ªà¸£à¸´à¸¡à¸ˆà¸¡à¸¹à¸",label:"à¹€à¸ªà¸£à¸´à¸¡à¸ˆà¸¡à¸¹à¸"},{value:"à¹à¸à¹‰à¸ˆà¸¡à¸¹à¸",label:"à¹à¸à¹‰à¸ˆà¸¡à¸¹à¸"},{value:"à¹€à¸ªà¸£à¸´à¸¡à¸•à¸²à¸‚à¸²à¸§",label:"à¹€à¸ªà¸£à¸´à¸¡à¸•à¸²à¸‚à¸²à¸§"},{value:"à¸¥à¸´à¸Ÿà¸«à¸™à¹‰à¸²",label:"à¸¥à¸´à¸Ÿà¸«à¸™à¹‰à¸²"},{value:"Skin",label:"Skin"}])}},t$=async()=>{try{let e=await fetch("/api/country-options"),t=await e.json();t.success&&t.data?L(t.data):L([{value:"à¹„à¸—à¸¢",label:"à¹„à¸—à¸¢"},{value:"à¸ˆà¸µà¸™",label:"à¸ˆà¸µà¸™"},{value:"à¸à¸µà¹ˆà¸›à¸¸à¹ˆà¸™",label:"à¸à¸µà¹ˆà¸›à¸¸à¹ˆà¸™"},{value:"à¹€à¸à¸²à¸«à¸¥à¸µ",label:"à¹€à¸à¸²à¸«à¸¥à¸µ"},{value:"à¸ªà¸´à¸‡à¸„à¹‚à¸›à¸£à¹Œ",label:"à¸ªà¸´à¸‡à¸„à¹‚à¸›à¸£à¹Œ"},{value:"à¸¡à¸²à¹€à¸¥à¹€à¸‹à¸µà¸¢",label:"à¸¡à¸²à¹€à¸¥à¹€à¸‹à¸µà¸¢"},{value:"à¸­à¸·à¹ˆà¸™à¹†",label:"à¸­à¸·à¹ˆà¸™à¹†"}])}catch(e){console.error("Error fetching country options:",e),L([{value:"à¹„à¸—à¸¢",label:"à¹„à¸—à¸¢"},{value:"à¸ˆà¸µà¸™",label:"à¸ˆà¸µà¸™"},{value:"à¸à¸µà¹ˆà¸›à¸¸à¹ˆà¸™",label:"à¸à¸µà¹ˆà¸›à¸¸à¹ˆà¸™"},{value:"à¹€à¸à¸²à¸«à¸¥à¸µ",label:"à¹€à¸à¸²à¸«à¸¥à¸µ"},{value:"à¸ªà¸´à¸‡à¸„à¹‚à¸›à¸£à¹Œ",label:"à¸ªà¸´à¸‡à¸„à¹‚à¸›à¸£à¹Œ"},{value:"à¸¡à¸²à¹€à¸¥à¹€à¸‹à¸µà¸¢",label:"à¸¡à¸²à¹€à¸¥à¹€à¸‹à¸µà¸¢"},{value:"à¸­à¸·à¹ˆà¸™à¹†",label:"à¸­à¸·à¹ˆà¸™à¹†"}])}},tE=async()=>{try{let e=await fetch("/api/contact-person-options"),t=await e.json();t.success&&t.data?K(t.data):K([{value:"à¸§à¹ˆà¸²à¸™",label:"à¸§à¹ˆà¸²à¸™"},{value:"à¸ˆà¸µà¸™",label:"à¸ˆà¸µà¸™"},{value:"à¸ªà¸²",label:"à¸ªà¸²"},{value:"à¹€à¸ˆ",label:"à¹€à¸ˆ"},{value:"à¸žà¸´à¸”à¸¢à¸²",label:"à¸žà¸´à¸”à¸¢à¸²"},{value:"à¸¡à¸¸à¸",label:"à¸¡à¸¸à¸"}])}catch(e){console.error("Error fetching contact person options:",e),K([{value:"à¸§à¹ˆà¸²à¸™",label:"à¸§à¹ˆà¸²à¸™"},{value:"à¸ˆà¸µà¸™",label:"à¸ˆà¸µà¸™"},{value:"à¸ªà¸²",label:"à¸ªà¸²"},{value:"à¹€à¸ˆ",label:"à¹€à¸ˆ"},{value:"à¸žà¸´à¸”à¸¢à¸²",label:"à¸žà¸´à¸”à¸¢à¸²"},{value:"à¸¡à¸¸à¸",label:"à¸¡à¸¸à¸"}])}},tO=async()=>{eZ(!0);try{let e=await fetch("/api/b-item-groups"),t=await e.json();if(!e.ok||!1===t.success)throw Error(t.error||"à¹„à¸¡à¹ˆà¸žà¸šà¸à¸¥à¸¸à¹ˆà¸¡à¸‚à¸²à¸¢ OPD");eV(Array.isArray(t.data)?t.data:[])}catch(e){console.error("Error fetching OPD groups:",e)}finally{eZ(!1)}},tF=async e=>{if(!e)return void e0([]);e9.current=e,e1(!0),e4(null),e0([]);try{let t=await fetch(`/api/b-item-services?groupCode=${encodeURIComponent(e)}`),s=await t.json();if(!t.ok||!1===s.success)throw Error(s.error||"à¹„à¸¡à¹ˆà¸žà¸šà¸£à¸²à¸¢à¸à¸²à¸£à¸šà¸£à¸´à¸à¸²à¸£");if(e9.current!==e)return;let a=Array.isArray(s.data)?s.data.map(e=>({...e,saleprice:X(e.saleprice)})):[];e0(a)}catch(t){if(e9.current!==e)return;e4(t?.message||"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹‚à¸«à¸¥à¸”à¸£à¸²à¸¢à¸à¸²à¸£à¸šà¸£à¸´à¸à¸²à¸£à¹„à¸”à¹‰")}finally{e9.current===e&&e1(!1)}},tP=(0,s.useCallback)(async e=>{ta(!0),tr(null);try{let t=await fetch(`/api/b-saleitem?code=${encodeURIComponent(e)}`),s=await t.json();if(!t.ok||!1===s.success)throw Error(s.error||"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹‚à¸«à¸¥à¸”à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸šà¸£à¸´à¸à¸²à¸£à¹„à¸”à¹‰");tt(Array.isArray(s.data)?s.data:[])}catch(e){tt([]),tr(e?.message||"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹‚à¸«à¸¥à¸”à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸šà¸£à¸´à¸à¸²à¸£à¹„à¸”à¹‰")}finally{ta(!1)}},[]),tT=()=>{en(!1),e6(""),e4(null)},tz=()=>{td(!1)},tA=(0,s.useCallback)(async()=>{if(eW){tg(!0),tj(null),tx(O());try{let e=await fetch(`/api/consent-forms?id_all=${encodeURIComponent(eW)}`),t=await e.json();if(!e.ok||!1===t.success)throw Error(t.error||"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹‚à¸«à¸¥à¸” Consent form à¹„à¸”à¹‰");let s=O();Array.isArray(t.data)&&t.data.forEach(e=>{let t=(e=>{if(!e)return null;let t=e.toString().trim().toLowerCase();if(!t)return null;if("patient"===t||t.includes("à¸œà¸¹à¹‰à¸£à¸±à¸š"))return"patient";if("provider"===t||t.includes("à¸œà¸¹à¹‰à¹ƒà¸«à¹‰"))return"provider";let s=E.find(e=>e.key===t);return s?s.key:null})(e.part);if(!t)return;let a=e=>null==e?"":String(e);s[t]={weight:a(e.weight_kg??e.weight),height:a(e.height_cm??e.height),hasChronic:!!(e.has_chronic_disease??e.has_chronic??e.hasChronic),chronicDiseaseDetail:e.chronic_disease_detail||e.chronicDiseaseDetail||"",hasDrugAllergy:!!(e.has_drug_allergy??e.hasDrugAllergy),drugAllergyDetail:e.drug_allergy_detail||e.drugAllergyDetail||"",signatureUrl:e.signature_url||e.signatureUrl||"",medicalConsent:e.medical_consent||e.medicalConsent||"",acceptPdpa:e.accept_pdpa||e.acceptPdpa||"",acceptMedia:e.accept_media||e.acceptMedia||""}}),tx(s)}catch(e){console.error("Error fetching consent data:",e),tj(e?.message||"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹‚à¸«à¸¥à¸” Consent form à¹„à¸”à¹‰")}finally{tg(!1)}}},[eB]);(0,s.useEffect)(()=>{er&&eB&&tP(eB)},[er,eB,tP]),(0,s.useEffect)(()=>{ea&&(tb(E[0].key),tA())},[ea,tA]);let tL=(e,t)=>{tx(s=>({...s,[e]:{...s[e],...t}}))},tM=(e,t,s)=>{let a={[t]:s};"hasChronic"!==t||s||(a.chronicDiseaseDetail=""),"hasDrugAllergy"!==t||s||(a.drugAllergyDetail=""),tL(e,a)},tI=async()=>{if(!eW)return void tC({isOpen:!0,type:"error",title:"à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹„à¸¡à¹ˆà¸„à¸£à¸š",message:"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸šà¸±à¸™à¸—à¸¶à¸ Consent à¹„à¸”à¹‰ à¹€à¸žà¸£à¸²à¸°à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸£à¸¹à¹‰à¸ˆà¸±à¸à¸¥à¸¹à¸à¸„à¹‰à¸²"});ty(!0);try{let e,t={code:eW,idAll:eW,createdBy:tN||null,sections:E.map(e=>{let t=tm[e.key];return{part:e.key,weight:t.weight,height:t.height,hasChronic:t.hasChronic,chronicDiseaseDetail:t.chronicDiseaseDetail,hasDrugAllergy:t.hasDrugAllergy,drugAllergyDetail:t.drugAllergyDetail,signatureUrl:t.signatureUrl,medicalConsent:t.medicalConsent||null,acceptPdpa:t.acceptPdpa||null,acceptMedia:t.acceptMedia||null}})},s=await fetch("/api/consent-forms",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});try{e=await s.json()}catch(t){let e=await s.text();throw Error(e||t.message||"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸­à¹ˆà¸²à¸™à¸œà¸¥à¸¥à¸±à¸žà¸˜à¹Œà¸ˆà¸²à¸à¹€à¸‹à¸´à¸£à¹Œà¸Ÿà¹€à¸§à¸­à¸£à¹Œ")}if(!s.ok||!1===e.success)throw Error(e.error||"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸šà¸±à¸™à¸—à¸¶à¸ Consent à¹„à¸”à¹‰");tC({isOpen:!0,type:"success",title:"à¸šà¸±à¸™à¸—à¸¶à¸ Consent à¹à¸¥à¹‰à¸§",message:e.message||"Consent form à¸–à¸¹à¸à¸šà¸±à¸™à¸—à¸¶à¸à¹€à¸£à¸µà¸¢à¸šà¸£à¹‰à¸­à¸¢à¹à¸¥à¹‰à¸§"}),await tA()}catch(e){tC({isOpen:!0,type:"error",title:"à¸šà¸±à¸™à¸—à¸¶à¸à¹„à¸¡à¹ˆà¸ªà¸³à¹€à¸£à¹‡à¸ˆ",message:e?.message||"à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”à¹ƒà¸™à¸à¸²à¸£à¸šà¸±à¸™à¸—à¸¶à¸ Consent"})}finally{ty(!1)}},tR=async()=>{if(!eB)return tC({isOpen:!0,type:"error",title:"à¸£à¸«à¸±à¸ªà¸¥à¸¹à¸à¸„à¹‰à¸²à¹„à¸¡à¹ˆà¸„à¸£à¸š",message:"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸šà¸±à¸™à¸—à¸¶à¸à¸šà¸£à¸´à¸à¸²à¸£à¹„à¸”à¹‰ à¹€à¸žà¸£à¸²à¸°à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µà¸£à¸«à¸±à¸ªà¸”à¸¶à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸¥à¸¹à¸à¸„à¹‰à¸²"}),!1;if(0===e7.length)return tC({isOpen:!0,type:"error",title:"à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µà¸šà¸£à¸´à¸à¸²à¸£",message:"à¸à¸£à¸¸à¸“à¸²à¹€à¸¥à¸·à¸­à¸à¸šà¸£à¸´à¸à¸²à¸£à¸à¹ˆà¸­à¸™à¸šà¸±à¸™à¸—à¸¶à¸à¸¥à¸‡ b_saleitem"}),!1;to(!0);try{let e,t,s=tc??(e=Math.floor(90*Math.random()+10),t=Math.floor(9e3*Math.random()+1e3),`Ex${e}-${t}`),a={code:eB,saleCode:eJ||null,displayName:eH||null,receiptNo:s,services:e7.map(e=>({itemCode:e.itemcode,itemName:e.itemname,unitSale:e.salesprice,netAmount:B(e),saleType:e.saleType||"20"}))},l=await fetch("/api/b-saleitem",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),r=await l.json();if(!l.ok||!1===r.success)throw Error(r.error||"à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”à¹ƒà¸™à¸à¸²à¸£à¸šà¸±à¸™à¸—à¸¶à¸à¸šà¸£à¸´à¸à¸²à¸£");return tC({isOpen:!0,type:"success",title:"à¸šà¸±à¸™à¸—à¸¶à¸à¸šà¸£à¸´à¸à¸²à¸£ OPD à¹à¸¥à¹‰à¸§",message:r.message||`à¸šà¸±à¸™à¸—à¸¶à¸ ${r.insertedCount??e7.length} à¸£à¸²à¸¢à¸à¸²à¸£à¸¥à¸‡ b_saleitem à¹à¸¥à¹‰à¸§`}),tu(s),eB&&tP(eB),!0}catch(e){return tC({isOpen:!0,type:"error",title:"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸šà¸±à¸™à¸—à¸¶à¸à¸šà¸£à¸´à¸à¸²à¸£à¹„à¸”à¹‰",message:e?.message||"à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”à¹ƒà¸™à¸à¸²à¸£à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­à¸à¸±à¸šà¹€à¸‹à¸´à¸£à¹Œà¸Ÿà¹€à¸§à¸­à¸£à¹Œ à¸à¸£à¸¸à¸“à¸²à¸¥à¸­à¸‡à¹ƒà¸«à¸¡à¹ˆ"}),!1}finally{to(!1)}},tU=async()=>{await tR()&&tT()},tX=(e,t)=>{e8(s=>s.map(s=>s.id===e?t(s):s))},tB=(0,s.useMemo)(()=>eG.find(e=>e.groupcode===eq)??null,[eG,eq]),tW=(0,s.useMemo)(()=>e7.reduce((e,t)=>{let s=Number.isFinite(t.salesprice)?t.salesprice:0,a=R(t.chargePrice),l=R(t.discountPrice);return e.baseTotal+=s,e.chargeTotal+=a,e.discountTotal+=l,e.netTotal+=s+a-l,e},{baseTotal:0,chargeTotal:0,discountTotal:0,netTotal:0}),[e7]),tH=(0,s.useMemo)(()=>te.reduce((e,t)=>{let s=U(t?.amount);return e.total+=Number.isFinite(s)?s:0,e.count+=1,e},{count:0,total:0}),[te]),tJ=tm[tp],tG=(0,s.useMemo)(()=>{if(!e3.trim())return eQ;let e=e3.trim().toLowerCase();return eQ.filter(t=>t.itemname.toLowerCase().includes(e)||t.itemcode.toLowerCase().includes(e))},[eQ,e3]);(0,s.useEffect)(()=>{console.log("ðŸ“‹ EditCustomerModal - isOpen:",e,"initialData:",l),l&&i({...l}),e&&(t_(),tS(),tD(),t$(),tE())},[l,e]),(0,s.useEffect)(()=>{try{let e=localStorage.getItem("user");if(e){let t=JSON.parse(e),s=t?.name||t?.username||t?.email||"";tw(s)}}catch(e){console.error("Failed to load logged in user info",e)}},[]);let tV=(0,s.useCallback)((e,t)=>{i(s=>({...s,[e]:t}))},[]),tY=(0,s.useCallback)((e,t)=>{ec(s=>({...s,[e]:t}))},[]),tZ=(0,s.useCallback)(()=>{let e=new Date().toISOString().split("T")[0];ec({...Y(),...eC.current,register_date:eC.current.register_date||e,bind_date:eC.current.bind_date||e}),ek(null),eN(null),ep(null)},[]),tq=(0,s.useCallback)(()=>{tZ()},[tZ]),tK=(0,s.useCallback)(async()=>{if(!eW){eh([]),ev("à¹„à¸¡à¹ˆà¸žà¸š ID à¸¥à¸¹à¸à¸„à¹‰à¸²à¸ªà¸³à¸«à¸£à¸±à¸šà¸›à¸£à¸°à¸§à¸±à¸•à¸´");return}ef(!0),ev(null);try{let e=await fetch(`/api/appointments?id_all=${encodeURIComponent(eW)}`),t=await e.json();if(!e.ok||!1===t.success)throw Error(t.error||"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹‚à¸«à¸¥à¸”à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢à¹„à¸”à¹‰");eh(Array.isArray(t.data)?t.data:[])}catch(e){eh([]),ev(e?.message||"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹‚à¸«à¸¥à¸”à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢à¹„à¸”à¹‰")}finally{ef(!1)}},[eW]),tQ=(0,s.useCallback)((e,t)=>{let s={};W.forEach(t=>{let a=e[t.key];s[t.key]=null==a?"":String(a)}),s.id_all||(s.id_all=eW),ec({...Y(),...s}),ek(e.appoint_code?String(e.appoint_code):null),eN(t),ep(null)},[eW]);(0,s.useEffect)(()=>{if(!et||(eU(null),e_.length&&eD.length&&eE.length))return;let e=!1;return eI(!0),S().then(t=>{e||(eS(t.provinces),e$(t.districts),eO(t.subdistricts))}).catch(t=>{e||eU(t?.message||"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹‚à¸«à¸¥à¸”à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸—à¸µà¹ˆà¸­à¸¢à¸¹à¹ˆà¹„à¸”à¹‰")}).finally(()=>{e||eI(!1)}),()=>{e=!0}},[et,e_.length,eD.length,eE.length]),(0,s.useEffect)(()=>{let e=new Date().toISOString().split("T")[0];eC.current={id_all:eW,display_name:eH,prefix:o.prefix||"",name:o.name||o["à¸Šà¸·à¹ˆà¸­"]||"",surname:o.surname||"",nickname:o.nickname||"",mobilephone:o.mobilephone||o.phone||"",email:o.email||"",activity:o.activity||"",note:o.note||"",register_date:eC.current.register_date||e,bind_date:eC.current.bind_date||e}},[eW,eH,o]),(0,s.useEffect)(()=>{eo&&(tK(),tZ())},[eo,tK,tZ]);let t0=o.province||"",t2=o.amphur||"",t1=o.tumbon||"";(0,s.useEffect)(()=>{if(!e_.length||!t0)return void eP(null);let e=e_.find(e=>$(e,t0));eP(e?e.id:null)},[e_,t0]),(0,s.useEffect)(()=>{if(!eD.length||!eF||!t2)return void ez(null);let e=eD.find(e=>e.province_id===eF&&$(e,t2));ez(e?e.id:null)},[eD,eF,t2]),(0,s.useEffect)(()=>{if(!eE.length||!eT||!t1)return void eL(null);let e=eE.find(e=>e.district_id===eT&&$(e,t1));eL(e?e.id:null)},[eE,eT,t1]),(0,s.useEffect)(()=>{et&&!o.country&&tV("country","Thailand")},[et,o.country,tV]);let t5=(0,s.useMemo)(()=>e_.map(e=>({id:e.id,label:`${e.name_th} (${e.name_en})`})),[e_]),t4=(0,s.useMemo)(()=>eF?eD.filter(e=>e.province_id===eF).map(e=>({id:e.id,label:`${e.name_th} (${e.name_en})`})):[],[eD,eF]),t3=(0,s.useMemo)(()=>eT?eE.filter(e=>e.district_id===eT).map(e=>({id:e.id,label:`${e.name_th} (${e.name_en})`})):[],[eE,eT]),t6=e=>{if(!e){eP(null),ez(null),eL(null),tV("province",""),tV("amphur",""),tV("tumbon",""),tV("zipcode","");return}let t=Number(e);if(!Number.isFinite(t))return;let s=e_.find(e=>e.id===t);eP(t),ez(null),eL(null),tV("province",s?.name_th||s?.name_en||""),tV("amphur",""),tV("tumbon",""),tV("zipcode","")},t7=e=>{if(!e){ez(null),eL(null),tV("amphur",""),tV("tumbon",""),tV("zipcode","");return}let t=Number(e);if(!Number.isFinite(t))return;let s=eD.find(e=>e.id===t);ez(t),eL(null),tV("amphur",s?.name_th||s?.name_en||""),tV("tumbon",""),tV("zipcode","")},t8=e=>{if(!e){eL(null),tV("tumbon",""),tV("zipcode","");return}let t=Number(e);if(!Number.isFinite(t))return;let s=eE.find(e=>e.id===t);eL(t),tV("tumbon",s?.name_th||s?.name_en||""),tV("zipcode",s?.zip_code!==null&&s?.zip_code!==void 0?String(s.zip_code):"")},t9=async e=>{if(!Q){ee(!0);try{let t=await fetch("/api/customer-data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"update",data:o})}),s=await t.json(),l=e?.autoClose!==!1;s.success?(e?.onSuccess?.(),tC({isOpen:!0,type:"success",title:"âœ¨ à¸šà¸±à¸™à¸—à¸¶à¸à¸ªà¸³à¹€à¸£à¹‡à¸ˆ!",message:"à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸¥à¸¹à¸à¸„à¹‰à¸²à¹„à¸”à¹‰à¸£à¸±à¸šà¸à¸²à¸£à¸­à¸±à¸›à¹€à¸”à¸•à¹€à¸£à¸µà¸¢à¸šà¸£à¹‰à¸­à¸¢à¹à¸¥à¹‰à¸§"}),setTimeout(()=>{tC(e=>({...e,isOpen:!1})),l&&setTimeout(()=>{r(o),a()},300)},2e3)):(tC({isOpen:!0,type:"error",title:"âŒ à¸šà¸±à¸™à¸—à¸¶à¸à¹„à¸¡à¹ˆà¸ªà¸³à¹€à¸£à¹‡à¸ˆ!",message:s.error||"à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”à¹ƒà¸™à¸à¸²à¸£à¸šà¸±à¸™à¸—à¸¶à¸à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ à¸à¸£à¸¸à¸“à¸²à¸¥à¸­à¸‡à¹ƒà¸«à¸¡à¹ˆà¸­à¸µà¸à¸„à¸£à¸±à¹‰à¸‡"}),setTimeout(()=>{tC(e=>({...e,isOpen:!1}))},3e3))}catch(e){tC({isOpen:!0,type:"error",title:"âŒ à¸šà¸±à¸™à¸—à¸¶à¸à¹„à¸¡à¹ˆà¸ªà¸³à¹€à¸£à¹‡à¸ˆ!",message:"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­à¸à¸±à¸šà¹€à¸‹à¸´à¸£à¹Œà¸Ÿà¹€à¸§à¸­à¸£à¹Œà¹„à¸”à¹‰ à¸à¸£à¸¸à¸“à¸²à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸à¸²à¸£à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­à¸­à¸´à¸™à¹€à¸—à¸­à¸£à¹Œà¹€à¸™à¹‡à¸•"}),setTimeout(()=>{tC(e=>({...e,isOpen:!1}))},3e3)}finally{ee(!1)}}},se=async()=>{if(eu)return;let e=Object.entries(ed).reduce((e,[t,s])=>{let a="string"==typeof s?s.trim():s;return""!==a&&null!=a&&(e[t]=a),e},{});delete e.record_no;let t=e.id_all||eW||eC.current.id_all;if(t&&(e.id_all=t),!e.id_all)return void ep("à¸•à¹‰à¸­à¸‡à¹€à¸¥à¸·à¸­à¸à¸œà¸¹à¹‰à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£à¸à¹ˆà¸­à¸™à¸šà¸±à¸™à¸—à¸¶à¸à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢");em(!0),ep(null);try{let t=!!ew,s=t?`/api/appointments/${encodeURIComponent(ew)}`:"/api/appointments",a=await fetch(s,{method:t?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:e})}),l=await a.json();if(!a.ok||!1===l.success)throw Error(l.error||"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸šà¸±à¸™à¸—à¸¶à¸à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢à¹„à¸”à¹‰");tC({isOpen:!0,type:"success",title:t?"à¹à¸à¹‰à¹„à¸‚à¹€à¸£à¸µà¸¢à¸šà¸£à¹‰à¸­à¸¢":"à¸šà¸±à¸™à¸—à¸¶à¸à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢à¹à¸¥à¹‰à¸§",message:t?"à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸à¸²à¸£à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢à¹„à¸”à¹‰à¸£à¸±à¸šà¸à¸²à¸£à¸­à¸±à¸›à¹€à¸”à¸•à¹ƒà¸™ bjh_appointment":"à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢à¸–à¸¹à¸à¸ªà¹ˆà¸‡à¹„à¸›à¸¢à¸±à¸‡ bjh_appointment à¹€à¸£à¸µà¸¢à¸šà¸£à¹‰à¸­à¸¢"}),tZ(),tK()}catch(e){ep(e?.message||"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸šà¸±à¸™à¸—à¸¶à¸à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢à¹„à¸”à¹‰")}finally{em(!1)}};if(console.log("ðŸŽ¨ EditCustomerModal render - isOpen:",e),!e)return null;let st=e=>{if(!e)return"";let t=new Date(e);return isNaN(t.getTime())?"":t.toISOString().split("T")[0]};return(0,t.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fadeIn",children:[(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-h-[90vh] overflow-hidden w-full max-w-4xl animate-slideUp transform transition-all",children:[(0,t.jsxs)("div",{className:"sticky top-0 bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-500 z-10 shadow-lg",children:[(0,t.jsx)("div",{className:"absolute top-3 right-3",children:(0,t.jsx)("button",{onClick:a,className:"p-2 hover:bg-white hover:bg-opacity-20 rounded-xl transition-all duration-200 group",children:(0,t.jsx)(d.X,{className:"w-5 h-5 text-white group-hover:rotate-90 transition-transform duration-200"})})}),(0,t.jsxs)("div",{className:"flex justify-center items-center gap-1 sm:gap-2 px-4 py-4",children:[(0,t.jsxs)("button",{onClick:()=>u("contact"),className:`flex flex-col sm:flex-row items-center justify-center gap-1 px-3 sm:px-4 py-2 sm:py-2.5 ${"contact"===c?"bg-white/30 shadow-inner":"bg-white/10 hover:bg-white/20"} text-white rounded-xl transition-all duration-200 min-w-[60px] sm:min-w-[80px]`,title:"Contact Information",children:[(0,t.jsx)(j.User,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"text-xs sm:text-sm font-medium hidden sm:block",children:"Contact"})]}),(0,t.jsxs)("button",{onClick:()=>u("opd"),className:`flex flex-col sm:flex-row items-center justify-center gap-1 px-3 sm:px-4 py-2 sm:py-2.5 ${"opd"===c?"bg-white/30 shadow-inner":"bg-white/10 hover:bg-white/20"} text-white rounded-xl transition-all duration-200 min-w-[60px] sm:min-w-[80px]`,title:"OPD",children:[(0,t.jsx)(b.FileText,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"text-xs sm:text-sm font-medium hidden sm:block",children:"OPD"})]}),(0,t.jsxs)("button",{onClick:()=>u("consent"),className:`flex flex-col sm:flex-row items-center justify-center gap-1 px-3 sm:px-4 py-2 sm:py-2.5 ${"consent"===c?"bg-white/30 shadow-inner":"bg-white/10 hover:bg-white/20"} text-white rounded-xl transition-all duration-200 min-w-[60px] sm:min-w-[80px]`,title:"Consent",children:[(0,t.jsx)(h,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"text-xs sm:text-sm font-medium hidden sm:block",children:"Consent"})]}),(0,t.jsxs)("button",{onClick:()=>{u("service"),en(!0),e4(null),0===eG.length&&tO(),eq&&tF(eq)},className:`flex flex-col sm:flex-row items-center justify-center gap-1 px-3 sm:px-4 py-2 sm:py-2.5 ${"service"===c?"bg-white/30 shadow-inner":"bg-white/10 hover:bg-white/20"} text-white rounded-xl transition-all duration-200 min-w-[60px] sm:min-w-[80px] relative`,title:"à¸šà¸£à¸´à¸à¸²à¸£",children:[(0,t.jsx)(g.Briefcase,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"text-xs sm:text-sm font-medium hidden sm:block",children:"à¸šà¸£à¸´à¸à¸²à¸£"}),e7.length>0&&(0,t.jsx)("span",{className:"absolute -top-1 -right-1 bg-emerald-400 text-white text-xs w-5 h-5 flex items-center justify-center rounded-full",children:e7.length})]}),(0,t.jsxs)("button",{onClick:()=>u("appointment"),className:`flex flex-col sm:flex-row items-center justify-center gap-1 px-3 sm:px-4 py-2 sm:py-2.5 ${"appointment"===c?"bg-white/30 shadow-inner":"bg-white/10 hover:bg-white/20"} text-white rounded-xl transition-all duration-200 min-w-[60px] sm:min-w-[80px]`,title:"à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢",children:[(0,t.jsx)(f.Calendar,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"text-xs sm:text-sm font-medium hidden sm:block",children:"à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢"})]})]})]}),(0,t.jsxs)("div",{className:"overflow-y-auto",style:{maxHeight:"calc(90vh - 180px)"},children:["contact"===c&&(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-cyan-50 to-blue-50 rounded-xl p-6 border border-cyan-100 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)("div",{className:"w-1 h-6 bg-gradient-to-b from-cyan-500 to-blue-500 rounded-full"}),(0,t.jsx)("h2",{className:"text-lg font-bold bg-gradient-to-r from-cyan-600 to-blue-600 bg-clip-text text-transparent",children:"à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ªà¹ˆà¸§à¸™à¸•à¸±à¸§"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸ªà¸–à¸²à¸™à¸°"}),(0,t.jsxs)("select",{value:o.status||o["à¸ªà¸–à¸²à¸™à¸°"]||"",onChange:e=>tV("status",e.target.value),className:"w-full px-4 py-3 border-2 border-cyan-200 bg-white rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-transparent outline-none cursor-pointer",children:[(0,t.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸à¸ªà¸–à¸²à¸™à¸°"}),v.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸„à¸³à¸™à¸³à¸«à¸™à¹‰à¸²"}),(0,t.jsxs)("select",{value:o.prefix||"",onChange:e=>tV("prefix",e.target.value),className:"w-full px-4 py-3 border-2 border-cyan-200 bg-white rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-transparent outline-none cursor-pointer",children:[(0,t.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸à¸„à¸³à¸™à¸³à¸«à¸™à¹‰à¸²"}),(0,t.jsx)("option",{value:"à¸™à¸²à¸¢",children:"à¸™à¸²à¸¢"}),(0,t.jsx)("option",{value:"à¸™à¸²à¸‡",children:"à¸™à¸²à¸‡"}),(0,t.jsx)("option",{value:"à¸™à¸²à¸‡à¸ªà¸²à¸§",children:"à¸™à¸²à¸‡à¸ªà¸²à¸§"}),(0,t.jsx)("option",{value:"Mr.",children:"Mr."}),(0,t.jsx)("option",{value:"Mrs.",children:"Mrs."}),(0,t.jsx)("option",{value:"Ms.",children:"Ms."})]})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸Šà¸·à¹ˆà¸­ *"}),(0,t.jsx)("input",{type:"text",value:o.name||o["à¸Šà¸·à¹ˆà¸­"]||"",onChange:e=>tV("name",e.target.value),className:"w-full px-4 py-3 border-2 border-cyan-200 bg-white rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-transparent outline-none",placeholder:"à¸à¸£à¸­à¸à¸Šà¸·à¹ˆà¸­"})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸™à¸²à¸¡à¸ªà¸à¸¸à¸¥"}),(0,t.jsx)("input",{type:"text",value:o.surname||"",onChange:e=>tV("surname",e.target.value),className:"w-full px-4 py-3 border-2 border-cyan-200 bg-white rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-transparent outline-none",placeholder:"à¸à¸£à¸­à¸à¸™à¸²à¸¡à¸ªà¸à¸¸à¸¥"})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸Šà¸·à¹ˆà¸­à¹€à¸¥à¹ˆà¸™"}),(0,t.jsx)("input",{type:"text",value:o.nickname||"",onChange:e=>tV("nickname",e.target.value),className:"w-full px-4 py-3 border-2 border-cyan-200 bg-white rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-transparent outline-none",placeholder:"à¸à¸£à¸­à¸à¸Šà¸·à¹ˆà¸­à¹€à¸¥à¹ˆà¸™"})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¹€à¸žà¸¨"}),(0,t.jsxs)("select",{value:o.gender||"",onChange:e=>tV("gender",e.target.value),className:"w-full px-4 py-3 border-2 border-cyan-200 bg-white rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-transparent outline-none cursor-pointer",children:[(0,t.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸à¹€à¸žà¸¨"}),(0,t.jsx)("option",{value:"à¸Šà¸²à¸¢",children:"à¸Šà¸²à¸¢"}),(0,t.jsx)("option",{value:"à¸«à¸à¸´à¸‡",children:"à¸«à¸à¸´à¸‡"}),(0,t.jsx)("option",{value:"à¸­à¸·à¹ˆà¸™à¹†",children:"à¸­à¸·à¹ˆà¸™à¹†"})]})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸•à¸´à¸”à¸”à¸²à¸§"}),(0,t.jsxs)("button",{type:"button",onClick:()=>tV("star_flag","à¸•à¸´à¸”à¸”à¸²à¸§"===o.star_flag?"":"à¸•à¸´à¸”à¸”à¸²à¸§"),className:"w-full px-4 py-3 border-2 border-cyan-200 bg-white rounded-xl hover:border-cyan-300 transition-all duration-200 flex items-center justify-center gap-2",children:[(0,t.jsx)(p.Star,{className:`w-6 h-6 ${"à¸•à¸´à¸”à¸”à¸²à¸§"===o.star_flag?"fill-yellow-400 text-yellow-400":"text-gray-400"}`}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"à¸•à¸´à¸”à¸”à¸²à¸§"===o.star_flag?"à¸•à¸´à¸”à¸”à¸²à¸§à¹à¸¥à¹‰à¸§":"à¸„à¸¥à¸´à¸à¹€à¸žà¸·à¹ˆà¸­à¸•à¸´à¸”à¸”à¸²à¸§"})]})]})]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 rounded-xl p-6 border border-indigo-100 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)("div",{className:"w-1 h-6 bg-gradient-to-b from-indigo-500 to-purple-500 rounded-full"}),(0,t.jsx)("h2",{className:"text-lg font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸•à¸´à¸”à¸•à¹ˆà¸­"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¹€à¸šà¸­à¸£à¹Œà¹‚à¸—à¸£"}),(0,t.jsx)("input",{type:"tel",value:o.phone||o["à¹€à¸šà¸­à¸£à¹Œà¹‚à¸—à¸£"]||"",onChange:e=>tV("phone",e.target.value),className:"w-full px-4 py-3 border-2 border-indigo-200 bg-white rounded-xl focus:ring-2 focus:ring-indigo-400 focus:border-transparent outline-none",placeholder:"à¸à¸£à¸­à¸à¹€à¸šà¸­à¸£à¹Œà¹‚à¸—à¸£"})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸­à¸µà¹€à¸¡à¸¥"}),(0,t.jsx)("input",{type:"email",value:o.email||"",onChange:e=>tV("email",e.target.value),className:"w-full px-4 py-3 border-2 border-indigo-200 bg-white rounded-xl focus:ring-2 focus:ring-indigo-400 focus:border-transparent outline-none",placeholder:"à¸à¸£à¸­à¸à¸­à¸µà¹€à¸¡à¸¥"})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¹„à¸¥à¸™à¹Œà¹„à¸­à¸”à¸µ"}),(0,t.jsx)("input",{type:"text",value:o.lineid||"",onChange:e=>tV("lineid",e.target.value),className:"w-full px-4 py-3 border-2 border-indigo-200 bg-white rounded-xl focus:ring-2 focus:ring-indigo-400 focus:border-transparent outline-none",placeholder:"à¸à¸£à¸­à¸à¹„à¸¥à¸™à¹Œà¹„à¸­à¸”à¸µ"})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¹€à¸Ÿà¸ªà¸šà¸¸à¹Šà¸„"}),(0,t.jsx)("input",{type:"text",value:o.facebook||"",onChange:e=>tV("facebook",e.target.value),className:"w-full px-4 py-3 border-2 border-indigo-200 bg-white rounded-xl focus:ring-2 focus:ring-indigo-400 focus:border-transparent outline-none",placeholder:"à¸à¸£à¸­à¸à¹€à¸Ÿà¸ªà¸šà¸¸à¹Šà¸„"})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸›à¸£à¸°à¹€à¸—à¸¨"}),(0,t.jsxs)("select",{value:o.country||o["à¸›à¸£à¸°à¹€à¸—à¸¨"]||"",onChange:e=>tV("country",e.target.value),className:"w-full px-4 py-3 border-2 border-indigo-200 bg-white rounded-xl focus:ring-2 focus:ring-indigo-400 focus:border-transparent outline-none cursor-pointer",children:[(0,t.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸à¸›à¸£à¸°à¹€à¸—à¸¨"}),D.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))]})]})]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-emerald-50 to-teal-50 rounded-xl p-6 border border-emerald-100 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)("div",{className:"w-1 h-6 bg-gradient-to-b from-emerald-500 to-teal-500 rounded-full"}),(0,t.jsx)("h2",{className:"text-lg font-bold bg-gradient-to-r from-emerald-600 to-teal-600 bg-clip-text text-transparent",children:"à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸˜à¸¸à¸£à¸à¸´à¸ˆ"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¹à¸«à¸¥à¹ˆà¸‡à¸—à¸µà¹ˆà¸¡à¸²"}),(0,t.jsxs)("select",{value:o.source||o["  à¹à¸«à¸¥à¹ˆà¸‡à¸—à¸µà¹ˆà¸¡à¸²"]||"",onChange:e=>tV("source",e.target.value),className:"w-full px-4 py-3 border-2 border-emerald-200 bg-white rounded-xl focus:ring-2 focus:ring-emerald-400 focus:border-transparent outline-none cursor-pointer",children:[(0,t.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸à¹à¸«à¸¥à¹ˆà¸‡à¸—à¸µà¹ˆà¸¡à¸²"}),N.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸œà¸¥à¸´à¸•à¸ à¸±à¸“à¸‘à¹Œà¸—à¸µà¹ˆà¸ªà¸™à¹ƒà¸ˆ"}),(0,t.jsxs)("select",{value:o.interested_product||o[" à¸œà¸¥à¸´à¸•à¸ à¸±à¸“à¸‘à¹Œà¸—à¸µà¹ˆà¸ªà¸™à¹ƒà¸ˆ"]||"",onChange:e=>tV("interested_product",e.target.value),className:"w-full px-4 py-3 border-2 border-emerald-200 bg-white rounded-xl focus:ring-2 focus:ring-emerald-400 focus:border-transparent outline-none cursor-pointer",children:[(0,t.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸à¸œà¸¥à¸´à¸•à¸ à¸±à¸“à¸‘à¹Œ"}),C.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸œà¸¹à¹‰à¸•à¸´à¸”à¸•à¹ˆà¸­"}),(0,t.jsxs)("select",{value:o.contact_staff||o["à¸œà¸¹à¹‰à¸•à¸´à¸”à¸•à¹ˆà¸­"]||"",onChange:e=>tV("contact_staff",e.target.value),className:"w-full px-4 py-3 border-2 border-emerald-200 bg-white rounded-xl focus:ring-2 focus:ring-emerald-400 focus:border-transparent outline-none cursor-pointer",children:[(0,t.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸à¸œà¸¹à¹‰à¸•à¸´à¸”à¸•à¹ˆà¸­"}),q.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸¢à¸­à¸”à¸™à¸³à¹€à¸ªà¸™à¸­"}),(0,t.jsx)("input",{type:"number",value:o.proposed_amount||o["à¸¢à¸­à¸”à¸™à¸³à¹€à¸ªà¸™à¸­"]||"",onChange:e=>tV("proposed_amount",e.target.value),className:"w-full px-4 py-3 border-2 border-emerald-200 bg-white rounded-xl focus:ring-2 focus:ring-emerald-400 focus:border-transparent outline-none",placeholder:"à¸à¸£à¸­à¸à¸¢à¸­à¸”à¸™à¸³à¹€à¸ªà¸™à¸­"})]})]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-cyan-50 to-blue-50 rounded-xl p-6 border border-cyan-100 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)("div",{className:"w-1 h-6 bg-gradient-to-b from-cyan-500 to-blue-500 rounded-full"}),(0,t.jsx)("h2",{className:"text-lg font-bold bg-gradient-to-r from-cyan-600 to-blue-600 bg-clip-text text-transparent",children:"à¸§à¸±à¸™à¸—à¸µà¹ˆà¸•à¸´à¸”à¸•à¸²à¸¡"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"group",children:[(0,t.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,t.jsx)("span",{children:"ðŸ“…"})," à¸§à¸±à¸™à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸Šà¸·à¹ˆà¸­ à¹€à¸šà¸­à¸£à¹Œ"]}),(0,t.jsx)("input",{type:"date",value:st(o.got_contact_date||o["à¸§à¸±à¸™à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸Šà¸·à¹ˆà¸­ à¹€à¸šà¸­à¸£à¹Œ "]),onChange:e=>tV("got_contact_date",e.target.value),className:"w-full px-4 py-3 border-2 border-cyan-200 bg-white rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-transparent outline-none cursor-pointer"})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,t.jsx)("span",{children:"ðŸ“…"})," à¸§à¸±à¸™à¸—à¸µà¹ˆà¸•à¸´à¸”à¸•à¸²à¸¡à¸„à¸£à¸±à¹‰à¸‡à¸¥à¹ˆà¸²à¸ªà¸¸à¸”"]}),(0,t.jsx)("input",{type:"date",value:st(o.last_followup||o["à¸§à¸±à¸™à¸—à¸µà¹ˆà¸•à¸´à¸”à¸•à¸²à¸¡à¸„à¸£à¸±à¹‰à¸‡à¸¥à¹ˆà¸²à¸ªà¸¸à¸”"]),onChange:e=>tV("last_followup",e.target.value),className:"w-full px-4 py-3 border-2 border-cyan-200 bg-white rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-transparent outline-none cursor-pointer"})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,t.jsx)("span",{children:"ðŸ“…"})," à¸§à¸±à¸™à¸—à¸µà¹ˆà¸•à¸´à¸”à¸•à¸²à¸¡à¸„à¸£à¸±à¹‰à¸‡à¸–à¸±à¸”à¹„à¸›"]}),(0,t.jsx)("input",{type:"date",value:st(o.next_followup||o["à¸§à¸±à¸™à¸—à¸µà¹ˆà¸•à¸´à¸”à¸•à¸²à¸¡à¸„à¸£à¸±à¹‰à¸‡à¸–à¸±à¸”à¹„à¸›"]),onChange:e=>tV("next_followup",e.target.value),className:"w-full px-4 py-3 border-2 border-cyan-200 bg-white rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-transparent outline-none cursor-pointer"})]})]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-violet-50 rounded-xl p-6 border border-purple-100 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)("div",{className:"w-1 h-6 bg-gradient-to-b from-purple-500 to-violet-500 rounded-full"}),(0,t.jsx)("h2",{className:"text-lg font-bold bg-gradient-to-r from-purple-600 to-violet-600 bg-clip-text text-transparent",children:"à¸§à¸±à¸™à¸—à¸µà¹ˆ Consult"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"group",children:[(0,t.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,t.jsx)("span",{children:"ðŸ“…"})," à¸§à¸±à¸™à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸™à¸±à¸” consult"]}),(0,t.jsx)("input",{type:"date",value:st(o.booked_consult_date||o["à¸§à¸±à¸™à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸™à¸±à¸” consult"]),onChange:e=>tV("booked_consult_date",e.target.value),className:"w-full px-4 py-3 border-2 border-purple-200 bg-white rounded-xl focus:ring-2 focus:ring-purple-400 focus:border-transparent outline-none cursor-pointer"})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,t.jsx)("span",{children:"ðŸ“…"})," à¸§à¸±à¸™à¸—à¸µà¹ˆ Consult"]}),(0,t.jsx)("input",{type:"date",value:st(o.consult_date||o["  à¸§à¸±à¸™à¸—à¸µà¹ˆ Consult"]),onChange:e=>tV("consult_date",e.target.value),className:"w-full px-4 py-3 border-2 border-purple-200 bg-white rounded-xl focus:ring-2 focus:ring-purple-400 focus:border-transparent outline-none cursor-pointer"})]})]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-rose-50 to-pink-50 rounded-xl p-6 border border-rose-100 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)("div",{className:"w-1 h-6 bg-gradient-to-b from-rose-500 to-pink-500 rounded-full"}),(0,t.jsx)("h2",{className:"text-lg font-bold bg-gradient-to-r from-rose-600 to-pink-600 bg-clip-text text-transparent",children:"à¸§à¸±à¸™à¸—à¸µà¹ˆà¸œà¹ˆà¸²à¸•à¸±à¸”"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"group",children:[(0,t.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,t.jsx)("span",{children:"ðŸ“…"})," à¸§à¸±à¸™à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸™à¸±à¸”à¸œà¹ˆà¸²à¸•à¸±à¸”"]}),(0,t.jsx)("input",{type:"date",value:st(o.booked_surgery_date||o["à¸§à¸±à¸™à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸™à¸±à¸”à¸œà¹ˆà¸²à¸•à¸±à¸”"]),onChange:e=>tV("booked_surgery_date",e.target.value),className:"w-full px-4 py-3 border-2 border-rose-200 bg-white rounded-xl focus:ring-2 focus:ring-rose-400 focus:border-transparent outline-none cursor-pointer"})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,t.jsx)("span",{children:"ðŸ“…"})," à¸§à¸±à¸™à¸—à¸µà¹ˆà¸œà¹ˆà¸²à¸•à¸±à¸”"]}),(0,t.jsx)("input",{type:"date",value:st(o.surgery_date||o["à¸§à¸±à¸™à¸—à¸µà¹ˆà¸œà¹ˆà¸²à¸•à¸±à¸”"]),onChange:e=>tV("surgery_date",e.target.value),className:"w-full px-4 py-3 border-2 border-rose-200 bg-white rounded-xl focus:ring-2 focus:ring-rose-400 focus:border-transparent outline-none cursor-pointer"})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,t.jsx)("span",{children:"â°"})," à¹€à¸§à¸¥à¸²à¸—à¸µà¹ˆà¸™à¸±à¸”"]}),(0,t.jsx)("input",{type:"time",value:(n=o.appointment_time||o["à¹€à¸§à¸¥à¸²à¸—à¸µà¹ˆà¸™à¸±à¸”"])?"string"==typeof n&&n.match(/^\d{2}:\d{2}/)?n.substring(0,5):n:"",onChange:e=>tV("appointment_time",e.target.value),className:"w-full px-4 py-3 border-2 border-rose-200 bg-white rounded-xl focus:ring-2 focus:ring-rose-400 focus:border-transparent outline-none cursor-pointer"})]})]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-amber-50 to-yellow-50 rounded-xl p-6 border border-amber-100 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)("div",{className:"w-1 h-6 bg-gradient-to-b from-amber-500 to-yellow-500 rounded-full"}),(0,t.jsx)("h2",{className:"text-lg font-bold bg-gradient-to-r from-amber-600 to-yellow-600 bg-clip-text text-transparent",children:"à¸«à¸¡à¸²à¸¢à¹€à¸«à¸•à¸¸"})]}),(0,t.jsx)("textarea",{value:o.note||o["à¸«à¸¡à¸²à¸¢à¹€à¸«à¸•à¸¸"]||"",onChange:e=>tV("note",e.target.value),className:"w-full px-4 py-3 border-2 border-amber-200 bg-white rounded-xl focus:ring-2 focus:ring-amber-400 focus:border-transparent outline-none min-h-[120px] resize-none",placeholder:"ðŸ“ à¸žà¸´à¸¡à¸žà¹Œà¸«à¸¡à¸²à¸¢à¹€à¸«à¸•à¸¸..."})]})]}),"opd"===c&&(0,t.jsx)("div",{className:"p-6 space-y-6",children:(0,t.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-100 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)("div",{className:"w-1 h-6 bg-gradient-to-b from-blue-500 to-indigo-500 rounded-full"}),(0,t.jsx)("h2",{className:"text-lg font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ OPD - à¸—à¸µà¹ˆà¸­à¸¢à¸¹à¹ˆ"})]}),eM&&(0,t.jsx)("p",{className:"text-xs text-emerald-600 mb-4",children:"à¸à¸³à¸¥à¸±à¸‡à¹‚à¸«à¸¥à¸”à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”/à¸­à¸³à¹€à¸ à¸­/à¸•à¸³à¸šà¸¥..."}),eR&&(0,t.jsx)("p",{className:"text-xs text-red-600 mb-4",children:eR}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸šà¹‰à¸²à¸™à¹€à¸¥à¸‚à¸—à¸µà¹ˆ"}),(0,t.jsx)("input",{type:"text",value:o.locno||"",onChange:e=>tV("locno",e.target.value),className:"w-full px-4 py-3 border-2 border-blue-200 bg-white rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-transparent outline-none",placeholder:"à¸£à¸°à¸šà¸¸à¸šà¹‰à¸²à¸™à¹€à¸¥à¸‚à¸—à¸µà¹ˆ"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”"}),(0,t.jsxs)("select",{value:eF?String(eF):"",onChange:e=>t6(e.target.value),className:"w-full px-4 py-3 border-2 border-blue-200 bg-white rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-transparent outline-none cursor-pointer",children:[(0,t.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”"}),t5.map(e=>(0,t.jsx)("option",{value:e.id,children:e.label},e.id))]})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸­à¸³à¹€à¸ à¸­ / à¹€à¸‚à¸•"}),(0,t.jsxs)("select",{value:eT?String(eT):"",onChange:e=>t7(e.target.value),disabled:!t4.length,className:"w-full px-4 py-3 border-2 border-blue-200 bg-white rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-transparent outline-none cursor-pointer disabled:bg-gray-100",children:[(0,t.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸à¸­à¸³à¹€à¸ à¸­ / à¹€à¸‚à¸•"}),t4.map(e=>(0,t.jsx)("option",{value:e.id,children:e.label},e.id))]})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸•à¸³à¸šà¸¥ / à¹à¸‚à¸§à¸‡"}),(0,t.jsxs)("select",{value:eA?String(eA):"",onChange:e=>t8(e.target.value),disabled:!t3.length,className:"w-full px-4 py-3 border-2 border-blue-200 bg-white rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-transparent outline-none cursor-pointer disabled:bg-gray-100",children:[(0,t.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸à¸•à¸³à¸šà¸¥ / à¹à¸‚à¸§à¸‡"}),t3.map(e=>(0,t.jsx)("option",{value:e.id,children:e.label},e.id))]})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸£à¸«à¸±à¸ªà¹„à¸›à¸£à¸©à¸“à¸µà¸¢à¹Œ"}),(0,t.jsx)("input",{type:"text",value:o.zipcode||"",readOnly:!0,className:"w-full px-4 py-3 border-2 border-blue-200 bg-gray-100 rounded-xl outline-none text-gray-700",placeholder:"à¸£à¸«à¸±à¸ªà¹„à¸›à¸£à¸©à¸“à¸µà¸¢à¹Œ (à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´)"})]})]})]})]})}),"consent"===c&&(0,t.jsx)("div",{className:"p-6 space-y-6",children:(0,t.jsxs)("div",{className:"bg-gradient-to-br from-emerald-50 to-teal-50 rounded-xl p-6 border border-emerald-100 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)("div",{className:"w-1 h-6 bg-gradient-to-b from-emerald-500 to-teal-500 rounded-full"}),(0,t.jsx)("h2",{className:"text-lg font-bold bg-gradient-to-r from-emerald-600 to-teal-600 bg-clip-text text-transparent",children:"Consent Form"})]}),(0,t.jsx)("div",{className:"flex gap-2 mb-6",children:E.map(e=>(0,t.jsx)("button",{onClick:()=>tb(e.key),className:`px-4 py-2 rounded-lg font-medium transition-all ${tp===e.key?"bg-emerald-500 text-white shadow-md":"bg-white border border-emerald-200 text-emerald-700 hover:bg-emerald-50"}`,children:e.label},e.key))}),th?(0,t.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,t.jsx)(x.Loader2,{className:"w-8 h-8 animate-spin text-emerald-500"})}):(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸™à¹‰à¸³à¸«à¸™à¸±à¸ (kg)"}),(0,t.jsx)("input",{type:"text",value:tm[tp]?.weight||"",onChange:e=>tx(t=>({...t,[tp]:{...t[tp],weight:e.target.value}})),className:"w-full px-4 py-3 border-2 border-emerald-200 bg-white rounded-xl focus:ring-2 focus:ring-emerald-400 focus:border-transparent outline-none",placeholder:"à¸£à¸°à¸šà¸¸à¸™à¹‰à¸³à¸«à¸™à¸±à¸"})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸ªà¹ˆà¸§à¸™à¸ªà¸¹à¸‡ (cm)"}),(0,t.jsx)("input",{type:"text",value:tm[tp]?.height||"",onChange:e=>tx(t=>({...t,[tp]:{...t[tp],height:e.target.value}})),className:"w-full px-4 py-3 border-2 border-emerald-200 bg-white rounded-xl focus:ring-2 focus:ring-emerald-400 focus:border-transparent outline-none",placeholder:"à¸£à¸°à¸šà¸¸à¸ªà¹ˆà¸§à¸™à¸ªà¸¹à¸‡"})]})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[(0,t.jsx)("input",{type:"checkbox",checked:tm[tp]?.hasChronic||!1,onChange:e=>tx(t=>({...t,[tp]:{...t[tp],hasChronic:e.target.checked}})),className:"w-4 h-4 rounded border-gray-300 text-emerald-500 focus:ring-emerald-400"}),"à¸¡à¸µà¹‚à¸£à¸„à¸›à¸£à¸°à¸ˆà¸³à¸•à¸±à¸§"]}),tm[tp]?.hasChronic&&(0,t.jsx)("input",{type:"text",value:tm[tp]?.chronicDiseaseDetail||"",onChange:e=>tx(t=>({...t,[tp]:{...t[tp],chronicDiseaseDetail:e.target.value}})),className:"w-full px-4 py-3 border-2 border-emerald-200 bg-white rounded-xl focus:ring-2 focus:ring-emerald-400 focus:border-transparent outline-none mt-2",placeholder:"à¸£à¸°à¸šà¸¸à¹‚à¸£à¸„à¸›à¸£à¸°à¸ˆà¸³à¸•à¸±à¸§"})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[(0,t.jsx)("input",{type:"checkbox",checked:tm[tp]?.hasDrugAllergy||!1,onChange:e=>tx(t=>({...t,[tp]:{...t[tp],hasDrugAllergy:e.target.checked}})),className:"w-4 h-4 rounded border-gray-300 text-emerald-500 focus:ring-emerald-400"}),"à¸¡à¸µà¸›à¸£à¸°à¸§à¸±à¸•à¸´à¹à¸žà¹‰à¸¢à¸²"]}),tm[tp]?.hasDrugAllergy&&(0,t.jsx)("input",{type:"text",value:tm[tp]?.drugAllergyDetail||"",onChange:e=>tx(t=>({...t,[tp]:{...t[tp],drugAllergyDetail:e.target.value}})),className:"w-full px-4 py-3 border-2 border-emerald-200 bg-white rounded-xl focus:ring-2 focus:ring-emerald-400 focus:border-transparent outline-none mt-2",placeholder:"à¸£à¸°à¸šà¸¸à¸¢à¸²à¸—à¸µà¹ˆà¹à¸žà¹‰"})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸¢à¸´à¸™à¸¢à¸­à¸¡à¸£à¸±à¸šà¸à¸²à¸£à¸£à¸±à¸à¸©à¸²"}),(0,t.jsxs)("select",{value:tm[tp]?.medicalConsent||"",onChange:e=>tx(t=>({...t,[tp]:{...t[tp],medicalConsent:e.target.value}})),className:"w-full px-4 py-3 border-2 border-emerald-200 bg-white rounded-xl focus:ring-2 focus:ring-emerald-400 focus:border-transparent outline-none cursor-pointer",children:[(0,t.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸"}),F.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸¢à¸­à¸¡à¸£à¸±à¸š PDPA"}),(0,t.jsxs)("select",{value:tm[tp]?.acceptPdpa||"",onChange:e=>tx(t=>({...t,[tp]:{...t[tp],acceptPdpa:e.target.value}})),className:"w-full px-4 py-3 border-2 border-emerald-200 bg-white rounded-xl focus:ring-2 focus:ring-emerald-400 focus:border-transparent outline-none cursor-pointer",children:[(0,t.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸"}),A.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸¢à¸´à¸™à¸¢à¸­à¸¡à¹€à¸œà¸¢à¹à¸žà¸£à¹ˆà¸ªà¸·à¹ˆà¸­"}),(0,t.jsxs)("select",{value:tm[tp]?.acceptMedia||"",onChange:e=>tx(t=>({...t,[tp]:{...t[tp],acceptMedia:e.target.value}})),className:"w-full px-4 py-3 border-2 border-emerald-200 bg-white rounded-xl focus:ring-2 focus:ring-emerald-400 focus:border-transparent outline-none cursor-pointer",children:[(0,t.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸"}),A.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸¥à¸²à¸¢à¹€à¸‹à¹‡à¸™"}),(0,t.jsx)(Z,{value:tm[tp]?.signatureUrl||"",onChange:e=>tx(t=>({...t,[tp]:{...t[tp],signatureUrl:e}}))})]})]})]})}),"service"===c&&(0,t.jsx)("div",{className:"p-6 space-y-6",children:(0,t.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-6 border border-purple-100 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)("div",{className:"w-1 h-6 bg-gradient-to-b from-purple-500 to-pink-500 rounded-full"}),(0,t.jsx)("h2",{className:"text-lg font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"à¸šà¸£à¸´à¸à¸²à¸£"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸à¸¥à¸¸à¹ˆà¸¡à¸šà¸£à¸´à¸à¸²à¸£"}),(0,t.jsxs)("select",{value:eq,onChange:e=>eK(e.target.value),disabled:eY,className:"w-full px-4 py-3 border-2 border-purple-200 bg-white rounded-xl focus:ring-2 focus:ring-purple-400 focus:border-transparent outline-none cursor-pointer",children:[(0,t.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸à¸à¸¥à¸¸à¹ˆà¸¡à¸šà¸£à¸´à¸à¸²à¸£"}),eG.map(e=>(0,t.jsx)("option",{value:e.groupcode,children:e.groupname},e.groupcode))]})]}),eq&&(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸„à¹‰à¸™à¸«à¸²à¸šà¸£à¸´à¸à¸²à¸£"}),(0,t.jsx)("input",{type:"text",value:e3,onChange:e=>e6(e.target.value),className:"w-full px-4 py-3 border-2 border-purple-200 bg-white rounded-xl focus:ring-2 focus:ring-purple-400 focus:border-transparent outline-none",placeholder:"à¸žà¸´à¸¡à¸žà¹Œà¸Šà¸·à¹ˆà¸­à¸šà¸£à¸´à¸à¸²à¸£..."})]}),e7.length>0&&(0,t.jsxs)("div",{className:"bg-purple-100 rounded-xl p-4",children:[(0,t.jsxs)("h3",{className:"font-semibold text-purple-800 mb-2",children:["à¸šà¸£à¸´à¸à¸²à¸£à¸—à¸µà¹ˆà¹€à¸¥à¸·à¸­à¸ (",e7.length,")"]}),(0,t.jsx)("div",{className:"space-y-2",children:e7.map(e=>(0,t.jsxs)("div",{className:"flex justify-between items-center bg-white rounded-lg p-2",children:[(0,t.jsx)("span",{className:"text-sm text-gray-700",children:e.itemname}),(0,t.jsxs)("span",{className:"text-sm font-semibold text-purple-600",children:[M(B(e))," à¸¿"]})]},e.id))})]})]})]})}),"appointment"===c&&(0,t.jsx)("div",{className:"p-6 space-y-6",children:(0,t.jsxs)("div",{className:"bg-gradient-to-br from-orange-50 to-amber-50 rounded-xl p-6 border border-orange-100 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)("div",{className:"w-1 h-6 bg-gradient-to-b from-orange-500 to-amber-500 rounded-full"}),(0,t.jsx)("h2",{className:"text-lg font-bold bg-gradient-to-r from-orange-600 to-amber-600 bg-clip-text text-transparent",children:"à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢"})]}),eu?(0,t.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,t.jsx)(x.Loader2,{className:"w-8 h-8 animate-spin text-orange-500"})}):(0,t.jsxs)("div",{className:"space-y-4",children:[V.map((e,s)=>(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-800",children:e.title}),(0,t.jsx)("div",{className:`grid ${e.columns||"grid-cols-1 md:grid-cols-2"} gap-4`,children:e.fields.map(e=>{let s=H[e];return s?(0,t.jsxs)("div",{className:s.fullWidth?"col-span-full":"",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:s.label}),"textarea"===s.type?(0,t.jsx)("textarea",{value:ed[e]||"",onChange:t=>ec(s=>({...s,[e]:t.target.value})),readOnly:s.readOnly,className:"w-full px-4 py-3 border-2 border-orange-200 bg-white rounded-xl focus:ring-2 focus:ring-orange-400 focus:border-transparent outline-none min-h-[100px] resize-none",placeholder:s.placeholder}):(0,t.jsx)("input",{type:s.type||"text",value:ed[e]||"",onChange:t=>ec(s=>({...s,[e]:t.target.value})),readOnly:s.readOnly,className:`w-full px-4 py-3 border-2 border-orange-200 ${s.readOnly?"bg-gray-100":"bg-white"} rounded-xl focus:ring-2 focus:ring-orange-400 focus:border-transparent outline-none`,placeholder:s.placeholder})]},e):null})})]},s)),eb.length>0&&(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-800 mb-4",children:"à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢"}),(0,t.jsx)("div",{className:"space-y-2",children:eb.map((e,s)=>(0,t.jsx)("div",{className:"bg-white border border-orange-200 rounded-lg p-3 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>{let t=G(e,s);eN(ey===t?null:t)},children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-gray-700",children:e.activity||"à¹„à¸¡à¹ˆà¸£à¸°à¸šà¸¸à¸à¸´à¸ˆà¸à¸£à¸£à¸¡"}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:J(e.start_date)})]})},G(e,s)))})]})]})]})})]}),(0,t.jsxs)("div",{className:"sticky bottom-0 bg-gradient-to-t from-gray-50 to-white border-t border-gray-200 p-4 sm:p-5 flex justify-center gap-4 shadow-lg",children:[(0,t.jsx)("button",{onClick:a,disabled:Q,className:"px-6 sm:px-8 py-2.5 sm:py-3 border-2 border-gray-300 rounded-xl text-gray-700 text-sm sm:text-base font-semibold hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"à¸¢à¸à¹€à¸¥à¸´à¸"}),(0,t.jsx)("button",{onClick:()=>t9(),disabled:Q,className:"flex items-center gap-2 px-6 sm:px-8 py-2.5 sm:py-3 bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white text-sm sm:text-base font-semibold rounded-xl transition-all duration-200 disabled:opacity-70 disabled:cursor-not-allowed shadow-lg hover:shadow-xl",children:Q?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.Loader2,{className:"w-4 h-4 animate-spin"}),"à¸à¸³à¸¥à¸±à¸‡à¸šà¸±à¸™à¸—à¸¶à¸..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.Save,{className:"w-4 h-4"}),"à¸šà¸±à¸™à¸—à¸¶à¸"]})})]})]}),(0,t.jsx)(w,{isOpen:tk.isOpen,onClose:()=>tC({...tk,isOpen:!1}),type:tk.type,title:tk.title,message:tk.message}),et&&(0,t.jsxs)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/50",onClick:()=>es(!1)}),(0,t.jsxs)("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-lg max-h-[80vh] overflow-hidden animate-slideUp",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 px-6 py-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(b.FileText,{className:"w-6 h-6 text-white"}),(0,t.jsx)("h2",{className:"text-lg font-semibold text-white",children:"à¹€à¸›à¸´à¸” OPD"})]}),(0,t.jsx)("button",{onClick:()=>es(!1),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:(0,t.jsx)(d.X,{className:"w-5 h-5 text-white"})})]}),(0,t.jsxs)("div",{className:"p-6 overflow-y-auto max-h-[calc(80vh-80px)] space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2 text-sm text-slate-600",children:[(0,t.jsx)("p",{className:"text-base font-semibold text-slate-800",children:"à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ OPD"}),(0,t.jsx)("p",{className:"text-slate-500",children:"à¹€à¸¥à¸·à¸­à¸à¸•à¸³à¹à¸«à¸™à¹ˆà¸‡à¸—à¸µà¹ˆà¸•à¸±à¹‰à¸‡à¹€à¸žà¸·à¹ˆà¸­à¸šà¸±à¸™à¸—à¸¶à¸à¸¥à¸‡ bjh_master_customers à¸žà¸£à¹‰à¸­à¸¡ LocNo à¹à¸¥à¸° Zipcode à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´"}),eM&&(0,t.jsx)("p",{className:"text-xs text-emerald-600",children:"à¸à¸³à¸¥à¸±à¸‡à¹‚à¸«à¸¥à¸”à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”/à¸­à¸³à¹€à¸ à¸­/à¸•à¸³à¸šà¸¥..."}),eR&&(0,t.jsx)("p",{className:"text-xs text-red-600",children:eR})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸šà¹‰à¸²à¸™à¹€à¸¥à¸‚à¸—à¸µà¹ˆ"}),(0,t.jsx)("input",{type:"text",value:o.locno||"",onChange:e=>tV("locno",e.target.value),className:"w-full px-4 py-3 border-2 border-slate-200 rounded-xl bg-white text-gray-900 placeholder:text-slate-400 focus:border-cyan-400 focus:ring-2 focus:ring-cyan-400 outline-none transition",placeholder:"à¸£à¸°à¸šà¸¸à¸šà¹‰à¸²à¸™à¹€à¸¥à¸‚à¸—à¸µà¹ˆ"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”"}),(0,t.jsxs)("select",{value:eF?String(eF):"",onChange:e=>t6(e.target.value),className:"w-full px-4 py-3 border-2 border-slate-200 rounded-xl bg-white text-gray-900 transition focus:ring-2 focus:ring-cyan-400 focus:border-transparent",children:[(0,t.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”"}),t5.map(e=>(0,t.jsx)("option",{value:e.id,children:e.label},e.id))]})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸­à¸³à¹€à¸ à¸­ / à¹€à¸‚à¸•"}),(0,t.jsxs)("select",{value:eT?String(eT):"",onChange:e=>t7(e.target.value),disabled:!t4.length,className:"w-full px-4 py-3 border-2 border-slate-200 rounded-xl bg-white text-gray-900 transition focus:ring-2 focus:ring-cyan-400 focus:border-transparent disabled:cursor-not-allowed disabled:bg-slate-50",children:[(0,t.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸à¸­à¸³à¹€à¸ à¸­ / à¹€à¸‚à¸•"}),t4.map(e=>(0,t.jsx)("option",{value:e.id,children:e.label},e.id))]})]})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸•à¸³à¸šà¸¥ / à¹à¸‚à¸§à¸‡"}),(0,t.jsxs)("select",{value:eA?String(eA):"",onChange:e=>t8(e.target.value),disabled:!t3.length,className:"w-full px-4 py-3 border-2 border-slate-200 rounded-xl bg-white text-gray-900 transition focus:ring-2 focus:ring-cyan-400 focus:border-transparent disabled:cursor-not-allowed disabled:bg-slate-50",children:[(0,t.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸à¸•à¸³à¸šà¸¥ / à¹à¸‚à¸§à¸‡"}),t3.map(e=>(0,t.jsx)("option",{value:e.id,children:e.label},e.id))]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Zipcode"}),(0,t.jsx)("input",{type:"text",value:o.zipcode||"",readOnly:!0,className:"w-full px-4 py-3 border-2 border-slate-200 rounded-xl bg-slate-100 text-gray-700",placeholder:"à¸ˆà¸°à¸–à¸¹à¸à¸à¸£à¸­à¸à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´"})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Country"}),(0,t.jsx)("input",{type:"text",value:o.country||"Thailand",readOnly:!0,className:"w-full px-4 py-3 border-2 border-slate-200 rounded-xl bg-slate-100 text-gray-700"})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,t.jsx)("button",{type:"button",onClick:()=>es(!1),className:"px-4 py-2 border border-slate-300 rounded-xl text-slate-700 font-semibold hover:border-slate-400 transition",children:"à¸›à¸´à¸”"}),(0,t.jsx)("button",{type:"button",onClick:()=>{tV("is_opd",1),t9({autoClose:!1,onSuccess:()=>{es(!1)}})},disabled:Q,className:"px-4 py-2 bg-gradient-to-r from-emerald-500 to-cyan-600 text-white font-semibold rounded-xl shadow-lg hover:from-emerald-600 hover:to-cyan-700 disabled:opacity-60",children:Q?"à¸à¸³à¸¥à¸±à¸‡à¸šà¸±à¸™à¸—à¸¶à¸...":"à¸šà¸±à¸™à¸—à¸¶à¸ OPD"})]})]})]})]}),ea&&(0,t.jsxs)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/50",onClick:()=>el(!1)}),(0,t.jsxs)("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-lg max-h-[80vh] overflow-hidden animate-slideUp",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 px-6 py-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(h,{className:"w-6 h-6 text-white"}),(0,t.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Consent"})]}),(0,t.jsx)("button",{onClick:()=>el(!1),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:(0,t.jsx)(d.X,{className:"w-5 h-5 text-white"})})]}),(0,t.jsxs)("div",{className:"p-6 overflow-y-auto max-h-[calc(80vh-80px)] space-y-5",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[(0,t.jsxs)("div",{className:"space-y-1 text-center md:text-left",children:[(0,t.jsx)("p",{className:"text-lg font-semibold text-slate-800",children:"à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ Consent"}),(0,t.jsx)("p",{className:"text-sm text-slate-500",children:"à¸šà¸±à¸™à¸—à¸¶à¸à¸™à¹‰à¸³à¸«à¸™à¸±à¸, à¸ªà¹ˆà¸§à¸™à¸ªà¸¹à¸‡ à¹à¸¥à¸°à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸ªà¸¸à¸‚à¸ à¸²à¸žà¹€à¸žà¸·à¹ˆà¸­à¸™à¸³à¹„à¸›à¹ƒà¸Šà¹‰à¹ƒà¸™ Consent Form"})]}),(0,t.jsx)("button",{type:"button",onClick:tI,disabled:tv||th,className:"rounded-xl bg-gradient-to-r from-purple-600 to-indigo-600 px-5 py-2 text-sm font-semibold text-white shadow-lg transition hover:from-purple-700 hover:to-indigo-700 disabled:opacity-60",children:tv?"à¸à¸³à¸¥à¸±à¸‡à¸šà¸±à¸™à¸—à¸¶à¸":"à¸šà¸±à¸™à¸—à¸¶à¸ Consent"})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[tf&&(0,t.jsx)("p",{className:"text-xs text-red-600",children:tf}),th&&(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"à¸à¸³à¸¥à¸±à¸‡à¹‚à¸«à¸¥à¸”à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ Consent..."})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:E.map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>tb(e.key),className:`rounded-2xl px-4 py-2 text-xs font-semibold transition border shadow-sm ${tp===e.key?"bg-purple-600 text-white border-transparent":"bg-white text-slate-600 border-slate-200 hover:border-slate-300"}`,children:e.label},e.key))}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)("label",{className:"flex flex-col text-xs font-semibold uppercase tracking-wider text-slate-500",children:["à¸™à¹‰à¸³à¸«à¸™à¸±à¸ (à¸à¸.)",(0,t.jsx)("input",{type:"number",value:tJ.weight,onChange:e=>tL(tp,{weight:e.target.value}),className:"mt-1 rounded-2xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 focus:border-purple-500 focus:outline-none focus:ring-2 focus:ring-purple-100",placeholder:"à¹€à¸Šà¹ˆà¸™ 60"})]}),(0,t.jsxs)("label",{className:"flex flex-col text-xs font-semibold uppercase tracking-wider text-slate-500",children:["à¸ªà¹ˆà¸§à¸™à¸ªà¸¹à¸‡ (à¸‹à¸¡.)",(0,t.jsx)("input",{type:"number",value:tJ.height,onChange:e=>tL(tp,{height:e.target.value}),className:"mt-1 rounded-2xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 focus:border-purple-500 focus:outline-none focus:ring-2 focus:ring-purple-100",placeholder:"à¹€à¸Šà¹ˆà¸™ 170"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-slate-500",children:"à¸¡à¸µà¹‚à¸£à¸„à¸›à¸£à¸°à¸ˆà¸³à¸•à¸±à¸§à¸«à¸£à¸·à¸­à¹„à¸¡à¹ˆ"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:[{label:"à¹„à¸¡à¹ˆà¸¡à¸µ",value:!1},{label:"à¸¡à¸µ",value:!0}].map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>tM(tp,"hasChronic",e.value),className:`rounded-2xl px-3 py-1.5 text-xs font-semibold transition border ${tJ.hasChronic===e.value?"bg-indigo-600 text-white border-transparent":"bg-white text-slate-600 border-slate-200 hover:border-slate-300"}`,children:e.label},`chronic-${e.value}`))}),tJ.hasChronic&&(0,t.jsx)("textarea",{value:tJ.chronicDiseaseDetail,onChange:e=>tL(tp,{chronicDiseaseDetail:e.target.value}),className:"w-full rounded-2xl border border-slate-200 px-3 py-2 text-sm text-slate-700 focus:border-purple-500 focus:outline-none focus:ring-2 focus:ring-purple-100",placeholder:"à¹‚à¸›à¸£à¸”à¸£à¸°à¸šà¸¸à¸Šà¸·à¹ˆà¸­à¹‚à¸£à¸„ / à¸à¸²à¸£à¸£à¸±à¸à¸©à¸²à¸—à¸µà¹ˆà¸à¸³à¸¥à¸±à¸‡à¸£à¸±à¸šà¸­à¸¢à¸¹à¹ˆ",rows:3})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-slate-500",children:"à¸¡à¸µà¸›à¸£à¸°à¸§à¸±à¸•à¸´à¹à¸žà¹‰à¸¢à¸²à¸«à¸£à¸·à¸­à¹„à¸¡à¹ˆ"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:[{label:"à¹„à¸¡à¹ˆà¸¡à¸µ",value:!1},{label:"à¸¡à¸µ",value:!0}].map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>tM(tp,"hasDrugAllergy",e.value),className:`rounded-2xl px-3 py-1.5 text-xs font-semibold transition border ${tJ.hasDrugAllergy===e.value?"bg-indigo-600 text-white border-transparent":"bg-white text-slate-600 border-slate-200 hover:border-slate-300"}`,children:e.label},`drug-${e.value}`))}),tJ.hasDrugAllergy&&(0,t.jsx)("textarea",{value:tJ.drugAllergyDetail,onChange:e=>tL(tp,{drugAllergyDetail:e.target.value}),className:"w-full rounded-2xl border border-slate-200 px-3 py-2 text-sm text-slate-700 focus:border-purple-500 focus:outline-none focus:ring-2 focus:ring-purple-100",placeholder:"à¸£à¸°à¸šà¸¸à¸Šà¸·à¹ˆà¸­à¸¢à¸² / à¸­à¸²à¸à¸²à¸£à¹à¸žà¹‰",rows:3})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-slate-500",children:["à¸¥à¸²à¸¢à¹€à¸‹à¹‡à¸™ (",E.find(e=>e.key===tp)?.label,")"]})}),(0,t.jsxs)("div",{className:"space-y-3 rounded-2xl border border-slate-200 bg-white/90 p-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500",children:"medical_consent"}),(0,t.jsx)("p",{className:"text-sm font-medium text-slate-800",children:'à¹€à¸žà¸µà¸¢à¸‡à¹€à¸¥à¸·à¸­à¸ "à¸¢à¸´à¸™à¸¢à¸­à¸¡" à¸«à¸£à¸·à¸­ "à¹„à¸¡à¹ˆà¸¢à¸´à¸™à¸¢à¸­à¸¡" à¸à¹ˆà¸­à¸™à¸šà¸±à¸™à¸—à¸¶à¸à¸¥à¸²à¸¢à¹€à¸‹à¹‡à¸™'})]}),(0,t.jsxs)("span",{className:"text-[11px] text-slate-400",children:["à¸ªà¸–à¸²à¸™à¸°: ",tJ.medicalConsent||"à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¹€à¸¥à¸·à¸­à¸"]})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:F.map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>tL(tp,{medicalConsent:e}),className:`px-4 py-1.5 rounded-2xl text-xs font-semibold transition-colors border shadow-sm ${tJ.medicalConsent===e?"bg-purple-600 text-white border-transparent":"bg-white text-purple-700 border-purple-200 hover:border-purple-400"}`,children:e},e))}),(0,t.jsxs)("div",{className:"max-h-36 overflow-y-auto text-xs leading-relaxed text-slate-600 space-y-1",children:[P.map((e,s)=>(0,t.jsx)("p",{className:0===s?"font-semibold text-slate-900":"",children:e},`${e}-${s}`)),(0,t.jsx)("p",{className:"text-[10px] text-slate-400",children:"à¹€à¸¥à¸·à¹ˆà¸­à¸™à¸­à¹ˆà¸²à¸™à¸à¹ˆà¸­à¸™à¸•à¸±à¸”à¸ªà¸´à¸™à¹ƒà¸ˆ à¹à¸¥à¹‰à¸§à¸¥à¸‡à¸¥à¸²à¸¢à¹€à¸‹à¹‡à¸™à¸”à¹‰à¸²à¸™à¸¥à¹ˆà¸²à¸‡"})]})]}),(0,t.jsxs)("div",{className:"space-y-3 rounded-2xl border border-slate-200 bg-white/90 p-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500",children:"accept_pdpa"}),(0,t.jsx)("p",{className:"text-sm font-medium text-slate-800",children:"PDPA â€“ à¸¢à¸´à¸™à¸¢à¸­à¸¡à¹ƒà¸«à¹‰à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ªà¹ˆà¸§à¸™à¸šà¸¸à¸„à¸„à¸¥à¸–à¸¹à¸à¹ƒà¸Šà¹‰à¸•à¸²à¸¡à¸™à¹‚à¸¢à¸šà¸²à¸¢"})]}),(0,t.jsxs)("span",{className:"text-[11px] text-slate-400",children:["à¸ªà¸–à¸²à¸™à¸°: ",tJ.acceptPdpa||"à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¹€à¸¥à¸·à¸­à¸"]})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:A.map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>tL(tp,{acceptPdpa:e}),className:`px-4 py-1.5 rounded-2xl text-xs font-semibold transition-colors border shadow-sm ${tJ.acceptPdpa===e?"bg-purple-600 text-white border-transparent":"bg-white text-purple-700 border-purple-200 hover:border-purple-400"}`,children:e},`pdpa-${e}`))}),(0,t.jsxs)("div",{className:"max-h-36 overflow-y-auto text-xs leading-relaxed text-slate-600 space-y-1",children:[T.map((e,s)=>(0,t.jsx)("p",{className:0===s?"font-semibold text-slate-900":"",children:e},`${e}-${s}`)),(0,t.jsx)("p",{className:"text-[10px] text-slate-400",children:"à¹€à¸¥à¸·à¹ˆà¸­à¸™à¸­à¹ˆà¸²à¸™à¸à¹ˆà¸­à¸™à¸•à¸±à¸”à¸ªà¸´à¸™à¹ƒà¸ˆ"})]})]}),(0,t.jsxs)("div",{className:"space-y-3 rounded-2xl border border-slate-200 bg-white/90 p-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500",children:"accept_media"}),(0,t.jsx)("p",{className:"text-sm font-medium text-slate-800",children:"à¸¢à¸´à¸™à¸¢à¸­à¸¡à¸£à¸±à¸šà¸‚à¹ˆà¸²à¸§à¸ªà¸²à¸£à¸«à¸£à¸·à¸­à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸ à¸²à¸žà¸ªà¸³à¸«à¸£à¸±à¸šà¸‡à¸²à¸™à¸›à¸£à¸°à¸Šà¸²à¸ªà¸±à¸¡à¸žà¸±à¸™à¸˜à¹Œ"})]}),(0,t.jsxs)("span",{className:"text-[11px] text-slate-400",children:["à¸ªà¸–à¸²à¸™à¸°: ",tJ.acceptMedia||"à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¹€à¸¥à¸·à¸­à¸"]})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:A.map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>tL(tp,{acceptMedia:e}),className:`px-4 py-1.5 rounded-2xl text-xs font-semibold transition-colors border shadow-sm ${tJ.acceptMedia===e?"bg-purple-600 text-white border-transparent":"bg-white text-purple-700 border-purple-200 hover:border-purple-400"}`,children:e},`media-${e}`))}),(0,t.jsxs)("div",{className:"max-h-36 overflow-y-auto text-xs leading-relaxed text-slate-600 space-y-1",children:[z.map((e,s)=>(0,t.jsx)("p",{className:0===s?"font-semibold text-slate-900":"",children:e},`${e}-${s}`)),(0,t.jsx)("p",{className:"text-[10px] text-slate-400",children:"à¹€à¸¥à¸·à¹ˆà¸­à¸™à¸­à¹ˆà¸²à¸™à¸à¹ˆà¸­à¸™à¸•à¸±à¸”à¸ªà¸´à¸™à¹ƒà¸ˆ"})]})]}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸™à¹‰à¸³à¸«à¸™à¸±à¸ à¸ªà¹ˆà¸§à¸™à¸ªà¸¹à¸‡ à¹à¸¥à¸°à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸ªà¸¸à¸‚à¸ à¸²à¸žà¸—à¸µà¹ˆà¸£à¸°à¸šà¸¸à¸”à¹‰à¸²à¸™à¸šà¸™à¸ˆà¸°à¸–à¸¹à¸à¹à¸™à¸šà¹ƒà¸™ Consent Form à¸žà¸£à¹‰à¸­à¸¡à¸ªà¸±à¸à¸à¸²à¹à¸¥à¸°à¸¥à¸²à¸¢à¹€à¸‹à¹‡à¸™"}),(0,t.jsx)(Z,{value:tJ.signatureUrl,onChange:e=>{tL(tp,{signatureUrl:e})}}),tJ.signatureUrl&&(0,t.jsxs)("div",{className:"space-y-1 rounded-2xl border border-slate-200 p-3",children:[(0,t.jsx)("p",{className:"text-[10px] uppercase tracking-wider text-slate-400",children:"à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡à¸¥à¸²à¸¢à¹€à¸‹à¹‡à¸™à¸—à¸µà¹ˆà¸šà¸±à¸™à¸—à¸¶à¸à¹„à¸§à¹‰"}),(0,t.jsx)("img",{src:tJ.signatureUrl,alt:"Signature preview",className:"h-16 w-full rounded-lg border border-slate-100 object-contain"})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-between border-t px-6 py-4",children:[(0,t.jsx)("div",{children:(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"à¸šà¸±à¸™à¸—à¸¶à¸ Consent à¸ˆà¸°à¸–à¸¹à¸à¹€à¸à¹‡à¸šà¹à¸¢à¸à¸•à¸²à¸¡à¸ªà¹ˆà¸§à¸™ (part) à¸—à¸µà¹ˆà¹€à¸¥à¸·à¸­à¸"})}),(0,t.jsx)("button",{type:"button",onClick:tI,disabled:tv||th,className:"rounded-xl bg-gradient-to-r from-purple-600 to-indigo-600 px-6 py-2 text-sm font-semibold text-white shadow-lg transition hover:from-purple-700 hover:to-indigo-700 disabled:opacity-60",children:tv?"à¸à¸³à¸¥à¸±à¸‡à¸šà¸±à¸™à¸—à¸¶à¸ Consent...":"à¸šà¸±à¸™à¸—à¸¶à¸ Consent"})]})]})]}),er&&(0,t.jsx)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",children:(0,t.jsxs)("div",{className:"relative w-full max-w-6xl overflow-hidden rounded-3xl bg-white shadow-2xl",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 px-8 py-5 text-white",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"à¸šà¸£à¸´à¸à¸²à¸£ OPD"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-white/80",children:"à¹€à¸¥à¸·à¸­à¸à¸šà¸£à¸´à¸à¸²à¸£à¹à¸¥à¸°à¸à¸³à¸«à¸™à¸” Charge / Discount"})]}),(0,t.jsx)("button",{type:"button",onClick:tT,className:"rounded-full bg-white/20 p-2 transition hover:bg-white/30",children:(0,t.jsx)(d.X,{className:"w-6 h-6"})})]}),(0,t.jsx)("div",{className:"border-b bg-gray-50 px-8 py-4",children:(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,t.jsx)("label",{className:"text-sm font-semibold text-gray-700",children:"à¸à¸¥à¸¸à¹ˆà¸¡à¸šà¸£à¸´à¸à¸²à¸£:"}),(0,t.jsxs)("select",{className:"rounded-xl border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-800 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",value:eq,onChange:e=>{var t;(eK(t=e.target.value),e6(""),e4(null),t)?tF(t):e0([])},children:[(0,t.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸à¸à¸¥à¸¸à¹ˆà¸¡à¸šà¸£à¸´à¸à¸²à¸£"}),eG.map(e=>(0,t.jsx)("option",{value:e.groupcode,children:e.groupname},e.groupcode))]}),eY&&(0,t.jsx)("span",{className:"text-sm text-gray-500",children:"à¸à¸³à¸¥à¸±à¸‡à¹‚à¸«à¸¥à¸”à¸à¸¥à¸¸à¹ˆà¸¡à¸šà¸£à¸´à¸à¸²à¸£..."}),e7.length>0&&(0,t.jsxs)("span",{className:"rounded-full bg-emerald-100 px-3 py-1 text-sm font-semibold text-emerald-700",children:["à¹€à¸¥à¸·à¸­à¸à¹à¸¥à¹‰à¸§ ",e7.length," à¸£à¸²à¸¢à¸à¸²à¸£"]})]})}),(0,t.jsx)("div",{className:"border-b bg-white/80 px-8 py-3 text-sm text-gray-600",children:ts?(0,t.jsx)("span",{children:"à¸à¸³à¸¥à¸±à¸‡à¹‚à¸«à¸¥à¸”à¸›à¸£à¸°à¸§à¸±à¸•à¸´ b_saleitem..."}):tl?(0,t.jsx)("span",{className:"text-red-600",children:tl}):0===tH.count?(0,t.jsx)("span",{children:"à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µà¸£à¸²à¸¢à¸à¸²à¸£à¸šà¸±à¸™à¸—à¸¶à¸à¹ƒà¸™ b_saleitem"}):(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,t.jsxs)("span",{children:["à¸šà¸±à¸™à¸—à¸¶à¸à¹à¸¥à¹‰à¸§ ",tH.count," à¸£à¸²à¸¢à¸à¸²à¸£ Â· à¸¢à¸­à¸”à¸£à¸§à¸¡ ",M(tH.total)]}),(0,t.jsx)("button",{type:"button",onClick:()=>{eB&&(tP(eB),td(!0))},className:"rounded-full border border-slate-200 bg-white px-3 py-1 text-[11px] font-semibold text-slate-600 transition hover:border-slate-300",children:"à¸”à¸¹à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”"})]})}),(0,t.jsxs)("div",{className:"grid max-h-[65vh] grid-cols-1 gap-0 md:grid-cols-2",children:[(0,t.jsxs)("div",{className:"flex flex-col border-r border-gray-200 bg-gradient-to-br from-blue-50 to-indigo-50 max-h-[65vh]",children:[(0,t.jsxs)("div",{className:"border-b bg-white/80 px-6 py-4",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:"ðŸ“ à¸šà¸£à¸´à¸à¸²à¸£à¸—à¸µà¹ˆà¹€à¸¥à¸·à¸­à¸"}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:[e7.length," à¸£à¸²à¸¢à¸à¸²à¸£",tB&&` \xb7 ${tB.groupname}`]})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto p-4",children:0===e7.length?(0,t.jsxs)("div",{className:"flex h-full flex-col items-center justify-center text-center",children:[(0,t.jsx)("div",{className:"mb-3 text-5xl",children:"ðŸ“‚"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µà¸šà¸£à¸´à¸à¸²à¸£à¸—à¸µà¹ˆà¹€à¸¥à¸·à¸­à¸"}),(0,t.jsx)("p",{className:"text-xs text-gray-400",children:"à¹€à¸¥à¸·à¸­à¸à¸ˆà¸²à¸à¸£à¸²à¸¢à¸à¸²à¸£à¸—à¸²à¸‡à¸‚à¸§à¸²à¸¡à¸·à¸­"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"space-y-3",children:e7.map(e=>(0,t.jsxs)("div",{className:"rounded-2xl border border-white bg-white p-4 shadow-md transition hover:shadow-lg",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"font-semibold text-gray-800",children:e.itemname}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:["à¸£à¸«à¸±à¸ª ",e.itemcode," Â· à¸£à¸²à¸„à¸² ",M(e.salesprice)]})]}),(0,t.jsx)("button",{type:"button",onClick:()=>{var t;return t=e.id,void e8(e=>e.filter(e=>e.id!==t))},className:"ml-2 rounded-full bg-red-100 p-1.5 text-red-600 transition hover:bg-red-200",children:(0,t.jsx)(d.X,{className:"w-4 h-4"})})]}),(0,t.jsxs)("div",{className:"mt-3 grid grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{className:"rounded-xl bg-emerald-50 p-3",children:[(0,t.jsx)("p",{className:"mb-1 text-xs font-semibold uppercase tracking-wide text-emerald-700",children:"Charge"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"text",placeholder:"à¸šà¸²à¸—",value:e.chargePrice,onChange:t=>{var s,a;return s=e.id,a=t.target.value,void tX(s,e=>{let t=a.trim(),s=Number(t),l=t.length>0&&Number.isFinite(s)&&e.salesprice>0?I(s/e.salesprice*100):"";return{...e,chargePrice:a,chargePercent:l}})},className:"w-full rounded-lg border border-emerald-200 bg-white px-2 py-1.5 text-sm focus:border-emerald-400 focus:outline-none"}),(0,t.jsx)("input",{type:"text",placeholder:"%",value:e.chargePercent,onChange:t=>{var s,a;return s=e.id,a=t.target.value,void tX(s,e=>{let t=a.trim(),s=Number(t),l=t.length>0&&Number.isFinite(s)&&e.salesprice>0?I(e.salesprice*s/100):"";return{...e,chargePrice:l,chargePercent:a}})},className:"w-16 rounded-lg border border-emerald-200 bg-white px-2 py-1.5 text-center text-sm focus:border-emerald-400 focus:outline-none"})]})]}),(0,t.jsxs)("div",{className:"rounded-xl bg-rose-50 p-3",children:[(0,t.jsx)("p",{className:"mb-1 text-xs font-semibold uppercase tracking-wide text-rose-700",children:"Discount"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"text",placeholder:"à¸šà¸²à¸—",value:e.discountPrice,onChange:t=>{var s,a;return s=e.id,a=t.target.value,void tX(s,e=>{let t=a.trim(),s=Number(t),l=t.length>0&&Number.isFinite(s)&&e.salesprice>0?I(s/e.salesprice*100):"";return{...e,discountPrice:a,discountPercent:l}})},className:"w-full rounded-lg border border-rose-200 bg-white px-2 py-1.5 text-sm focus:border-rose-400 focus:outline-none"}),(0,t.jsx)("input",{type:"text",placeholder:"%",value:e.discountPercent,onChange:t=>{var s,a;return s=e.id,a=t.target.value,void tX(s,e=>{let t=a.trim(),s=Number(t),l=t.length>0&&Number.isFinite(s)&&e.salesprice>0?I(e.salesprice*s/100):"";return{...e,discountPrice:l,discountPercent:a}})},className:"w-16 rounded-lg border border-rose-200 bg-white px-2 py-1.5 text-center text-sm focus:border-rose-400 focus:outline-none"})]})]})]}),(0,t.jsxs)("div",{className:"mt-3 flex items-center justify-between rounded-2xl border border-indigo-100 bg-indigo-50/40 px-3 py-2 text-sm font-semibold text-indigo-600",children:[(0,t.jsx)("span",{children:"à¸¢à¸­à¸”à¸ªà¸¸à¸—à¸˜à¸´"}),(0,t.jsx)("span",{children:M(B(e))})]})]},e.id))}),(0,t.jsxs)("div",{className:"mt-4 rounded-2xl border border-dashed border-indigo-200 bg-white/80 px-4 py-3 text-sm text-gray-600 shadow-inner",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs font-semibold uppercase tracking-wide text-gray-500",children:[(0,t.jsx)("span",{children:"à¸ªà¸£à¸¸à¸›à¸¢à¸­à¸”"}),(0,t.jsxs)("span",{children:[e7.length," à¸£à¸²à¸¢à¸à¸²à¸£"]})]}),(0,t.jsxs)("div",{className:"mt-2 space-y-1",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"à¸£à¸§à¸¡à¸£à¸²à¸„à¸²à¸žà¸·à¹‰à¸™à¸à¸²à¸™"}),(0,t.jsx)("span",{className:"font-semibold text-gray-700",children:M(tW.baseTotal)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"à¸£à¸§à¸¡à¸„à¹ˆà¸² Charge"}),(0,t.jsx)("span",{className:"font-semibold text-gray-700",children:M(tW.chargeTotal)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"à¸£à¸§à¸¡à¸ªà¹ˆà¸§à¸™à¸¥à¸”"}),(0,t.jsx)("span",{className:"font-semibold text-gray-700",children:M(tW.discountTotal)})]}),(0,t.jsxs)("div",{className:"flex justify-between text-base font-semibold text-indigo-600",children:[(0,t.jsx)("span",{children:"à¸¢à¸­à¸”à¸ªà¸¸à¸—à¸˜à¸´à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”"}),(0,t.jsx)("span",{children:M(tW.netTotal)})]})]})]})]})})]}),(0,t.jsxs)("div",{className:"flex flex-col bg-white max-h-[65vh]",children:[(0,t.jsxs)("div",{className:"border-b px-6 py-4",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:"ðŸ“œ à¸£à¸²à¸¢à¸à¸²à¸£à¸šà¸£à¸´à¸à¸²à¸£"}),tB&&(0,t.jsx)("p",{className:"text-xs text-gray-500",children:tB.groupname})]}),(0,t.jsx)("div",{className:"px-6 py-3",children:(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)("input",{type:"text",placeholder:"ðŸ” à¸„à¹‰à¸™à¸«à¸²à¸šà¸£à¸´à¸à¸²à¸£...",value:e3,onChange:e=>e6(e.target.value),className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-2.5 text-sm focus:border-indigo-400 focus:bg-white focus:outline-none focus:ring-2 focus:ring-indigo-100"})})}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto px-6 pb-4",children:[e2&&(0,t.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,t.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-indigo-200 border-t-indigo-600"})}),e5&&(0,t.jsx)("p",{className:"py-4 text-center text-sm text-red-600",children:e5}),!e2&&!e5&&0===tG.length&&(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[(0,t.jsx)("div",{className:"mb-2 text-4xl",children:"ðŸ’­"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:eq?"à¹„à¸¡à¹ˆà¸žà¸šà¸£à¸²à¸¢à¸à¸²à¸£à¸šà¸£à¸´à¸à¸²à¸£":"à¹€à¸¥à¸·à¸­à¸à¸à¸¥à¸¸à¹ˆà¸¡à¸šà¸£à¸´à¸à¸²à¸£à¸à¹ˆà¸­à¸™"})]}),(0,t.jsx)("div",{className:"space-y-2",children:tG.map(e=>{let s=e7.some(t=>t.itemcode===e.itemcode);return(0,t.jsxs)("div",{className:`flex items-center justify-between rounded-xl border px-4 py-3 transition ${s?"border-emerald-200 bg-emerald-50":"border-gray-100 bg-gray-50 hover:border-indigo-200 hover:bg-indigo-50"}`,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-800",children:e.itemname}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:["à¸£à¸²à¸„à¸² ",M(e.saleprice)]})]}),(0,t.jsx)("button",{type:"button",onClick:()=>{e8(t=>t.some(t=>t.itemcode===e.itemcode)?t:[...t,{id:`${e.itemcode}-${Date.now()}`,itemcode:e.itemcode,itemname:e.itemname,salesprice:X(e.saleprice),chargePrice:"",chargePercent:"",discountPrice:"",discountPercent:"",saleType:"20"}])},disabled:s,className:`rounded-full px-4 py-1.5 text-xs font-semibold transition ${s?"bg-emerald-200 text-emerald-700":"bg-gradient-to-r from-blue-500 to-indigo-500 text-white shadow hover:shadow-md"}`,children:s?"âœ“ à¹€à¸¥à¸·à¸­à¸à¹à¸¥à¹‰à¸§":"à¹€à¸žà¸´à¹ˆà¸¡"})]},e.itemcode)})})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between border-t bg-gray-50 px-8 py-4",children:[(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["à¹€à¸¥à¸·à¸­à¸à¹à¸¥à¹‰à¸§ ",(0,t.jsx)("span",{className:"font-bold text-indigo-600",children:e7.length})," à¸£à¸²à¸¢à¸à¸²à¸£",(0,t.jsx)("span",{className:"mx-2 hidden text-xs text-gray-400 md:inline",children:"Â·"}),(0,t.jsx)("span",{className:"mr-1",children:"à¸¢à¸­à¸”à¸ªà¸¸à¸—à¸˜à¸´"}),(0,t.jsx)("span",{className:"font-bold text-indigo-600",children:M(tW.netTotal)})]}),(0,t.jsx)("button",{type:"button",onClick:tU,disabled:tn||0===e7.length,className:"rounded-xl bg-gradient-to-r from-indigo-600 to-purple-600 px-6 py-2.5 font-semibold text-white shadow-lg transition hover:from-indigo-700 hover:to-purple-700 disabled:opacity-60 disabled:cursor-not-allowed",children:tn?"à¸à¸³à¸¥à¸±à¸‡à¸šà¸±à¸™à¸—à¸¶à¸à¸šà¸£à¸´à¸à¸²à¸£...":"à¹€à¸ªà¸£à¹‡à¸ˆà¸ªà¸´à¹‰à¸™"})]})]})}),ti&&(0,t.jsxs)("div",{className:"fixed inset-0 z-[65] flex items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-slate-900/60",onClick:tz}),(0,t.jsxs)("div",{className:"relative z-10 w-full max-w-2xl rounded-2xl bg-white p-6 shadow-2xl",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between border-b pb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-lg font-semibold text-slate-800",children:"à¸›à¸£à¸°à¸§à¸±à¸•à¸´ b_saleitem"}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"à¹à¸ªà¸”à¸‡à¸£à¸²à¸¢à¸à¸²à¸£à¸£à¸§à¸¡à¸—à¸µà¹ˆà¹€à¸à¹‡à¸šà¹„à¸§à¹‰à¸ªà¸³à¸«à¸£à¸±à¸šà¸¥à¸¹à¸à¸„à¹‰à¸²à¸™à¸µà¹‰"})]}),(0,t.jsx)("button",{type:"button",onClick:tz,className:"rounded-full p-2 text-slate-600 transition hover:bg-slate-100",children:(0,t.jsx)(d.X,{className:"h-4 w-4"})})]}),(0,t.jsx)("div",{className:"mt-4 space-y-3 max-h-[55vh] overflow-y-auto",children:0===te.length?(0,t.jsx)("p",{className:"text-sm text-slate-500",children:"à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µà¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸à¸²à¸£à¸šà¸±à¸™à¸—à¸¶à¸à¹ƒà¸™à¸«à¸™à¹‰à¸²à¸•à¹ˆà¸²à¸‡à¸™à¸µà¹‰"}):(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"grid grid-cols-[120px_120px_1fr_96px] items-center gap-2 text-[11px] font-semibold uppercase text-slate-500",children:[(0,t.jsx)("span",{children:"à¸§à¸±à¸™à¸—à¸µà¹ˆ"}),(0,t.jsx)("span",{children:"à¹€à¸¥à¸‚à¸—à¸µà¹ˆà¹ƒà¸šà¹€à¸ªà¸£à¹‡à¸ˆ"}),(0,t.jsx)("span",{children:"à¸£à¸²à¸¢à¸à¸²à¸£"}),(0,t.jsx)("span",{className:"text-right",children:"à¸¢à¸­à¸”à¸ªà¸¸à¸—à¸˜à¸´"})]}),(0,t.jsx)("div",{className:"space-y-1",children:te.map((e,s)=>(0,t.jsxs)("div",{className:"grid grid-cols-[120px_120px_1fr_96px] items-center gap-2 rounded-xl border border-slate-100 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:[(0,t.jsx)("span",{className:"text-[13px] font-medium text-slate-600",children:e.sale_date||"-"}),(0,t.jsx)("span",{className:"text-[13px] font-medium text-slate-600",children:e.receipt_no||"-"}),(0,t.jsx)("span",{className:"truncate",title:e.item_name,children:e.item_name||"-"}),(0,t.jsx)("span",{className:"text-right font-semibold text-slate-800",children:M(U(e.amount))})]},`${e.sale_date}-${e.receipt_no}-${s}`))})]})}),(0,t.jsx)("div",{className:"mt-5 flex justify-end",children:(0,t.jsx)("button",{type:"button",onClick:tz,className:"rounded-xl border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 transition hover:bg-slate-50",children:"à¸›à¸´à¸”"})})]})]}),eo&&(0,t.jsxs)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/50",onClick:()=>ei(!1)}),(0,t.jsxs)("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-lg max-h-[80vh] overflow-hidden animate-slideUp",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 px-6 py-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(f.Calendar,{className:"w-6 h-6 text-white"}),(0,t.jsx)("h2",{className:"text-lg font-semibold text-white",children:"à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢"})]}),(0,t.jsx)("button",{onClick:()=>ei(!1),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:(0,t.jsx)(d.X,{className:"w-5 h-5 text-white"})})]}),(0,t.jsxs)("div",{className:"p-6 overflow-y-auto max-h-[calc(80vh-80px)] space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2 text-sm text-slate-600",children:[(0,t.jsx)("p",{className:"text-base font-semibold text-slate-800",children:"à¸•à¸²à¸£à¸²à¸‡à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢"}),(0,t.jsx)("p",{className:"text-slate-500",children:"à¸à¸£à¸­à¸à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹€à¸žà¸·à¹ˆà¸­à¸ªà¸£à¹‰à¸²à¸‡à¹€à¸£à¸à¸„à¸­à¸£à¹Œà¸”à¹ƒà¸™à¸•à¸²à¸£à¸²à¸‡ `bjh_appointment` à¸žà¸£à¹‰à¸­à¸¡à¸œà¸¹à¸à¸à¸±à¸šà¸¥à¸¹à¸à¸„à¹‰à¸²à¸£à¸²à¸¢à¸™à¸µà¹‰"})]}),(0,t.jsxs)("div",{className:"space-y-3 rounded-2xl border border-slate-200 bg-slate-50 p-4",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-sm font-semibold text-slate-800",children:["à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢ (",eb.length,")"]}),(0,t.jsx)("p",{className:"text-[11px] text-slate-500",children:"à¹à¸ªà¸”à¸‡à¸£à¸²à¸¢à¸à¸²à¸£à¸¥à¹ˆà¸²à¸ªà¸¸à¸”à¸ˆà¸²à¸ `id_all` à¹€à¸”à¸µà¸¢à¸§à¸à¸±à¸™"})]}),(0,t.jsx)("button",{type:"button",onClick:tq,className:"rounded-full border border-slate-300 px-3 py-1 text-xs font-semibold text-slate-600 hover:border-slate-400",children:"à¹€à¸žà¸´à¹ˆà¸¡à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢à¹ƒà¸«à¸¡à¹ˆ"})]}),eg?(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"à¸à¸³à¸¥à¸±à¸‡à¹‚à¸«à¸¥à¸”à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢..."}):ej?(0,t.jsx)("p",{className:"text-xs text-rose-600",children:ej}):0===eb.length?(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µà¸šà¸±à¸™à¸—à¸¶à¸à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢à¹ƒà¸™à¸£à¸°à¸šà¸š"}):(0,t.jsx)("div",{className:"space-y-2",children:eb.map((e,s)=>{let a=G(e,s),l=J(e.start_date),r=J(e.end_date),n=e.record_no?`Record No. ${e.record_no}`:e.appoint_code||"à¹„à¸¡à¹ˆà¸£à¸°à¸šà¸¸à¸£à¸«à¸±à¸ª",o=e.activity?String(e.activity):null,i=e.note?String(e.note):null;return(0,t.jsx)("div",{className:`rounded-2xl border bg-white px-3 py-3 shadow-sm transition ${ey===a?"border-teal-300 ring-1 ring-teal-200":"border-slate-200"}`,children:(0,t.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-slate-800",children:n}),(0,t.jsxs)("p",{className:"text-[11px] text-slate-500",children:["à¸§à¸±à¸™à¸™à¸±à¸” ",l," Â· à¸„à¸£à¸šà¸à¸³à¸«à¸™à¸” ",r]}),o&&(0,t.jsxs)("p",{className:"text-[11px] text-slate-500",children:["à¸à¸´à¸ˆà¸à¸£à¸£à¸¡: ",o]}),i&&(0,t.jsxs)("p",{className:"text-[11px] text-slate-500",children:["à¸«à¸¡à¸²à¸¢à¹€à¸«à¸•à¸¸: ",i]})]}),(0,t.jsx)("div",{className:"flex flex-col gap-2",children:(0,t.jsx)("button",{type:"button",disabled:!e.appoint_code,title:e.appoint_code?"à¹à¸à¹‰à¹„à¸‚à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢à¸™à¸µà¹‰":"à¸£à¸«à¸±à¸ªà¸™à¸±à¸”à¸«à¸¡à¸²à¸¢à¹„à¸¡à¹ˆà¸žà¸£à¹‰à¸­à¸¡",onClick:()=>tQ(e,a),className:`rounded-full px-3 py-1 text-xs font-semibold transition ${e.appoint_code?"border border-slate-300 text-slate-600 hover:border-slate-400":"border border-slate-200 text-slate-400 cursor-not-allowed"}`,children:"à¹à¸à¹‰à¹„à¸‚à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢"})})]})},a)})})]}),V.map(e=>(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-slate-700",children:e.title}),(0,t.jsx)("div",{className:`grid ${e.columns||"grid-cols-1 md:grid-cols-2"} gap-4`,children:e.fields.map(e=>{let s=H[e];if(!s)return null;let a=ed[e]||"",l="textarea"===s.type,r="date"===s.type?"date":"datetime-local"===s.type?"datetime-local":"tel"===s.type?"tel":"text";return(0,t.jsxs)("div",{className:`group ${s.fullWidth?"md:col-span-2":""}`,children:[(0,t.jsx)("label",{className:"block text-xs font-semibold uppercase tracking-wider text-slate-500 mb-1",children:s.label}),l?(0,t.jsx)("textarea",{rows:4,value:a,onChange:t=>tY(e,t.target.value),placeholder:s.placeholder,className:"w-full rounded-2xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 focus:border-slate-400 focus:outline-none focus:ring-2 focus:ring-cyan-100"}):(0,t.jsx)("input",{type:r,value:a,onChange:t=>tY(e,t.target.value),placeholder:s.placeholder,readOnly:s.readOnly,disabled:s.readOnly,className:`w-full px-4 py-3 border-2 rounded-2xl transition focus:border-cyan-400 focus:ring-2 focus:ring-cyan-100 outline-none text-gray-900 ${s.readOnly?"bg-slate-100 border-slate-200":"border-slate-200 bg-white"} disabled:cursor-not-allowed`})]},e)})})]},e.title)),ex&&(0,t.jsx)("p",{className:"text-sm text-red-600",children:ex}),(0,t.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,t.jsx)("button",{type:"button",onClick:()=>ei(!1),className:"px-5 py-2 border border-slate-300 rounded-xl text-slate-700 font-semibold hover:border-slate-400 transition",children:"à¸›à¸´à¸”"}),(0,t.jsx)("button",{type:"button",onClick:se,disabled:eu,className:"px-5 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl font-semibold shadow-lg transition hover:from-blue-700 hover:to-indigo-700 disabled:opacity-70 disabled:cursor-not-allowed",children:eu?"à¸à¸³à¸¥à¸±à¸‡à¸šà¸±à¸™à¸—à¸¶à¸...":"à¸šà¸±à¸™à¸—à¸¶à¸à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢"})]})]})]})]})]})},K="https://raw.githubusercontent.com/kongvut/thai-province-data/refs/heads/master/api/latest",Q=({isOpen:e,onClose:a,onSuccess:l})=>{let[r,n]=(0,s.useState)("contact"),[o,i]=(0,s.useState)(!1),[c,u]=(0,s.useState)({isOpen:!1,type:"success",title:"",message:""}),[v,y]=(0,s.useState)({status:"",prefix:"",name:"",surname:"",nickname:"",gender:"",star_flag:"",phone:"",email:"",lineid:"",facebook:"",country:"",source:"",interested_product:"",contact_staff:"",proposed_amount:"",got_contact_date:"",last_followup:"",next_followup:"",consult_date:"",booked_consult_date:"",surgery_date:"",booked_surgery_date:"",appointment_time:"",note:""}),[N,k]=(0,s.useState)({locno:"",province:"",amphur:"",tumbon:"",zipcode:""}),[C,_]=(0,s.useState)({weight:"",height:"",hasChronic:!1,chronicDiseaseDetail:"",hasDrugAllergy:!1,drugAllergyDetail:"",medicalConsent:"",acceptPdpa:"",acceptMedia:""}),[S,D]=(0,s.useState)([]),[$,E]=(0,s.useState)([]),[O,F]=(0,s.useState)([]),[P,T]=(0,s.useState)([]),[z,A]=(0,s.useState)([]),[L,M]=(0,s.useState)([]),[I,R]=(0,s.useState)([]),[U,X]=(0,s.useState)([]),[B,W]=(0,s.useState)(null),[H,J]=(0,s.useState)(null),[G,V]=(0,s.useState)(null),[Y,Z]=(0,s.useState)(!1),q=[{value:"à¸•à¸´à¸”à¸•à¸²à¸¡à¸•à¹ˆà¸­à¹€à¸™à¸·à¹ˆà¸­à¸‡",label:"à¸•à¸´à¸”à¸•à¸²à¸¡à¸•à¹ˆà¸­à¹€à¸™à¸·à¹ˆà¸­à¸‡",color:"#FFD700"},{value:"à¸›à¸´à¸”à¸à¸²à¸£à¸‚à¸²à¸¢",label:"à¸›à¸´à¸”à¸à¸²à¸£à¸‚à¸²à¸¢",color:"#90EE90"},{value:"à¸¢à¸à¹€à¸¥à¸´à¸",label:"à¸¢à¸à¹€à¸¥à¸´à¸",color:"#FFB6C1"},{value:"à¸£à¸­à¸•à¸­à¸šà¸à¸¥à¸±à¸š",label:"à¸£à¸­à¸•à¸­à¸šà¸à¸¥à¸±à¸š",color:"#87CEEB"},{value:"à¹„à¸”à¹‰à¸™à¸±à¸” Consult",label:"à¹„à¸”à¹‰à¸™à¸±à¸” Consult",color:"#FFA500"},{value:"à¹„à¸”à¹‰à¸™à¸±à¸”à¸œà¹ˆà¸²à¸•à¸±à¸”",label:"à¹„à¸”à¹‰à¸™à¸±à¸”à¸œà¹ˆà¸²à¸•à¸±à¸”",color:"#FF6347"},{value:"à¸œà¹ˆà¸²à¸•à¸±à¸”à¹à¸¥à¹‰à¸§",label:"à¸œà¹ˆà¸²à¸•à¸±à¸”à¹à¸¥à¹‰à¸§",color:"#32CD32"}],Q=[{value:"Facebook",label:"Facebook"},{value:"Instagram",label:"Instagram"},{value:"Google Ads",label:"Google Ads"},{value:"Line",label:"Line"},{value:"Walk-in",label:"Walk-in"},{value:"Referral",label:"Referral"}],ee=[{value:"à¸•à¸µà¸•à¸±à¸§à¹„à¸¥à¹ˆà¸•à¸±à¸§",label:"à¸•à¸µà¸•à¸±à¸§à¹„à¸¥à¹ˆà¸•à¸±à¸§"},{value:"Sub brow lift",label:"Sub brow lift"},{value:"à¹à¸à¹‰à¸•à¸²à¸«à¸¡à¸·à¹ˆà¸­à¸•à¸­à¸™à¹à¸¥à¸°à¹à¸à¹‰à¸§",label:"à¹à¸à¹‰à¸•à¸²à¸«à¸¡à¸·à¹ˆà¸­à¸•à¸­à¸™à¹à¸¥à¸°à¹à¸à¹‰à¸§"},{value:"à¸•à¸²à¸ªà¸­à¸‡à¸Šà¸±à¹‰à¸™",label:"à¸•à¸²à¸ªà¸­à¸‡à¸Šà¸±à¹‰à¸™"},{value:"à¹€à¸ªà¸£à¸´à¸¡à¸ˆà¸¡à¸¹à¸",label:"à¹€à¸ªà¸£à¸´à¸¡à¸ˆà¸¡à¸¹à¸"},{value:"à¹à¸à¹‰à¸ˆà¸¡à¸¹à¸",label:"à¹à¸à¹‰à¸ˆà¸¡à¸¹à¸"},{value:"à¹€à¸ªà¸£à¸´à¸¡à¸•à¸²à¸‚à¸²à¸§",label:"à¹€à¸ªà¸£à¸´à¸¡à¸•à¸²à¸‚à¸²à¸§"},{value:"à¸¥à¸´à¸Ÿà¸«à¸™à¹‰à¸²",label:"à¸¥à¸´à¸Ÿà¸«à¸™à¹‰à¸²"},{value:"Skin",label:"Skin"}],et=[{value:"à¹„à¸—à¸¢",label:"à¹„à¸—à¸¢"},{value:"à¸ˆà¸µà¸™",label:"à¸ˆà¸µà¸™"},{value:"à¸à¸µà¹ˆà¸›à¸¸à¹ˆà¸™",label:"à¸à¸µà¹ˆà¸›à¸¸à¹ˆà¸™"},{value:"à¹€à¸à¸²à¸«à¸¥à¸µ",label:"à¹€à¸à¸²à¸«à¸¥à¸µ"},{value:"à¸ªà¸´à¸‡à¸„à¹‚à¸›à¸£à¹Œ",label:"à¸ªà¸´à¸‡à¸„à¹‚à¸›à¸£à¹Œ"},{value:"à¸¡à¸²à¹€à¸¥à¹€à¸‹à¸µà¸¢",label:"à¸¡à¸²à¹€à¸¥à¹€à¸‹à¸µà¸¢"},{value:"à¸­à¸´à¸™à¹‚à¸”à¸™à¸µà¹€à¸‹à¸µà¸¢",label:"à¸­à¸´à¸™à¹‚à¸”à¸™à¸µà¹€à¸‹à¸µà¸¢"},{value:"à¹€à¸§à¸µà¸¢à¸”à¸™à¸²à¸¡",label:"à¹€à¸§à¸µà¸¢à¸”à¸™à¸²à¸¡"},{value:"à¸Ÿà¸´à¸¥à¸´à¸›à¸›à¸´à¸™à¸ªà¹Œ",label:"à¸Ÿà¸´à¸¥à¸´à¸›à¸›à¸´à¸™à¸ªà¹Œ"},{value:"à¸žà¸¡à¹ˆà¸²",label:"à¸žà¸¡à¹ˆà¸²"},{value:"à¸­à¸·à¹ˆà¸™à¹†",label:"à¸­à¸·à¹ˆà¸™à¹†"}],es=[{value:"à¹„à¸¡à¹ˆà¸£à¸°à¸šà¸¸",label:"à¹„à¸¡à¹ˆà¸£à¸°à¸šà¸¸"}];(0,s.useEffect)(()=>{if(!e)return;let t=async()=>{try{let e=await fetch("/api/source-options"),t=await e.json();t.success&&t.data?E(t.data):E(Q)}catch(e){console.error("Failed to fetch source options:",e),E(Q)}},s=async()=>{try{let e=await fetch("/api/product-options"),t=await e.json();t.success&&t.data?F(t.data):F(ee)}catch(e){console.error("Failed to fetch product options:",e),F(ee)}},a=async()=>{try{let e=await fetch("/api/country-options"),t=await e.json();t.success&&t.data?T(t.data):T(et)}catch(e){console.error("Failed to fetch country options:",e),T(et)}},l=async()=>{try{let e=await fetch("/api/n-staff"),t=await e.json();t.success&&t.data?A(t.data.map(e=>({value:e.nickname,label:e.nickname}))):A(es)}catch(e){console.error("Failed to fetch contact person options:",e),A(es)}};(async()=>{try{let e=await fetch("/api/status-options"),t=await e.json();t.success&&t.data?D(t.data):D(q)}catch(e){console.error("Failed to fetch status options:",e),D(q)}})(),t(),s(),a(),l()},[e]),(0,s.useEffect)(()=>{e&&(async()=>{Z(!0);try{let[e,t,s]=await Promise.all([fetch(`${K}/province.json`),fetch(`${K}/district.json`),fetch(`${K}/sub_district.json`)]);if(e.ok){let t=await e.json();M(t)}if(t.ok){let e=await t.json();R(e)}if(s.ok){let e=await s.json();X(e)}}catch(e){console.error("Failed to fetch Thai address data:",e)}finally{Z(!1)}})()},[e]);let ea=B?I.filter(e=>e.province_id===B):[],el=H?U.filter(e=>e.district_id===H):[],er=async()=>{let e=[];if(v.name.trim()||e.push("à¸Šà¸·à¹ˆà¸­"),v.status||e.push("à¸ªà¸–à¸²à¸™à¸°"),v.phone.trim()||e.push("à¹€à¸šà¸­à¸£à¹Œà¹‚à¸—à¸£"),v.gender||e.push("à¹€à¸žà¸¨"),v.source||e.push("à¹à¸«à¸¥à¹ˆà¸‡à¸—à¸µà¹ˆà¸¡à¸²"),v.interested_product||e.push("à¸œà¸¥à¸´à¸•à¸ à¸±à¸“à¸‘à¹Œà¸—à¸µà¹ˆà¸ªà¸™à¹ƒà¸ˆ"),e.length>0)return void u({isOpen:!0,type:"error",title:"à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹„à¸¡à¹ˆà¸„à¸£à¸š",message:`à¸à¸£à¸¸à¸“à¸²à¸à¸£à¸­à¸à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸—à¸µà¹ˆà¸ˆà¸³à¹€à¸›à¹‡à¸™: ${e.join(", ")}`});i(!0);try{let e={prefix:v.prefix,name:v.name,surname:v.surname,nickname:v.nickname,gender:v.gender,star_flag:+("à¸•à¸´à¸”à¸”à¸²à¸§"===v.star_flag),status:v.status,phone:v.phone,email:v.email,lineid:v.lineid,facebook:v.facebook,country:v.country,source:v.source,interested_product:v.interested_product,contact_staff:v.contact_staff,proposed_amount:v.proposed_amount||null,got_contact_date:v.got_contact_date||null,last_followup:v.last_followup||null,next_followup:v.next_followup||null,consult_date:v.consult_date||null,booked_consult_date:v.booked_consult_date||null,surgery_date:v.surgery_date||null,booked_surgery_date:v.booked_surgery_date||null,appointment_time:v.appointment_time||null,note:v.note,locno:N.locno,province:N.province,amphur:N.amphur,tumbon:N.tumbon,zipcode:N.zipcode},t=await fetch("/api/customer-add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to save customer")}u({isOpen:!0,type:"success",title:"à¸ªà¸³à¹€à¸£à¹‡à¸ˆ",message:"à¸šà¸±à¸™à¸—à¸¶à¸à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸¥à¸¹à¸à¸„à¹‰à¸²à¹€à¸£à¸µà¸¢à¸šà¸£à¹‰à¸­à¸¢à¹à¸¥à¹‰à¸§"}),y({status:"",prefix:"",name:"",surname:"",nickname:"",gender:"",star_flag:"",phone:"",email:"",lineid:"",facebook:"",country:"",source:"",interested_product:"",contact_staff:"",proposed_amount:"",got_contact_date:"",last_followup:"",next_followup:"",consult_date:"",booked_consult_date:"",surgery_date:"",booked_surgery_date:"",appointment_time:"",note:""}),k({locno:"",province:"",amphur:"",tumbon:"",zipcode:""}),n("contact"),setTimeout(()=>{l()},1500)}catch(e){u({isOpen:!0,type:"error",title:"à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”",message:e.message||"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸šà¸±à¸™à¸—à¸¶à¸à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹„à¸”à¹‰"})}finally{i(!1)}};if(!e)return null;let en=[{id:"contact",label:"Contact Information",icon:j.User},{id:"opd",label:"OPD",icon:b.FileText},{id:"consent",label:"Consent",icon:h},{id:"service",label:"à¸šà¸£à¸´à¸à¸²à¸£",icon:g.Briefcase},{id:"appointment",label:"à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢",icon:f.Calendar}];return(0,t.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fadeIn",children:[(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-h-[90vh] overflow-hidden w-full max-w-4xl animate-slideUp transform transition-all",children:[(0,t.jsxs)("div",{className:"sticky top-0 bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-500 z-10 shadow-lg",children:[(0,t.jsx)("div",{className:"absolute top-3 right-3",children:(0,t.jsx)("button",{onClick:a,className:"p-2 hover:bg-white hover:bg-opacity-20 rounded-xl transition-all duration-200 group",children:(0,t.jsx)(d.X,{className:"w-5 h-5 text-white group-hover:rotate-90 transition-transform duration-200"})})}),(0,t.jsx)("div",{className:"flex justify-center items-center gap-1 sm:gap-2 px-4 py-4",children:en.map(e=>(0,t.jsxs)("button",{onClick:()=>n(e.id),className:`flex flex-col sm:flex-row items-center justify-center gap-1 px-3 sm:px-4 py-2 sm:py-2.5 ${r===e.id?"bg-white/30 shadow-inner":"bg-white/10 hover:bg-white/20"} text-white rounded-xl transition-all duration-200 min-w-[60px] sm:min-w-[80px]`,title:e.label,children:[(0,t.jsx)(e.icon,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"text-xs sm:text-sm font-medium hidden sm:block",children:e.label})]},e.id))})]}),(0,t.jsx)("div",{className:"overflow-y-auto",style:{maxHeight:"calc(90vh - 180px)"},children:(0,t.jsxs)("div",{className:"p-6 space-y-6",children:["contact"===r&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-cyan-50 to-blue-50 rounded-xl p-6 border border-cyan-100 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)("div",{className:"w-1 h-6 bg-gradient-to-b from-cyan-500 to-blue-500 rounded-full"}),(0,t.jsx)("h2",{className:"text-lg font-bold bg-gradient-to-r from-cyan-600 to-blue-600 bg-clip-text text-transparent",children:"à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ªà¹ˆà¸§à¸™à¸•à¸±à¸§"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"group",children:[(0,t.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["à¸ªà¸–à¸²à¸™à¸° ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{value:v.status,onChange:e=>y(t=>({...t,status:e.target.value})),className:`w-full pl-4 pr-8 py-3 border-2 ${!v.status?"border-red-300":"border-cyan-200"} bg-white rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-transparent outline-none cursor-pointer`,children:[(0,t.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸à¸ªà¸–à¸²à¸™à¸°"}),S.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸„à¸³à¸™à¸³à¸«à¸™à¹‰à¸²"}),(0,t.jsxs)("select",{value:v.prefix,onChange:e=>y(t=>({...t,prefix:e.target.value})),className:"w-full pl-4 pr-8 py-3 border-2 border-cyan-200 bg-white rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-transparent outline-none cursor-pointer",children:[(0,t.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸à¸„à¸³à¸™à¸³à¸«à¸™à¹‰à¸²"}),(0,t.jsx)("option",{value:"à¸™à¸²à¸¢",children:"à¸™à¸²à¸¢"}),(0,t.jsx)("option",{value:"à¸™à¸²à¸‡",children:"à¸™à¸²à¸‡"}),(0,t.jsx)("option",{value:"à¸™à¸²à¸‡à¸ªà¸²à¸§",children:"à¸™à¸²à¸‡à¸ªà¸²à¸§"}),(0,t.jsx)("option",{value:"Mr.",children:"Mr."}),(0,t.jsx)("option",{value:"Mrs.",children:"Mrs."}),(0,t.jsx)("option",{value:"Ms.",children:"Ms."})]})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["à¸Šà¸·à¹ˆà¸­ ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",value:v.name,onChange:e=>y(t=>({...t,name:e.target.value})),className:`w-full px-4 py-3 border-2 ${!v.name.trim()?"border-red-300":"border-cyan-200"} bg-white rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-transparent outline-none`,placeholder:"à¸à¸£à¸­à¸à¸Šà¸·à¹ˆà¸­"})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸™à¸²à¸¡à¸ªà¸à¸¸à¸¥"}),(0,t.jsx)("input",{type:"text",value:v.surname,onChange:e=>y(t=>({...t,surname:e.target.value})),className:"w-full px-4 py-3 border-2 border-cyan-200 bg-white rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-transparent outline-none",placeholder:"à¸à¸£à¸­à¸à¸™à¸²à¸¡à¸ªà¸à¸¸à¸¥"})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸Šà¸·à¹ˆà¸­à¹€à¸¥à¹ˆà¸™"}),(0,t.jsx)("input",{type:"text",value:v.nickname,onChange:e=>y(t=>({...t,nickname:e.target.value})),className:"w-full px-4 py-3 border-2 border-cyan-200 bg-white rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-transparent outline-none",placeholder:"à¸à¸£à¸­à¸à¸Šà¸·à¹ˆà¸­à¹€à¸¥à¹ˆà¸™"})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["à¹€à¸žà¸¨ ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{value:v.gender,onChange:e=>y(t=>({...t,gender:e.target.value})),className:`w-full pl-4 pr-8 py-3 border-2 ${!v.gender?"border-red-300":"border-cyan-200"} bg-white rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-transparent outline-none cursor-pointer`,children:[(0,t.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸à¹€à¸žà¸¨"}),(0,t.jsx)("option",{value:"à¸Šà¸²à¸¢",children:"à¸Šà¸²à¸¢"}),(0,t.jsx)("option",{value:"à¸«à¸à¸´à¸‡",children:"à¸«à¸à¸´à¸‡"}),(0,t.jsx)("option",{value:"à¸­à¸·à¹ˆà¸™à¹†",children:"à¸­à¸·à¹ˆà¸™à¹†"})]})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸•à¸´à¸”à¸”à¸²à¸§"}),(0,t.jsxs)("button",{type:"button",onClick:()=>y(e=>({...e,star_flag:"à¸•à¸´à¸”à¸”à¸²à¸§"===e.star_flag?"":"à¸•à¸´à¸”à¸”à¸²à¸§"})),className:"w-full px-4 py-3 border-2 border-cyan-200 bg-white rounded-xl hover:border-cyan-300 transition-all duration-200 flex items-center justify-center gap-2",children:[(0,t.jsx)(p.Star,{className:`w-6 h-6 ${"à¸•à¸´à¸”à¸”à¸²à¸§"===v.star_flag?"fill-yellow-400 text-yellow-400":"text-gray-400"}`}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"à¸•à¸´à¸”à¸”à¸²à¸§"===v.star_flag?"à¸•à¸´à¸”à¸”à¸²à¸§à¹à¸¥à¹‰à¸§":"à¸„à¸¥à¸´à¸à¹€à¸žà¸·à¹ˆà¸­à¸•à¸´à¸”à¸”à¸²à¸§"})]})]})]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 rounded-xl p-6 border border-indigo-100 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)("div",{className:"w-1 h-6 bg-gradient-to-b from-indigo-500 to-purple-500 rounded-full"}),(0,t.jsx)("h2",{className:"text-lg font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸•à¸´à¸”à¸•à¹ˆà¸­"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"group",children:[(0,t.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["à¹€à¸šà¸­à¸£à¹Œà¹‚à¸—à¸£ ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"tel",value:v.phone,onChange:e=>y(t=>({...t,phone:e.target.value})),className:`w-full px-4 py-3 border-2 ${!v.phone.trim()?"border-red-300":"border-indigo-200"} bg-white rounded-xl focus:ring-2 focus:ring-indigo-400 focus:border-transparent outline-none`,placeholder:"à¸à¸£à¸­à¸à¹€à¸šà¸­à¸£à¹Œà¹‚à¸—à¸£"})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸­à¸µà¹€à¸¡à¸¥"}),(0,t.jsx)("input",{type:"email",value:v.email,onChange:e=>y(t=>({...t,email:e.target.value})),className:"w-full px-4 py-3 border-2 border-indigo-200 bg-white rounded-xl focus:ring-2 focus:ring-indigo-400 focus:border-transparent outline-none",placeholder:"à¸à¸£à¸­à¸à¸­à¸µà¹€à¸¡à¸¥"})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¹„à¸¥à¸™à¹Œà¹„à¸­à¸”à¸µ"}),(0,t.jsx)("input",{type:"text",value:v.lineid,onChange:e=>y(t=>({...t,lineid:e.target.value})),className:"w-full px-4 py-3 border-2 border-indigo-200 bg-white rounded-xl focus:ring-2 focus:ring-indigo-400 focus:border-transparent outline-none",placeholder:"à¸à¸£à¸­à¸à¹„à¸¥à¸™à¹Œà¹„à¸­à¸”à¸µ"})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¹€à¸Ÿà¸ªà¸šà¸¸à¹Šà¸„"}),(0,t.jsx)("input",{type:"text",value:v.facebook,onChange:e=>y(t=>({...t,facebook:e.target.value})),className:"w-full px-4 py-3 border-2 border-indigo-200 bg-white rounded-xl focus:ring-2 focus:ring-indigo-400 focus:border-transparent outline-none",placeholder:"à¸à¸£à¸­à¸à¹€à¸Ÿà¸ªà¸šà¸¸à¹Šà¸„"})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸›à¸£à¸°à¹€à¸—à¸¨"}),(0,t.jsxs)("select",{value:v.country,onChange:e=>y(t=>({...t,country:e.target.value})),className:"w-full pl-4 pr-8 py-3 border-2 border-indigo-200 bg-white rounded-xl focus:ring-2 focus:ring-indigo-400 focus:border-transparent outline-none cursor-pointer",children:[(0,t.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸à¸›à¸£à¸°à¹€à¸—à¸¨"}),P.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))]})]})]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-emerald-50 to-teal-50 rounded-xl p-6 border border-emerald-100 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)("div",{className:"w-1 h-6 bg-gradient-to-b from-emerald-500 to-teal-500 rounded-full"}),(0,t.jsx)("h2",{className:"text-lg font-bold bg-gradient-to-r from-emerald-600 to-teal-600 bg-clip-text text-transparent",children:"à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸˜à¸¸à¸£à¸à¸´à¸ˆ"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"group",children:[(0,t.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["à¹à¸«à¸¥à¹ˆà¸‡à¸—à¸µà¹ˆà¸¡à¸² ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{value:v.source,onChange:e=>y(t=>({...t,source:e.target.value})),className:`w-full pl-4 pr-8 py-3 border-2 ${!v.source?"border-red-300":"border-emerald-200"} bg-white rounded-xl focus:ring-2 focus:ring-emerald-400 focus:border-transparent outline-none cursor-pointer`,children:[(0,t.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸à¹à¸«à¸¥à¹ˆà¸‡à¸—à¸µà¹ˆà¸¡à¸²"}),$.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["à¸œà¸¥à¸´à¸•à¸ à¸±à¸“à¸‘à¹Œà¸—à¸µà¹ˆà¸ªà¸™à¹ƒà¸ˆ ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{value:v.interested_product,onChange:e=>y(t=>({...t,interested_product:e.target.value})),className:`w-full pl-4 pr-8 py-3 border-2 ${!v.interested_product?"border-red-300":"border-emerald-200"} bg-white rounded-xl focus:ring-2 focus:ring-emerald-400 focus:border-transparent outline-none cursor-pointer`,children:[(0,t.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸à¸œà¸¥à¸´à¸•à¸ à¸±à¸“à¸‘à¹Œ"}),O.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸œà¸¹à¹‰à¸•à¸´à¸”à¸•à¹ˆà¸­"}),(0,t.jsxs)("select",{value:v.contact_staff,onChange:e=>y(t=>({...t,contact_staff:e.target.value})),className:"w-full pl-4 pr-8 py-3 border-2 border-emerald-200 bg-white rounded-xl focus:ring-2 focus:ring-emerald-400 focus:border-transparent outline-none cursor-pointer",children:[(0,t.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸à¸œà¸¹à¹‰à¸•à¸´à¸”à¸•à¹ˆà¸­"}),z.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸¢à¸­à¸”à¸™à¸³à¹€à¸ªà¸™à¸­"}),(0,t.jsx)("input",{type:"number",value:v.proposed_amount,onChange:e=>y(t=>({...t,proposed_amount:e.target.value})),className:"w-full px-4 py-3 border-2 border-emerald-200 bg-white rounded-xl focus:ring-2 focus:ring-emerald-400 focus:border-transparent outline-none",placeholder:"à¸à¸£à¸­à¸à¸¢à¸­à¸”à¸™à¸³à¹€à¸ªà¸™à¸­"})]})]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-cyan-50 to-blue-50 rounded-xl p-6 border border-cyan-100 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)("div",{className:"w-1 h-6 bg-gradient-to-b from-cyan-500 to-blue-500 rounded-full"}),(0,t.jsx)("h2",{className:"text-lg font-bold bg-gradient-to-r from-cyan-600 to-blue-600 bg-clip-text text-transparent",children:"à¸§à¸±à¸™à¸—à¸µà¹ˆà¸•à¸´à¸”à¸•à¸²à¸¡"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"group",children:[(0,t.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,t.jsx)("span",{children:"ðŸ“…"})," à¸§à¸±à¸™à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸Šà¸·à¹ˆà¸­ à¹€à¸šà¸­à¸£à¹Œ"]}),(0,t.jsx)("input",{type:"date",value:v.got_contact_date,onChange:e=>y(t=>({...t,got_contact_date:e.target.value})),className:"w-full px-4 py-3 border-2 border-cyan-200 bg-white rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-transparent outline-none cursor-pointer"})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,t.jsx)("span",{children:"ðŸ“…"})," à¸§à¸±à¸™à¸—à¸µà¹ˆà¸•à¸´à¸”à¸•à¸²à¸¡à¸„à¸£à¸±à¹‰à¸‡à¸¥à¹ˆà¸²à¸ªà¸¸à¸”"]}),(0,t.jsx)("input",{type:"date",value:v.last_followup,onChange:e=>y(t=>({...t,last_followup:e.target.value})),className:"w-full px-4 py-3 border-2 border-cyan-200 bg-white rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-transparent outline-none cursor-pointer"})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,t.jsx)("span",{children:"ðŸ“…"})," à¸§à¸±à¸™à¸—à¸µà¹ˆà¸•à¸´à¸”à¸•à¸²à¸¡à¸„à¸£à¸±à¹‰à¸‡à¸–à¸±à¸”à¹„à¸›"]}),(0,t.jsx)("input",{type:"date",value:v.next_followup,onChange:e=>y(t=>({...t,next_followup:e.target.value})),className:"w-full px-4 py-3 border-2 border-cyan-200 bg-white rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-transparent outline-none cursor-pointer"})]})]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-violet-50 rounded-xl p-6 border border-purple-100 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)("div",{className:"w-1 h-6 bg-gradient-to-b from-purple-500 to-violet-500 rounded-full"}),(0,t.jsx)("h2",{className:"text-lg font-bold bg-gradient-to-r from-purple-600 to-violet-600 bg-clip-text text-transparent",children:"à¸§à¸±à¸™à¸—à¸µà¹ˆ Consult"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"group",children:[(0,t.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,t.jsx)("span",{children:"ðŸ“…"})," à¸§à¸±à¸™à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸™à¸±à¸” consult"]}),(0,t.jsx)("input",{type:"date",value:v.booked_consult_date,onChange:e=>y(t=>({...t,booked_consult_date:e.target.value})),className:"w-full px-4 py-3 border-2 border-purple-200 bg-white rounded-xl focus:ring-2 focus:ring-purple-400 focus:border-transparent outline-none cursor-pointer"})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,t.jsx)("span",{children:"ðŸ“…"})," à¸§à¸±à¸™à¸—à¸µà¹ˆ Consult"]}),(0,t.jsx)("input",{type:"date",value:v.consult_date,onChange:e=>y(t=>({...t,consult_date:e.target.value})),className:"w-full px-4 py-3 border-2 border-purple-200 bg-white rounded-xl focus:ring-2 focus:ring-purple-400 focus:border-transparent outline-none cursor-pointer"})]})]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-rose-50 to-pink-50 rounded-xl p-6 border border-rose-100 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)("div",{className:"w-1 h-6 bg-gradient-to-b from-rose-500 to-pink-500 rounded-full"}),(0,t.jsx)("h2",{className:"text-lg font-bold bg-gradient-to-r from-rose-600 to-pink-600 bg-clip-text text-transparent",children:"à¸§à¸±à¸™à¸—à¸µà¹ˆà¸œà¹ˆà¸²à¸•à¸±à¸”"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"group",children:[(0,t.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,t.jsx)("span",{children:"ðŸ“…"})," à¸§à¸±à¸™à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸™à¸±à¸”à¸œà¹ˆà¸²à¸•à¸±à¸”"]}),(0,t.jsx)("input",{type:"date",value:v.booked_surgery_date,onChange:e=>y(t=>({...t,booked_surgery_date:e.target.value})),className:"w-full px-4 py-3 border-2 border-rose-200 bg-white rounded-xl focus:ring-2 focus:ring-rose-400 focus:border-transparent outline-none cursor-pointer"})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,t.jsx)("span",{children:"ðŸ“…"})," à¸§à¸±à¸™à¸—à¸µà¹ˆà¸œà¹ˆà¸²à¸•à¸±à¸”"]}),(0,t.jsx)("input",{type:"date",value:v.surgery_date,onChange:e=>y(t=>({...t,surgery_date:e.target.value})),className:"w-full px-4 py-3 border-2 border-rose-200 bg-white rounded-xl focus:ring-2 focus:ring-rose-400 focus:border-transparent outline-none cursor-pointer"})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,t.jsx)("span",{children:"â°"})," à¹€à¸§à¸¥à¸²à¸—à¸µà¹ˆà¸™à¸±à¸”"]}),(0,t.jsx)("input",{type:"time",value:v.appointment_time,onChange:e=>y(t=>({...t,appointment_time:e.target.value})),className:"w-full px-4 py-3 border-2 border-rose-200 bg-white rounded-xl focus:ring-2 focus:ring-rose-400 focus:border-transparent outline-none cursor-pointer"})]})]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-amber-50 to-yellow-50 rounded-xl p-6 border border-amber-100 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)("div",{className:"w-1 h-6 bg-gradient-to-b from-amber-500 to-yellow-500 rounded-full"}),(0,t.jsx)("h2",{className:"text-lg font-bold bg-gradient-to-r from-amber-600 to-yellow-600 bg-clip-text text-transparent",children:"à¸«à¸¡à¸²à¸¢à¹€à¸«à¸•à¸¸"})]}),(0,t.jsx)("textarea",{value:v.note,onChange:e=>y(t=>({...t,note:e.target.value})),className:"w-full px-4 py-3 border-2 border-amber-200 bg-white rounded-xl focus:ring-2 focus:ring-amber-400 focus:border-transparent outline-none min-h-[120px] resize-none",placeholder:"ðŸ“ à¸žà¸´à¸¡à¸žà¹Œà¸«à¸¡à¸²à¸¢à¹€à¸«à¸•à¸¸..."})]})]}),"opd"===r&&(0,t.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-100 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)("div",{className:"w-1 h-6 bg-gradient-to-b from-blue-500 to-indigo-500 rounded-full"}),(0,t.jsx)("h2",{className:"text-lg font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ OPD - à¸—à¸µà¹ˆà¸­à¸¢à¸¹à¹ˆ"})]}),Y&&(0,t.jsx)("p",{className:"text-xs text-emerald-600 mb-4",children:"à¸à¸³à¸¥à¸±à¸‡à¹‚à¸«à¸¥à¸”à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”/à¸­à¸³à¹€à¸ à¸­/à¸•à¸³à¸šà¸¥..."}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸šà¹‰à¸²à¸™à¹€à¸¥à¸‚à¸—à¸µà¹ˆ"}),(0,t.jsx)("input",{type:"text",value:N.locno,onChange:e=>k(t=>({...t,locno:e.target.value})),className:"w-full px-4 py-3 border-2 border-blue-200 bg-white rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-transparent outline-none",placeholder:"à¸£à¸°à¸šà¸¸à¸šà¹‰à¸²à¸™à¹€à¸¥à¸‚à¸—à¸µà¹ˆ"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”"}),(0,t.jsxs)("select",{value:B?String(B):"",onChange:e=>{var t;let s,a;return W(s=(t=e.target.value)?parseInt(t):null),J(null),V(null),a=L.find(e=>e.id===s),void k(e=>({...e,province:a?.name_th||"",amphur:"",tumbon:"",zipcode:""}))},className:"w-full pl-4 pr-8 py-3 border-2 border-blue-200 bg-white rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-transparent outline-none cursor-pointer",children:[(0,t.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”"}),L.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name_th},e.id))]})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸­à¸³à¹€à¸ à¸­ / à¹€à¸‚à¸•"}),(0,t.jsxs)("select",{value:H?String(H):"",onChange:e=>{var t;let s,a;return J(s=(t=e.target.value)?parseInt(t):null),V(null),a=I.find(e=>e.id===s),void k(e=>({...e,amphur:a?.name_th||"",tumbon:"",zipcode:""}))},disabled:!ea.length,className:"w-full pl-4 pr-8 py-3 border-2 border-blue-200 bg-white rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-transparent outline-none cursor-pointer disabled:bg-gray-100",children:[(0,t.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸à¸­à¸³à¹€à¸ à¸­ / à¹€à¸‚à¸•"}),ea.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name_th},e.id))]})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸•à¸³à¸šà¸¥ / à¹à¸‚à¸§à¸‡"}),(0,t.jsxs)("select",{value:G?String(G):"",onChange:e=>{var t;let s,a;return V(s=(t=e.target.value)?parseInt(t):null),a=U.find(e=>e.id===s),void k(e=>({...e,tumbon:a?.name_th||"",zipcode:a?.zip_code?.toString()||""}))},disabled:!el.length,className:"w-full pl-4 pr-8 py-3 border-2 border-blue-200 bg-white rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-transparent outline-none cursor-pointer disabled:bg-gray-100",children:[(0,t.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸à¸•à¸³à¸šà¸¥ / à¹à¸‚à¸§à¸‡"}),el.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name_th},e.id))]})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸£à¸«à¸±à¸ªà¹„à¸›à¸£à¸©à¸“à¸µà¸¢à¹Œ"}),(0,t.jsx)("input",{type:"text",value:N.zipcode,readOnly:!0,className:"w-full px-4 py-3 border-2 border-blue-200 bg-gray-100 rounded-xl outline-none text-gray-700",placeholder:"à¸£à¸«à¸±à¸ªà¹„à¸›à¸£à¸©à¸“à¸µà¸¢à¹Œ (à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´)"})]})]})]})]}),"consent"===r&&(0,t.jsxs)("div",{className:"bg-gradient-to-br from-emerald-50 to-teal-50 rounded-xl p-6 border border-emerald-100 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)("div",{className:"w-1 h-6 bg-gradient-to-b from-emerald-500 to-teal-500 rounded-full"}),(0,t.jsx)("h2",{className:"text-lg font-bold bg-gradient-to-r from-emerald-600 to-teal-600 bg-clip-text text-transparent",children:"Consent Form"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸™à¹‰à¸³à¸«à¸™à¸±à¸ (kg)"}),(0,t.jsx)("input",{type:"text",value:C.weight,onChange:e=>_(t=>({...t,weight:e.target.value})),className:"w-full px-4 py-3 border-2 border-emerald-200 bg-white rounded-xl focus:ring-2 focus:ring-emerald-400 focus:border-transparent outline-none",placeholder:"à¸£à¸°à¸šà¸¸à¸™à¹‰à¸³à¸«à¸™à¸±à¸"})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸ªà¹ˆà¸§à¸™à¸ªà¸¹à¸‡ (cm)"}),(0,t.jsx)("input",{type:"text",value:C.height,onChange:e=>_(t=>({...t,height:e.target.value})),className:"w-full px-4 py-3 border-2 border-emerald-200 bg-white rounded-xl focus:ring-2 focus:ring-emerald-400 focus:border-transparent outline-none",placeholder:"à¸£à¸°à¸šà¸¸à¸ªà¹ˆà¸§à¸™à¸ªà¸¹à¸‡"})]})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[(0,t.jsx)("input",{type:"checkbox",checked:C.hasChronic,onChange:e=>_(t=>({...t,hasChronic:e.target.checked})),className:"w-4 h-4 rounded border-gray-300 text-emerald-500 focus:ring-emerald-400"}),"à¸¡à¸µà¹‚à¸£à¸„à¸›à¸£à¸°à¸ˆà¸³à¸•à¸±à¸§"]}),C.hasChronic&&(0,t.jsx)("input",{type:"text",value:C.chronicDiseaseDetail,onChange:e=>_(t=>({...t,chronicDiseaseDetail:e.target.value})),className:"w-full px-4 py-3 border-2 border-emerald-200 bg-white rounded-xl focus:ring-2 focus:ring-emerald-400 focus:border-transparent outline-none mt-2",placeholder:"à¸£à¸°à¸šà¸¸à¹‚à¸£à¸„à¸›à¸£à¸°à¸ˆà¸³à¸•à¸±à¸§"})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[(0,t.jsx)("input",{type:"checkbox",checked:C.hasDrugAllergy,onChange:e=>_(t=>({...t,hasDrugAllergy:e.target.checked})),className:"w-4 h-4 rounded border-gray-300 text-emerald-500 focus:ring-emerald-400"}),"à¸¡à¸µà¸›à¸£à¸°à¸§à¸±à¸•à¸´à¹à¸žà¹‰à¸¢à¸²"]}),C.hasDrugAllergy&&(0,t.jsx)("input",{type:"text",value:C.drugAllergyDetail,onChange:e=>_(t=>({...t,drugAllergyDetail:e.target.value})),className:"w-full px-4 py-3 border-2 border-emerald-200 bg-white rounded-xl focus:ring-2 focus:ring-emerald-400 focus:border-transparent outline-none mt-2",placeholder:"à¸£à¸°à¸šà¸¸à¸¢à¸²à¸—à¸µà¹ˆà¹à¸žà¹‰"})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸¢à¸´à¸™à¸¢à¸­à¸¡à¸£à¸±à¸šà¸à¸²à¸£à¸£à¸±à¸à¸©à¸²"}),(0,t.jsxs)("select",{value:C.medicalConsent,onChange:e=>_(t=>({...t,medicalConsent:e.target.value})),className:"w-full px-4 py-3 border-2 border-emerald-200 bg-white rounded-xl focus:ring-2 focus:ring-emerald-400 focus:border-transparent outline-none cursor-pointer",children:[(0,t.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸"}),(0,t.jsx)("option",{value:"à¸¢à¸´à¸™à¸¢à¸­à¸¡",children:"à¸¢à¸´à¸™à¸¢à¸­à¸¡"}),(0,t.jsx)("option",{value:"à¹„à¸¡à¹ˆà¸¢à¸´à¸™à¸¢à¸­à¸¡",children:"à¹„à¸¡à¹ˆà¸¢à¸´à¸™à¸¢à¸­à¸¡"})]})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸¢à¸­à¸¡à¸£à¸±à¸š PDPA"}),(0,t.jsxs)("select",{value:C.acceptPdpa,onChange:e=>_(t=>({...t,acceptPdpa:e.target.value})),className:"w-full px-4 py-3 border-2 border-emerald-200 bg-white rounded-xl focus:ring-2 focus:ring-emerald-400 focus:border-transparent outline-none cursor-pointer",children:[(0,t.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸"}),(0,t.jsx)("option",{value:"à¸¢à¸­à¸¡à¸£à¸±à¸š",children:"à¸¢à¸­à¸¡à¸£à¸±à¸š"}),(0,t.jsx)("option",{value:"à¹„à¸¡à¹ˆà¸¢à¸­à¸¡à¸£à¸±à¸š",children:"à¹„à¸¡à¹ˆà¸¢à¸­à¸¡à¸£à¸±à¸š"})]})]}),(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸¢à¸´à¸™à¸¢à¸­à¸¡à¹€à¸œà¸¢à¹à¸žà¸£à¹ˆà¸ªà¸·à¹ˆà¸­"}),(0,t.jsxs)("select",{value:C.acceptMedia,onChange:e=>_(t=>({...t,acceptMedia:e.target.value})),className:"w-full px-4 py-3 border-2 border-emerald-200 bg-white rounded-xl focus:ring-2 focus:ring-emerald-400 focus:border-transparent outline-none cursor-pointer",children:[(0,t.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸"}),(0,t.jsx)("option",{value:"à¸¢à¸­à¸¡à¸£à¸±à¸š",children:"à¸¢à¸­à¸¡à¸£à¸±à¸š"}),(0,t.jsx)("option",{value:"à¹„à¸¡à¹ˆà¸¢à¸­à¸¡à¸£à¸±à¸š",children:"à¹„à¸¡à¹ˆà¸¢à¸­à¸¡à¸£à¸±à¸š"})]})]})]})]}),"service"===r&&(0,t.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-6 border border-purple-100 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)("div",{className:"w-1 h-6 bg-gradient-to-b from-purple-500 to-pink-500 rounded-full"}),(0,t.jsx)("h2",{className:"text-lg font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"à¸šà¸£à¸´à¸à¸²à¸£"})]}),(0,t.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,t.jsx)(g.Briefcase,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),(0,t.jsx)("p",{className:"text-lg font-medium",children:"à¸à¸£à¸¸à¸“à¸²à¸šà¸±à¸™à¸—à¸¶à¸à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸¥à¸¹à¸à¸„à¹‰à¸²à¸à¹ˆà¸­à¸™"}),(0,t.jsx)("p",{className:"text-sm mt-2",children:"à¸«à¸¥à¸±à¸‡à¸ˆà¸²à¸à¸šà¸±à¸™à¸—à¸¶à¸à¹à¸¥à¹‰à¸§ à¸ªà¸²à¸¡à¸²à¸£à¸–à¹€à¸žà¸´à¹ˆà¸¡à¸šà¸£à¸´à¸à¸²à¸£à¹„à¸”à¹‰à¹ƒà¸™à¸«à¸™à¹‰à¸²à¹à¸à¹‰à¹„à¸‚à¸‚à¹‰à¸­à¸¡à¸¹à¸¥"})]})]}),"appointment"===r&&(0,t.jsxs)("div",{className:"bg-gradient-to-br from-orange-50 to-amber-50 rounded-xl p-6 border border-orange-100 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)("div",{className:"w-1 h-6 bg-gradient-to-b from-orange-500 to-amber-500 rounded-full"}),(0,t.jsx)("h2",{className:"text-lg font-bold bg-gradient-to-r from-orange-600 to-amber-600 bg-clip-text text-transparent",children:"à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢"})]}),(0,t.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,t.jsx)(f.Calendar,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),(0,t.jsx)("p",{className:"text-lg font-medium",children:"à¸à¸£à¸¸à¸“à¸²à¸šà¸±à¸™à¸—à¸¶à¸à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸¥à¸¹à¸à¸„à¹‰à¸²à¸à¹ˆà¸­à¸™"}),(0,t.jsx)("p",{className:"text-sm mt-2",children:"à¸«à¸¥à¸±à¸‡à¸ˆà¸²à¸à¸šà¸±à¸™à¸—à¸¶à¸à¹à¸¥à¹‰à¸§ à¸ªà¸²à¸¡à¸²à¸£à¸–à¹€à¸žà¸´à¹ˆà¸¡à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢à¹„à¸”à¹‰à¹ƒà¸™à¸«à¸™à¹‰à¸²à¹à¸à¹‰à¹„à¸‚à¸‚à¹‰à¸­à¸¡à¸¹à¸¥"})]})]})]})}),(0,t.jsxs)("div",{className:"sticky bottom-0 bg-gradient-to-t from-gray-50 to-white border-t border-gray-200 p-4 sm:p-5 flex justify-center gap-4 shadow-lg",children:[(0,t.jsx)("button",{onClick:a,disabled:o,className:"px-6 sm:px-8 py-2.5 sm:py-3 border-2 border-gray-300 rounded-xl text-gray-700 text-sm sm:text-base font-semibold hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 disabled:opacity-50",children:"à¸¢à¸à¹€à¸¥à¸´à¸"}),(0,t.jsx)("button",{onClick:er,disabled:o,className:"flex items-center gap-2 px-6 sm:px-8 py-2.5 sm:py-3 bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white text-sm sm:text-base font-semibold rounded-xl transition-all duration-200 disabled:opacity-70 shadow-lg hover:shadow-xl",children:o?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.Loader2,{className:"w-4 h-4 animate-spin"}),"à¸à¸³à¸¥à¸±à¸‡à¸šà¸±à¸™à¸—à¸¶à¸..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.Save,{className:"w-4 h-4"}),"à¸šà¸±à¸™à¸—à¸¶à¸"]})})]})]}),(0,t.jsx)(w,{isOpen:c.isOpen,onClose:()=>u(e=>({...e,isOpen:!1})),type:c.type,title:c.title,message:c.message})]})};Object.entries({id:"id",id_all:"id_all",status:"à¸ªà¸–à¸²à¸™à¸°",source:"à¹à¸«à¸¥à¹ˆà¸‡à¸—à¸µà¹ˆà¸¡à¸²",interested_product:"à¸œà¸¥à¸´à¸•à¸ à¸±à¸“à¸‘à¹Œà¸—à¸µà¹ˆà¸ªà¸™à¹ƒà¸ˆ",doctor:"à¸«à¸¡à¸­",contact_staff:"à¸œà¸¹à¹‰à¸•à¸´à¸”à¸•à¹ˆà¸­",customer_name:"à¸Šà¸·à¹ˆà¸­",phone:"à¹€à¸šà¸­à¸£à¹Œà¹‚à¸—à¸£",note:"à¸«à¸¡à¸²à¸¢à¹€à¸«à¸•à¸¸",last_followup:"à¸§à¸±à¸™à¸—à¸µà¹ˆà¸•à¸´à¸”à¸•à¸²à¸¡à¸„à¸£à¸±à¹‰à¸‡à¸¥à¹ˆà¸²à¸ªà¸¸à¸”",next_followup:"à¸§à¸±à¸™à¸—à¸µà¹ˆà¸•à¸´à¸”à¸•à¸²à¸¡à¸„à¸£à¸±à¹‰à¸‡à¸–à¸±à¸”à¹„à¸›",consult_date:"à¸§à¸±à¸™à¸—à¸µà¹ˆ Consult",surgery_date:"à¸§à¸±à¸™à¸—à¸µà¹ˆà¸œà¹ˆà¸²à¸•à¸±à¸”",appointment_time:"à¹€à¸§à¸¥à¸²à¸—à¸µà¹ˆà¸™à¸±à¸”",got_contact_date:"à¸§à¸±à¸™à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸Šà¸·à¹ˆà¸­ à¹€à¸šà¸­à¸£à¹Œ",booked_consult_date:"à¸§à¸±à¸™à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸™à¸±à¸” consult",booked_surgery_date:"à¸§à¸±à¸™à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸™à¸±à¸”à¸œà¹ˆà¸²à¸•à¸±à¸”",proposed_amount:"à¸¢à¸­à¸”à¸™à¸³à¹€à¸ªà¸™à¸­",customer_code:"à¸£à¸«à¸±à¸ªà¸¥à¸¹à¸à¸„à¹‰à¸²",star_flag:"à¸•à¸´à¸”à¸”à¸²à¸§",country:"à¸›à¸£à¸°à¹€à¸—à¸¨",car_call_time:"à¹€à¸§à¸¥à¸²à¹ƒà¸«à¹‰à¹€à¸£à¸µà¸¢à¸à¸£à¸–",lat:"Lat",long:"Long",photo_note:"à¸£à¸¹à¸›",gender:"à¹€à¸žà¸¨",age:"à¸­à¸²à¸¢à¸¸",occupation:"à¸­à¸²à¸Šà¸µà¸ž",from_province:"à¸¡à¸²à¸ˆà¸²à¸à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”",travel_method:"à¸ˆà¸°à¹€à¸”à¸´à¸™à¸—à¸²à¸‡à¸¡à¸²à¸£à¸ž.à¸¢à¸±à¸‡à¹„à¸‡",contact_prefer_date:"à¸§à¸±à¸™à¸—à¸µà¹ˆà¸ªà¸°à¸”à¸§à¸à¹ƒà¸«à¹‰à¸•à¸´à¸”à¸•à¹ˆà¸­",contact_prefer_time:"à¸Šà¹ˆà¸§à¸‡à¹€à¸§à¸¥à¸²à¸—à¸µà¹ˆà¸ªà¸°à¸”à¸§à¸à¹ƒà¸«à¹‰à¸•à¸´à¸”à¸•à¹ˆà¸­",free_program:"à¹‚à¸„à¸£à¸‡à¸à¸²à¸£à¸Ÿà¸£à¸µ",event_id:"Event ID",html_link:"htmlLink",ical_uid:"iCalUID",log:"Log",doc_calendar:"Doc Calendar",doc_event_id:"Doc Event ID",doc_html_link:"Doc htmlLink",doc_ical_uid:"Doc iCalUID",line_note:"line",line_doctor_note:"line à¸«à¸¡à¸­",ivr:"IVR",transfer_to:"TRANSFER_TO",status_call:"status_call",created_at:"created_at",updated_at:"updated_at"}).reduce((e,[t,s])=>(e[s]=t,e),{});let ee=`
  .custom-scrollbar::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }
  .custom-scrollbar::-webkit-scrollbar-track {
    background: rgba(219, 234, 254, 0.5);
    border-radius: 10px;
  }
  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: linear-gradient(to bottom, #3b82f6, #06b6d4);
    border-radius: 10px;
  }
  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(to bottom, #0284c7, #0891b2);
  }
  .custom-scrollbar-horizontal::-webkit-scrollbar {
    height: 8px;
    width: 8px;
  }
  .custom-scrollbar-horizontal::-webkit-scrollbar-track {
    background: rgba(219, 234, 254, 0.5);
    border-radius: 10px;
  }
  .custom-scrollbar-horizontal::-webkit-scrollbar-thumb {
    background: linear-gradient(to right, #3b82f6, #06b6d4);
    border-radius: 10px;
  }
  .custom-scrollbar-horizontal::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(to right, #0284c7, #0891b2);
  }
`,et=()=>{let e=(0,a.useRouter)(),r=(0,a.useSearchParams)().get("type"),[m,x]=(0,s.useState)([]),[p,b]=(0,s.useState)(null),[h,g]=(0,s.useState)(!1),[f,j]=(0,s.useState)(null),[v,y]=(0,s.useState)(""),[N,w]=(0,s.useState)(""),[k,C]=(0,s.useState)("all"),[_,S]=(0,s.useState)(!1),[D,$]=(0,s.useState)("all"),[E,O]=(0,s.useState)(!1),[F,P]=(0,s.useState)("all"),[T,z]=(0,s.useState)(!1),[A,L]=(0,s.useState)("all"),[M,I]=(0,s.useState)(!1),[R,U]=(0,s.useState)(!1),[X,B]=(0,s.useState)(""),[W,H]=(0,s.useState)(!1),[J,G]=(0,s.useState)(""),[V,Y]=(0,s.useState)(!1),[Z,K]=(0,s.useState)(""),[et,es]=(0,s.useState)(!1),[ea,el]=(0,s.useState)(""),[er,en]=(0,s.useState)(!1),[eo,ei]=(0,s.useState)(""),[ed,ec]=(0,s.useState)(!1),[eu,em]=(0,s.useState)(""),[ex,ep]=(0,s.useState)(!1),[eb,eh]=(0,s.useState)(""),[eg,ef]=(0,s.useState)(null),[ej,ev]=(0,s.useState)("asc"),[ey,eN]=(0,s.useState)(1),[ew,ek]=(0,s.useState)(500),[eC,e_]=(0,s.useState)(null),[eS,eD]=(0,s.useState)(null),[e$,eE]=(0,s.useState)(!1),[eO,eF]=(0,s.useState)(null),[eP,eT]=(0,s.useState)(!1),[ez,eA]=(0,s.useState)([]),[eL,eM]=(0,s.useState)(!1),[eI,eR]=(0,s.useState)(!1),[eU,eX]=(0,s.useState)([]),[eB,eW]=(0,s.useState)([]),[eH,eJ]=(0,s.useState)(!1),[eG,eV]=(0,s.useState)(500),eY=(0,s.useRef)([]),eZ=async()=>{try{g(!0);let t=await fetch("/api/customer-data"),s=await t.json();if(!s.success||!s.columns||!s.data||0===s.data.length)return;let a=s.columns,l=s.data,n=[{tableNumber:1,headers:a,rowCount:l.length,data:l}];if(n&&n.length>0){var e;let t,a=n.map(e=>{let t=e.headers.map(e=>e.trim()),s=e.data.map(e=>{let t={};return Object.entries(e).forEach(([e,s])=>{t[e.trim()]=s}),t});return{...e,headers:t,data:s,rowCount:s.length}}),l=["à¸œà¸¹à¹‰à¸•à¸´à¸”à¸•à¹ˆà¸­","à¸ªà¸–à¸²à¸™à¸°","à¸œà¸¥à¸´à¸•à¸ à¸±à¸“à¸‘à¹Œà¸—à¸µà¹ˆà¸ªà¸™à¹ƒà¸ˆ","à¸Šà¸·à¹ˆà¸­","à¹€à¸šà¸­à¸£à¹Œà¹‚à¸—à¸£","à¹€à¸žà¸¨","à¹à¸«à¸¥à¹ˆà¸‡à¸—à¸µà¹ˆà¸¡à¸²","à¸«à¸¡à¸²à¸¢à¹€à¸«à¸•à¸¸","à¸§à¸±à¸™à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸Šà¸·à¹ˆà¸­ à¹€à¸šà¸­à¸£à¹Œ","à¸§à¸±à¸™à¸—à¸µà¹ˆà¸•à¸´à¸”à¸•à¸²à¸¡à¸„à¸£à¸±à¹‰à¸‡à¸¥à¹ˆà¸²à¸ªà¸¸à¸”","à¸§à¸±à¸™à¸—à¸µà¹ˆà¸•à¸´à¸”à¸•à¸²à¸¡à¸„à¸£à¸±à¹‰à¸‡à¸–à¸±à¸”à¹„à¸›","à¸§à¸±à¸™à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸™à¸±à¸” consult","à¸§à¸±à¸™à¸—à¸µà¹ˆ Consult","à¸§à¸±à¸™à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸™à¸±à¸”à¸œà¹ˆà¸²à¸•à¸±à¸”","à¸§à¸±à¸™à¸—à¸µà¹ˆà¸œà¹ˆà¸²à¸•à¸±à¸”","à¹€à¸§à¸¥à¸²à¸—à¸µà¹ˆà¸™à¸±à¸”","à¸«à¸¡à¸­","à¸¢à¸­à¸”à¸™à¸³à¹€à¸ªà¸™à¸­","à¸£à¸«à¸±à¸ªà¸¥à¸¹à¸à¸„à¹‰à¸²","à¸•à¸´à¸”à¸”à¸²à¸§","à¸›à¸£à¸°à¹€à¸—à¸¨","à¹€à¸§à¸¥à¸²à¹ƒà¸«à¹‰à¹€à¸£à¸µà¸¢à¸à¸£à¸–","Lat","Long","id"],o=["à¸ªà¸–à¸²à¸™à¸°","à¸œà¸¥à¸´à¸•à¸ à¸±à¸“à¸‘à¹Œà¸—à¸µà¹ˆà¸ªà¸™à¹ƒà¸ˆ","à¸Šà¸·à¹ˆà¸­","à¹€à¸šà¸­à¸£à¹Œà¹‚à¸—à¸£","à¹à¸«à¸¥à¹ˆà¸‡à¸—à¸µà¹ˆà¸¡à¸²","à¹€à¸žà¸¨"],i=new Set,d=[];l.forEach(e=>{o.includes(e)&&!i.has(e)&&(i.add(e),d.push(e))}),l.forEach(e=>{i.has(e)||a.forEach(t=>{t.headers.includes(e)&&!i.has(e)&&(i.add(e),d.push(e))})}),a.forEach(e=>{e.headers.forEach(e=>{i.has(e)||(i.add(e),d.push(e))})});let c=d.filter(e=>!["à¸£à¸¹à¸›","à¸­à¸²à¸¢à¸¸","à¸£à¸«à¸±à¸ªà¸¥à¸¹à¸à¸„à¹‰à¸²","à¸­à¸²à¸Šà¸µà¸ž","à¸¡à¸²à¸ˆà¸²à¸à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”","à¸ˆà¸°à¹€à¸”à¸´à¸™à¸—à¸²à¸‡à¸¡à¸²à¸£à¸ž.à¸¢à¸±à¸‡à¹„à¸‡","Event ID","htmlLink","iCalUID","Log","Doc Calendar","Doc Event ID","Doc htmlLink","Doc iCalUID","line","line à¸«à¸¡à¸­","IVR","TRANSFER_TO","status_call"].includes(e)&&(!!o.includes(e)||a.some(t=>t.data.some(t=>void 0!==t[e]&&null!==t[e]&&""!==t[e])))),u=[];a.forEach(e=>{u.push(...e.data)});let m=u;"existing"===r?m=u.filter(e=>{let t=e.cn;return t&&""!==t.toString().trim()}):"new"===r&&(m=u.filter(e=>{let t=e.cn;return!t||""===t.toString().trim()}));let p=m.filter(e=>c.some(t=>{let s=e[t];return null!=s&&""!==s})),h={tableNumber:1,headers:c,rowCount:p.length,data:p};x([h]);let g=(e=s.data,t=null,e.forEach(e=>{if(e.updated_at){let s=new Date(e.updated_at);if(!Number.isNaN(s.getTime())){let e=s.toISOString();(!t||e>t)&&(t=e)}}}),t);g&&b(g)}else x([])}catch(e){}finally{g(!1)}},eq=async()=>{try{let e=await fetch("/api/status-options"),t=await e.json();t.success&&t.data?eX(t.data):(console.error("Failed to fetch status options:",t.error),eX([{value:"all",label:"à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”",color:"bg-gray-200 text-gray-800"}]))}catch(e){console.error("Error fetching status options:",e),eX([{value:"all",label:"à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”",color:"bg-gray-200 text-gray-800"}])}},eK=async()=>{try{let e=await fetch("/api/table-size-options"),t=await e.json();t.success&&t.data?eW(t.data):console.error("Failed to fetch table size options:",t.error)}catch(e){console.error("Error fetching table size options:",e)}},eQ=(0,s.useCallback)(async()=>{if(p&&0!==eY.current.length)try{let e=await fetch(`/api/customer-updates?since=${encodeURIComponent(p)}`),t=await e.json();if(!e.ok||!1===t.success||!Array.isArray(t.data)||0===t.data.length)return;let s=eY.current[0];if(!s)return;let a=new Map;s.data.forEach(e=>{void 0!==e.id&&null!==e.id&&a.set(e.id,e)}),t.data.forEach(e=>{if(void 0===e.id||null===e.id)return;let t=a.get(e.id);a.set(e.id,t?{...t,...e}:e)});let l=Array.from(a.values()),r=[...s.headers];(t.columns||[]).forEach(e=>{r.includes(e)||r.push(e)}),x([{...s,headers:r,data:l,rowCount:l.length}]),t.latestUpdatedAt&&b(t.latestUpdatedAt)}catch(e){console.error("Error fetching realtime updates:",e)}},[p]);(0,s.useEffect)(()=>{eY.current=m},[m]),(0,s.useEffect)(()=>{(()=>{let e=localStorage.getItem("user");if(!e){window.location.href="/login";return}j(JSON.parse(e))})(),eZ(),eq(),eK()},[]),(0,s.useEffect)(()=>{if(!p||0===m.length)return;eQ();let e=setInterval(eQ,8e3);return()=>clearInterval(e)},[p,eQ,m.length]),(0,s.useEffect)(()=>{let e=setTimeout(()=>{(v.length>=3||0===v.length)&&w(v)},300);return()=>clearTimeout(e)},[v]),(0,s.useEffect)(()=>{let e=e=>{e.target.closest(".filter-toolbar")||tt()};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let e0=async e=>{try{let t=await fetch("/api/customer-data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"update",data:e})}),s=await t.json();s.success?(eE(!1),await eZ()):console.error(`à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”: ${s.error}`)}catch(e){console.error("à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”à¹ƒà¸™à¸à¸²à¸£à¸šà¸±à¸™à¸—à¸¶à¸à¸‚à¹‰à¸­à¸¡à¸¹à¸¥")}},e2=async()=>{if(0===ez.length)return void alert("à¸à¸£à¸¸à¸“à¸²à¹€à¸¥à¸·à¸­à¸à¸£à¸²à¸¢à¸à¸²à¸£à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸¥à¸š");if(confirm(`à¸„à¸¸à¸“à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸¥à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥ ${ez.length} à¸£à¸²à¸¢à¸à¸²à¸£à¹ƒà¸Šà¹ˆà¸«à¸£à¸·à¸­à¹„à¸¡à¹ˆ?

ID à¸—à¸µà¹ˆà¸ˆà¸°à¸¥à¸š: ${ez.join(", ")}

à¸à¸²à¸£à¸”à¸³à¹€à¸™à¸´à¸™à¸à¸²à¸£à¸™à¸µà¹‰à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸¢à¹‰à¸­à¸™à¸à¸¥à¸±à¸šà¹„à¸”à¹‰`))try{eM(!0);let e=await fetch("/api/customer-data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"deleteMultiple",data:{ids:ez}})}),t=await e.json();t.success?(alert(`à¸¥à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ªà¸³à¹€à¸£à¹‡à¸ˆ ${t.deletedCount} à¸£à¸²à¸¢à¸à¸²à¸£`),eA([]),await eZ()):alert(`à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”: ${t.error}`)}catch(e){console.error("à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”à¹ƒà¸™à¸à¸²à¸£à¸¥à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥:",e),alert("à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”à¹ƒà¸™à¸à¸²à¸£à¸¥à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥")}finally{eM(!1)}},e1=()=>{ez.length===e4.length?eA([]):eA(e4.map(e=>e.id).filter(e=>null!=e))},e5=e=>{eA(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},e4=(0,s.useMemo)(()=>{if(0===m.length)return[];let e=N.length>=3?N:"";if(!("all"!==D||"all"!==F||"all"!==A||X||J||Z||ea||eo||eu||eb||e))return[];let t=[...m[0].data];if(f&&"superadmin"!==f.role_tag&&"admin"!==f.role_tag){let e=m[0].headers.findIndex(e=>e.toLowerCase().includes("à¸œà¸¹à¹‰à¸•à¸´à¸”à¸•à¹ˆà¸­")||e.toLowerCase().includes("contact")||e.toLowerCase().includes("à¸•à¸´à¸”à¸•à¹ˆà¸­"));if(-1!==e){let s=m[0].headers[e];t=t.filter(e=>{let t=e[s];return t&&String(t).trim()===f.name})}}if("all"!==D){let e=m[0].headers.findIndex(e=>e.toLowerCase().includes("à¸ªà¸–à¸²à¸™à¸°")||e.toLowerCase().includes("status"));if(-1!==e){let s=m[0].headers[e];t=t.filter(e=>{let t=e[s];return t&&String(t).trim()===D})}}if("all"!==F){let e=m[0].headers.findIndex(e=>e.toLowerCase().includes("à¸œà¸¥à¸´à¸•à¸ à¸±à¸“à¸‘à¹Œ")||e.toLowerCase().includes("product")||e.toLowerCase().includes("à¸ªà¸™à¹ƒà¸ˆ"));if(-1!==e){let s=m[0].headers[e];t=t.filter(e=>{let t=e[s];return!!t&&String(t).split(/[,\n]+/).map(e=>e.trim()).some(e=>e===F)})}}if("all"!==A){let e=m[0].headers.findIndex(e=>e.toLowerCase().includes("à¸œà¸¹à¹‰à¸•à¸´à¸”à¸•à¹ˆà¸­")||e.toLowerCase().includes("contact")||e.toLowerCase().includes("à¸•à¸´à¸”à¸•à¹ˆà¸­"));if(-1!==e){let s=m[0].headers[e];t=t.filter(e=>{let t=e[s];return t&&String(t).trim()===A})}}let s=(e,s)=>{if(!s)return;let a=m[0].headers.findIndex(t=>t.trim()===e);if(-1!==a){let e=m[0].headers[a];t=t.filter(t=>{let a=t[e];if(!a)return!1;let l=String(a).trim(),r=null,n=l.match(/(\d{1,2})\/(\d{1,2})\/(\d{4})/);if(n){let[,e,t,s]=n;r=new Date(parseInt(s),parseInt(t)-1,parseInt(e))}else l.match(/\d{4}-\d{2}-\d{2}/)&&(r=new Date(l));if(!r||isNaN(r.getTime()))return!1;let o=new Date(s);return o.setHours(0,0,0,0),r.setHours(0,0,0,0),r.getTime()===o.getTime()})}};return s("à¸§à¸±à¸™à¸—à¸µà¹ˆà¸•à¸´à¸”à¸•à¸²à¸¡à¸„à¸£à¸±à¹‰à¸‡à¸¥à¹ˆà¸²à¸ªà¸¸à¸”",X),s("à¸§à¸±à¸™à¸—à¸µà¹ˆà¸•à¸´à¸”à¸•à¸²à¸¡à¸„à¸£à¸±à¹‰à¸‡à¸–à¸±à¸”à¹„à¸›",J),s("à¸§à¸±à¸™à¸—à¸µà¹ˆ Consult",Z),s("à¸§à¸±à¸™à¸—à¸µà¹ˆà¸œà¹ˆà¸²à¸•à¸±à¸”",ea),s("à¸§à¸±à¸™à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸Šà¸·à¹ˆà¸­ à¹€à¸šà¸­à¸£à¹Œ",eo),s("à¸§à¸±à¸™à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸™à¸±à¸” Consult",eu),s("à¸§à¸±à¸™à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸™à¸±à¸”à¸œà¹ˆà¸²à¸•à¸±à¸”",eb),e&&(t=t.filter(t=>{if("all"===k)return m[0].headers.some(s=>{let a=t[s];return a&&String(a).toLowerCase().includes(e.toLowerCase())});{let s=t[k];return s&&String(s).toLowerCase().includes(e.toLowerCase())}})),eg&&t.sort((e,t)=>{let s=e[eg]||"",a=t[eg]||"",l=String(s).toLowerCase(),r=String(a).toLowerCase();return l<r?"asc"===ej?-1:1:l>r?"asc"===ej?1:-1:0}),t},[m,N,k,eg,ej,D,F,A,X,f,J,Z,ea,eo,eu,eb]),e3=(0,s.useMemo)(()=>{let e=N.length>=3;return"all"!==D||"all"!==F||"all"!==A||X||J||Z||ea||eo||eu||eb||e},[D,F,A,X,J,Z,ea,eo,eu,eb,N]),e6=v.length>0&&v.length<3,e7=["à¸ªà¸–à¸²à¸™à¸°","à¸Šà¸·à¹ˆà¸­","à¹€à¸šà¸­à¸£à¹Œà¹‚à¸—à¸£","à¸œà¸¥à¸´à¸•à¸ à¸±à¸“à¸‘à¹Œà¸—à¸µà¹ˆà¸ªà¸™à¹ƒà¸ˆ"],e8=(0,s.useMemo)(()=>e3&&m.length>0?e7.filter(e=>m[0].headers.includes(e)):m.length>0?m[0].headers:[],[e3,m]),e9=(0,s.useMemo)(()=>{let e=(ey-1)*ew;return e4.slice(e,e+ew)},[e4,ey,ew]),te=Math.ceil(e4.length/ew),tt=()=>{S(!1),O(!1),z(!1),I(!1),U(!1),H(!1),Y(!1),es(!1),en(!1),ec(!1),ep(!1),eJ(!1)},ts=[{value:"all",label:"à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”"},{value:"à¸ªà¸²",label:"à¸ªà¸²"},{value:"à¹€à¸ˆ",label:"à¹€à¸ˆ"},{value:"à¸žà¸´à¸”à¸¢à¸²",label:"à¸žà¸´à¸”à¸¢à¸²"},{value:"à¸§à¹ˆà¸²à¸™",label:"à¸§à¹ˆà¸²à¸™"},{value:"à¸ˆà¸µà¸™",label:"à¸ˆà¸µà¸™"},{value:"à¸¡à¸¸à¸",label:"à¸¡à¸¸à¸"},{value:"à¸•à¸±à¹‰à¸‡à¹‚à¸­à¹‹",label:"à¸•à¸±à¹‰à¸‡à¹‚à¸­à¹‹"}],ta=[{value:"all",label:"à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”"},{value:"à¸•à¸µà¸•à¸±à¸§à¹„à¸¥à¹ˆà¸•à¸±à¸§",label:"à¸•à¸µà¸•à¸±à¸§à¹„à¸¥à¹ˆà¸•à¸±à¸§"},{value:"Sub brow lift",label:"Sub brow lift"},{value:"à¹à¸à¹‰à¸•à¸²à¸«à¸¡à¸·à¹ˆà¸­à¸•à¸­à¸™à¹à¸¥à¸°à¹à¸à¹‰à¸§",label:"à¹à¸à¹‰à¸•à¸²à¸«à¸¡à¸·à¹ˆà¸­à¸•à¸­à¸™à¹à¸¥à¸°à¹à¸à¹‰à¸§"},{value:"à¸•à¸²à¸ªà¸­à¸‡à¸Šà¸±à¹‰à¸™",label:"à¸•à¸²à¸ªà¸­à¸‡à¸Šà¸±à¹‰à¸™"},{value:"à¹€à¸ªà¸£à¸´à¸¡à¸ˆà¸¡à¸¹à¸",label:"à¹€à¸ªà¸£à¸´à¸¡à¸ˆà¸¡à¸¹à¸"},{value:"à¹à¸à¹‰à¸ˆà¸¡à¸¹à¸",label:"à¹à¸à¹‰à¸ˆà¸¡à¸¹à¸"},{value:"à¹€à¸ªà¸£à¹‡à¸ˆà¸•à¸²à¸‚à¸²à¸§",label:"à¹€à¸ªà¸£à¹‡à¸ˆà¸•à¸²à¸‚à¸²à¸§"},{value:"à¸¥à¸´à¸‡à¸«à¸™à¹‰à¸²",label:"à¸¥à¸´à¸‡à¸«à¸™à¹‰à¸²"},{value:"Skin",label:"Skin"},{value:"à¸•à¸·à¹ˆà¸­",label:"à¸•à¸·à¹ˆà¸­"}];return((0,s.useEffect)(()=>{eN(1)},[v,k,D,F,A,X,J,Z,ea,eo,eu,eb]),h)?(0,t.jsx)("div",{className:"w-full h-screen flex items-center justify-center bg-white",children:(0,t.jsx)("div",{className:"text-gray-600",children:"à¸à¸³à¸¥à¸±à¸‡à¹‚à¸«à¸¥à¸”à¸‚à¹‰à¸­à¸¡à¸¹à¸¥..."})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("style",{children:ee}),(0,t.jsxs)("div",{className:"w-full min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 p-3 flex flex-col",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,t.jsx)("button",{onClick:()=>e.push("/customer-selection"),className:"flex items-center justify-center w-11 h-11 bg-white hover:bg-slate-50 text-slate-600 rounded-xl transition-all shadow-sm border border-slate-200 active:scale-95",children:(0,t.jsx)(u.ArrowLeft,{className:"w-5 h-5"})}),(0,t.jsx)("div",{className:"flex-1 text-center",children:(0,t.jsx)("h1",{className:"text-lg font-semibold text-slate-700",children:"existing"===r?"à¸¥à¸¹à¸à¸„à¹‰à¸²à¹€à¸à¹ˆà¸²":"new"===r?"à¸¥à¸¹à¸à¸„à¹‰à¸²à¹ƒà¸«à¸¡à¹ˆ":"à¸¥à¸¹à¸à¸„à¹‰à¸²à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”"})}),(0,t.jsx)("button",{onClick:()=>eT(!0),className:"flex items-center justify-center w-11 h-11 bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white rounded-xl transition-all shadow-md active:scale-95",children:(0,t.jsx)(c.Plus,{className:"w-6 h-6"})})]}),(0,t.jsx)("div",{className:"mb-3",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(l.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,t.jsx)("input",{type:"text",placeholder:"à¸„à¹‰à¸™à¸«à¸²à¸¥à¸¹à¸à¸„à¹‰à¸² (à¸žà¸´à¸¡à¸žà¹Œà¸­à¸¢à¹ˆà¸²à¸‡à¸™à¹‰à¸­à¸¢ 3 à¸•à¸±à¸§à¸­à¸±à¸à¸©à¸£)...",value:v,onChange:e=>y(e.target.value),className:`w-full pl-10 pr-4 py-3 bg-white border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm text-sm ${e6?"border-yellow-400":"border-slate-200"}`}),e6&&(0,t.jsxs)("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-xs text-yellow-600",children:["+",3-v.length]})]})}),(0,t.jsx)("div",{className:"flex md:hidden items-center gap-2 mb-3",children:(0,t.jsxs)("button",{onClick:()=>eR(!0),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl transition-all text-sm font-medium ${e3?"bg-blue-500 text-white shadow-md":"bg-white text-slate-600 border border-slate-200 shadow-sm"}`,children:[(0,t.jsx)(i,{className:"w-5 h-5"}),(0,t.jsx)("span",{children:"à¸•à¸±à¸§à¸à¸£à¸­à¸‡"}),e3&&(0,t.jsx)("span",{className:"bg-white text-blue-500 px-2 py-0.5 rounded-full text-xs font-bold",children:["all"!==D,"all"!==F,"all"!==A,X,J,Z,ea,eo,eu,eb,v].filter(Boolean).length})]})}),ez.length>0&&(0,t.jsx)("div",{className:"mb-3 md:hidden",children:(0,t.jsxs)("button",{onClick:e2,disabled:eL,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-rose-500 text-white rounded-xl text-sm font-medium hover:bg-rose-600 disabled:opacity-50 shadow-md",children:[(0,t.jsx)(d.X,{className:"w-4 h-4"}),eL?"à¸à¸³à¸¥à¸±à¸‡à¸¥à¸š...":`à¸¥à¸šà¸£à¸²à¸¢à¸à¸²à¸£à¸—à¸µà¹ˆà¹€à¸¥à¸·à¸­à¸ (${ez.length})`]})}),eI&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 md:hidden",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/50 transition-opacity",onClick:()=>eR(!1)}),(0,t.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-white rounded-t-3xl max-h-[85vh] overflow-hidden animate-slide-up",children:[(0,t.jsx)("div",{className:"flex justify-center py-3",children:(0,t.jsx)("div",{className:"w-10 h-1 bg-slate-300 rounded-full"})}),(0,t.jsxs)("div",{className:"flex items-center justify-between px-4 pb-3 border-b border-slate-100",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-slate-800",children:"à¸•à¸±à¸§à¸à¸£à¸­à¸‡"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>{$("all"),P("all"),L("all"),B(""),G(""),K(""),el(""),ei(""),em(""),eh("")},className:"px-3 py-1.5 text-sm text-rose-500 hover:bg-rose-50 rounded-lg",children:"à¸¥à¹‰à¸²à¸‡à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”"}),(0,t.jsx)("button",{onClick:()=>eR(!1),className:"p-2 hover:bg-slate-100 rounded-full",children:(0,t.jsx)(d.X,{className:"w-5 h-5 text-slate-500"})})]})]}),(0,t.jsxs)("div",{className:"overflow-y-auto max-h-[calc(85vh-120px)] px-4 py-4",children:[(0,t.jsxs)("div",{className:"mb-5",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"à¸ªà¸–à¸²à¸™à¸°"}),(0,t.jsxs)("select",{value:D,onChange:e=>$(e.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,t.jsx)("option",{value:"all",children:"à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”"}),eU.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,t.jsxs)("div",{className:"mb-5",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"à¸ªà¸´à¸™à¸„à¹‰à¸²"}),(0,t.jsx)("select",{value:F,onChange:e=>P(e.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:ta.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))})]}),f&&("superadmin"===f.role_tag||"admin"===f.role_tag)&&(0,t.jsxs)("div",{className:"mb-5",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"à¸œà¸¹à¹‰à¸•à¸´à¸”à¸•à¹ˆà¸­"}),(0,t.jsx)("select",{value:A,onChange:e=>L(e.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:ts.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,t.jsxs)("div",{className:"mb-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-3",children:"à¸à¸£à¸­à¸‡à¸•à¸²à¸¡à¸§à¸±à¸™à¸—à¸µà¹ˆ"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-xs text-slate-500 w-24 shrink-0",children:"à¸•à¸´à¸”à¸•à¸²à¸¡-à¸¥à¹ˆà¸²à¸ªà¸¸à¸”"}),(0,t.jsx)("input",{type:"date",value:X,onChange:e=>B(e.target.value),className:"flex-1 px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),X&&(0,t.jsx)("button",{onClick:()=>B(""),className:"p-1 text-rose-500",children:(0,t.jsx)(d.X,{className:"w-4 h-4"})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-xs text-slate-500 w-24 shrink-0",children:"à¸•à¸´à¸”à¸•à¸²à¸¡-à¸–à¸±à¸”à¹„à¸›"}),(0,t.jsx)("input",{type:"date",value:J,onChange:e=>G(e.target.value),className:"flex-1 px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),J&&(0,t.jsx)("button",{onClick:()=>G(""),className:"p-1 text-rose-500",children:(0,t.jsx)(d.X,{className:"w-4 h-4"})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-xs text-slate-500 w-24 shrink-0",children:"à¸§à¸±à¸™ Consult"}),(0,t.jsx)("input",{type:"date",value:Z,onChange:e=>K(e.target.value),className:"flex-1 px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),Z&&(0,t.jsx)("button",{onClick:()=>K(""),className:"p-1 text-rose-500",children:(0,t.jsx)(d.X,{className:"w-4 h-4"})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-xs text-slate-500 w-24 shrink-0",children:"à¸§à¸±à¸™à¸œà¹ˆà¸²à¸•à¸±à¸”"}),(0,t.jsx)("input",{type:"date",value:ea,onChange:e=>el(e.target.value),className:"flex-1 px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),ea&&(0,t.jsx)("button",{onClick:()=>el(""),className:"p-1 text-rose-500",children:(0,t.jsx)(d.X,{className:"w-4 h-4"})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-xs text-slate-500 w-24 shrink-0",children:"à¸§à¸±à¸™à¹„à¸”à¹‰à¸Šà¸·à¹ˆà¸­"}),(0,t.jsx)("input",{type:"date",value:eo,onChange:e=>ei(e.target.value),className:"flex-1 px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),eo&&(0,t.jsx)("button",{onClick:()=>ei(""),className:"p-1 text-rose-500",children:(0,t.jsx)(d.X,{className:"w-4 h-4"})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-xs text-slate-500 w-24 shrink-0",children:"à¹„à¸”à¹‰à¸™à¸±à¸” Consult"}),(0,t.jsx)("input",{type:"date",value:eu,onChange:e=>em(e.target.value),className:"flex-1 px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),eu&&(0,t.jsx)("button",{onClick:()=>em(""),className:"p-1 text-rose-500",children:(0,t.jsx)(d.X,{className:"w-4 h-4"})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-xs text-slate-500 w-24 shrink-0",children:"à¹„à¸”à¹‰à¸™à¸±à¸”à¸œà¹ˆà¸²à¸•à¸±à¸”"}),(0,t.jsx)("input",{type:"date",value:eb,onChange:e=>eh(e.target.value),className:"flex-1 px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),eb&&(0,t.jsx)("button",{onClick:()=>eh(""),className:"p-1 text-rose-500",children:(0,t.jsx)(d.X,{className:"w-4 h-4"})})]})]})]})]}),(0,t.jsx)("div",{className:"px-4 py-4 border-t border-slate-100 bg-white",children:(0,t.jsx)("button",{onClick:()=>eR(!1),className:"w-full py-3 bg-blue-500 text-white rounded-xl font-medium hover:bg-blue-600 transition-colors",children:"à¹à¸ªà¸”à¸‡à¸œà¸¥à¸¥à¸±à¸žà¸˜à¹Œ"})})]})]}),(0,t.jsxs)("div",{className:"hidden md:block bg-white rounded-xl shadow-sm border border-slate-200 p-4 mb-4",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-3 mb-3 filter-toolbar",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{onClick:()=>{tt(),O(!E)},className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-all text-sm font-medium border ${"all"!==D?"bg-cyan-50 border-cyan-300 text-cyan-700":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:[(0,t.jsx)("span",{children:"à¸ªà¸–à¸²à¸™à¸°"}),(0,t.jsx)(o.ChevronDown,{className:`w-4 h-4 transition-transform ${E?"rotate-180":""}`})]}),E&&(0,t.jsx)("div",{className:"absolute top-full left-0 mt-2 bg-white border border-slate-200 rounded-xl shadow-lg z-50 min-w-[200px] overflow-hidden",children:(0,t.jsx)("div",{className:"max-h-64 overflow-y-auto",children:eU.map(e=>(0,t.jsxs)("button",{onClick:()=>{$(e.value),O(!1)},className:`w-full text-left px-4 py-2.5 transition-all text-sm ${D===e.value?"bg-cyan-50 text-cyan-700 font-medium":"text-slate-600 hover:bg-slate-50"}`,children:[D===e.value&&"âœ“ ",e.label]},e.value))})})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{onClick:()=>{tt(),z(!T)},className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-all text-sm font-medium border ${"all"!==F?"bg-indigo-50 border-indigo-300 text-indigo-700":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:[(0,t.jsx)("span",{children:"à¸ªà¸´à¸™à¸„à¹‰à¸²"}),(0,t.jsx)(o.ChevronDown,{className:`w-4 h-4 transition-transform ${T?"rotate-180":""}`})]}),T&&(0,t.jsx)("div",{className:"absolute top-full left-0 mt-2 bg-white border border-slate-200 rounded-xl shadow-lg z-50 min-w-[200px] overflow-hidden",children:(0,t.jsx)("div",{className:"max-h-64 overflow-y-auto",children:ta.map(e=>(0,t.jsxs)("button",{onClick:()=>{P(e.value),z(!1)},className:`w-full text-left px-4 py-2.5 transition-all text-sm ${F===e.value?"bg-indigo-50 text-indigo-700 font-medium":"text-slate-600 hover:bg-slate-50"}`,children:[F===e.value&&"âœ“ ",e.label]},e.value))})})]}),f&&("superadmin"===f.role_tag||"admin"===f.role_tag)&&(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{onClick:()=>{tt(),I(!M)},className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-all text-sm font-medium border ${"all"!==A?"bg-rose-50 border-rose-300 text-rose-700":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:[(0,t.jsx)("span",{children:"à¸œà¸¹à¹‰à¸•à¸´à¸”à¸•à¹ˆà¸­"}),(0,t.jsx)(o.ChevronDown,{className:`w-4 h-4 transition-transform ${M?"rotate-180":""}`})]}),M&&(0,t.jsx)("div",{className:"absolute top-full left-0 mt-2 bg-white border border-slate-200 rounded-xl shadow-lg z-50 min-w-[180px] overflow-hidden",children:(0,t.jsx)("div",{className:"max-h-64 overflow-y-auto",children:ts.map(e=>(0,t.jsxs)("button",{onClick:()=>{L(e.value),I(!1)},className:`w-full text-left px-4 py-2.5 transition-all text-sm ${A===e.value?"bg-rose-50 text-rose-700 font-medium":"text-slate-600 hover:bg-slate-50"}`,children:[A===e.value&&"âœ“ ",e.label]},e.value))})})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{onClick:()=>{tt(),U(!R)},className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-all text-sm font-medium border ${X?"bg-emerald-50 border-emerald-300 text-emerald-700":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:[(0,t.jsx)("span",{children:"à¸•à¸´à¸”à¸•à¸²à¸¡-à¸¥à¹ˆà¸²à¸ªà¸¸à¸”"}),(0,t.jsx)(o.ChevronDown,{className:`w-4 h-4 transition-transform ${R?"rotate-180":""}`})]}),R&&(0,t.jsxs)("div",{className:"absolute top-full left-0 mt-2 bg-white border border-slate-200 rounded-xl shadow-lg z-50 p-3 w-64",children:[(0,t.jsx)("input",{type:"date",value:X,onChange:e=>B(e.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent text-sm"}),X&&(0,t.jsx)("button",{onClick:()=>B(""),className:"mt-2 w-full px-3 py-2 text-sm text-rose-600 hover:bg-rose-50 rounded-lg",children:"à¸¥à¹‰à¸²à¸‡à¸•à¸±à¸§à¸à¸£à¸­à¸‡"})]})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{onClick:()=>{tt(),H(!W)},className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-all text-sm font-medium border ${J?"bg-violet-50 border-violet-300 text-violet-700":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:[(0,t.jsx)("span",{children:"à¸•à¸´à¸”à¸•à¸²à¸¡-à¸–à¸±à¸”à¹„à¸›"}),(0,t.jsx)(o.ChevronDown,{className:`w-4 h-4 transition-transform ${W?"rotate-180":""}`})]}),W&&(0,t.jsxs)("div",{className:"absolute top-full left-0 mt-2 bg-white border border-slate-200 rounded-xl shadow-lg z-50 p-3 w-64",children:[(0,t.jsx)("input",{type:"date",value:J,onChange:e=>G(e.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent text-sm"}),J&&(0,t.jsx)("button",{onClick:()=>G(""),className:"mt-2 w-full px-3 py-2 text-sm text-rose-600 hover:bg-rose-50 rounded-lg",children:"à¸¥à¹‰à¸²à¸‡à¸•à¸±à¸§à¸à¸£à¸­à¸‡"})]})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{onClick:()=>{tt(),Y(!V)},className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-all text-sm font-medium border ${Z?"bg-fuchsia-50 border-fuchsia-300 text-fuchsia-700":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:[(0,t.jsx)("span",{children:"Consult"}),(0,t.jsx)(o.ChevronDown,{className:`w-4 h-4 transition-transform ${V?"rotate-180":""}`})]}),V&&(0,t.jsxs)("div",{className:"absolute top-full left-0 mt-2 bg-white border border-slate-200 rounded-xl shadow-lg z-50 p-3 w-64",children:[(0,t.jsx)("input",{type:"date",value:Z,onChange:e=>K(e.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-fuchsia-500 focus:border-transparent text-sm"}),Z&&(0,t.jsx)("button",{onClick:()=>K(""),className:"mt-2 w-full px-3 py-2 text-sm text-rose-600 hover:bg-rose-50 rounded-lg",children:"à¸¥à¹‰à¸²à¸‡à¸•à¸±à¸§à¸à¸£à¸­à¸‡"})]})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{onClick:()=>{tt(),es(!et)},className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-all text-sm font-medium border ${ea?"bg-orange-50 border-orange-300 text-orange-700":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:[(0,t.jsx)("span",{children:"à¸œà¹ˆà¸²à¸•à¸±à¸”"}),(0,t.jsx)(o.ChevronDown,{className:`w-4 h-4 transition-transform ${et?"rotate-180":""}`})]}),et&&(0,t.jsxs)("div",{className:"absolute top-full left-0 mt-2 bg-white border border-slate-200 rounded-xl shadow-lg z-50 p-3 w-64",children:[(0,t.jsx)("input",{type:"date",value:ea,onChange:e=>el(e.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm"}),ea&&(0,t.jsx)("button",{onClick:()=>el(""),className:"mt-2 w-full px-3 py-2 text-sm text-rose-600 hover:bg-rose-50 rounded-lg",children:"à¸¥à¹‰à¸²à¸‡à¸•à¸±à¸§à¸à¸£à¸­à¸‡"})]})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{onClick:()=>{tt(),en(!er)},className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-all text-sm font-medium border ${eo?"bg-teal-50 border-teal-300 text-teal-700":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:[(0,t.jsx)("span",{children:"à¸§à¸±à¸™à¹„à¸”à¹‰à¸Šà¸·à¹ˆà¸­"}),(0,t.jsx)(o.ChevronDown,{className:`w-4 h-4 transition-transform ${er?"rotate-180":""}`})]}),er&&(0,t.jsxs)("div",{className:"absolute top-full left-0 mt-2 bg-white border border-slate-200 rounded-xl shadow-lg z-50 p-3 w-64",children:[(0,t.jsx)("input",{type:"date",value:eo,onChange:e=>ei(e.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent text-sm"}),eo&&(0,t.jsx)("button",{onClick:()=>ei(""),className:"mt-2 w-full px-3 py-2 text-sm text-rose-600 hover:bg-rose-50 rounded-lg",children:"à¸¥à¹‰à¸²à¸‡à¸•à¸±à¸§à¸à¸£à¸­à¸‡"})]})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{onClick:()=>{tt(),ec(!ed)},className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-all text-sm font-medium border ${eu?"bg-sky-50 border-sky-300 text-sky-700":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:[(0,t.jsx)("span",{children:"à¹„à¸”à¹‰à¸™à¸±à¸” Consult"}),(0,t.jsx)(o.ChevronDown,{className:`w-4 h-4 transition-transform ${ed?"rotate-180":""}`})]}),ed&&(0,t.jsxs)("div",{className:"absolute top-full left-0 mt-2 bg-white border border-slate-200 rounded-xl shadow-lg z-50 p-3 w-64",children:[(0,t.jsx)("input",{type:"date",value:eu,onChange:e=>em(e.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent text-sm"}),eu&&(0,t.jsx)("button",{onClick:()=>em(""),className:"mt-2 w-full px-3 py-2 text-sm text-rose-600 hover:bg-rose-50 rounded-lg",children:"à¸¥à¹‰à¸²à¸‡à¸•à¸±à¸§à¸à¸£à¸­à¸‡"})]})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{onClick:()=>{tt(),ep(!ex)},className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-all text-sm font-medium border ${eb?"bg-amber-50 border-amber-300 text-amber-700":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:[(0,t.jsx)("span",{children:"à¹„à¸”à¹‰à¸™à¸±à¸”à¸œà¹ˆà¸²à¸•à¸±à¸”"}),(0,t.jsx)(o.ChevronDown,{className:`w-4 h-4 transition-transform ${ex?"rotate-180":""}`})]}),ex&&(0,t.jsxs)("div",{className:"absolute top-full left-0 mt-2 bg-white border border-slate-200 rounded-xl shadow-lg z-50 p-3 w-64",children:[(0,t.jsx)("input",{type:"date",value:eb,onChange:e=>eh(e.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent text-sm"}),eb&&(0,t.jsx)("button",{onClick:()=>eh(""),className:"mt-2 w-full px-3 py-2 text-sm text-rose-600 hover:bg-rose-50 rounded-lg",children:"à¸¥à¹‰à¸²à¸‡à¸•à¸±à¸§à¸à¸£à¸­à¸‡"})]})]}),e3&&(0,t.jsx)("button",{onClick:()=>{$("all"),P("all"),L("all"),B(""),G(""),K(""),el(""),ei(""),em(""),eh("")},className:"px-4 py-2 bg-rose-500 text-white rounded-lg text-sm font-medium hover:bg-rose-600",children:"à¸¥à¹‰à¸²à¸‡à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center pt-3 border-t border-slate-100",children:[(0,t.jsxs)("span",{className:"text-sm text-slate-600",children:[(0,t.jsx)("span",{className:"font-medium",children:e4.length})," à¸£à¸²à¸¢à¸à¸²à¸£"]}),ez.length>0&&(0,t.jsxs)("button",{onClick:e2,disabled:eL,className:"flex items-center gap-2 px-4 py-2 bg-rose-500 text-white rounded-lg text-sm font-medium hover:bg-rose-600 disabled:opacity-50",children:[(0,t.jsx)(d.X,{className:"w-4 h-4"}),eL?"à¸à¸³à¸¥à¸±à¸‡à¸¥à¸š...":`à¸¥à¸šà¸£à¸²à¸¢à¸à¸²à¸£à¸—à¸µà¹ˆà¹€à¸¥à¸·à¸­à¸ (${ez.length})`]})]})]}),e3&&m.length>0&&te>1&&(0,t.jsxs)("div",{className:"flex md:hidden justify-center items-center gap-1 mb-3",children:[(0,t.jsx)("button",{onClick:()=>eN(ey-1),disabled:1===ey,className:"px-3 py-2 bg-white border border-slate-200 rounded-lg text-sm disabled:opacity-50 shadow-sm",children:"â†"}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[Array.from({length:Math.min(5,te)},(e,s)=>{let a;return a=te<=5||ey<=3?s+1:ey>=te-2?te-4+s:ey-2+s,(0,t.jsx)("button",{onClick:()=>eN(a),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all ${a===ey?"bg-blue-500 text-white shadow-md":"bg-white border border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:a},a)}),te>5&&ey<te-2&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"text-slate-400",children:"..."}),(0,t.jsx)("button",{onClick:()=>eN(te),className:"px-3 py-2 bg-white border border-slate-200 rounded-lg text-sm text-slate-600 hover:bg-slate-50",children:te})]})]}),(0,t.jsx)("button",{onClick:()=>eN(ey+1),disabled:ey===te,className:"px-3 py-2 bg-white border border-slate-200 rounded-lg text-sm disabled:opacity-50 shadow-sm",children:"â†’"})]}),m.length>0&&te>1&&(0,t.jsxs)("div",{className:"hidden md:flex justify-center items-center gap-1 mb-3",children:[(0,t.jsx)("button",{onClick:()=>eN(ey-1),disabled:1===ey,className:"px-3 py-2 bg-white border border-slate-200 rounded-lg text-sm disabled:opacity-50 shadow-sm",children:"â†"}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[Array.from({length:Math.min(5,te)},(e,s)=>{let a;return a=te<=5||ey<=3?s+1:ey>=te-2?te-4+s:ey-2+s,(0,t.jsx)("button",{onClick:()=>eN(a),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all ${a===ey?"bg-blue-500 text-white shadow-md":"bg-white border border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:a},a)}),te>5&&ey<te-2&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"text-slate-400",children:"..."}),(0,t.jsx)("button",{onClick:()=>eN(te),className:"px-3 py-2 bg-white border border-slate-200 rounded-lg text-sm text-slate-600 hover:bg-slate-50",children:te})]})]}),(0,t.jsx)("button",{onClick:()=>eN(ey+1),disabled:ey===te,className:"px-3 py-2 bg-white border border-slate-200 rounded-lg text-sm disabled:opacity-50 shadow-sm",children:"â†’"})]}),!e3&&(0,t.jsxs)("div",{className:"md:hidden flex-1 flex flex-col items-center justify-center py-16",children:[(0,t.jsx)(i,{className:"w-16 h-16 text-slate-300 mb-4"}),e6?(0,t.jsxs)("p",{className:"text-slate-500 text-center text-sm",children:["à¸žà¸´à¸¡à¸žà¹Œà¸­à¸µà¸ ",3-v.length," à¸•à¸±à¸§à¸­à¸±à¸à¸©à¸£à¹€à¸žà¸·à¹ˆà¸­à¸„à¹‰à¸™à¸«à¸²"]}):(0,t.jsx)("p",{className:"text-slate-500 text-center text-sm",children:"à¸à¸£à¸¸à¸“à¸²à¹€à¸¥à¸·à¸­à¸à¸•à¸±à¸§à¸à¸£à¸­à¸‡à¸«à¸£à¸·à¸­à¸žà¸´à¸¡à¸žà¹Œà¸­à¸¢à¹ˆà¸²à¸‡à¸™à¹‰à¸­à¸¢ 3 à¸•à¸±à¸§à¸­à¸±à¸à¸©à¸£à¹€à¸žà¸·à¹ˆà¸­à¸„à¹‰à¸™à¸«à¸²"}),(0,t.jsx)("button",{onClick:()=>eR(!0),className:"mt-4 px-6 py-2 bg-blue-500 text-white rounded-xl text-sm font-medium hover:bg-blue-600 transition-colors",children:"à¹€à¸¥à¸·à¸­à¸à¸•à¸±à¸§à¸à¸£à¸­à¸‡"})]}),e3&&m.length>0&&(0,t.jsxs)("div",{className:"md:hidden bg-white rounded-lg shadow-md overflow-hidden mb-4",children:[(0,t.jsx)("div",{className:"overflow-x-auto custom-scrollbar-horizontal",style:{overflowY:"hidden",height:"12px"},onScroll:e=>{let t=e.currentTarget,s=t.nextElementSibling;s&&(s.scrollLeft=t.scrollLeft)},children:(0,t.jsx)("div",{style:{width:150*m[0].headers.length+"px",height:"1px"}})}),(0,t.jsx)("div",{className:"overflow-x-auto overflow-y-auto custom-scrollbar",style:{maxHeight:`calc(100vh + ${eG}px)`,position:"relative"},onScroll:e=>{let t=e.currentTarget,s=t.previousElementSibling;s&&(s.scrollLeft=t.scrollLeft)},children:(0,t.jsxs)("table",{className:"w-full border-collapse text-sm table-auto",style:{position:"relative",zIndex:1},children:[(0,t.jsx)("thead",{className:"sticky top-0 z-30 bg-yellow-300",children:(0,t.jsxs)("tr",{className:"bg-yellow-300 border border-gray-400",children:[(0,t.jsx)("th",{className:"px-3 py-2 text-center font-bold text-gray-900 border-r border-gray-400",children:(0,t.jsx)("input",{type:"checkbox",checked:ez.length===e4.length&&e4.length>0,onChange:e1,className:"w-4 h-4 cursor-pointer",title:"à¹€à¸¥à¸·à¸­à¸à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”"})}),e8.map((e,s)=>{let a={à¸§à¸±à¸™à¸—à¸µà¹ˆà¸•à¸´à¸”à¸•à¸²à¸¡à¸„à¸£à¸±à¹‰à¸‡à¸¥à¹ˆà¸²à¸ªà¸¸à¸”:"bg-gradient-to-r from-emerald-300 to-emerald-400",à¸§à¸±à¸™à¸—à¸µà¹ˆà¸•à¸´à¸”à¸•à¸²à¸¡à¸„à¸£à¸±à¹‰à¸‡à¸–à¸±à¸”à¹„à¸›:"bg-gradient-to-r from-emerald-300 to-emerald-400","à¸§à¸±à¸™à¸—à¸µà¹ˆ Consult":"bg-gradient-to-r from-fuchsia-300 to-fuchsia-400",à¸§à¸±à¸™à¸—à¸µà¹ˆà¸œà¹ˆà¸²à¸•à¸±à¸”:"bg-gradient-to-r from-orange-300 to-orange-400",à¹€à¸§à¸¥à¸²à¸—à¸µà¹ˆà¸™à¸±à¸”:"bg-gradient-to-r from-orange-300 to-orange-400","à¸§à¸±à¸™à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸Šà¸·à¹ˆà¸­ à¹€à¸šà¸­à¸£à¹Œ":"bg-gradient-to-r from-blue-300 to-blue-400","à¸§à¸±à¸™à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸™à¸±à¸” consult":"bg-gradient-to-r from-fuchsia-300 to-fuchsia-400",à¸§à¸±à¸™à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸™à¸±à¸”à¸œà¹ˆà¸²à¸•à¸±à¸”:"bg-gradient-to-r from-orange-300 to-orange-400"},l=a[e]||"bg-yellow-300",r=a[e]?"hover:opacity-90":"hover:bg-yellow-400";return(0,t.jsx)("th",{onClick:()=>{eg===e?ev("asc"===ej?"desc":"asc"):(ef(e),ev("asc"))},className:`px-3 py-2 text-center text-xs font-bold text-gray-900 border-r border-gray-400 whitespace-nowrap cursor-pointer ${r} transition-all ${l}`,style:{fontSize:"11px"},children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,t.jsx)("span",{children:e}),eg===e&&("asc"===ej?(0,t.jsx)(n,{className:"w-3 h-3"}):(0,t.jsx)(o.ChevronDown,{className:"w-3 h-3"}))]})},s)}),e3&&(0,t.jsx)("th",{className:"px-3 py-2 text-center text-xs font-bold text-gray-900 border-r border-gray-400 whitespace-nowrap bg-blue-300",style:{fontSize:"11px"},children:"à¸”à¸¹à¹€à¸žà¸´à¹ˆà¸¡à¹€à¸•à¸´à¸¡"})]})}),(0,t.jsxs)("tbody",{children:[(console.log("ðŸ“Š Rendering tbody with",e9.length,"rows"),null),e9.map((e,s)=>{let a=((ey-1)*ew+s)%4,l=e.id,r=ez.includes(l),n="bg-white";return 1===a?n="bg-pink-200":3===a&&(n="bg-purple-200"),r&&(n="bg-blue-100"),(0,t.jsxs)("tr",{onClick:()=>{eF(e),eE(!0)},className:`border border-gray-300 transition-all duration-200 group ${n} hover:bg-blue-50 cursor-pointer`,children:[(0,t.jsx)("td",{className:"px-3 py-2 border-r border-gray-300 text-center",onClick:e=>e.stopPropagation(),children:(0,t.jsx)("input",{type:"checkbox",checked:r,onChange:()=>e5(l),className:"w-4 h-4 cursor-pointer"})}),e8.map((s,a)=>{let l=e[s],r=null!=l&&""!==l,n=(e=>{if(!e)return"";let t=String(e);if(t.includes("T")&&t.includes("Z"))try{return t.split("T")[0]}catch(e){}return t})(l),o="à¸«à¸¡à¸²à¸¢à¹€à¸«à¸•à¸¸"===s,i={à¸§à¸±à¸™à¸—à¸µà¹ˆà¸•à¸´à¸”à¸•à¸²à¸¡à¸„à¸£à¸±à¹‰à¸‡à¸¥à¹ˆà¸²à¸ªà¸¸à¸”:"bg-gradient-to-r from-emerald-100 to-emerald-200",à¸§à¸±à¸™à¸—à¸µà¹ˆà¸•à¸´à¸”à¸•à¸²à¸¡à¸„à¸£à¸±à¹‰à¸‡à¸–à¸±à¸”à¹„à¸›:"bg-gradient-to-r from-emerald-100 to-emerald-200","à¸§à¸±à¸™à¸—à¸µà¹ˆ Consult":"bg-gradient-to-r from-fuchsia-100 to-fuchsia-200",à¸§à¸±à¸™à¸—à¸µà¹ˆà¸œà¹ˆà¸²à¸•à¸±à¸”:"bg-gradient-to-r from-orange-100 to-orange-200",à¹€à¸§à¸¥à¸²à¸—à¸µà¹ˆà¸™à¸±à¸”:"bg-gradient-to-r from-orange-100 to-orange-200","à¸§à¸±à¸™à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸Šà¸·à¹ˆà¸­ à¹€à¸šà¸­à¸£à¹Œ":"bg-gradient-to-r from-blue-100 to-blue-200","à¸§à¸±à¸™à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸™à¸±à¸” consult":"bg-gradient-to-r from-fuchsia-100 to-fuchsia-200",à¸§à¸±à¸™à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸™à¸±à¸”à¸œà¹ˆà¸²à¸•à¸±à¸”:"bg-gradient-to-r from-orange-100 to-orange-200"},d=i[s]||"",c=!!i[s];return(0,t.jsx)("td",{className:`px-3 py-2 text-xs text-gray-900 border-r border-gray-300 text-center align-middle ${o?"":"whitespace-nowrap"} ${d}`,style:{fontSize:"11px",minWidth:o?"450px":c?"80px":void 0,maxWidth:o?"450px":c?"80px":void 0},children:r?(0,t.jsx)("span",{className:o?"block text-left whitespace-pre-wrap break-words":"block",children:n}):(0,t.jsx)("span",{className:"text-gray-400 block",children:"-"})},a)}),e3&&(0,t.jsx)("td",{className:"px-3 py-2 text-center border-r border-gray-300",onClick:e=>e.stopPropagation(),children:(0,t.jsx)("button",{onClick:()=>{eF(e),eE(!0)},className:"px-3 py-1.5 bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white text-xs font-medium rounded-lg transition-all duration-200 shadow-sm hover:shadow-md",children:"à¸”à¸¹à¹€à¸žà¸´à¹ˆà¸¡à¹€à¸•à¸´à¸¡"})})]},s)})]})]})})]}),!e3&&m.length>0&&(0,t.jsxs)("div",{className:"hidden md:flex flex-col items-center justify-center py-16 bg-white rounded-xl shadow-sm border border-slate-200",children:[(0,t.jsx)(i,{className:"w-16 h-16 text-slate-300 mb-4"}),e6?(0,t.jsxs)("p",{className:"text-slate-500 text-center text-sm",children:["à¸žà¸´à¸¡à¸žà¹Œà¸­à¸µà¸ ",3-v.length," à¸•à¸±à¸§à¸­à¸±à¸à¸©à¸£à¹€à¸žà¸·à¹ˆà¸­à¸„à¹‰à¸™à¸«à¸²"]}):(0,t.jsx)("p",{className:"text-slate-500 text-center text-sm",children:"à¸à¸£à¸¸à¸“à¸²à¹€à¸¥à¸·à¸­à¸à¸•à¸±à¸§à¸à¸£à¸­à¸‡à¸«à¸£à¸·à¸­à¸žà¸´à¸¡à¸žà¹Œà¸­à¸¢à¹ˆà¸²à¸‡à¸™à¹‰à¸­à¸¢ 3 à¸•à¸±à¸§à¸­à¸±à¸à¸©à¸£à¹€à¸žà¸·à¹ˆà¸­à¸„à¹‰à¸™à¸«à¸²"})]}),e3&&m.length>0&&(0,t.jsxs)("div",{className:"hidden md:block bg-white rounded-lg shadow-md overflow-hidden mb-4",children:[(0,t.jsx)("div",{className:"overflow-x-auto custom-scrollbar-horizontal",style:{overflowY:"hidden",height:"12px"},onScroll:e=>{let t=e.currentTarget,s=t.nextElementSibling;s&&(s.scrollLeft=t.scrollLeft)},children:(0,t.jsx)("div",{style:{width:150*m[0].headers.length+"px",height:"1px"}})}),(0,t.jsx)("div",{className:"overflow-x-auto overflow-y-auto custom-scrollbar",style:{maxHeight:`calc(100vh + ${eG}px)`,position:"relative"},onScroll:e=>{let t=e.currentTarget,s=t.previousElementSibling;s&&(s.scrollLeft=t.scrollLeft)},children:(0,t.jsxs)("table",{className:"w-full border-collapse text-sm table-auto",style:{position:"relative",zIndex:1},children:[(0,t.jsx)("thead",{className:"sticky top-0 z-30 bg-yellow-300",children:(0,t.jsxs)("tr",{className:"bg-yellow-300 border border-gray-400",children:[(0,t.jsx)("th",{className:"px-3 py-2 text-center font-bold text-gray-900 border-r border-gray-400",children:(0,t.jsx)("input",{type:"checkbox",checked:ez.length===e4.length&&e4.length>0,onChange:e1,className:"w-4 h-4 cursor-pointer",title:"à¹€à¸¥à¸·à¸­à¸à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”"})}),e8.map((e,s)=>(0,t.jsx)("th",{className:"px-3 py-2 text-center font-bold text-gray-900 whitespace-nowrap border-r border-gray-400",children:e},s)),(0,t.jsx)("th",{className:"px-3 py-2 text-center font-bold text-gray-900 whitespace-nowrap border-r border-gray-400 bg-blue-300",children:"à¸”à¸¹à¹€à¸žà¸´à¹ˆà¸¡à¹€à¸•à¸´à¸¡"})]})}),(0,t.jsx)("tbody",{children:e9.map((e,s)=>{let a=e["à¹„à¸­à¸”à¸µ"]||e.id||s,l=ez.includes(a);return(0,t.jsxs)("tr",{className:`border-b border-gray-200 ${l?"bg-blue-50":s%2==0?"bg-white":"bg-gray-50"} hover:bg-blue-100 transition-colors`,children:[(0,t.jsx)("td",{className:"px-3 py-2 text-center border-r border-gray-200",onClick:e=>e.stopPropagation(),children:(0,t.jsx)("input",{type:"checkbox",checked:l,onChange:()=>e5(a),className:"w-4 h-4 cursor-pointer"})}),e8.map((s,a)=>{let l=e[s],r=null!=l&&""!==l,n=r?String(l):"-";return(0,t.jsx)("td",{className:"px-3 py-2 text-center border-r border-gray-200 whitespace-nowrap",style:{fontSize:"11px"},children:r?n:(0,t.jsx)("span",{className:"text-gray-400",children:"-"})},a)}),(0,t.jsx)("td",{className:"px-3 py-2 text-center border-r border-gray-200",children:(0,t.jsx)("button",{onClick:()=>{eF(e),eE(!0)},className:"px-3 py-1.5 bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white text-xs font-medium rounded-lg transition-all duration-200 shadow-sm hover:shadow-md",children:"à¸”à¸¹à¹€à¸žà¸´à¹ˆà¸¡à¹€à¸•à¸´à¸¡"})})]},s)})})]})})]})]}),(0,t.jsx)(q,{isOpen:e$,onClose:()=>eE(!1),customerData:eO||{},onSave:e0}),(0,t.jsx)(Q,{isOpen:eP,onClose:()=>eT(!1),onSuccess:()=>{eT(!1),eZ()}})]})};function es(){return(0,t.jsx)(s.Suspense,{fallback:(0,t.jsx)("div",{className:"w-full min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 flex items-center justify-center",children:(0,t.jsx)("div",{className:"text-slate-500",children:"à¸à¸³à¸¥à¸±à¸‡à¹‚à¸«à¸¥à¸”..."})}),children:(0,t.jsx)(et,{})})}e.s(["default",()=>es],311593)}]);