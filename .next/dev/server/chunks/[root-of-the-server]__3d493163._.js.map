{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nut_z/OneDrive/%E0%B9%80%E0%B8%94%E0%B8%AA%E0%B8%81%E0%B9%8C%E0%B8%97%E0%B9%87%E0%B8%AD%E0%B8%9B/new-bjh/bjh-bangkok/src/lib/db.ts"],"sourcesContent":["import { Pool, types } from \"pg\";\r\n\r\n// กำหนดให้ pg ไม่แปลง DATE เป็น JavaScript Date object\r\n// เพื่อหลีกเลี่ยงปัญหา timezone shift\r\ntypes.setTypeParser(types.builtins.DATE, (val) => val); // DATE - return as string\r\ntypes.setTypeParser(types.builtins.TIMESTAMP, (val) => val); // TIMESTAMP - return as string\r\ntypes.setTypeParser(types.builtins.TIMESTAMPTZ, (val) => val); // TIMESTAMPTZ - return as string\r\n\r\n// สร้าง connection pool สำหรับ PostgreSQL (n8n.bjhbangkok.com)\r\nconst pool = new Pool({\r\n  host: process.env.DB_HOST || \"n8n.bjhbangkok.com\",\r\n  port: parseInt(process.env.DB_PORT || \"5432\"),\r\n  user: process.env.DB_USER || \"postgres\",\r\n  password: process.env.DB_PASSWORD || \"Bjh12345!!\",\r\n  database: process.env.DB_NAME || \"postgres\",\r\n  max: 20, // จำนวน connection สูงสุด\r\n  idleTimeoutMillis: 30000,\r\n  connectionTimeoutMillis: 30000, // เพิ่มเป็น 30 วินาที\r\n  statement_timeout: 60000, // Query timeout 60 วินาที\r\n  query_timeout: 60000,\r\n  // n8n ไม่รองรับ SSL\r\n  ssl: false,\r\n});\r\n// ตรวจสอบการเชื่อมต่อ\r\npool.on(\"connect\", () => {\r\n  // Connected to database\r\n});\r\npool.on(\"error\", (err) => {\r\n  // Database error\r\n  // ไม่ exit ใน production เพื่อให้ retry ได้\r\n  if (process.env.NODE_ENV !== \"production\") {\r\n    process.exit(-1);\r\n  }\r\n});\r\nexport default pool;\r\n"],"names":[],"mappings":";;;;AAAA;;;;;;AAEA,uDAAuD;AACvD,sCAAsC;AACtC,6GAAK,CAAC,aAAa,CAAC,6GAAK,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,MAAQ,MAAM,0BAA0B;AAClF,6GAAK,CAAC,aAAa,CAAC,6GAAK,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC,MAAQ,MAAM,+BAA+B;AAC5F,6GAAK,CAAC,aAAa,CAAC,6GAAK,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC,MAAQ,MAAM,iCAAiC;AAEhG,+DAA+D;AAC/D,MAAM,OAAO,IAAI,4GAAI,CAAC;IACpB,MAAM,QAAQ,GAAG,CAAC,OAAO,IAAI;IAC7B,MAAM,SAAS,QAAQ,GAAG,CAAC,OAAO,IAAI;IACtC,MAAM,QAAQ,GAAG,CAAC,OAAO,IAAI;IAC7B,UAAU,QAAQ,GAAG,CAAC,WAAW,IAAI;IACrC,UAAU,QAAQ,GAAG,CAAC,OAAO,IAAI;IACjC,KAAK;IACL,mBAAmB;IACnB,yBAAyB;IACzB,mBAAmB;IACnB,eAAe;IACf,oBAAoB;IACpB,KAAK;AACP;AACA,sBAAsB;AACtB,KAAK,EAAE,CAAC,WAAW;AACjB,wBAAwB;AAC1B;AACA,KAAK,EAAE,CAAC,SAAS,CAAC;IAChB,iBAAiB;IACjB,4CAA4C;IAC5C,wCAA2C;QACzC,QAAQ,IAAI,CAAC,CAAC;IAChB;AACF;uCACe"}},
    {"offset": {"line": 107, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nut_z/OneDrive/%E0%B9%80%E0%B8%94%E0%B8%AA%E0%B8%81%E0%B9%8C%E0%B8%97%E0%B9%87%E0%B8%AD%E0%B8%9B/new-bjh/bjh-bangkok/src/app/api/customer-data/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\r\nimport pool from \"@/lib/db\";\r\n// Mapping ชื่อคอลัมน์จากภาษาอังกฤษ (ในฐานข้อมูล) เป็นภาษาไทย (สำหรับ UI)\r\nconst columnMapping: Record<string, string> = {\r\n  id: \"id\",\r\n  id_all: \"id_all\",\r\n  status: \"สถานะ\",\r\n  source: \"แหล่งที่มา\",\r\n  interested_product: \"ผลิตภัณฑ์ที่สนใจ\",\r\n  doctor: \"หมอ\",\r\n  contact_staff: \"ผู้ติดต่อ\",\r\n  customer_name: \"ชื่อ\",\r\n  phone: \"เบอร์โทร\",\r\n  note: \"หมายเหตุ\",\r\n  last_followup: \"วันที่ติดตามครั้งล่าสุด\",\r\n  next_followup: \"วันที่ติดตามครั้งถัดไป\",\r\n  consult_date: \"วันที่ Consult\",\r\n  surgery_date: \"วันที่ผ่าตัด\",\r\n  appointment_time: \"เวลาที่นัด\",\r\n  got_contact_date: \"วันที่ได้ชื่อ เบอร์\",\r\n  booked_consult_date: \"วันที่ได้นัด consult\",\r\n  booked_surgery_date: \"วันที่ได้นัดผ่าตัด\",\r\n  proposed_amount: \"ยอดนำเสนอ\",\r\n  customer_code: \"รหัสลูกค้า\",\r\n  star_flag: \"ติดดาว\",\r\n  country: \"ประเทศ\",\r\n  car_call_time: \"เวลาให้เรียกรถ\",\r\n  lat: \"Lat\",\r\n  long: \"Long\",\r\n  photo_note: \"รูป\",\r\n  gender: \"เพศ\",\r\n  age: \"อายุ\",\r\n  occupation: \"อาชีพ\",\r\n  from_province: \"มาจากจังหวัด\",\r\n  travel_method: \"จะเดินทางมารพ.ยังไง\",\r\n  contact_prefer_date: \"วันที่สะดวกให้ติดต่อ\",\r\n  contact_prefer_time: \"ช่วงเวลาที่สะดวกให้ติดต่อ\",\r\n  free_program: \"โครงการฟรี\",\r\n  event_id: \"Event ID\",\r\n  html_link: \"htmlLink\",\r\n  ical_uid: \"iCalUID\",\r\n  log: \"Log\",\r\n  doc_calendar: \"Doc Calendar\",\r\n  doc_event_id: \"Doc Event ID\",\r\n  doc_html_link: \"Doc htmlLink\",\r\n  doc_ical_uid: \"Doc iCalUID\",\r\n  line_note: \"line\",\r\n  line_doctor_note: \"line หมอ\",\r\n  ivr: \"IVR\",\r\n  transfer_to: \"TRANSFER_TO\",\r\n  status_call: \"status_call\",\r\n  created_at: \"created_at\",\r\n  updated_at: \"updated_at\",\r\n};\r\n// Reverse mapping สำหรับแปลงกลับจากภาษาไทยเป็นภาษาอังกฤษ\r\nconst reverseColumnMapping: Record<string, string> = Object.entries(\r\n  columnMapping\r\n).reduce((acc, [eng, thai]) => {\r\n  acc[thai] = eng;\r\n  return acc;\r\n}, {} as Record<string, string>);\r\nexport async function GET(request: NextRequest) {\r\n  let client;\r\n  try {\r\n    // ใช้ client แทน pool.query โดยตรง เพื่อควบคุม timeout ได้ดีขึ้น\r\n    client = await pool.connect();\r\n    // ดึงข้อมูลทั้งหมดจากตาราง bjh_all_leads ใน schema BJH-Server\r\n    const result = await client.query(\r\n      'SELECT *, id_all AS id FROM \"BJH-Server\".bjh_master_customers ORDER BY id_all DESC'\r\n    );\r\n    const customers = result.rows;\r\n    // แปลงชื่อคอลัมน์เป็นภาษาไทย\r\n    const thaiHeaders = result.fields.map(\r\n      (field) => columnMapping[field.name] || field.name\r\n    );\r\n    // แปลงข้อมูลให้อยู่ในรูปแบบ { columns: [], data: [] } เหมือน Railway API\r\n    const formattedData = customers.map((row) => {\r\n      const rowObj: Record<string, any> = {};\r\n      result.fields.forEach((field, index) => {\r\n        const thaiColumnName = thaiHeaders[index];\r\n        rowObj[thaiColumnName] = row[field.name];\r\n      });\r\n      return rowObj;\r\n    });\r\n    return NextResponse.json({\r\n      success: true,\r\n      columns: thaiHeaders,\r\n      data: formattedData,\r\n      totalRecords: customers.length,\r\n      source: `${process.env.DB_HOST || \"n8n.bjhbangkok.com\"}:${\r\n        process.env.DB_PORT || \"5432\"\r\n      }`,\r\n    });\r\n  } catch (error: any) {\r\n    console.error(\"Database error:\", error);\r\n    console.error(\"DB_HOST:\", process.env.DB_HOST || \"192.168.1.19\");\r\n    console.error(\"Error code:\", error.code);\r\n    // ให้ข้อความที่ชัดเจนกว่า\r\n    let errorMessage = \"Failed to connect to database\";\r\n    if (error.code === \"ETIMEDOUT\" || error.message.includes(\"timeout\")) {\r\n      errorMessage =\r\n        \"Database connection timeout. กรุณาตรวจสอบ DB_HOST environment variable หรือ migrate ไปยัง Supabase\";\r\n    } else if (error.code === \"ENOTFOUND\") {\r\n      errorMessage =\r\n        \"Database host not found. กรุณาตรวจสอบ DB_HOST environment variable\";\r\n    }\r\n    return NextResponse.json(\r\n      {\r\n        success: false,\r\n        error: errorMessage,\r\n        details: error.message,\r\n        code: error.code,\r\n        host: process.env.DB_HOST || \"192.168.1.19\",\r\n      },\r\n      { status: 500 }\r\n    );\r\n  } finally {\r\n    // Release client กลับไปยัง pool\r\n    if (client) {\r\n      client.release();\r\n    }\r\n  }\r\n}\r\nexport async function POST(request: NextRequest) {\r\n  try {\r\n    const body = await request.json();\r\n    const { action, data } = body;\r\n    if (action === \"update\") {\r\n      // อัพเดทข้อมูลลูกค้า\r\n      const { id, ...updateData } = data;\r\n      // แปลงชื่อคอลัมน์จากภาษาไทยเป็นภาษาอังกฤษ\r\n      const englishData: Record<string, any> = {};\r\n      Object.entries(updateData).forEach(([thaiKey, value]) => {\r\n        const englishKey = reverseColumnMapping[thaiKey] || thaiKey;\r\n        // กรองฟิลด์ที่ไม่ควรอัปเดต\r\n        if (\r\n          englishKey !== \"id\" &&\r\n          englishKey !== \"created_at\" &&\r\n          englishKey !== \"updated_at\"\r\n        ) {\r\n          englishData[englishKey] = value;\r\n        }\r\n      });\r\n      // สร้าง SQL query สำหรับ update\r\n      const fields = Object.keys(englishData);\r\n      const values = Object.values(englishData);\r\n      const setClause = fields\r\n        .map((field, index) => `${field} = $${index + 1}`)\r\n        .join(\", \");\r\n      const primaryKeyColumn = \"id_all\";\r\n      const query = `UPDATE \"BJH-Server\".bjh_master_customers SET ${setClause} WHERE ${primaryKeyColumn} = $${\r\n        fields.length + 1\r\n      } RETURNING *`;\r\n      const result = await pool.query(query, [...values, id]);\r\n      return NextResponse.json({\r\n        success: true,\r\n        message: \"Customer updated successfully\",\r\n        data: result.rows[0],\r\n      });\r\n    } else if (action === \"create\") {\r\n      // สร้างลูกค้าใหม่\r\n      try {\r\n        // แปลงชื่อคอลัมน์จากภาษาไทยเป็นภาษาอังกฤษ\r\n        const englishData: Record<string, any> = {};\r\n        Object.entries(data).forEach(([thaiKey, value]) => {\r\n          const englishKey = reverseColumnMapping[thaiKey] || thaiKey;\r\n          // กรอง id, created_at, updated_at ออก เพื่อให้ database สร้างให้เอง\r\n          if (\r\n            englishKey !== \"id\" &&\r\n            englishKey !== \"created_at\" &&\r\n            englishKey !== \"updated_at\" &&\r\n            value !== \"\" &&\r\n            value !== null &&\r\n            value !== undefined\r\n          ) {\r\n            englishData[englishKey] = value;\r\n          }\r\n        });\r\n\r\n        // If no fields to insert, return error\r\n        if (Object.keys(englishData).length === 0) {\r\n          return NextResponse.json(\r\n            {\r\n              success: false,\r\n              error: \"ไม่มีข้อมูลที่จะเพิ่ม กรุณากรอกข้อมูลอย่างน้อย 1 ฟิลด์\",\r\n            },\r\n            { status: 400 }\r\n          );\r\n        }\r\n\r\n        const fields = Object.keys(englishData);\r\n        const values = Object.values(englishData);\r\n        const placeholders = fields\r\n          .map((_, index) => `$${index + 1}`)\r\n          .join(\", \");\r\n        const query = `INSERT INTO \"BJH-Server\".bjh_master_customers (${fields.join(\r\n          \", \"\r\n        )}) VALUES (${placeholders}) RETURNING *`;\r\n\r\n        console.log(\"Inserting with fields:\", fields);\r\n        console.log(\"Values:\", values);\r\n\r\n        const result = await pool.query(query, values);\r\n        return NextResponse.json({\r\n          success: true,\r\n          message: \"Customer created successfully\",\r\n          data: result.rows[0],\r\n        });\r\n      } catch (insertError: any) {\r\n        console.error(\"Insert error:\", insertError);\r\n\r\n        // Check if it's a duplicate key error\r\n        if (insertError.code === \"23505\") {\r\n          return NextResponse.json(\r\n            {\r\n              success: false,\r\n              error: \"ข้อมูลซ้ำ กรุณาตรวจสอบข้อมูลก่อนส่ง\",\r\n              code: \"DUPLICATE_ENTRY\",\r\n              details: insertError.message,\r\n            },\r\n            { status: 409 }\r\n          );\r\n        }\r\n\r\n        throw insertError;\r\n      }\r\n    } else if (action === \"delete\") {\r\n      // ลบข้อมูลลูกค้า\r\n      const { id } = data;\r\n      await pool.query('DELETE FROM \"BJH-Server\".bjh_master_customers WHERE id_all = $1', [\r\n        id,\r\n      ]);\r\n      return NextResponse.json({\r\n        success: true,\r\n        message: \"Customer deleted successfully\",\r\n      });\r\n    } else if (action === \"deleteMultiple\") {\r\n      // ลบข้อมูลลูกค้าหลายรายการพร้อมกัน\r\n      const { ids } = data;\r\n\r\n      if (!Array.isArray(ids) || ids.length === 0) {\r\n        return NextResponse.json(\r\n          { success: false, error: \"กรุณาระบุ ID ที่ต้องการลบ\" },\r\n          { status: 400 }\r\n        );\r\n      }\r\n\r\n      // สร้าง placeholders สำหรับ SQL query ($1, $2, $3, ...)\r\n      const placeholders = ids.map((_, index) => `$${index + 1}`).join(\", \");\r\n      const query = `DELETE FROM \"BJH-Server\".bjh_master_customers WHERE id_all IN (${placeholders}) RETURNING id_all AS id`;\r\n\r\n      const result = await pool.query(query, ids);\r\n\r\n      return NextResponse.json({\r\n        success: true,\r\n        message: `ลบข้อมูลสำเร็จ ${result.rowCount} รายการ`,\r\n        deletedCount: result.rowCount,\r\n        deletedIds: result.rows.map((row) => row.id),\r\n      });\r\n    }\r\n    return NextResponse.json(\r\n      { success: false, error: \"Invalid action\" },\r\n      { status: 400 }\r\n    );\r\n  } catch (error: any) {\r\n    console.error(\"Database error:\", error);\r\n    return NextResponse.json(\r\n      {\r\n        success: false,\r\n        error: error.message || \"Failed to process request\",\r\n        details: error.stack,\r\n      },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n"],"names":[],"mappings":"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"}}]
}