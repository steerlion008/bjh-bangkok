{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nut_z/OneDrive/%E0%B9%80%E0%B8%94%E0%B8%AA%E0%B8%81%E0%B9%8C%E0%B8%97%E0%B9%87%E0%B8%AD%E0%B8%9B/new-bjh/bjh-bangkok/src/components/Home/Video/index.tsx"],"sourcesContent":["\"use client\";\r\nimport ScaledCanvas from \"../../ScaledCanvas\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\ninterface VideoProps {\r\n  setIsLoading?: (val: boolean) => void; // optional เผื่อบางหน้ายังไม่ได้ส่งมา\r\n}\r\nexport default function Video({ setIsLoading }: VideoProps) {\r\n  const [ready, setReady] = useState(false);\r\n  const videoRef = useRef<HTMLVideoElement | null>(null);\r\n  // เล่น/หยุดตามการมองเห็น\r\n  useEffect(() => {\r\n    const el = videoRef.current;\r\n    if (!el) return;\r\n    const io = new IntersectionObserver(\r\n      ([entry]) => {\r\n        if (!entry) return;\r\n        if (entry.isIntersecting) el.play().catch(() => {});\r\n        else el.pause();\r\n      },\r\n      { threshold: 0.25 }\r\n    );\r\n    io.observe(el);\r\n    return () => io.disconnect();\r\n  }, []);\r\n  useEffect(() => {\r\n    if (ready && setIsLoading) setIsLoading(false);\r\n  }, [ready, setIsLoading]);\r\n  return (\r\n    <ScaledCanvas>\r\n      <section\r\n        id=\"main-banner\"\r\n        className=\"Video-video mt-5\"\r\n        aria-label=\"Company Video video\"\r\n      >\r\n        <video\r\n          ref={videoRef}\r\n          className=\"bg-media\"\r\n          autoPlay\r\n          muted\r\n          loop\r\n          playsInline\r\n          preload=\"metadata\"\r\n          // poster=\"/images/video/fixed-banner-poster.jpg\"\r\n          onLoadedData={() => setReady(true)}\r\n          onPlay={() => setReady(true)}\r\n          onError={() => setReady(true)}\r\n          aria-hidden=\"true\"\r\n          tabIndex={-1}\r\n          disablePictureInPicture\r\n        >\r\n          {/* <source src=\"/images/video/tpp-thanakon.webm\" type=\"video/webm\" /> */}\r\n          <source src=\"/images/video/BJH_BANGKOK.mp4\" type=\"video/mp4\" />\r\n        </video>\r\n        {/* <img\r\n          className=\"bg-fallback\"\r\n          src=\"/images/video/fixed-banner-poster.jpg\"\r\n          alt=\"\"\r\n        /> */}\r\n        {/* <div className=\"relative z-[1] w-full max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-24 text-white\"></div> */}\r\n      </section>\r\n    </ScaledCanvas>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AAFA;;;;AAMe,SAAS,MAAM,EAAE,YAAY,EAAc;IACxD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,WAAW,IAAA,+MAAM,EAA0B;IACjD,yBAAyB;IACzB,IAAA,kNAAS,EAAC;QACR,MAAM,KAAK,SAAS,OAAO;QAC3B,IAAI,CAAC,IAAI;QACT,MAAM,KAAK,IAAI,qBACb,CAAC,CAAC,MAAM;YACN,IAAI,CAAC,OAAO;YACZ,IAAI,MAAM,cAAc,EAAE,GAAG,IAAI,GAAG,KAAK,CAAC,KAAO;iBAC5C,GAAG,KAAK;QACf,GACA;YAAE,WAAW;QAAK;QAEpB,GAAG,OAAO,CAAC;QACX,OAAO,IAAM,GAAG,UAAU;IAC5B,GAAG,EAAE;IACL,IAAA,kNAAS,EAAC;QACR,IAAI,SAAS,cAAc,aAAa;IAC1C,GAAG;QAAC;QAAO;KAAa;IACxB,qBACE,8OAAC,6IAAY;kBACX,cAAA,8OAAC;YACC,IAAG;YACH,WAAU;YACV,cAAW;sBAEX,cAAA,8OAAC;gBACC,KAAK;gBACL,WAAU;gBACV,QAAQ;gBACR,KAAK;gBACL,IAAI;gBACJ,WAAW;gBACX,SAAQ;gBACR,iDAAiD;gBACjD,cAAc,IAAM,SAAS;gBAC7B,QAAQ,IAAM,SAAS;gBACvB,SAAS,IAAM,SAAS;gBACxB,eAAY;gBACZ,UAAU,CAAC;gBACX,uBAAuB;0BAGvB,cAAA,8OAAC;oBAAO,KAAI;oBAAgC,MAAK;;;;;;;;;;;;;;;;;;;;;AAW3D"}}]
}