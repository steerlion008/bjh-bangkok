{"version":3,"sources":["../../../../src/app/_components/Reveal.tsx"],"sourcesContent":["\"use client\";\r\nimport React, {\r\n  useEffect,\r\n  useRef,\r\n  useState,\r\n  type ElementType,\r\n  type CSSProperties,\r\n} from \"react\";\r\ntype BaseProps = {\r\n  children?: React.ReactNode;\r\n  delay?: number; // ms\r\n  y?: number; // px slide up\r\n  once?: boolean; // show once\r\n  className?: string;\r\n  threshold?: number; // 0..1\r\n  style?: CSSProperties;\r\n};\r\ntype RevealProps<T extends ElementType = \"div\"> = BaseProps &\r\n  Omit<React.ComponentPropsWithoutRef<T>, keyof BaseProps | \"as\" | \"ref\"> & {\r\n    as?: T;\r\n  };\r\nexport default function Reveal<T extends ElementType = \"div\">(\r\n  props: RevealProps<T>\r\n) {\r\n  const {\r\n    as,\r\n    children,\r\n    delay = 0,\r\n    y = 16,\r\n    once = true,\r\n    className,\r\n    threshold = 0.2,\r\n    style,\r\n    ...rest\r\n  } = props;\r\n  const Tag = (as ?? \"div\") as ElementType;\r\n  const ref = useRef<HTMLElement | null>(null);\r\n  const [shown, setShown] = useState(false);\r\n  useEffect(() => {\r\n    const el = ref.current;\r\n    if (!el) return;\r\n    const prefersReduced =\r\n      typeof window !== \"undefined\" &&\r\n      window.matchMedia?.(\"(prefers-reduced-motion: reduce)\").matches;\r\n    if (prefersReduced) {\r\n      setShown(true);\r\n      return;\r\n    }\r\n    const io = new IntersectionObserver(\r\n      (entries) => {\r\n        for (const entry of entries) {\r\n          if (entry.isIntersecting) {\r\n            setShown(true);\r\n            if (once) io.disconnect();\r\n          } else if (!once) {\r\n            setShown(false);\r\n          }\r\n        }\r\n      },\r\n      { root: null, rootMargin: \"0px 0px -10% 0px\", threshold }\r\n    );\r\n    io.observe(el);\r\n    return () => {\r\n      io.disconnect();\r\n    };\r\n  }, [once, threshold]);\r\n  const mergedStyle: CSSProperties = {\r\n    ...style,\r\n    transitionDelay: shown ? `${delay}ms` : undefined,\r\n    transform: shown ? \"translateY(0)\" : `translateY(${y}px)`,\r\n  };\r\n  const base =\r\n    \"will-change-[opacity,transform] transform-gpu motion-safe:transition motion-safe:duration-700 motion-safe:ease-[cubic-bezier(0.22,1,0.36,1)]\";\r\n  const hidden = \"motion-safe:opacity-0\";\r\n  const visible = \"opacity-100\";\r\n  return (\r\n    <Tag\r\n      {...(rest as any)}\r\n      ref={ref as unknown as React.Ref<any>}\r\n      style={mergedStyle}\r\n      className={`${base} ${shown ? visible : hidden} ${className ?? \"\"}`}>\r\n      {children}\r\n    </Tag>\r\n  );\r\n}\r"],"names":[],"mappings":"0DACA,EAAA,EAAA,CAAA,CAAA,QAoBe,SAAS,EACtB,CAAqB,EAErB,GAAM,IACJ,CAAE,UACF,CAAQ,OACR,EAAQ,CAAC,GACT,EAAI,EAAE,MACN,GAAO,CAAI,WACX,CAAS,WACT,EAAY,EAAG,OACf,CAAK,CACL,GAAG,EACJ,CAAG,EAEE,EAAM,CAAA,EAAA,EAAA,MAAA,AAAM,EAAqB,MACjC,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACnC,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,IAAM,EAAK,EAAI,OAAO,CACtB,GAAI,CAAC,EAAI,OAQT,IAAM,EAAK,IAAI,qBACb,AAAC,IACC,IAAK,IAAM,KAAS,EACd,EAAM,IADiB,UACH,EAAE,AACxB,GAAS,GACL,GAAM,EAAG,UAAU,IACd,AAAC,GACV,EAAS,CADO,EAItB,EACA,CAAE,KAAM,KAAM,WAAY,6BAAoB,CAAU,GAG1D,OADA,EAAG,OAAO,CAAC,GACJ,KACL,EAAG,UAAU,EACf,CACF,EAAG,CAAC,EAAM,EAAU,EACpB,IAAM,EAA6B,CACjC,GAAG,CAAK,CACR,gBAAiB,EAAQ,CAAA,EAAG,EAAM,EAAE,CAAC,MAAG,EACxC,UAAW,EAAQ,gBAAkB,CAAC,WAAW,EAAE,EAAE,GAAG,CAAC,AAC3D,EAKA,MACE,CAAA,EAAA,EAAA,GAAA,EAzCW,AAyCV,GAzCgB,MAyChB,CACE,GAAI,CAAI,CACT,IAAK,EACL,MAAO,EACP,UAAW,GAAG,KAAK,CAAC,uIAAE,EANV,MAMkB,QAPnB,EAO6B,OAAO,CAAC,iBAAE,GAAa,IAAI,UAClE,GAGP"}