module.exports=[709935,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(346271);function e(){let[a,e]=(0,c.useState)([]),[f,g]=(0,c.useState)(!0),[h,i]=(0,c.useState)(null),[j,k]=(0,c.useState)(null);(0,c.useEffect)(()=>{l()},[]);let l=async()=>{try{g(!0),i(null);let a=await fetch("/api/facebook-ads-insights?level=ad&date_preset=today&fields=ad_id,ad_name,adset_id,adset_name,campaign_id,campaign_name,spend,impressions,clicks,ctr,cpc,cpm,actions&action_breakdowns=action_type"),b=await a.json();if(!a.ok||!b.success)throw Error(b.error||"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸”à¸¶à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹„à¸”à¹‰");e(b.data)}catch(a){console.error("Error fetching insights:",a),i(a instanceof Error?a.message:"à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”")}finally{g(!1)}},m=a=>{let b="string"==typeof a?parseFloat(a):a;return isNaN(b)?"0":b.toLocaleString("th-TH",{maximumFractionDigits:2})},n=a=>{let b="string"==typeof a?parseFloat(a):a;return isNaN(b)?"à¸¿0":`à¸¿${b.toLocaleString("th-TH",{minimumFractionDigits:2,maximumFractionDigits:2})}`};return f?(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"inline-block animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600 mb-4"}),(0,b.jsx)("p",{className:"text-xl text-gray-700",children:"à¸à¸³à¸¥à¸±à¸‡à¹‚à¸«à¸¥à¸”à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ Facebook Ads..."})]})}):h?(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center p-4",children:(0,b.jsxs)(d.motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full",children:[(0,b.jsx)("div",{className:"text-red-500 text-6xl mb-4 text-center",children:"âš ï¸"}),(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4 text-center",children:"à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”"}),(0,b.jsx)("p",{className:"text-gray-600 mb-6 text-center",children:h}),(0,b.jsx)("button",{onClick:l,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors",children:"à¸¥à¸­à¸‡à¸­à¸µà¸à¸„à¸£à¸±à¹‰à¸‡"})]})}):(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-6",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[(0,b.jsx)("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:"ðŸ“Š Facebook Ads Insights - à¸§à¸±à¸™à¸™à¸µà¹‰"}),(0,b.jsx)("p",{className:"text-gray-600",children:"à¸£à¸²à¸¢à¸¥à¸°à¹€à¸­à¸µà¸¢à¸”à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹‚à¸†à¸©à¸“à¸²à¹à¸šà¸šà¸¥à¸°à¹€à¸­à¸µà¸¢à¸”"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,b.jsx)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl shadow-lg p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-500 text-sm mb-1",children:"à¸„à¹ˆà¸²à¹ƒà¸Šà¹‰à¸ˆà¹ˆà¸²à¸¢à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:n(a.reduce((a,b)=>a+parseFloat(b.spend||"0"),0))})]}),(0,b.jsx)("div",{className:"bg-blue-100 rounded-full p-4",children:(0,b.jsx)("span",{className:"text-3xl",children:"ðŸ’°"})})]})}),(0,b.jsx)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-2xl shadow-lg p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-500 text-sm mb-1",children:"à¸à¸²à¸£à¹à¸ªà¸”à¸‡à¸œà¸¥à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-green-600",children:m(a.reduce((a,b)=>a+parseInt(b.impressions||"0"),0))})]}),(0,b.jsx)("div",{className:"bg-green-100 rounded-full p-4",children:(0,b.jsx)("span",{className:"text-3xl",children:"ðŸ‘ï¸"})})]})}),(0,b.jsx)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-2xl shadow-lg p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-500 text-sm mb-1",children:"à¸„à¸¥à¸´à¸à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-purple-600",children:m(a.reduce((a,b)=>a+parseInt(b.clicks||"0"),0))})]}),(0,b.jsx)("div",{className:"bg-purple-100 rounded-full p-4",children:(0,b.jsx)("span",{className:"text-3xl",children:"ðŸ–±ï¸"})})]})})]}),(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[(0,b.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,b.jsxs)("h2",{className:"text-2xl font-bold text-gray-800",children:["à¸£à¸²à¸¢à¸à¸²à¸£à¹‚à¸†à¸©à¸“à¸² (",a.length,")"]})}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-gray-50",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"à¸Šà¸·à¹ˆà¸­à¹‚à¸†à¸©à¸“à¸²"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Campaign"}),(0,b.jsx)("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"à¸„à¹ˆà¸²à¹ƒà¸Šà¹‰à¸ˆà¹ˆà¸²à¸¢"}),(0,b.jsx)("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"à¹à¸ªà¸”à¸‡à¸œà¸¥"}),(0,b.jsx)("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"à¸„à¸¥à¸´à¸"}),(0,b.jsx)("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"CTR"}),(0,b.jsx)("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"CPC"}),(0,b.jsx)("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"}),(0,b.jsx)("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"à¸£à¸²à¸¢à¸¥à¸°à¹€à¸­à¸µà¸¢à¸”"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-200",children:a.map((a,c)=>(0,b.jsxs)(d.motion.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*c},className:"hover:bg-blue-50 transition-colors",children:[(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-gray-800",children:a.ad_name}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:a.adset_name})]})}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:a.campaign_name}),(0,b.jsx)("td",{className:"px-6 py-4 text-right font-semibold text-blue-600",children:n(a.spend)}),(0,b.jsx)("td",{className:"px-6 py-4 text-right text-gray-700",children:m(a.impressions)}),(0,b.jsx)("td",{className:"px-6 py-4 text-right text-gray-700",children:m(a.clicks)}),(0,b.jsxs)("td",{className:"px-6 py-4 text-right text-gray-700",children:[m(a.ctr),"%"]}),(0,b.jsx)("td",{className:"px-6 py-4 text-right text-gray-700",children:n(a.cpc)}),(0,b.jsx)("td",{className:"px-6 py-4 text-right",children:(0,b.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:a.actions?.length||0})}),(0,b.jsx)("td",{className:"px-6 py-4 text-center",children:(0,b.jsx)("button",{onClick:()=>k(a),className:"text-blue-600 hover:text-blue-800 font-medium text-sm",children:"à¸”à¸¹à¹€à¸žà¸´à¹ˆà¸¡à¹€à¸•à¸´à¸¡"})})]},a.ad_id))})]})})]}),j&&(0,b.jsx)(d.motion.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:()=>k(null),children:(0,b.jsxs)(d.motion.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[80vh] overflow-y-auto",onClick:a=>a.stopPropagation(),children:[(0,b.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:j.ad_name}),(0,b.jsxs)("p",{className:"text-sm text-gray-500",children:["Ad ID: ",j.ad_id]})]}),(0,b.jsx)("button",{onClick:()=>k(null),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"Ã—"})]})}),(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,b.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Campaign"}),(0,b.jsx)("p",{className:"font-medium text-gray-800",children:j.campaign_name})]}),(0,b.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Ad Set"}),(0,b.jsx)("p",{className:"font-medium text-gray-800",children:j.adset_name})]}),(0,b.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"à¸„à¹ˆà¸²à¹ƒà¸Šà¹‰à¸ˆà¹ˆà¸²à¸¢"}),(0,b.jsx)("p",{className:"font-bold text-blue-600 text-lg",children:n(j.spend)})]}),(0,b.jsxs)("div",{className:"bg-green-50 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"à¸à¸²à¸£à¹à¸ªà¸”à¸‡à¸œà¸¥"}),(0,b.jsx)("p",{className:"font-bold text-green-600 text-lg",children:m(j.impressions)})]}),(0,b.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"à¸„à¸¥à¸´à¸"}),(0,b.jsx)("p",{className:"font-bold text-purple-600 text-lg",children:m(j.clicks)})]}),(0,b.jsxs)("div",{className:"bg-orange-50 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"CTR"}),(0,b.jsxs)("p",{className:"font-bold text-orange-600 text-lg",children:[m(j.ctr),"%"]})]})]}),j.actions&&j.actions.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-lg font-bold text-gray-800 mb-4",children:"Actions"}),(0,b.jsx)("div",{className:"space-y-2",children:j.actions.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 rounded-lg p-3",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:a.action_type}),(0,b.jsx)("span",{className:"font-semibold text-gray-800",children:m(a.value)})]},c))})]}),(!j.actions||0===j.actions.length)&&(0,b.jsx)("div",{className:"text-center py-8",children:(0,b.jsx)("p",{className:"text-gray-400",children:"à¹„à¸¡à¹ˆà¸¡à¸µà¸‚à¹‰à¸­à¸¡à¸¹à¸¥ Actions"})})]})]})})]})})}a.s(["default",()=>e])}];

//# sourceMappingURL=src_app_facebook-ads-insights_page_tsx_223fb8a2._.js.map