{"version":3,"sources":["../../../../src/app/facebook-ads-manager/page.tsx","../../../../node_modules/react-facebook/src/constants/LoginStatus.ts","../../../../node_modules/react-facebook/src/errors/FBError.ts","../../../../node_modules/react-facebook/src/utils/Facebook.ts","../../../../node_modules/react-facebook/src/components/FacebookContext.tsx","../../../../node_modules/react-facebook/src/utils/FacebookPixel.ts","../../../../node_modules/react-facebook/src/components/FacebookPixelProvider.tsx","../../../../node_modules/react-facebook/src/components/FacebookProvider.tsx","../../../../node_modules/react-facebook/src/hooks/useFacebook.ts","../../../../node_modules/react-facebook/src/components/Parser.tsx","../../../../node_modules/react-facebook/src/utils/getCurrentHref.ts","../../../../node_modules/react-facebook/src/components/Like.tsx","../../../../node_modules/react-facebook/src/utils/clearUndefinedProperties.ts","../../../../node_modules/react-facebook/src/hooks/useShare.ts","../../../../node_modules/react-facebook/src/components/ShareButton.tsx","../../../../node_modules/react-facebook/src/components/Page.tsx","../../../../node_modules/react-facebook/src/hooks/useLogin.ts","../../../../node_modules/react-facebook/src/hooks/useSubscribe.ts","../../../../node_modules/react-facebook/src/hooks/useLoginStatus.ts","../../../../node_modules/react-facebook/src/hooks/useProfile.ts","../../../../node_modules/react-facebook/src/components/Login.tsx","../../../../node_modules/react-facebook/src/components/EmbeddedPost.tsx","../../../../node_modules/react-facebook/src/components/EmbeddedVideo.tsx","../../../../node_modules/react-facebook/src/components/Comments.tsx","../../../../node_modules/react-facebook/src/components/CommentsCount.tsx","../../../../node_modules/react-facebook/src/components/Share.tsx","../../../../node_modules/react-facebook/src/constants/LikeSize.ts","../../../../node_modules/react-facebook/src/constants/LikeLayout.ts","../../../../node_modules/react-facebook/src/constants/ColorScheme.ts","../../../../node_modules/react-facebook/src/constants/LikeAction.ts","../../../../node_modules/react-facebook/src/constants/CommentsOrderBy.ts","../../../../node_modules/react-facebook/src/constants/MessengerSize.ts","../../../../node_modules/react-facebook/src/constants/MessengerColor.ts","../../../../node_modules/react-facebook/src/constants/Fields.ts","../../../../node_modules/react-facebook/src/hooks/useLocale.ts","../../../../node_modules/react-facebook/src/hooks/usePixel.ts","../../../../node_modules/react-facebook/src/hooks/usePageView.ts"],"sourcesContent":["\"use client\";\r\nimport React, { useState, useEffect, useCallback } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { FacebookProvider, EmbeddedVideo, EmbeddedPost } from \"react-facebook\";\r\n// Declare Facebook SDK types\r\ndeclare global {\r\n  interface Window {\r\n    FB: any;\r\n    fbAsyncInit: () => void;\r\n  }\r\n}\r\n// Facebook SDK Initialization\r\nif (typeof window !== \"undefined\") {\r\n  // Load Facebook SDK\r\n  window.fbAsyncInit = function () {\r\n    if (window.FB) {\r\n      window.FB.init({\r\n        xfbml: true,\r\n        version: \"v18.0\",\r\n      });\r\n    }\r\n  };\r\n  // Load SDK script\r\n  if (!document.getElementById(\"facebook-jssdk\")) {\r\n    const script = document.createElement(\"script\");\r\n    script.id = \"facebook-jssdk\";\r\n    script.src = \"https://connect.facebook.net/th_TH/sdk.js\";\r\n    script.async = true;\r\n    script.defer = true;\r\n    script.crossOrigin = \"anonymous\";\r\n    document.head.appendChild(script);\r\n  }\r\n}\r\n// ‡∏õ‡∏¥‡∏î root layout ‡πÅ‡∏•‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏° CSS ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö modal\r\nif (typeof document !== \"undefined\") {\r\n  const style = document.createElement(\"style\");\r\n  style.textContent = `\r\n    header, footer, nav.navbar, .layout-grid > :not(main) {\r\n      display: none !important;\r\n    }\r\n    body {\r\n      padding: 0 !important;\r\n      margin: 0 !important;\r\n      overflow-x: hidden !important;\r\n    }\r\n    main, .layout-grid {\r\n      padding: 0 !important;\r\n      margin: 0 !important;\r\n    }\r\n    /* Mobile Responsive Styles */\r\n    @media (max-width: 640px) {\r\n      .min-h-screen {\r\n        min-height: 100vh !important;\r\n      }\r\n    }\r\n    @media (max-width: 768px) {\r\n      /* Make tables scrollable on mobile */\r\n      .overflow-x-auto {\r\n        overflow-x: auto !important;\r\n        -webkit-overflow-scrolling: touch !important;\r\n      }\r\n    }\r\n    .modal-overlay {\r\n      backdrop-filter: blur(8px);\r\n      animation: fadeIn 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n    }\r\n    .video-modal-container {\r\n      animation: slideUp 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);\r\n    }\r\n    @keyframes fadeIn {\r\n      from { opacity: 0; }\r\n      to { opacity: 1; }\r\n    }\r\n    @keyframes slideUp {\r\n      from { \r\n        opacity: 0;\r\n        transform: translateY(30px) scale(0.95);\r\n      }\r\n      to { \r\n        opacity: 1;\r\n        transform: translateY(0) scale(1);\r\n      }\r\n    }\r\n    @keyframes float {\r\n      0%, 100% { transform: translateY(0px); }\r\n      50% { transform: translateY(-10px); }\r\n    }\r\n    @keyframes shimmer {\r\n      0% { background-position: -1000px 0; }\r\n      100% { background-position: 1000px 0; }\r\n    }\r\n    @keyframes pulse {\r\n      0%, 100% { opacity: 1; }\r\n      50% { opacity: 0.8; }\r\n    }\r\n    @keyframes slideInFromLeft {\r\n      from { \r\n        opacity: 0;\r\n        transform: translateX(-30px);\r\n      }\r\n      to { \r\n        opacity: 1;\r\n        transform: translateX(0);\r\n      }\r\n    }\r\n    @keyframes slideInFromRight {\r\n      from { \r\n        opacity: 0;\r\n        transform: translateX(30px);\r\n      }\r\n      to { \r\n        opacity: 1;\r\n        transform: translateX(0);\r\n      }\r\n    }\r\n    .animate-slide-in-left {\r\n      animation: slideInFromLeft 0.5s ease-out;\r\n    }\r\n    .animate-slide-in-right {\r\n      animation: slideInFromRight 0.5s ease-out;\r\n    }\r\n    .glass-effect {\r\n      background: rgba(255, 255, 255, 0.9);\r\n      backdrop-filter: blur(10px);\r\n      border: 1px solid rgba(255, 255, 255, 0.2);\r\n    }\r\n    .gradient-border {\r\n      position: relative;\r\n      background: linear-gradient(white, white) padding-box,\r\n                  linear-gradient(135deg, #667eea 0%, #764ba2 100%) border-box;\r\n      border: 2px solid transparent;\r\n    }\r\n  `;\r\n  document.head.appendChild(style);\r\n}\r\ninterface Action {\r\n  action_type: string;\r\n  value: string;\r\n}\r\ninterface AdCreative {\r\n  id: string;\r\n  thumbnail_url?: string;\r\n  image_url?: string;\r\n  video_id?: string;\r\n  video_source?: string; // Direct video URL from Facebook API\r\n  object_story_spec?: any;\r\n  effective_object_story_id?: string;\r\n}\r\ninterface AdInsight {\r\n  ad_id: string;\r\n  ad_name: string;\r\n  adset_id: string;\r\n  adset_name: string;\r\n  campaign_id: string;\r\n  campaign_name: string;\r\n  spend: string;\r\n  impressions: string;\r\n  clicks: string;\r\n  ctr: string;\r\n  cpc: string;\r\n  cpm: string;\r\n  actions?: Action[];\r\n  conversions?: Action[];\r\n  date_start: string;\r\n  date_stop: string;\r\n  reach?: string;\r\n  frequency?: string;\r\n  cost_per_action_type?: { action_type: string; value: string }[];\r\n  creative?: AdCreative;\r\n}\r\ninterface ApiResponse {\r\n  success: boolean;\r\n  data: AdInsight[];\r\n  error?: string;\r\n  details?: any;\r\n}\r\ntype ViewMode = \"campaigns\" | \"adsets\" | \"ads\";\r\nexport default function FacebookAdsManagerPage() {\r\n  const router = useRouter();\r\n  const [insights, setInsights] = useState<AdInsight[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [viewMode, setViewMode] = useState<ViewMode>(\"ads\");\r\n  const [dateRange, setDateRange] = useState(\"today\");\r\n  const [customDateStart, setCustomDateStart] = useState(\"\");\r\n  const [customDateEnd, setCustomDateEnd] = useState(\"\");\r\n  const [showDatePicker, setShowDatePicker] = useState(false);\r\n  // Page selection for different ad portfolios (Facebook, TikTok, etc.)\r\n  const [selectedPage, setSelectedPage] = useState<1 | 2 | 3 | 4>(1);\r\n  const [googleSheetsData, setGoogleSheetsData] = useState<number>(0);\r\n  const [googleSheetsLoading, setGoogleSheetsLoading] = useState(false);\r\n  const [googleAdsData, setGoogleAdsData] = useState<number>(0);\r\n  const [googleAdsLoading, setGoogleAdsLoading] = useState(false);\r\n  const [facebookBalance, setFacebookBalance] = useState<number>(0);\r\n  const [facebookBalanceLoading, setFacebookBalanceLoading] = useState(false);\r\n  const [phoneCountData, setPhoneCountData] = useState<{\r\n    total: number;\r\n    datesWithData: number;\r\n  }>({ total: 0, datesWithData: 0 });\r\n  const [phoneCountLoading, setPhoneCountLoading] = useState(false);\r\n  const [selectedPlatform, setSelectedPlatform] = useState<\r\n    \"facebook\" | \"tiktok\" | \"googlead\"\r\n  >(\"facebook\");\r\n  const [adCreatives, setAdCreatives] = useState<Map<string, AdCreative>>(\r\n    new Map()\r\n  );\r\n  const [creativesLoading, setCreativesLoading] = useState(false);\r\n  const [selectedAdForPreview, setSelectedAdForPreview] =\r\n    useState<AdInsight | null>(null);\r\n  const [showVideoModal, setShowVideoModal] = useState(false);\r\n  const [topAdsSortBy, setTopAdsSortBy] = useState<\r\n    \"leads\" | \"cost\" | \"phone\" | \"thruplay\"\r\n  >(\"leads\");\r\n  const [dailySummaryData, setDailySummaryData] = useState<AdInsight[]>([]);\r\n  const [dailySummaryLoading, setDailySummaryLoading] = useState(false);\r\n  const [phoneLeadsData, setPhoneLeadsData] = useState<{\r\n    [date: string]: number;\r\n  }>({});\r\n  const [phoneLeadsLoading, setPhoneLeadsLoading] = useState(false);\r\n  const [topAdsPhoneLeads, setTopAdsPhoneLeads] = useState<Map<string, number>>(\r\n    new Map()\r\n  );\r\n  const [topAdsPhoneLeadsLoading, setTopAdsPhoneLeadsLoading] = useState(false);\r\n  const [topAdsLimit, setTopAdsLimit] = useState<5 | 10 | 15 | 20 | 30 | \"all\">(\r\n    20\r\n  );\r\n  // State for adset-level insights (for TOP Ad Set table)\r\n  const [adsetInsights, setAdsetInsights] = useState<AdInsight[]>([]);\r\n  const [adsetInsightsLoading, setAdsetInsightsLoading] = useState(false);\r\n  // Campaign type filter for Ad Set table (TOF, MOF, BOF)\r\n  const [adSetCampaignFilter, setAdSetCampaignFilter] = useState<Set<string>>(\r\n    new Set([\"MOF\", \"BOF\"])\r\n  );\r\n  // Separate state for Ad Set table sorting and limit (independent from TOP Ads)\r\n  const [topAdSetSortBy, setTopAdSetSortBy] = useState<\r\n    \"leads\" | \"phone\" | \"thruplay\"\r\n  >(\"leads\");\r\n  const [topAdSetLimit, setTopAdSetLimit] = useState<\r\n    5 | 10 | 15 | 20 | 30 | \"all\"\r\n  >(20);\r\n  // State for Ad Set detail modal\r\n  const [selectedAdSet, setSelectedAdSet] = useState<AdInsight | null>(null);\r\n  const [showAdSetModal, setShowAdSetModal] = useState(false);\r\n\r\n  // ============ Page 2 States ============\r\n  // Interface ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Page 2 (‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö actions ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö messaging)\r\n  interface Page2AdInsight {\r\n    ad_id: string;\r\n    ad_name: string;\r\n    adset_id: string;\r\n    adset_name: string;\r\n    campaign_id: string;\r\n    campaign_name: string;\r\n    spend: string;\r\n    impressions: string;\r\n    clicks: string;\r\n    ctr: string;\r\n    cpc: string;\r\n    cpm: string;\r\n    reach?: string;\r\n    frequency?: string;\r\n    actions?: Array<{\r\n      action_type: string;\r\n      value: string;\r\n    }>;\r\n  }\r\n\r\n  interface Page2Summary {\r\n    totalSpend: number;\r\n    totalImpressions: number;\r\n    totalClicks: number;\r\n    totalAds: number;\r\n    avgCtr: number;\r\n    avgCpc: number;\r\n    avgCpm: number;\r\n    total_messaging_first_reply?: number;\r\n    total_messaging_connection?: number;\r\n  }\r\n\r\n  const [page2Insights, setPage2Insights] = useState<Page2AdInsight[]>([]);\r\n  const [page2Loading, setPage2Loading] = useState(false);\r\n  const [page2Error, setPage2Error] = useState<string | null>(null);\r\n  const [page2Summary, setPage2Summary] = useState<Page2Summary>({\r\n    totalSpend: 0,\r\n    totalImpressions: 0,\r\n    totalClicks: 0,\r\n    totalAds: 0,\r\n    avgCtr: 0,\r\n    avgCpc: 0,\r\n    avgCpm: 0,\r\n    total_messaging_first_reply: 0,\r\n    total_messaging_connection: 0,\r\n  });\r\n  const [page2SortBy, setPage2SortBy] = useState<\"spend\" | \"clicks\" | \"impressions\" | \"ctr\" | \"cpc\" | \"cpm\">(\"spend\");\r\n  const [page2Limit, setPage2Limit] = useState<5 | 10 | 15 | 20 | 30 | \"all\">(20);\r\n\r\n  // Page 2 Balance State\r\n  const [page2Balance, setPage2Balance] = useState<number>(0);\r\n  const [page2BalanceLoading, setPage2BalanceLoading] = useState(false);\r\n  const [page2AmountSpent, setPage2AmountSpent] = useState<number>(0);\r\n  const [page2Currency, setPage2Currency] = useState<string>(\"THB\");\r\n\r\n  // Get ads that belong to a specific adset\r\n  const getAdsByAdSetId = useCallback(\r\n    (adsetId: string) => {\r\n      return insights.filter((ad) => ad.adset_id === adsetId);\r\n    },\r\n    [insights]\r\n  );\r\n\r\n  // Get total phone leads for an adset (sum of all ads in this adset)\r\n  const getPhoneLeadsByAdSetId = useCallback(\r\n    (adsetId: string) => {\r\n      const adsInAdSet = insights.filter((ad) => ad.adset_id === adsetId);\r\n      let totalPhoneLeads = 0;\r\n      adsInAdSet.forEach((ad) => {\r\n        totalPhoneLeads += topAdsPhoneLeads.get(ad.ad_id) || 0;\r\n      });\r\n      return totalPhoneLeads;\r\n    },\r\n    [insights, topAdsPhoneLeads]\r\n  );\r\n\r\n  // Re-parse Facebook SDK when modal opens\r\n  useEffect(() => {\r\n    if (showVideoModal && typeof window !== \"undefined\" && window.FB) {\r\n      // Give time for DOM to update\r\n      setTimeout(() => {\r\n        if (window.FB) {\r\n          window.FB.XFBML.parse();\r\n        }\r\n      }, 100);\r\n    }\r\n  }, [showVideoModal, selectedAdForPreview]);\r\n  const fetchAdCreatives = useCallback(async (adIds: string[]) => {\r\n    setCreativesLoading(true);\r\n    try {\r\n      const creativesMap = new Map<string, AdCreative>();\r\n      for (const adId of adIds) {\r\n        try {\r\n          // ‡πÉ‡∏ä‡πâ Next.js API route ‡πÅ‡∏ó‡∏ô Railway API\r\n          const response = await fetch(\r\n            `/api/facebook-ads-creative?ad_id=${adId}`\r\n          );\r\n          const result = await response.json();\r\n          if (result.success && result.data) {\r\n            creativesMap.set(adId, result.data);\r\n          }\r\n        } catch (error) {\r\n          // Error fetching creative\r\n        }\r\n      }\r\n      // Force re-render by creating a new Map instance\r\n      setAdCreatives(new Map(creativesMap));\r\n    } catch (error) {\r\n      // Fatal error\r\n    } finally {\r\n      setCreativesLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  const fetchTopAdsPhoneLeads = useCallback(\r\n    async (adIds: string[]) => {\r\n      try {\r\n        setTopAdsPhoneLeadsLoading(true);\r\n        const adIdsParam = adIds.join(\",\");\r\n\r\n        // Calculate date range based on current dateRange state\r\n        const today = new Date();\r\n        let startDate: string;\r\n        let endDate: string = today.toISOString().split(\"T\")[0];\r\n\r\n        if (dateRange === \"custom\" && customDateStart && customDateEnd) {\r\n          startDate = customDateStart;\r\n          endDate = customDateEnd;\r\n        } else {\r\n          let start: Date;\r\n          switch (dateRange) {\r\n            case \"today\":\r\n              startDate = endDate;\r\n              break;\r\n            case \"yesterday\":\r\n              const yesterday = new Date(today);\r\n              yesterday.setDate(yesterday.getDate() - 1);\r\n              startDate = endDate = yesterday.toISOString().split(\"T\")[0];\r\n              break;\r\n            case \"last_7d\":\r\n              start = new Date(today);\r\n              start.setDate(start.getDate() - 7);\r\n              startDate = start.toISOString().split(\"T\")[0];\r\n              break;\r\n            case \"last_14d\":\r\n              start = new Date(today);\r\n              start.setDate(start.getDate() - 14);\r\n              startDate = start.toISOString().split(\"T\")[0];\r\n              break;\r\n            case \"last_30d\":\r\n              start = new Date(today);\r\n              start.setDate(start.getDate() - 30);\r\n              startDate = start.toISOString().split(\"T\")[0];\r\n              break;\r\n            case \"this_month\":\r\n              start = new Date(today.getFullYear(), today.getMonth(), 1);\r\n              startDate = start.toISOString().split(\"T\")[0];\r\n              break;\r\n            case \"last_month\":\r\n              start = new Date(today.getFullYear(), today.getMonth() - 1, 1);\r\n              const lastMonthEnd = new Date(\r\n                today.getFullYear(),\r\n                today.getMonth(),\r\n                0\r\n              );\r\n              startDate = start.toISOString().split(\"T\")[0];\r\n              endDate = lastMonthEnd.toISOString().split(\"T\")[0];\r\n              break;\r\n            default:\r\n              startDate = endDate;\r\n          }\r\n        }\r\n\r\n        // ‡πÉ‡∏ä‡πâ API ‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏µ‡πà query ‡∏à‡∏≤‡∏Å SQL ‡πÇ‡∏î‡∏¢‡πÅ‡∏°‡∏û‡∏Å‡∏±‡∏ö fb_ad_id ‡πÅ‡∏•‡∏∞ filter ‡∏ï‡∏≤‡∏°‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà\r\n        const response = await fetch(\r\n          `/api/facebook-ads-phone-leads-sql?ad_ids=${adIdsParam}&date_start=${startDate}&date_end=${endDate}`\r\n        );\r\n        const result = await response.json();\r\n        if (result.success && result.data) {\r\n          const phoneLeadsMap = new Map<string, number>();\r\n          Object.keys(result.data).forEach((adId) => {\r\n            phoneLeadsMap.set(adId, result.data[adId]);\r\n          });\r\n          setTopAdsPhoneLeads(new Map(phoneLeadsMap));\r\n        }\r\n      } catch (error) {\r\n        setTopAdsPhoneLeads(new Map());\r\n      } finally {\r\n        setTopAdsPhoneLeadsLoading(false);\r\n      }\r\n    },\r\n    [dateRange, customDateStart, customDateEnd]\r\n  );\r\n\r\n  const fetchInsights = useCallback(\r\n    async (isBackgroundRefresh = false, retryCount = 0) => {\r\n      try {\r\n        if (!isBackgroundRefresh) {\r\n          setLoading(true);\r\n        }\r\n        setError(null);\r\n        const levelParam =\r\n          viewMode === \"campaigns\"\r\n            ? \"campaign\"\r\n            : viewMode === \"adsets\"\r\n              ? \"adset\"\r\n              : \"ad\";\r\n        let url = `https://believable-ambition-production.up.railway.app/api/facebook-ads-campaigns?level=${levelParam}`;\r\n        const filtering = JSON.stringify([\r\n          {\r\n            field: \"action_type\",\r\n            operator: \"IN\",\r\n            value: [\r\n              \"onsite_conversion.messaging_first_reply\",\r\n              \"onsite_conversion.total_messaging_connection\",\r\n            ],\r\n          },\r\n        ]);\r\n        url += `&filtering=${encodeURIComponent(filtering)}`;\r\n        url += `&action_breakdowns=action_type`;\r\n        if (dateRange === \"custom\" && customDateStart && customDateEnd) {\r\n          const timeRange = JSON.stringify({\r\n            since: customDateStart,\r\n            until: customDateEnd,\r\n          });\r\n          url += `&time_range=${encodeURIComponent(timeRange)}`;\r\n        } else {\r\n          url += `&date_preset=${dateRange}`;\r\n        }\r\n        const response = await fetch(url);\r\n        const result: ApiResponse = await response.json();\r\n\r\n        // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Rate Limit Error (403)\r\n        if (\r\n          response.status === 403 &&\r\n          result.error?.includes(\"Application request limit reached\")\r\n        ) {\r\n          const retryDelay = Math.min(30000 * Math.pow(2, retryCount), 120000); // Exponential backoff: 30s, 60s, 120s\r\n          setError(\r\n            `‚è≥ API Rate Limit - ‡∏à‡∏∞‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÉ‡∏ô‡∏≠‡∏µ‡∏Å ${retryDelay / 1000\r\n            } ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ... (‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà ${retryCount + 1})`\r\n          );\r\n\r\n          // ‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å delay\r\n          setTimeout(() => {\r\n            if (retryCount < 3) {\r\n              // ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 3 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á\r\n              fetchInsights(isBackgroundRefresh, retryCount + 1);\r\n            } else {\r\n              setError(\r\n                \"‚ùå API Rate Limit - ‡πÄ‡∏Å‡∏¥‡∏ô‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á\"\r\n              );\r\n              setLoading(false);\r\n            }\r\n          }, retryDelay);\r\n\r\n          return; // ‡∏´‡∏¢‡∏∏‡∏î‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß\r\n        }\r\n\r\n        if (!response.ok || !result.success) {\r\n          throw new Error(result.error || \"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ\");\r\n        }\r\n        const uniqueData = new Map<string, AdInsight>();\r\n        result.data.forEach((item) => {\r\n          const key = item.ad_id || item.adset_id || item.campaign_id;\r\n          if (uniqueData.has(key)) {\r\n            const existing = uniqueData.get(key)!;\r\n            if (item.actions) {\r\n              if (!existing.actions) existing.actions = [];\r\n              item.actions.forEach((action) => {\r\n                const existingAction = existing.actions!.find(\r\n                  (a) => a.action_type === action.action_type\r\n                );\r\n                if (existingAction) {\r\n                  existingAction.value = String(\r\n                    parseInt(existingAction.value || \"0\") +\r\n                    parseInt(action.value || \"0\")\r\n                  );\r\n                } else {\r\n                  existing.actions!.push({ ...action });\r\n                }\r\n              });\r\n            }\r\n            if (item.conversions) {\r\n              if (!existing.conversions) existing.conversions = [];\r\n              item.conversions.forEach((conversion) => {\r\n                const existingConversion = existing.conversions!.find(\r\n                  (c) => c.action_type === conversion.action_type\r\n                );\r\n                if (existingConversion) {\r\n                  existingConversion.value = String(\r\n                    parseInt(existingConversion.value || \"0\") +\r\n                    parseInt(conversion.value || \"0\")\r\n                  );\r\n                } else {\r\n                  existing.conversions!.push({ ...conversion });\r\n                }\r\n              });\r\n            }\r\n          } else {\r\n            uniqueData.set(key, { ...item });\r\n          }\r\n        });\r\n        const insightsArray = Array.from(uniqueData.values());\r\n        setInsights(insightsArray);\r\n        // Fetch creatives for ALL ads\r\n        const allAdIds = insightsArray\r\n          .filter((item) => item.ad_id)\r\n          .map((item) => item.ad_id);\r\n        if (allAdIds.length > 0) {\r\n          fetchAdCreatives(allAdIds);\r\n          // Fetch phone leads for TOP 10 Ads\r\n          fetchTopAdsPhoneLeads(allAdIds);\r\n        }\r\n      } catch (err) {\r\n        setError(err instanceof Error ? err.message : \"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î\");\r\n      } finally {\r\n        if (!isBackgroundRefresh) {\r\n          setLoading(false);\r\n        }\r\n      }\r\n    },\r\n    [\r\n      dateRange,\r\n      viewMode,\r\n      customDateStart,\r\n      customDateEnd,\r\n      fetchAdCreatives,\r\n      fetchTopAdsPhoneLeads,\r\n    ]\r\n  );\r\n  const fetchGoogleSheetsData = useCallback(async () => {\r\n    try {\r\n      setGoogleSheetsLoading(true);\r\n      let url =\r\n        \"https://believable-ambition-production.up.railway.app/api/google-sheets-data\";\r\n      if (dateRange === \"custom\" && customDateStart && customDateEnd) {\r\n        const timeRange = JSON.stringify({\r\n          since: customDateStart,\r\n          until: customDateEnd,\r\n        });\r\n        url += `?time_range=${encodeURIComponent(timeRange)}`;\r\n      } else {\r\n        url += `?date_preset=${dateRange}`;\r\n      }\r\n      const response = await fetch(url);\r\n      const result = await response.json();\r\n      if (!response.ok || !result.success) {\r\n        setGoogleSheetsData(0);\r\n      } else {\r\n        setGoogleSheetsData(result.total || 0);\r\n      }\r\n    } catch (err) {\r\n      setGoogleSheetsData(0);\r\n    } finally {\r\n      setGoogleSheetsLoading(false);\r\n    }\r\n  }, [dateRange, customDateStart, customDateEnd]);\r\n  const fetchGoogleAdsData = useCallback(async () => {\r\n    try {\r\n      setGoogleAdsLoading(true);\r\n      let url =\r\n        \"https://believable-ambition-production.up.railway.app/api/google-ads\";\r\n      if (dateRange === \"custom\" && customDateStart && customDateEnd) {\r\n        url += `?startDate=${customDateStart}&endDate=${customDateEnd}`;\r\n      } else {\r\n        const today = new Date();\r\n        let startDate = \"\";\r\n        let endDate = today.toISOString().split(\"T\")[0];\r\n        switch (dateRange) {\r\n          case \"today\":\r\n            startDate = endDate;\r\n            break;\r\n          case \"yesterday\":\r\n            const yesterday = new Date(today);\r\n            yesterday.setDate(yesterday.getDate() - 1);\r\n            startDate = endDate = yesterday.toISOString().split(\"T\")[0];\r\n            break;\r\n          case \"last_7d\":\r\n            const last7d = new Date(today);\r\n            last7d.setDate(last7d.getDate() - 7);\r\n            startDate = last7d.toISOString().split(\"T\")[0];\r\n            break;\r\n          case \"last_30d\":\r\n            const last30d = new Date(today);\r\n            last30d.setDate(last30d.getDate() - 30);\r\n            startDate = last30d.toISOString().split(\"T\")[0];\r\n            break;\r\n          case \"this_month\":\r\n            startDate = new Date(today.getFullYear(), today.getMonth(), 1)\r\n              .toISOString()\r\n              .split(\"T\")[0];\r\n            break;\r\n          case \"last_month\":\r\n            const lastMonth = new Date(\r\n              today.getFullYear(),\r\n              today.getMonth() - 1,\r\n              1\r\n            );\r\n            const lastMonthEnd = new Date(\r\n              today.getFullYear(),\r\n              today.getMonth(),\r\n              0\r\n            );\r\n            startDate = lastMonth.toISOString().split(\"T\")[0];\r\n            endDate = lastMonthEnd.toISOString().split(\"T\")[0];\r\n            break;\r\n          default:\r\n            startDate = endDate;\r\n        }\r\n        url += `?startDate=${startDate}&endDate=${endDate}`;\r\n      }\r\n      const response = await fetch(url);\r\n      const result = await response.json();\r\n      if (!response.ok || result.error) {\r\n        setGoogleAdsData(0);\r\n      } else {\r\n        const totalClicks = result.summary?.totalClicks || 0;\r\n        setGoogleAdsData(totalClicks);\r\n      }\r\n    } catch (err) {\r\n      setGoogleAdsData(0);\r\n    } finally {\r\n      setGoogleAdsLoading(false);\r\n    }\r\n  }, [dateRange, customDateStart, customDateEnd]);\r\n  const fetchFacebookBalance = useCallback(async () => {\r\n    try {\r\n      setFacebookBalanceLoading(true);\r\n      const response = await fetch(\"/api/facebook-ads-balance\");\r\n      const result = await response.json();\r\n      if (!response.ok || !result.success) {\r\n        setFacebookBalance(0);\r\n      } else {\r\n        setFacebookBalance(result.data.available_balance || 0);\r\n      }\r\n    } catch (err) {\r\n      setFacebookBalance(0);\r\n    } finally {\r\n      setFacebookBalanceLoading(false);\r\n    }\r\n  }, []);\r\n  const fetchPhoneCount = useCallback(async () => {\r\n    try {\r\n      setPhoneCountLoading(true);\r\n\r\n      // Calculate date range\r\n      const today = new Date();\r\n      let startDate: string;\r\n      let endDate: string = today.toISOString().split(\"T\")[0];\r\n\r\n      if (dateRange === \"custom\" && customDateStart && customDateEnd) {\r\n        startDate = customDateStart;\r\n        endDate = customDateEnd;\r\n      } else {\r\n        let start: Date;\r\n        switch (dateRange) {\r\n          case \"today\":\r\n            startDate = endDate;\r\n            break;\r\n          case \"yesterday\":\r\n            const yesterday = new Date(today);\r\n            yesterday.setDate(yesterday.getDate() - 1);\r\n            startDate = endDate = yesterday.toISOString().split(\"T\")[0];\r\n            break;\r\n          case \"last_7d\":\r\n            start = new Date(today);\r\n            start.setDate(start.getDate() - 7);\r\n            startDate = start.toISOString().split(\"T\")[0];\r\n            break;\r\n          case \"last_14d\":\r\n            start = new Date(today);\r\n            start.setDate(start.getDate() - 14);\r\n            startDate = start.toISOString().split(\"T\")[0];\r\n            break;\r\n          case \"last_30d\":\r\n            start = new Date(today);\r\n            start.setDate(start.getDate() - 30);\r\n            startDate = start.toISOString().split(\"T\")[0];\r\n            break;\r\n          case \"this_month\":\r\n            start = new Date(today.getFullYear(), today.getMonth(), 1);\r\n            startDate = start.toISOString().split(\"T\")[0];\r\n            break;\r\n          case \"last_month\":\r\n            start = new Date(today.getFullYear(), today.getMonth() - 1, 1);\r\n            const lastMonthEnd = new Date(\r\n              today.getFullYear(),\r\n              today.getMonth(),\r\n              0\r\n            );\r\n            startDate = start.toISOString().split(\"T\")[0];\r\n            endDate = lastMonthEnd.toISOString().split(\"T\")[0];\r\n            break;\r\n          default:\r\n            startDate = endDate;\r\n        }\r\n      }\r\n\r\n      // Fetch phone count with date range from Next.js API\r\n      const response = await fetch(`/api/phone-count`);\r\n      const result = await response.json();\r\n\r\n      if (!response.ok || !result.success) {\r\n        setPhoneCountData({ total: 0, datesWithData: 0 });\r\n      } else {\r\n        // Calculate total for date range from result.data { \"2025-11-23\": 3, ... }\r\n        let total = 0;\r\n        let datesCount = 0;\r\n\r\n        // Compare dates as strings (YYYY-MM-DD format)\r\n        Object.keys(result.data || {}).forEach((dateStr) => {\r\n          // dateStr is already in YYYY-MM-DD format\r\n          if (dateStr >= startDate && dateStr <= endDate) {\r\n            total += result.data[dateStr];\r\n            datesCount++;\r\n          }\r\n        });\r\n\r\n        setPhoneCountData({\r\n          total: total,\r\n          datesWithData: datesCount,\r\n        });\r\n      }\r\n    } catch (err) {\r\n      setPhoneCountData({ total: 0, datesWithData: 0 });\r\n    } finally {\r\n      setPhoneCountLoading(false);\r\n    }\r\n  }, [dateRange, customDateStart, customDateEnd]);\r\n  const fetchPhoneLeadsData = useCallback(async () => {\r\n    try {\r\n      setPhoneLeadsLoading(true);\r\n      // Fetch all phone leads data grouped by date (no date filter = get all dates)\r\n      const response = await fetch(`/api/facebook-ads-phone-leads`);\r\n      const result = await response.json();\r\n      if (result.success && result.data) {\r\n        // Store phone leads count for each date\r\n        // result.data format: { \"2024-11-23\": 5, \"2024-11-22\": 3, ... }\r\n        setPhoneLeadsData(result.data);\r\n      } else {\r\n        setPhoneLeadsData({});\r\n      }\r\n    } catch (err) {\r\n      setPhoneLeadsData({});\r\n    } finally {\r\n      setPhoneLeadsLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  const fetchDailySummaryData = useCallback(async () => {\r\n    try {\r\n      setDailySummaryLoading(true);\r\n      // Fetch last 30 days data from Facebook Ads API with daily breakdown\r\n      const url = `https://believable-ambition-production.up.railway.app/api/facebook-ads-campaigns?level=ad&date_preset=last_30d&time_increment=1`;\r\n      const response = await fetch(url);\r\n      const result: ApiResponse = await response.json();\r\n      if (!response.ok || !result.success) {\r\n        setDailySummaryData([]);\r\n      } else {\r\n        setDailySummaryData(result.data || []);\r\n        // Fetch phone leads data for all dates\r\n        fetchPhoneLeadsData();\r\n      }\r\n    } catch (err) {\r\n      setDailySummaryData([]);\r\n    } finally {\r\n      setDailySummaryLoading(false);\r\n    }\r\n  }, [fetchPhoneLeadsData]);\r\n\r\n  // Fetch adset-level insights for TOP Ad Set table\r\n  const fetchAdsetInsights = useCallback(async () => {\r\n    try {\r\n      setAdsetInsightsLoading(true);\r\n      let url = `https://believable-ambition-production.up.railway.app/api/facebook-ads-campaigns?level=adset`;\r\n\r\n      if (dateRange === \"custom\" && customDateStart && customDateEnd) {\r\n        const timeRange = JSON.stringify({\r\n          since: customDateStart,\r\n          until: customDateEnd,\r\n        });\r\n        url += `&time_range=${encodeURIComponent(timeRange)}`;\r\n      } else {\r\n        url += `&date_preset=${dateRange}`;\r\n      }\r\n\r\n      const response = await fetch(url);\r\n      const result: ApiResponse = await response.json();\r\n\r\n      if (!response.ok || !result.success) {\r\n        setAdsetInsights([]);\r\n      } else {\r\n        // Deduplicate adset data\r\n        const uniqueData = new Map<string, AdInsight>();\r\n        result.data.forEach((item) => {\r\n          const key = item.adset_id;\r\n          if (uniqueData.has(key)) {\r\n            const existing = uniqueData.get(key)!;\r\n            if (item.actions) {\r\n              if (!existing.actions) existing.actions = [];\r\n              item.actions.forEach((action) => {\r\n                const existingAction = existing.actions!.find(\r\n                  (a) => a.action_type === action.action_type\r\n                );\r\n                if (existingAction) {\r\n                  existingAction.value = String(\r\n                    parseInt(existingAction.value || \"0\") +\r\n                    parseInt(action.value || \"0\")\r\n                  );\r\n                } else {\r\n                  existing.actions!.push({ ...action });\r\n                }\r\n              });\r\n            }\r\n          } else {\r\n            uniqueData.set(key, { ...item });\r\n          }\r\n        });\r\n        setAdsetInsights(Array.from(uniqueData.values()));\r\n      }\r\n    } catch (err) {\r\n      setAdsetInsights([]);\r\n    } finally {\r\n      setAdsetInsightsLoading(false);\r\n    }\r\n  }, [dateRange, customDateStart, customDateEnd]);\r\n\r\n  // ============ Fetch Page 2 Data ============\r\n  const fetchPage2Insights = useCallback(async () => {\r\n    try {\r\n      setPage2Loading(true);\r\n      setPage2Error(null);\r\n\r\n      // ‡πÉ‡∏ä‡πâ Railway API ‡πÅ‡∏ó‡∏ô local API\r\n      let url = `https://believable-ambition-production.up.railway.app/api/facebook-ads-campaigns`;\r\n      const params = new URLSearchParams();\r\n\r\n      // Set ad_account_id for Page 2\r\n      params.append(\"ad_account_id\", \"act_869492750129928\");\r\n\r\n      // Set level to ad\r\n      params.append(\"level\", \"ad\");\r\n\r\n      // Add filtering for messaging actions\r\n      const filtering = JSON.stringify([\r\n        {\r\n          field: \"action_type\",\r\n          operator: \"IN\",\r\n          value: [\r\n            \"onsite_conversion.messaging_first_reply\",\r\n            \"onsite_conversion.total_messaging_connection\",\r\n          ],\r\n        },\r\n      ]);\r\n      params.append(\"filtering\", filtering);\r\n      params.append(\"action_breakdowns\", \"action_type\");\r\n\r\n      // ‡πÉ‡∏ä‡πâ date range ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ö Page 1\r\n      if (dateRange === \"custom\" && customDateStart && customDateEnd) {\r\n        const timeRange = JSON.stringify({\r\n          since: customDateStart,\r\n          until: customDateEnd,\r\n        });\r\n        params.append(\"time_range\", timeRange);\r\n      } else {\r\n        params.append(\"date_preset\", dateRange);\r\n      }\r\n\r\n      const response = await fetch(`${url}?${params.toString()}`);\r\n      const result = await response.json();\r\n\r\n      if (!response.ok || !result.success) {\r\n        setPage2Error(result.error || \"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Page 2 ‡πÑ‡∏î‡πâ\");\r\n        setPage2Insights([]);\r\n        setPage2Summary({\r\n          totalSpend: 0,\r\n          totalImpressions: 0,\r\n          totalClicks: 0,\r\n          totalAds: 0,\r\n          avgCtr: 0,\r\n          avgCpc: 0,\r\n          avgCpm: 0,\r\n          total_messaging_first_reply: 0,\r\n          total_messaging_connection: 0,\r\n        });\r\n      } else {\r\n        setPage2Insights(result.data || []);\r\n        // Map API summary fields to state\r\n        setPage2Summary({\r\n          totalSpend: result.summary?.total_spend || 0,\r\n          totalImpressions: result.summary?.total_impressions || 0,\r\n          totalClicks: result.summary?.total_clicks || 0,\r\n          totalAds: result.data?.length || 0,\r\n          avgCtr: result.summary?.total_impressions > 0 ? (result.summary?.total_clicks / result.summary?.total_impressions) * 100 : 0,\r\n          avgCpc: result.summary?.total_clicks > 0 ? result.summary?.total_spend / result.summary?.total_clicks : 0,\r\n          avgCpm: result.summary?.total_impressions > 0 ? (result.summary?.total_spend / result.summary?.total_impressions) * 1000 : 0,\r\n          total_messaging_first_reply: result.summary?.total_messaging_first_reply || 0,\r\n          total_messaging_connection: result.summary?.total_messaging_connection || 0,\r\n        });\r\n      }\r\n    } catch (err) {\r\n      setPage2Error(err instanceof Error ? err.message : \"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î\");\r\n      setPage2Insights([]);\r\n    } finally {\r\n      setPage2Loading(false);\r\n    }\r\n  }, [dateRange, customDateStart, customDateEnd]);\r\n\r\n  // ============ Fetch Page 2 Balance ============\r\n  const fetchPage2Balance = useCallback(async () => {\r\n    try {\r\n      setPage2BalanceLoading(true);\r\n      const response = await fetch(\"/api/facebook-ads-balance-page2\");\r\n      const result = await response.json();\r\n\r\n      if (!response.ok || !result.success) {\r\n        setPage2Balance(0);\r\n        setPage2AmountSpent(0);\r\n      } else {\r\n        setPage2Balance(result.data.available_balance || result.data.balance || 0);\r\n        setPage2AmountSpent(result.data.amount_spent || 0);\r\n        setPage2Currency(result.data.currency || \"THB\");\r\n      }\r\n    } catch (err) {\r\n      setPage2Balance(0);\r\n      setPage2AmountSpent(0);\r\n    } finally {\r\n      setPage2BalanceLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const loadAllData = async () => {\r\n      try {\r\n        await Promise.all([\r\n          fetchInsights(),\r\n          fetchGoogleSheetsData(),\r\n          fetchGoogleAdsData(),\r\n          fetchFacebookBalance(),\r\n          fetchPhoneCount(),\r\n          fetchDailySummaryData(),\r\n          fetchAdsetInsights(),\r\n          fetchPage2Insights(),\r\n          fetchPage2Balance(),\r\n        ]);\r\n      } catch (error) {\r\n        setError(\"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•\");\r\n        setLoading(false);\r\n      }\r\n    };\r\n    loadAllData();\r\n    // Auto-refresh every 2 minutes (120000ms) in background - ‡∏•‡∏î frequency ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô Rate Limit\r\n    const refreshInterval = setInterval(() => {\r\n      Promise.all([\r\n        fetchInsights(true), // true = background refresh (‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á loading state)\r\n        fetchGoogleSheetsData(),\r\n        fetchGoogleAdsData(),\r\n        fetchFacebookBalance(),\r\n        fetchPhoneCount(),\r\n        fetchDailySummaryData(),\r\n        fetchAdsetInsights(),\r\n        fetchPage2Insights(),\r\n        fetchPage2Balance(),\r\n      ]);\r\n    }, 120000); // 120000ms = 2 minutes (‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å 1 ‡∏ô‡∏≤‡∏ó‡∏µ ‡πÄ‡∏õ‡πá‡∏ô 2 ‡∏ô‡∏≤‡∏ó‡∏µ)\r\n    // Cleanup interval on unmount\r\n    return () => {\r\n      clearInterval(refreshInterval);\r\n    };\r\n  }, [\r\n    fetchInsights,\r\n    fetchGoogleSheetsData,\r\n    fetchGoogleAdsData,\r\n    fetchFacebookBalance,\r\n    fetchPhoneCount,\r\n    fetchDailySummaryData,\r\n    fetchAdsetInsights,\r\n    fetchPage2Insights,\r\n    fetchPage2Balance,\r\n  ]);\r\n  // Monitor adCreatives changes\r\n  useEffect(() => {\r\n    // adCreatives updated\r\n  }, [adCreatives]);\r\n  const formatNumber = (value: string | number) => {\r\n    const num = typeof value === \"string\" ? parseFloat(value) : value;\r\n    return isNaN(num)\r\n      ? \"‚Äî\"\r\n      : num.toLocaleString(\"th-TH\", { maximumFractionDigits: 2 });\r\n  };\r\n  const formatCurrency = (value: string | number) => {\r\n    const num = typeof value === \"string\" ? parseFloat(value) : value;\r\n    return isNaN(num)\r\n      ? \"‚Äî\"\r\n      : `‡∏ø${num.toLocaleString(\"th-TH\", {\r\n        minimumFractionDigits: 2,\r\n        maximumFractionDigits: 2,\r\n      })}`;\r\n  };\r\n  const formatPercentage = (value: string | number) => {\r\n    const num = typeof value === \"string\" ? parseFloat(value) : value;\r\n    return isNaN(num)\r\n      ? \"‚Äî\"\r\n      : `${num.toLocaleString(\"th-TH\", {\r\n        minimumFractionDigits: 2,\r\n        maximumFractionDigits: 2,\r\n      })}%`;\r\n  };\r\n  const getResultsByActionType = (\r\n    actions: Action[] | undefined,\r\n    actionType: string\r\n  ) => {\r\n    if (!actions) return 0;\r\n    const action = actions.find((a) => a.action_type === actionType);\r\n    return action ? parseInt(action.value || \"0\") : 0;\r\n  };\r\n  const getTotalResults = () => {\r\n    let total = 0;\r\n    insights.forEach((ad) => {\r\n      if (ad.actions) {\r\n        const messagingAction = ad.actions.find(\r\n          (action) =>\r\n            action.action_type === \"onsite_conversion.messaging_first_reply\"\r\n        );\r\n        if (messagingAction) {\r\n          const value = parseInt(messagingAction.value || \"0\");\r\n          total += value;\r\n        }\r\n      }\r\n    });\r\n    return total;\r\n  };\r\n  const getTotalMessagingConnection = () => {\r\n    let total = 0;\r\n    insights.forEach((ad) => {\r\n      if (ad.actions) {\r\n        const messagingAction = ad.actions.find(\r\n          (action) =>\r\n            action.action_type ===\r\n            \"onsite_conversion.total_messaging_connection\"\r\n        );\r\n        if (messagingAction) {\r\n          const value = parseInt(messagingAction.value || \"0\");\r\n          total += value;\r\n        }\r\n      }\r\n    });\r\n    return total;\r\n  };\r\n  const getTotalLeads = () => {\r\n    let total = 0;\r\n    insights.forEach((ad) => {\r\n      if (ad.actions) {\r\n        const leadAction = ad.actions.find(\r\n          (action) => action.action_type === \"lead\"\r\n        );\r\n        if (leadAction) {\r\n          const value = parseInt(leadAction.value || \"0\");\r\n          total += value;\r\n        }\r\n      }\r\n    });\r\n    return total;\r\n  };\r\n  const handleDateRangeChange = (value: string) => {\r\n    setDateRange(value);\r\n    if (value === \"custom\") {\r\n      const today = new Date().toISOString().split(\"T\")[0];\r\n      if (!customDateStart) setCustomDateStart(today);\r\n      if (!customDateEnd) setCustomDateEnd(today);\r\n      setShowDatePicker(true);\r\n    } else {\r\n      setShowDatePicker(false);\r\n    }\r\n  };\r\n  const applyCustomDateRange = () => {\r\n    if (customDateStart && customDateEnd) {\r\n      setShowDatePicker(false);\r\n      setTimeout(() => {\r\n        setDateRange(\"custom\");\r\n      }, 0);\r\n    }\r\n  };\r\n  // Filter insights based on main date range (‡πÉ‡∏ä‡πâ‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏à‡∏≤‡∏Å üìä ‡∏ä‡πà‡∏≠‡∏á‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°)\r\n  const getTopAdsFilteredInsights = useCallback(() => {\r\n    // ‡πÉ‡∏ä‡πâ‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ö main dateRange (üìä ‡∏ä‡πà‡∏≠‡∏á‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°)\r\n    return insights;\r\n  }, [insights, dateRange]);\r\n  const filteredInsights = insights;\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"inline-block animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600 mb-6\"></div>\r\n          <p className=\"text-gray-700 text-xl font-semibold\">\r\n            ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...\r\n          </p>\r\n          <p className=\"text-gray-500 text-sm mt-2\">‡πÇ‡∏õ‡∏£‡∏î‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  if (error) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center p-4\">\r\n        <div className=\"bg-white rounded-lg shadow-lg p-8 max-w-2xl w-full\">\r\n          <div className=\"text-red-500 text-5xl mb-4 text-center\">‚ö†Ô∏è</div>\r\n          <h2 className=\"text-xl font-bold text-gray-800 mb-4 text-center\">\r\n            ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î\r\n          </h2>\r\n          <p className=\"text-gray-600 mb-6 text-center\">{error}</p>\r\n          <div className=\"flex gap-3\">\r\n            <button\r\n              onClick={() => {\r\n                setError(null);\r\n                setLoading(true);\r\n                fetchInsights(false);\r\n              }}\r\n              className=\"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded transition-colors\"\r\n            >\r\n              ‡∏•‡∏≠‡∏á‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50\">\r\n      {/* Back Button */}\r\n      <div className=\"bg-white border-b border-gray-200 px-3 sm:px-6 py-3\">\r\n        <button\r\n          onClick={() => router.push(\"/home\")}\r\n          className=\"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-lg transition-all shadow-md hover:shadow-lg font-medium text-sm\"\r\n        >\r\n          <span className=\"text-lg\">‚Üê</span>\r\n          <span>‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</span>\r\n        </button>\r\n      </div>\r\n      {/* Top Navigation Bar with Date Range Tabs */}\r\n      <div className=\"bg-white shadow-md border-b border-gray-200\">\r\n        <div className=\"px-3 sm:px-6 py-3\">\r\n          {/* Desktop View: Tabs */}\r\n          <div className=\"hidden md:flex items-center space-x-2\">\r\n            <button className=\"px-3 sm:px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium text-xs sm:text-sm\">\r\n              üìä ‡∏ä‡πà‡∏≠‡∏á‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°\r\n            </button>\r\n            <button\r\n              onClick={() => handleDateRangeChange(\"today\")}\r\n              className={`px-3 sm:px-6 py-2 rounded-lg transition-colors font-medium text-xs sm:text-sm ${dateRange === \"today\"\r\n                ? \"bg-blue-500 text-white shadow-md\"\r\n                : \"bg-gray-100 text-gray-700 hover:bg-gray-200\"\r\n                }`}\r\n            >\r\n              ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ\r\n            </button>\r\n            <button\r\n              onClick={() => handleDateRangeChange(\"yesterday\")}\r\n              className={`px-6 py-2 rounded-lg transition-colors font-medium text-sm ${dateRange === \"yesterday\"\r\n                ? \"bg-blue-500 text-white shadow-md\"\r\n                : \"bg-gray-100 text-gray-700 hover:bg-gray-200\"\r\n                }`}\r\n            >\r\n              ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ß‡∏≤‡∏ô\r\n            </button>\r\n            <button\r\n              onClick={() => handleDateRangeChange(\"last_7d\")}\r\n              className={`px-6 py-2 rounded-lg transition-colors font-medium text-sm ${dateRange === \"last_7d\"\r\n                ? \"bg-blue-500 text-white shadow-md\"\r\n                : \"bg-gray-100 text-gray-700 hover:bg-gray-200\"\r\n                }`}\r\n            >\r\n              7 ‡∏ß‡∏±‡∏ô\r\n            </button>\r\n            <button\r\n              onClick={() => handleDateRangeChange(\"last_30d\")}\r\n              className={`px-6 py-2 rounded-lg transition-colors font-medium text-sm ${dateRange === \"last_30d\"\r\n                ? \"bg-blue-500 text-white shadow-md\"\r\n                : \"bg-gray-100 text-gray-700 hover:bg-gray-200\"\r\n                }`}\r\n            >\r\n              30 ‡∏ß‡∏±‡∏ô\r\n            </button>\r\n            <button\r\n              onClick={() => handleDateRangeChange(\"this_month\")}\r\n              className={`px-6 py-2 rounded-lg transition-colors font-medium text-sm ${dateRange === \"this_month\"\r\n                ? \"bg-blue-500 text-white shadow-md\"\r\n                : \"bg-gray-100 text-gray-700 hover:bg-gray-200\"\r\n                }`}\r\n            >\r\n              ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ô‡∏µ‡πâ\r\n            </button>\r\n            <button\r\n              onClick={() => handleDateRangeChange(\"custom\")}\r\n              className={`px-6 py-2 rounded-lg transition-colors font-medium text-sm ${dateRange === \"custom\"\r\n                ? \"bg-blue-500 text-white shadow-md\"\r\n                : \"bg-gray-100 text-gray-700 hover:bg-gray-200\"\r\n                }`}\r\n            >\r\n              üóìÔ∏è ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏≠‡∏á\r\n            </button>\r\n            {dateRange === \"custom\" && customDateStart && customDateEnd && (\r\n              <span className=\"text-xs text-gray-600 bg-blue-50 px-3 py-2 rounded-lg border border-blue-200 font-medium ml-2\">\r\n                {customDateStart} ‡∏ñ‡∏∂‡∏á {customDateEnd}\r\n              </span>\r\n            )}\r\n            {/* Spacer to push page buttons to the right */}\r\n            <div className=\"flex-1\"></div>\r\n            {/* Page Selection Buttons */}\r\n            <div className=\"flex items-center gap-2 border-l border-gray-300 pl-4 ml-2\">\r\n              <button\r\n                onClick={() => setSelectedPage(1)}\r\n                className={`px-4 py-2 rounded-lg transition-colors font-medium text-sm ${selectedPage === 1\r\n                  ? \"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-md\"\r\n                  : \"bg-gray-100 text-gray-700 hover:bg-gray-200\"\r\n                  }`}\r\n              >\r\n                Page 1\r\n              </button>\r\n              <button\r\n                onClick={() => setSelectedPage(2)}\r\n                className={`px-4 py-2 rounded-lg transition-colors font-medium text-sm ${selectedPage === 2\r\n                  ? \"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-md\"\r\n                  : \"bg-gray-100 text-gray-700 hover:bg-gray-200\"\r\n                  }`}\r\n              >\r\n                Page 2\r\n              </button>\r\n              <button\r\n                onClick={() => setSelectedPage(3)}\r\n                className={`px-4 py-2 rounded-lg transition-colors font-medium text-sm ${selectedPage === 3\r\n                  ? \"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-md\"\r\n                  : \"bg-gray-100 text-gray-700 hover:bg-gray-200\"\r\n                  }`}\r\n              >\r\n                Page 3\r\n              </button>\r\n              <button\r\n                onClick={() => setSelectedPage(4)}\r\n                className={`px-4 py-2 rounded-lg transition-colors font-medium text-sm ${selectedPage === 4\r\n                  ? \"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-md\"\r\n                  : \"bg-gray-100 text-gray-700 hover:bg-gray-200\"\r\n                  }`}\r\n              >\r\n                Page 4\r\n              </button>\r\n            </div>\r\n          </div>\r\n          {/* Mobile View: Dropdown */}\r\n          <div className=\"md:hidden space-y-3\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <span className=\"text-sm font-semibold text-gray-700\">üìÖ</span>\r\n              <select\r\n                value={dateRange}\r\n                onChange={(e) => handleDateRangeChange(e.target.value)}\r\n                className=\"flex-1 px-4 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-700 font-medium text-sm\"\r\n              >\r\n                <option value=\"today\">‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</option>\r\n                <option value=\"yesterday\">‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ß‡∏≤‡∏ô</option>\r\n                <option value=\"last_7d\">7 ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏°‡∏≤</option>\r\n                <option value=\"last_14d\">14 ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏°‡∏≤</option>\r\n                <option value=\"last_30d\">30 ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏°‡∏≤</option>\r\n                <option value=\"this_month\">‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ô‡∏µ‡πâ</option>\r\n                <option value=\"custom\">üóìÔ∏è ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏≠‡∏á‡πÄ‡∏≠‡∏á</option>\r\n              </select>\r\n            </div>\r\n            {dateRange === \"custom\" && customDateStart && customDateEnd && (\r\n              <div className=\"text-xs text-gray-600 bg-blue-50 px-3 py-2 rounded-lg border border-blue-200 font-medium\">\r\n                {customDateStart} ‡∏ñ‡∏∂‡∏á {customDateEnd}\r\n              </div>\r\n            )}\r\n            {/* Mobile Page Selection */}\r\n            <div className=\"flex items-center gap-2\">\r\n              <span className=\"text-sm font-semibold text-gray-700\">üìÑ</span>\r\n              <select\r\n                value={selectedPage}\r\n                onChange={(e) =>\r\n                  setSelectedPage(Number(e.target.value) as 1 | 2 | 3 | 4)\r\n                }\r\n                className=\"flex-1 px-4 py-2 border-2 border-purple-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white text-gray-700 font-medium text-sm\"\r\n              >\r\n                <option value={1}>Page 1</option>\r\n                <option value={2}>Page 2</option>\r\n                <option value={3}>Page 3</option>\r\n                <option value={4}>Page 4</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {/* Calendar Date Picker */}\r\n      {showDatePicker && (\r\n        <div\r\n          className=\"modal-overlay fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\"\r\n          onClick={(e) => {\r\n            if (e.target === e.currentTarget) {\r\n              setShowDatePicker(false);\r\n            }\r\n          }}\r\n        >\r\n          <div\r\n            className=\"date-picker-container bg-white rounded-2xl shadow-2xl p-8 max-w-3xl w-full\"\r\n            onClick={(e) => e.stopPropagation()}\r\n          >\r\n            <div className=\"flex items-center justify-between mb-8\">\r\n              <h3 className=\"text-2xl font-bold text-gray-800\">\r\n                ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡πà‡∏ß‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà\r\n              </h3>\r\n              <button\r\n                onClick={() => setShowDatePicker(false)}\r\n                className=\"text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full p-2 transition-all text-2xl w-10 h-10 flex items-center justify-center\"\r\n              >\r\n                ‚úï\r\n              </button>\r\n            </div>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8\">\r\n              <div>\r\n                <label className=\"block text-base font-bold text-gray-700 mb-4\">\r\n                  üìÖ ‡∏à‡∏≤‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà\r\n                </label>\r\n                <div className=\"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-xl border-2 border-blue-300 shadow-md\">\r\n                  <input\r\n                    type=\"date\"\r\n                    value={\r\n                      customDateStart || new Date().toISOString().split(\"T\")[0]\r\n                    }\r\n                    onChange={(e) => setCustomDateStart(e.target.value)}\r\n                    className=\"w-full px-5 py-4 border-2 border-gray-300 rounded-xl text-lg font-medium focus:outline-none focus:ring-4 focus:ring-blue-300 focus:border-blue-500\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-base font-bold text-gray-700 mb-4\">\r\n                  üìÖ ‡∏ñ‡∏∂‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà\r\n                </label>\r\n                <div className=\"bg-gradient-to-br from-orange-50 to-orange-100 p-6 rounded-xl border-2 border-orange-300 shadow-md\">\r\n                  <input\r\n                    type=\"date\"\r\n                    value={\r\n                      customDateEnd || new Date().toISOString().split(\"T\")[0]\r\n                    }\r\n                    onChange={(e) => setCustomDateEnd(e.target.value)}\r\n                    className=\"w-full px-5 py-4 border-2 border-gray-300 rounded-xl text-lg font-medium focus:outline-none focus:ring-4 focus:ring-orange-300 focus:border-orange-500\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"flex space-x-4 justify-end\">\r\n              <button\r\n                onClick={() => setShowDatePicker(false)}\r\n                className=\"px-10 py-4 text-base border-2 border-gray-300 rounded-xl hover:bg-gray-100 transition-colors font-semibold text-gray-700\"\r\n              >\r\n                ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å\r\n              </button>\r\n              <button\r\n                onClick={applyCustomDateRange}\r\n                className=\"px-10 py-4 text-base bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all font-semibold\"\r\n              >\r\n                ‚úì ‡∏ï‡∏Å‡∏•‡∏á\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {/* Video Preview Modal */}\r\n      {showVideoModal && selectedAdForPreview && (\r\n        <div\r\n          className=\"modal-overlay fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50\"\r\n          style={{\r\n            position: \"fixed\",\r\n            top: 0,\r\n            left: 0,\r\n            right: 0,\r\n            bottom: 0,\r\n            width: \"100vw\",\r\n            height: \"100vh\",\r\n            margin: 0,\r\n            padding: \"1rem\",\r\n          }}\r\n          onClick={(e) => {\r\n            if (e.target === e.currentTarget) {\r\n              setShowVideoModal(false);\r\n              setSelectedAdForPreview(null);\r\n            }\r\n          }}\r\n        >\r\n          <div\r\n            className=\"video-modal-container bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto\"\r\n            onClick={(e) => e.stopPropagation()}\r\n          >\r\n            <div className=\"sticky top-0 bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 px-6 py-4 flex items-center justify-between z-10 rounded-t-2xl\">\r\n              <div className=\"flex-1\">\r\n                <h3 className=\"text-xl font-bold text-white truncate\">\r\n                  üéØ {selectedAdForPreview.ad_name}\r\n                </h3>\r\n                <div className=\"flex flex-col sm:flex-row sm:gap-4 mt-1\">\r\n                  <p className=\"text-sm text-white/80\">\r\n                    üìÅ Campaign: {selectedAdForPreview.campaign_name}\r\n                  </p>\r\n                  <p className=\"text-sm text-white/80\">\r\n                    üìÇ Ad Set: {selectedAdForPreview.adset_name || \"‚Äî\"}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              <button\r\n                onClick={() => {\r\n                  setShowVideoModal(false);\r\n                  setSelectedAdForPreview(null);\r\n                }}\r\n                className=\"text-white hover:text-gray-200 hover:bg-white/20 rounded-full p-2 transition-all text-2xl w-10 h-10 flex items-center justify-center ml-4\"\r\n              >\r\n                ‚úï\r\n              </button>\r\n            </div>\r\n            <div className=\"p-6\">\r\n              {/* Video/Post Preview */}\r\n              <div className=\"mb-6\">\r\n                {(() => {\r\n                  const creative = adCreatives.get(selectedAdForPreview.ad_id);\r\n                  const effectiveStoryId = creative?.effective_object_story_id;\r\n                  const videoId =\r\n                    creative?.object_story_spec?.video_data?.video_id ||\r\n                    creative?.video_id;\r\n                  const thumbnailUrl =\r\n                    creative?.thumbnail_url ||\r\n                    creative?.object_story_spec?.video_data?.image_url ||\r\n                    creative?.image_url;\r\n                  // ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ effective_object_story_id ‡πÉ‡∏ä‡πâ EmbeddedPost ‡∏Å‡πà‡∏≠‡∏ô\r\n                  if (effectiveStoryId) {\r\n                    const postUrl = `https://www.facebook.com/${effectiveStoryId.replace(\r\n                      \"_\",\r\n                      \"/posts/\"\r\n                    )}`;\r\n                    return (\r\n                      <div className=\"space-y-4\">\r\n                        {/* Facebook Embedded Post */}\r\n                        <div className=\"bg-white rounded-xl overflow-hidden shadow-lg\">\r\n                          <FacebookProvider appId=\"1086145253509335\">\r\n                            <EmbeddedPost\r\n                              href={postUrl}\r\n                              width=\"100%\"\r\n                              showText={true}\r\n                            />\r\n                          </FacebookProvider>\r\n                        </div>\r\n                        {/* Fallback: Open in Facebook Button */}\r\n                        <div className=\"flex justify-center\">\r\n                          <a\r\n                            href={postUrl}\r\n                            target=\"_blank\"\r\n                            rel=\"noopener noreferrer\"\r\n                            className=\"flex items-center justify-center gap-2 px-8 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-medium shadow-lg\"\r\n                          >\r\n                            <span>üì±</span>\r\n                            <span>‡πÄ‡∏õ‡∏¥‡∏î‡∏î‡∏π‡πÇ‡∏û‡∏™‡∏ï‡πå‡πÄ‡∏ï‡πá‡∏°‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡πÉ‡∏ô Facebook</span>\r\n                          </a>\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  }\r\n                  // ‡∏•‡∏≠‡∏á‡πÉ‡∏ä‡πâ local video file ‡∏Å‡πà‡∏≠‡∏ô (‡∏à‡∏≤‡∏Å /images/video/{video_id}.mp4)\r\n                  const localVideoPath = videoId ? `/images/video/${videoId}.mp4` : null;\r\n                  const videoSource = creative?.video_source;\r\n\r\n                  // ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ videoId - ‡∏•‡∏≠‡∏á‡πÄ‡∏•‡πà‡∏ô‡∏à‡∏≤‡∏Å local ‡∏Å‡πà‡∏≠‡∏ô\r\n                  if (videoId) {\r\n                    return (\r\n                      <div className=\"space-y-4\">\r\n                        {/* Video Player - ‡∏•‡∏≠‡∏á‡∏à‡∏≤‡∏Å local ‡∏Å‡πà‡∏≠‡∏ô */}\r\n                        <div className=\"rounded-xl overflow-hidden bg-black shadow-lg\">\r\n                          <video\r\n                            controls\r\n                            autoPlay\r\n                            className=\"w-full h-auto max-h-[60vh]\"\r\n                            poster={thumbnailUrl}\r\n                            onError={(e) => {\r\n                              console.log(\"‚ùå [Video Error] Local video not found, trying Facebook source\");\r\n                              const videoEl = e.target as HTMLVideoElement;\r\n                              // ‡∏ñ‡πâ‡∏≤ local ‡πÑ‡∏°‡πà‡∏°‡∏µ ‡∏•‡∏≠‡∏á‡πÉ‡∏ä‡πâ video_source ‡∏à‡∏≤‡∏Å Facebook\r\n                              if (videoSource && videoEl.src !== videoSource) {\r\n                                videoEl.src = videoSource;\r\n                              } else {\r\n                                // ‡∏ñ‡πâ‡∏≤‡∏ó‡∏±‡πâ‡∏á local ‡πÅ‡∏•‡∏∞ Facebook ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ ‡πÅ‡∏™‡∏î‡∏á fallback\r\n                                videoEl.style.display = \"none\";\r\n                                const parent = videoEl.parentElement;\r\n                                if (parent && thumbnailUrl) {\r\n                                  parent.innerHTML = `\r\n                                    <div class=\"relative\">\r\n                                      <img src=\"${thumbnailUrl}\" alt=\"Video thumbnail\" class=\"w-full h-auto\" />\r\n                                      <div class=\"absolute inset-0 flex items-center justify-center bg-black bg-opacity-40\">\r\n                                        <span class=\"text-white text-4xl\">‚ö†Ô∏è ‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏•‡πà‡∏ô‡πÑ‡∏î‡πâ</span>\r\n                                      </div>\r\n                                    </div>\r\n                                  `;\r\n                                }\r\n                              }\r\n                            }}\r\n                          >\r\n                            <source src={localVideoPath || videoSource || ''} type=\"video/mp4\" />\r\n                            ‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠\r\n                          </video>\r\n                        </div>\r\n                        {/* Open in Facebook Buttons */}\r\n                        <div className=\"grid grid-cols-2 gap-3\">\r\n                          <a\r\n                            href={`https://www.facebook.com/reel/${videoId}`}\r\n                            target=\"_blank\"\r\n                            rel=\"noopener noreferrer\"\r\n                            className=\"flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-medium shadow-lg text-sm sm:text-base\"\r\n                          >\r\n                            <span>üé¨</span>\r\n                            <span>‡∏î‡∏π‡πÄ‡∏õ‡πá‡∏ô Reel</span>\r\n                          </a>\r\n                          <a\r\n                            href={`https://www.facebook.com/watch/?v=${videoId}`}\r\n                            target=\"_blank\"\r\n                            rel=\"noopener noreferrer\"\r\n                            className=\"flex items-center justify-center gap-2 px-6 py-3 bg-gray-700 hover:bg-gray-800 text-white rounded-lg transition-colors font-medium shadow-lg text-sm sm:text-base\"\r\n                          >\r\n                            <span>‚ñ∂Ô∏è</span>\r\n                            <span>‡∏î‡∏π‡πÄ‡∏õ‡πá‡∏ô Video</span>\r\n                          </a>\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  }\r\n                  // ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡πÅ‡∏Ñ‡πà‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û (‡πÑ‡∏°‡πà‡∏°‡∏µ video)\r\n                  if (thumbnailUrl) {\r\n                    return (\r\n                      <div className=\"rounded-xl overflow-hidden bg-gray-100 shadow-lg\">\r\n                        <img\r\n                          src={thumbnailUrl}\r\n                          alt={selectedAdForPreview.ad_name}\r\n                          className=\"w-full h-auto\"\r\n                          onError={(e) => {\r\n                            (e.target as HTMLImageElement).style.display =\r\n                              \"none\";\r\n                          }}\r\n                        />\r\n                      </div>\r\n                    );\r\n                  }\r\n                  // ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•\r\n                  return (\r\n                    <div className=\"aspect-video bg-gray-200 rounded-xl flex items-center justify-center\">\r\n                      <div className=\"text-center\">\r\n                        <span className=\"text-6xl mb-4 block\">üé¨</span>\r\n                        <p className=\"text-gray-600\">‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û</p>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })()}\r\n              </div>\r\n              {/* Ad Performance Stats */}\r\n              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6\">\r\n                <div className=\"bg-blue-50 rounded-lg p-4\">\r\n                  <div className=\"text-sm text-gray-600 mb-1\">üí∞ Spent</div>\r\n                  <div className=\"text-xl font-bold text-blue-700\">\r\n                    {formatCurrency(selectedAdForPreview.spend)}\r\n                  </div>\r\n                </div>\r\n                <div className=\"bg-green-50 rounded-lg p-4\">\r\n                  <div className=\"text-sm text-gray-600 mb-1\">üí¨ New Inbox</div>\r\n                  <div className=\"text-xl font-bold text-green-700\">\r\n                    {getResultsByActionType(\r\n                      selectedAdForPreview.actions,\r\n                      \"onsite_conversion.messaging_first_reply\"\r\n                    )}\r\n                  </div>\r\n                </div>\r\n                <div className=\"bg-teal-50 rounded-lg p-4\">\r\n                  <div className=\"text-sm text-gray-600 mb-1\">\r\n                    üì® Total Inbox\r\n                  </div>\r\n                  <div className=\"text-xl font-bold text-teal-700\">\r\n                    {getResultsByActionType(\r\n                      selectedAdForPreview.actions,\r\n                      \"onsite_conversion.total_messaging_connection\"\r\n                    )}\r\n                  </div>\r\n                </div>\r\n                <div className=\"bg-purple-50 rounded-lg p-4\">\r\n                  <div className=\"text-sm text-gray-600 mb-1\">\r\n                    üìû ‡∏ä‡∏∑‡πà‡∏≠ - ‡πÄ‡∏ö‡∏≠‡∏£‡πå\r\n                  </div>\r\n                  <div className=\"text-xl font-bold text-purple-700\">\r\n                    {topAdsPhoneLeads.get(selectedAdForPreview.ad_id) || 0}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* CTR, CPM, CPC Stats */}\r\n              <div className=\"grid grid-cols-3 gap-4 mb-6\">\r\n                <div className=\"bg-orange-50 rounded-lg p-4 text-center\">\r\n                  <div className=\"text-sm text-gray-600 mb-1\">üìä CTR</div>\r\n                  <div className=\"text-2xl font-bold text-orange-700\">\r\n                    {formatPercentage(selectedAdForPreview.ctr)}\r\n                  </div>\r\n                  <div className=\"text-xs text-gray-500 mt-1\">\r\n                    Click-Through Rate\r\n                  </div>\r\n                </div>\r\n                <div className=\"bg-pink-50 rounded-lg p-4 text-center\">\r\n                  <div className=\"text-sm text-gray-600 mb-1\">üíµ CPM</div>\r\n                  <div className=\"text-2xl font-bold text-pink-700\">\r\n                    {formatCurrency(selectedAdForPreview.cpm)}\r\n                  </div>\r\n                  <div className=\"text-xs text-gray-500 mt-1\">\r\n                    Cost per 1,000 Impressions\r\n                  </div>\r\n                </div>\r\n                <div className=\"bg-indigo-50 rounded-lg p-4 text-center\">\r\n                  <div className=\"text-sm text-gray-600 mb-1\">üñ±Ô∏è CPC</div>\r\n                  <div className=\"text-2xl font-bold text-indigo-700\">\r\n                    {formatCurrency(selectedAdForPreview.cpc)}\r\n                  </div>\r\n                  <div className=\"text-xs text-gray-500 mt-1\">\r\n                    Cost per Click\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Ad Details */}\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div className=\"bg-gray-50 rounded-lg p-4\">\r\n                  <h4 className=\"font-semibold text-gray-800 mb-3\">\r\n                    üìà Performance Details\r\n                  </h4>\r\n                  <div className=\"space-y-2 text-sm\">\r\n                    <div className=\"flex justify-between\">\r\n                      <span className=\"text-gray-600\">Impressions:</span>\r\n                      <span className=\"font-medium\">\r\n                        {formatNumber(selectedAdForPreview.impressions)}\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"flex justify-between\">\r\n                      <span className=\"text-gray-600\">Clicks:</span>\r\n                      <span className=\"font-medium\">\r\n                        {formatNumber(selectedAdForPreview.clicks)}\r\n                      </span>\r\n                    </div>\r\n                    {selectedAdForPreview.reach && (\r\n                      <div className=\"flex justify-between\">\r\n                        <span className=\"text-gray-600\">Reach:</span>\r\n                        <span className=\"font-medium\">\r\n                          {formatNumber(selectedAdForPreview.reach)}\r\n                        </span>\r\n                      </div>\r\n                    )}\r\n                    <div className=\"flex justify-between\">\r\n                      <span className=\"text-gray-600\">ThruPlay:</span>\r\n                      <span className=\"font-medium\">\r\n                        {(() => {\r\n                          const thruplay = selectedAdForPreview.actions?.find(\r\n                            (action) => action.action_type === \"video_view\"\r\n                          );\r\n                          return thruplay ? formatNumber(thruplay.value) : \"‚Äî\";\r\n                        })()}\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"flex justify-between\">\r\n                      <span className=\"text-gray-600\">Cost per Inbox:</span>\r\n                      <span className=\"font-medium\">\r\n                        {(() => {\r\n                          const costPerMessaging =\r\n                            selectedAdForPreview.cost_per_action_type?.find(\r\n                              (cost) =>\r\n                                cost.action_type ===\r\n                                \"onsite_conversion.total_messaging_connection\"\r\n                            );\r\n                          return costPerMessaging\r\n                            ? formatCurrency(costPerMessaging.value)\r\n                            : \"‚Äî\";\r\n                        })()}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"bg-gray-50 rounded-lg p-4\">\r\n                  <h4 className=\"font-semibold text-gray-800 mb-3\">\r\n                    üìã Campaign & Ad Set Info\r\n                  </h4>\r\n                  <div className=\"space-y-2 text-sm\">\r\n                    <div className=\"flex justify-between\">\r\n                      <span className=\"text-gray-600\">Campaign:</span>\r\n                      <span\r\n                        className=\"font-medium text-right max-w-[180px] truncate\"\r\n                        title={selectedAdForPreview.campaign_name}\r\n                      >\r\n                        {selectedAdForPreview.campaign_name}\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"flex justify-between\">\r\n                      <span className=\"text-gray-600\">Ad Set:</span>\r\n                      <span\r\n                        className=\"font-medium text-right max-w-[180px] truncate\"\r\n                        title={selectedAdForPreview.adset_name}\r\n                      >\r\n                        {selectedAdForPreview.adset_name || \"‚Äî\"}\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"flex justify-between\">\r\n                      <span className=\"text-gray-600\">Ad ID:</span>\r\n                      <span className=\"font-medium text-xs\">\r\n                        {selectedAdForPreview.ad_id}\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"flex justify-between\">\r\n                      <span className=\"text-gray-600\">Date Range:</span>\r\n                      <span className=\"font-medium\">\r\n                        {selectedAdForPreview.date_start}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {/* Ad Set Detail Modal */}\r\n      {showAdSetModal && selectedAdSet && (\r\n        <div\r\n          className=\"modal-overlay fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50\"\r\n          style={{\r\n            position: \"fixed\",\r\n            top: 0,\r\n            left: 0,\r\n            right: 0,\r\n            bottom: 0,\r\n            width: \"100vw\",\r\n            height: \"100vh\",\r\n            margin: 0,\r\n            padding: \"1rem\",\r\n          }}\r\n          onClick={(e) => {\r\n            if (e.target === e.currentTarget) {\r\n              setShowAdSetModal(false);\r\n              setSelectedAdSet(null);\r\n            }\r\n          }}\r\n        >\r\n          <div\r\n            className=\"video-modal-container bg-white rounded-2xl shadow-2xl max-w-5xl w-full max-h-[90vh] overflow-y-auto\"\r\n            onClick={(e) => e.stopPropagation()}\r\n          >\r\n            {/* Header */}\r\n            <div className=\"sticky top-0 bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 px-6 py-4 flex items-center justify-between z-10 rounded-t-2xl\">\r\n              <div className=\"flex-1\">\r\n                <h3 className=\"text-xl font-bold text-white truncate\">\r\n                  üìä {selectedAdSet.adset_name}\r\n                </h3>\r\n                <p className=\"text-sm text-white/80 mt-1\">\r\n                  Campaign: {selectedAdSet.campaign_name}\r\n                </p>\r\n              </div>\r\n              <button\r\n                onClick={() => {\r\n                  setShowAdSetModal(false);\r\n                  setSelectedAdSet(null);\r\n                }}\r\n                className=\"text-white hover:text-gray-200 hover:bg-white/20 rounded-full p-2 transition-all text-2xl w-10 h-10 flex items-center justify-center ml-4\"\r\n              >\r\n                ‚úï\r\n              </button>\r\n            </div>\r\n\r\n            {/* Ad Set Summary */}\r\n            <div className=\"p-6 border-b border-gray-200\">\r\n              <div className=\"grid grid-cols-2 md:grid-cols-5 gap-4\">\r\n                <div className=\"bg-blue-50 rounded-lg p-4\">\r\n                  <div className=\"text-sm text-gray-600 mb-1\">‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß</div>\r\n                  <div className=\"text-xl font-bold text-blue-700\">\r\n                    {formatCurrency(selectedAdSet.spend)}\r\n                  </div>\r\n                </div>\r\n                <div className=\"bg-green-50 rounded-lg p-4\">\r\n                  <div className=\"text-sm text-gray-600 mb-1\">New Inbox</div>\r\n                  <div className=\"text-xl font-bold text-green-700\">\r\n                    {getResultsByActionType(\r\n                      selectedAdSet.actions,\r\n                      \"onsite_conversion.messaging_first_reply\"\r\n                    )}\r\n                  </div>\r\n                </div>\r\n                <div className=\"bg-purple-50 rounded-lg p-4\">\r\n                  <div className=\"text-sm text-gray-600 mb-1\">Total Inbox</div>\r\n                  <div className=\"text-xl font-bold text-purple-700\">\r\n                    {getResultsByActionType(\r\n                      selectedAdSet.actions,\r\n                      \"onsite_conversion.total_messaging_connection\"\r\n                    )}\r\n                  </div>\r\n                </div>\r\n                <div className=\"bg-cyan-50 rounded-lg p-4\">\r\n                  <div className=\"text-sm text-gray-600 mb-1\">ThruPlay</div>\r\n                  <div className=\"text-xl font-bold text-cyan-700\">\r\n                    {(() => {\r\n                      const thruplay = selectedAdSet.actions?.find(\r\n                        (action) => action.action_type === \"video_view\"\r\n                      );\r\n                      return thruplay ? formatNumber(thruplay.value) : \"‚Äî\";\r\n                    })()}\r\n                  </div>\r\n                </div>\r\n                <div className=\"bg-orange-50 rounded-lg p-4\">\r\n                  <div className=\"text-sm text-gray-600 mb-1\">‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô/Inbox</div>\r\n                  <div className=\"text-xl font-bold text-orange-700\">\r\n                    {(() => {\r\n                      const spend = parseFloat(selectedAdSet.spend || \"0\");\r\n                      const inbox = getResultsByActionType(\r\n                        selectedAdSet.actions,\r\n                        \"onsite_conversion.total_messaging_connection\"\r\n                      );\r\n                      return inbox > 0 ? formatCurrency(spend / inbox) : \"‚Äî\";\r\n                    })()}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Ads List */}\r\n            <div className=\"p-6\">\r\n              <h4 className=\"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2\">\r\n                üéØ Ads ‡πÉ‡∏ô Ad Set ‡∏ô‡∏µ‡πâ\r\n                <span className=\"bg-purple-100 text-purple-700 text-sm px-2 py-1 rounded-full\">\r\n                  {getAdsByAdSetId(selectedAdSet.adset_id).length} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£\r\n                </span>\r\n              </h4>\r\n\r\n              {getAdsByAdSetId(selectedAdSet.adset_id).length === 0 ? (\r\n                <div className=\"text-center py-8 text-gray-500\">\r\n                  <div className=\"text-4xl mb-2\">üí≠</div>\r\n                  <p>‡πÑ‡∏°‡πà‡∏û‡∏ö Ads ‡πÉ‡∏ô Ad Set ‡∏ô‡∏µ‡πâ</p>\r\n                </div>\r\n              ) : (\r\n                <div className=\"overflow-x-auto\">\r\n                  <table className=\"w-full\">\r\n                    <thead>\r\n                      <tr className=\"border-b-2 border-gray-200 bg-gray-50\">\r\n                        <th className=\"text-center py-3 px-2 font-semibold text-gray-700 text-sm\">\r\n                          #\r\n                        </th>\r\n                        <th className=\"text-left py-3 px-2 font-semibold text-gray-700 text-sm\">\r\n                          ‡∏£‡∏π‡∏õ\r\n                        </th>\r\n                        <th className=\"text-left py-3 px-2 font-semibold text-gray-700 text-sm\">\r\n                          ‡∏ä‡∏∑‡πà‡∏≠ Ad\r\n                        </th>\r\n                        <th className=\"text-center py-3 px-2 font-semibold text-gray-700 text-sm\">\r\n                          ‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß\r\n                        </th>\r\n                        <th className=\"text-center py-3 px-2 font-semibold text-gray-700 text-sm\">\r\n                          New Inbox\r\n                        </th>\r\n                        <th className=\"text-center py-3 px-2 font-semibold text-gray-700 text-sm\">\r\n                          Total Inbox\r\n                        </th>\r\n                        <th className=\"text-center py-3 px-2 font-semibold text-gray-700 text-sm\">\r\n                          ‡∏ä‡∏∑‡πà‡∏≠-‡πÄ‡∏ö‡∏≠‡∏£‡πå\r\n                        </th>\r\n                        <th className=\"text-center py-3 px-2 font-semibold text-gray-700 text-sm\">\r\n                          ThruPlay\r\n                        </th>\r\n                        <th className=\"text-center py-3 px-2 font-semibold text-gray-700 text-sm\">\r\n                          ‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô/Inbox\r\n                        </th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {getAdsByAdSetId(selectedAdSet.adset_id)\r\n                        .sort((a, b) => {\r\n                          const inboxA = getResultsByActionType(\r\n                            a.actions,\r\n                            \"onsite_conversion.total_messaging_connection\"\r\n                          );\r\n                          const inboxB = getResultsByActionType(\r\n                            b.actions,\r\n                            \"onsite_conversion.total_messaging_connection\"\r\n                          );\r\n                          return inboxB - inboxA;\r\n                        })\r\n                        .map((ad, idx) => {\r\n                          const creative = adCreatives.get(ad.ad_id);\r\n                          const thumbnailUrl =\r\n                            creative?.thumbnail_url ||\r\n                            creative?.image_url ||\r\n                            creative?.object_story_spec?.video_data?.image_url;\r\n                          const spend = parseFloat(ad.spend || \"0\");\r\n                          const inbox = getResultsByActionType(\r\n                            ad.actions,\r\n                            \"onsite_conversion.total_messaging_connection\"\r\n                          );\r\n                          const costPerInbox = inbox > 0 ? spend / inbox : 0;\r\n                          const phoneLeads =\r\n                            topAdsPhoneLeads.get(ad.ad_id) || 0;\r\n\r\n                          return (\r\n                            <tr\r\n                              key={ad.ad_id}\r\n                              className=\"border-b border-gray-100 hover:bg-gray-50 transition-colors cursor-pointer\"\r\n                              onClick={() => {\r\n                                setSelectedAdForPreview(ad);\r\n                                setShowVideoModal(true);\r\n                              }}\r\n                            >\r\n                              <td className=\"py-3 px-2 text-center text-gray-600 font-medium\">\r\n                                {idx + 1}\r\n                              </td>\r\n                              <td className=\"py-3 px-2\">\r\n                                {thumbnailUrl ? (\r\n                                  <img\r\n                                    src={thumbnailUrl}\r\n                                    alt=\"Ad thumbnail\"\r\n                                    className=\"w-12 h-12 object-cover rounded-lg shadow-sm\"\r\n                                  />\r\n                                ) : (\r\n                                  <div className=\"w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center text-gray-400\">\r\n                                    üñºÔ∏è\r\n                                  </div>\r\n                                )}\r\n                              </td>\r\n                              <td className=\"py-3 px-2\">\r\n                                <div\r\n                                  className=\"text-gray-700 font-medium text-sm max-w-[200px] truncate\"\r\n                                  title={ad.ad_name}\r\n                                >\r\n                                  {ad.ad_name || \"‚Äî\"}\r\n                                </div>\r\n                              </td>\r\n                              <td className=\"py-3 px-2 text-center text-gray-700 font-semibold\">\r\n                                {formatCurrency(ad.spend)}\r\n                              </td>\r\n                              <td className=\"py-3 px-2 text-center font-semibold text-green-600\">\r\n                                {getResultsByActionType(\r\n                                  ad.actions,\r\n                                  \"onsite_conversion.messaging_first_reply\"\r\n                                )}\r\n                              </td>\r\n                              <td className=\"py-3 px-2 text-center font-semibold text-blue-600\">\r\n                                {getResultsByActionType(\r\n                                  ad.actions,\r\n                                  \"onsite_conversion.total_messaging_connection\"\r\n                                )}\r\n                              </td>\r\n                              <td className=\"py-3 px-2 text-center font-semibold text-purple-600\">\r\n                                {phoneLeads}\r\n                              </td>\r\n                              <td className=\"py-3 px-2 text-center font-semibold text-cyan-600\">\r\n                                {(() => {\r\n                                  const thruplay = ad.actions?.find(\r\n                                    (action) =>\r\n                                      action.action_type === \"video_view\"\r\n                                  );\r\n                                  return thruplay\r\n                                    ? formatNumber(thruplay.value)\r\n                                    : \"‚Äî\";\r\n                                })()}\r\n                              </td>\r\n                              <td className=\"py-3 px-2 text-center text-gray-700\">\r\n                                {costPerInbox > 0\r\n                                  ? formatCurrency(costPerInbox)\r\n                                  : \"‚Äî\"}\r\n                              </td>\r\n                            </tr>\r\n                          );\r\n                        })}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Main Content Layout */}\r\n      <div className=\"px-3 sm:px-6 py-3 sm:py-6\">\r\n        {/* Page 1 Content */}\r\n        {selectedPage === 1 && (\r\n          <>\r\n            {/* Performance Cards and Tables in 3-Column Layout */}\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4\">\r\n              {/* Column 1: ‡πÄ‡∏á‡∏¥‡∏ô‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠ + ‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏£‡∏ß‡∏° */}\r\n              <div className=\"flex flex-col\">\r\n                {/* Card */}\r\n                <div className=\"bg-gradient-to-br from-blue-500 via-blue-600 to-blue-700 rounded-2xl sm:rounded-3xl p-4 sm:p-8 text-white shadow-2xl\">\r\n                  <div className=\"grid grid-cols-2 gap-2 sm:gap-4\">\r\n                    <div className=\"text-center\">\r\n                      <div className=\"text-xs sm:text-base font-semibold opacity-90 mb-1 sm:mb-2\">\r\n                        üíµ ‡πÄ‡∏á‡∏¥‡∏ô‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠\r\n                      </div>\r\n                      <div className=\"text-xl sm:text-3xl font-bold\">\r\n                        {facebookBalanceLoading ? (\r\n                          <span className=\"text-2xl\">‚è≥</span>\r\n                        ) : (\r\n                          `‡∏ø${facebookBalance.toLocaleString(\"th-TH\", {\r\n                            minimumFractionDigits: 2,\r\n                            maximumFractionDigits: 2,\r\n                          })}`\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"text-center\">\r\n                      <div className=\"text-xs sm:text-base font-semibold opacity-90 mb-1 sm:mb-2\">\r\n                        üí∞ ‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏£‡∏ß‡∏°\r\n                      </div>\r\n                      <div className=\"text-xl sm:text-3xl font-bold\">\r\n                        {formatCurrency(\r\n                          insights.reduce(\r\n                            (sum, ad) => sum + parseFloat(ad.spend || \"0\"),\r\n                            0\r\n                          )\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                {/* Table */}\r\n                <div className=\"bg-white rounded-b-2xl sm:rounded-b-3xl shadow-2xl overflow-hidden border border-gray-100 border-t-0 flex-1 mt-0\">\r\n                  <div className=\"overflow-y-auto max-h-[120px]\">\r\n                    <table className=\"w-full min-w-max text-xs\">\r\n                      <thead className=\"bg-blue-50 sticky top-0\">\r\n                        <tr>\r\n                          <th className=\"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap\">\r\n                            ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà\r\n                          </th>\r\n                          <th className=\"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap\">\r\n                            ‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß\r\n                          </th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {dailySummaryLoading ? (\r\n                          <tr>\r\n                            <td\r\n                              colSpan={2}\r\n                              className=\"px-2 py-4 text-center text-xs\"\r\n                            >\r\n                              ‚è≥\r\n                            </td>\r\n                          </tr>\r\n                        ) : (\r\n                          (() => {\r\n                            const dailyData = new Map<string, { spend: number }>();\r\n                            dailySummaryData.forEach((ad) => {\r\n                              const date = ad.date_start;\r\n                              const existing = dailyData.get(date) || { spend: 0 };\r\n                              existing.spend += parseFloat(ad.spend || \"0\");\r\n                              dailyData.set(date, existing);\r\n                            });\r\n                            const sortedDates = Array.from(dailyData.keys()).sort(\r\n                              (a, b) =>\r\n                                new Date(b).getTime() - new Date(a).getTime()\r\n                            );\r\n                            const last30Days = sortedDates.slice(1, 31);\r\n                            return last30Days.map((date) => {\r\n                              const data = dailyData.get(date)!;\r\n                              return (\r\n                                <tr\r\n                                  key={date}\r\n                                  className=\"hover:bg-blue-50 border-b\"\r\n                                >\r\n                                  <td className=\"px-2 py-2 text-center text-xs text-gray-900\">\r\n                                    {new Date(date).toLocaleDateString(\"th-TH\", {\r\n                                      month: \"short\",\r\n                                      day: \"numeric\",\r\n                                    })}\r\n                                  </td>\r\n                                  <td className=\"px-2 py-2 text-center text-xs font-semibold text-blue-600\">\r\n                                    {formatCurrency(data.spend)}\r\n                                  </td>\r\n                                </tr>\r\n                              );\r\n                            });\r\n                          })()\r\n                        )}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Column 2: New Inbox & Total Inbox */}\r\n              <div className=\"flex flex-col\">\r\n                {/* Card */}\r\n                <div className=\"bg-gradient-to-br from-teal-500 via-teal-600 to-cyan-600 rounded-2xl sm:rounded-3xl p-4 sm:p-8 text-white shadow-2xl\">\r\n                  <div className=\"grid grid-cols-2 gap-2 sm:gap-4\">\r\n                    <div className=\"text-center\">\r\n                      <div className=\"text-xs sm:text-base font-semibold opacity-90 mb-1 sm:mb-3\">\r\n                        New Inbox\r\n                      </div>\r\n                      <div className=\"text-xl sm:text-4xl font-bold\">\r\n                        {getTotalResults()}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"text-center\">\r\n                      <div className=\"text-xs sm:text-base font-semibold opacity-90 mb-1 sm:mb-3\">\r\n                        Total Inbox\r\n                      </div>\r\n                      <div className=\"text-xl sm:text-4xl font-bold\">\r\n                        {getTotalMessagingConnection()}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                {/* Table */}\r\n                <div className=\"bg-white rounded-b-2xl sm:rounded-b-3xl shadow-2xl overflow-hidden border border-gray-100 border-t-0 flex-1 mt-0\">\r\n                  <div className=\"overflow-y-auto max-h-[120px]\">\r\n                    <table className=\"w-full min-w-max text-xs\">\r\n                      <thead className=\"bg-teal-50 sticky top-0\">\r\n                        <tr>\r\n                          <th className=\"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap\">\r\n                            ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà\r\n                          </th>\r\n                          <th className=\"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap\">\r\n                            New Inbox\r\n                          </th>\r\n                          <th className=\"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap\">\r\n                            Total Inbox\r\n                          </th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {dailySummaryLoading ? (\r\n                          <tr>\r\n                            <td\r\n                              colSpan={3}\r\n                              className=\"px-2 py-4 text-center text-xs\"\r\n                            >\r\n                              ‚è≥\r\n                            </td>\r\n                          </tr>\r\n                        ) : (\r\n                          (() => {\r\n                            const dailyData = new Map<\r\n                              string,\r\n                              { newInbox: number; totalInbox: number }\r\n                            >();\r\n                            dailySummaryData.forEach((ad) => {\r\n                              const date = ad.date_start;\r\n                              const existing = dailyData.get(date) || {\r\n                                newInbox: 0,\r\n                                totalInbox: 0,\r\n                              };\r\n                              existing.newInbox += getResultsByActionType(\r\n                                ad.actions,\r\n                                \"onsite_conversion.messaging_first_reply\"\r\n                              );\r\n                              existing.totalInbox += getResultsByActionType(\r\n                                ad.actions,\r\n                                \"onsite_conversion.total_messaging_connection\"\r\n                              );\r\n                              dailyData.set(date, existing);\r\n                            });\r\n                            const sortedDates = Array.from(dailyData.keys()).sort(\r\n                              (a, b) =>\r\n                                new Date(b).getTime() - new Date(a).getTime()\r\n                            );\r\n                            const last30Days = sortedDates.slice(1, 31);\r\n                            return last30Days.map((date) => {\r\n                              const data = dailyData.get(date)!;\r\n                              return (\r\n                                <tr\r\n                                  key={date}\r\n                                  className=\"hover:bg-teal-50 border-b\"\r\n                                >\r\n                                  <td className=\"px-2 py-2 text-center text-xs text-gray-900\">\r\n                                    {new Date(date).toLocaleDateString(\"th-TH\", {\r\n                                      month: \"short\",\r\n                                      day: \"numeric\",\r\n                                    })}\r\n                                  </td>\r\n                                  <td className=\"px-2 py-2 text-center text-xs font-semibold text-green-600\">\r\n                                    {data.newInbox}\r\n                                  </td>\r\n                                  <td className=\"px-2 py-2 text-center text-xs font-semibold text-teal-600\">\r\n                                    {data.totalInbox}\r\n                                  </td>\r\n                                </tr>\r\n                              );\r\n                            });\r\n                          })()\r\n                        )}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Column 3: ‡∏ä‡∏∑‡πà‡∏≠ - ‡πÄ‡∏ö‡∏≠‡∏£‡πå */}\r\n              <div className=\"flex flex-col\">\r\n                {/* Card */}\r\n                <div className=\"bg-gradient-to-br from-purple-500 via-purple-600 to-indigo-600 rounded-2xl sm:rounded-3xl p-4 sm:p-8 text-white shadow-2xl text-center\">\r\n                  <div className=\"text-base sm:text-xl font-semibold mb-2 sm:mb-3 opacity-90\">\r\n                    üìû ‡∏ä‡∏∑‡πà‡∏≠ - ‡πÄ‡∏ö‡∏≠‡∏£‡πå\r\n                  </div>\r\n                  <div className=\"text-2xl sm:text-4xl font-bold\">\r\n                    {phoneCountLoading ? (\r\n                      <span className=\"text-3xl\">‚è≥</span>\r\n                    ) : (\r\n                      <div>{phoneCountData.total.toLocaleString()}</div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n                {/* Table */}\r\n                <div className=\"bg-white rounded-b-2xl sm:rounded-b-3xl shadow-2xl overflow-hidden border border-gray-100 border-t-0 flex-1 mt-0\">\r\n                  <div className=\"overflow-y-auto max-h-[120px]\">\r\n                    <table className=\"w-full min-w-max text-xs\">\r\n                      <thead className=\"bg-purple-50 sticky top-0\">\r\n                        <tr>\r\n                          <th className=\"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap\">\r\n                            ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà\r\n                          </th>\r\n                          <th className=\"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap\">\r\n                            ‡πÄ‡∏ö‡∏≠‡∏£‡πå\r\n                          </th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {phoneLeadsLoading ? (\r\n                          <tr>\r\n                            <td\r\n                              colSpan={2}\r\n                              className=\"px-2 py-4 text-center text-xs\"\r\n                            >\r\n                              ‚è≥\r\n                            </td>\r\n                          </tr>\r\n                        ) : (\r\n                          Object.entries(phoneLeadsData)\r\n                            .sort(\r\n                              ([dateA], [dateB]) =>\r\n                                new Date(dateB).getTime() -\r\n                                new Date(dateA).getTime()\r\n                            )\r\n                            .slice(1)\r\n                            .map(([date, count]) => (\r\n                              <tr\r\n                                key={date}\r\n                                className=\"hover:bg-purple-50 border-b\"\r\n                              >\r\n                                <td className=\"px-2 py-2 text-center text-xs text-gray-900\">\r\n                                  {new Date(date).toLocaleDateString(\"th-TH\", {\r\n                                    month: \"short\",\r\n                                    day: \"numeric\",\r\n                                  })}\r\n                                </td>\r\n                                <td className=\"px-2 py-2 text-center text-xs font-semibold text-purple-600\">\r\n                                  {count}\r\n                                </td>\r\n                              </tr>\r\n                            ))\r\n                        )}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* TOP Ads Section - Two Column Layout */}\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mt-4 sm:mt-8\">\r\n              {/* Left Column - TOP Ads Table */}\r\n              <div className=\"bg-white rounded-2xl sm:rounded-3xl shadow-2xl p-4 sm:p-8 border border-gray-100\">\r\n                <div className=\"bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 px-4 sm:px-8 py-4 sm:py-6 -m-4 sm:-m-8 mb-4 sm:mb-8 relative overflow-hidden rounded-t-2xl sm:rounded-t-3xl\">\r\n                  <div className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-10 transition-opacity duration-500\"></div>\r\n                </div>\r\n                <div className=\"flex flex-col gap-3 mb-3 sm:mb-4\">\r\n                  <h2 className=\"text-lg sm:text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent flex items-center gap-2\">\r\n                    üèÜ TOP {topAdsLimit === \"all\" ? \"‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î\" : topAdsLimit} Ads{\" \"}\r\n                    <span className=\"bg-gradient-to-r from-yellow-400 via-orange-400 to-red-500 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-full text-base sm:text-xl font-bold shadow-xl\">\r\n                      ‡∏ô‡∏±‡∏Å‡πÄ‡∏ï‡∏∞‡∏¢‡∏≠‡∏î‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°\r\n                    </span>\r\n                  </h2>\r\n                  <div className=\"flex flex-col sm:flex-row gap-2 w-full\">\r\n                    {/* Sort By Buttons */}\r\n                    <div className=\"flex gap-2 flex-1\">\r\n                      <button\r\n                        onClick={() => setTopAdsSortBy(\"leads\")}\r\n                        className={`flex-1 sm:flex-none px-3 sm:px-4 py-2 rounded-lg font-medium text-xs sm:text-sm transition-all ${topAdsSortBy === \"leads\"\r\n                          ? \"bg-purple-600 text-white shadow-lg\"\r\n                          : \"bg-gray-200 text-gray-700 hover:bg-gray-300\"\r\n                          }`}\r\n                      >\r\n                        <span className=\"hidden sm:inline\">\r\n                          üí¨ Total Inbox (‡∏°‡∏≤‡∏Å ‚Üí ‡∏ô‡πâ‡∏≠‡∏¢)\r\n                        </span>\r\n                        <span className=\"sm:hidden\">üí¨ Inbox</span>\r\n                      </button>\r\n                      <button\r\n                        onClick={() => setTopAdsSortBy(\"phone\")}\r\n                        className={`flex-1 sm:flex-none px-3 sm:px-4 py-2 rounded-lg font-medium text-xs sm:text-sm transition-all ${topAdsSortBy === \"phone\"\r\n                          ? \"bg-purple-600 text-white shadow-lg\"\r\n                          : \"bg-gray-200 text-gray-700 hover:bg-gray-300\"\r\n                          }`}\r\n                      >\r\n                        <span className=\"hidden sm:inline\">\r\n                          üìû ‡∏ä‡∏∑‡πà‡∏≠ - ‡πÄ‡∏ö‡∏≠‡∏£‡πå (‡∏°‡∏≤‡∏Å ‚Üí ‡∏ô‡πâ‡∏≠‡∏¢)\r\n                        </span>\r\n                        <span className=\"sm:hidden\">üìû ‡πÄ‡∏ö‡∏≠‡∏£‡πå</span>\r\n                      </button>\r\n                      <button\r\n                        onClick={() => setTopAdsSortBy(\"cost\")}\r\n                        className={`flex-1 sm:flex-none px-3 sm:px-4 py-2 rounded-lg font-medium text-xs sm:text-sm transition-all ${topAdsSortBy === \"cost\"\r\n                          ? \"bg-purple-600 text-white shadow-lg\"\r\n                          : \"bg-gray-200 text-gray-700 hover:bg-gray-300\"\r\n                          }`}\r\n                      >\r\n                        <span className=\"hidden sm:inline\">\r\n                          üí∞ ‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô (‡∏ô‡πâ‡∏≠‡∏¢ ‚Üí ‡∏°‡∏≤‡∏Å)\r\n                        </span>\r\n                        <span className=\"sm:hidden\">üí∞ Cost</span>\r\n                      </button>\r\n                      <button\r\n                        onClick={() => setTopAdsSortBy(\"thruplay\")}\r\n                        className={`flex-1 sm:flex-none px-3 sm:px-4 py-2 rounded-lg font-medium text-xs sm:text-sm transition-all ${topAdsSortBy === \"thruplay\"\r\n                          ? \"bg-purple-600 text-white shadow-lg\"\r\n                          : \"bg-gray-200 text-gray-700 hover:bg-gray-300\"\r\n                          }`}\r\n                      >\r\n                        <span className=\"hidden sm:inline\">\r\n                          üé¨ ThruPlay (‡∏°‡∏≤‡∏Å ‚Üí ‡∏ô‡πâ‡∏≠‡∏¢)\r\n                        </span>\r\n                        <span className=\"sm:hidden\">üé¨ ThruPlay</span>\r\n                      </button>\r\n                    </div>\r\n                    {/* Top Ads Limit Dropdown */}\r\n                    <select\r\n                      value={topAdsLimit}\r\n                      onChange={(e) => {\r\n                        const value = e.target.value;\r\n                        setTopAdsLimit(\r\n                          value === \"all\"\r\n                            ? \"all\"\r\n                            : (Number(value) as 5 | 10 | 15 | 20 | 30)\r\n                        );\r\n                      }}\r\n                      className=\"flex-1 sm:flex-none sm:min-w-[140px] px-3 py-2 rounded-lg font-medium text-xs sm:text-sm bg-gradient-to-r from-yellow-400 to-orange-400 text-gray-800 hover:from-yellow-500 hover:to-orange-500 transition-all border-2 border-yellow-500 shadow-lg cursor-pointer\"\r\n                    >\r\n                      <option value={5}>‚≠ê Top 5</option>\r\n                      <option value={10}>‚≠ê Top 10</option>\r\n                      <option value={15}>‚≠ê Top 15</option>\r\n                      <option value={20}>‚≠ê Top 20</option>\r\n                      <option value={30}>‚≠ê Top 30</option>\r\n                      <option value=\"all\">‚≠ê Top ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n                <div className=\"overflow-x-auto\">\r\n                  {/* Loading State */}\r\n                  {creativesLoading && adCreatives.size === 0 && (\r\n                    <div className=\"bg-blue-50 border-l-4 border-blue-500 p-3 mb-4 rounded\">\r\n                      <p className=\"text-blue-700 text-sm font-medium\">\r\n                        ‚è≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÇ‡∏Ü‡∏©‡∏ì‡∏≤...\r\n                      </p>\r\n                    </div>\r\n                  )}\r\n                  {/* Success State */}\r\n                  {/* {!creativesLoading && adCreatives.size > 0 && (\r\n                  <div className=\"bg-green-50 border-l-4 border-green-500 p-3 mb-4 rounded\">\r\n                    <p className=\"text-green-700 text-sm font-medium\">\r\n                      ‚úÖ ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à {adCreatives.size} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£\r\n                    </p>\r\n                  </div>\r\n                )} */}\r\n                  <table className=\"w-full\" key={`table-${adCreatives.size}`}>\r\n                    <thead>\r\n                      <tr className=\"border-b-2 border-gradient-to-r from-blue-200 via-purple-200 to-pink-200\">\r\n                        <th className=\"text-center py-2 px-1 font-semibold text-gray-700 text-sm\">\r\n                          #\r\n                        </th>\r\n                        <th className=\"text-center py-2 px-1 font-semibold text-gray-700 text-sm\">\r\n                          Ad Image\r\n                        </th>\r\n                        <th className=\"text-center py-2 px-1 font-semibold text-gray-700 text-sm\">\r\n                          ‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß\r\n                        </th>\r\n                        <th className=\"text-center py-2 px-1 font-semibold text-gray-700 text-sm\">\r\n                          New Inbox\r\n                        </th>\r\n                        <th className=\"text-center py-2 px-1 font-semibold text-gray-700 text-sm\">\r\n                          Total Inbox\r\n                        </th>\r\n                        <th className=\"text-center py-2 px-1 font-semibold text-gray-700 text-sm\">\r\n                          ‡∏ä‡∏∑‡πà‡∏≠ - ‡πÄ‡∏ö‡∏≠‡∏£‡πå\r\n                        </th>\r\n                        <th className=\"text-center py-2 px-1 font-semibold text-gray-700 text-sm\">\r\n                          ThruPlay\r\n                        </th>\r\n                        <th className=\"text-center py-2 px-1 font-semibold text-gray-700 text-sm\">\r\n                          ‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô Inbox\r\n                        </th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody key={`tbody-${adCreatives.size}-${Date.now()}`}>\r\n                      {getTopAdsFilteredInsights()\r\n                        .sort((a, b) => {\r\n                          if (topAdsSortBy === \"leads\") {\r\n                            // ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏≤‡∏° Total Inbox ‡∏à‡∏≤‡∏Å‡∏°‡∏≤‡∏Å‡πÑ‡∏õ‡∏ô‡πâ‡∏≠‡∏¢\r\n                            const totalInboxA = getResultsByActionType(\r\n                              a.actions,\r\n                              \"onsite_conversion.total_messaging_connection\"\r\n                            );\r\n                            const totalInboxB = getResultsByActionType(\r\n                              b.actions,\r\n                              \"onsite_conversion.total_messaging_connection\"\r\n                            );\r\n                            return totalInboxB - totalInboxA;\r\n                          } else if (topAdsSortBy === \"phone\") {\r\n                            // ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏≤‡∏° ‡∏ä‡∏∑‡πà‡∏≠ - ‡πÄ‡∏ö‡∏≠‡∏£‡πå ‡∏à‡∏≤‡∏Å‡∏°‡∏≤‡∏Å‡πÑ‡∏õ‡∏ô‡πâ‡∏≠‡∏¢\r\n                            const phoneLeadsA = topAdsPhoneLeads.get(a.ad_id) || 0;\r\n                            const phoneLeadsB = topAdsPhoneLeads.get(b.ad_id) || 0;\r\n                            return phoneLeadsB - phoneLeadsA;\r\n                          } else if (topAdsSortBy === \"thruplay\") {\r\n                            // ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏≤‡∏° ThruPlay ‡∏à‡∏≤‡∏Å‡∏°‡∏≤‡∏Å‡πÑ‡∏õ‡∏ô‡πâ‡∏≠‡∏¢\r\n                            const thruplayA = a.actions?.find(\r\n                              (action) => action.action_type === \"video_view\"\r\n                            );\r\n                            const thruplayB = b.actions?.find(\r\n                              (action) => action.action_type === \"video_view\"\r\n                            );\r\n                            const valueA = thruplayA\r\n                              ? parseFloat(thruplayA.value)\r\n                              : 0;\r\n                            const valueB = thruplayB\r\n                              ? parseFloat(thruplayB.value)\r\n                              : 0;\r\n                            return valueB - valueA;\r\n                          } else {\r\n                            // ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏≤‡∏° cost per messaging connection ‡∏à‡∏≤‡∏Å‡∏ô‡πâ‡∏≠‡∏¢‡πÑ‡∏õ‡∏°‡∏≤‡∏Å\r\n                            const costA = a.cost_per_action_type?.find(\r\n                              (cost) =>\r\n                                cost.action_type ===\r\n                                \"onsite_conversion.total_messaging_connection\"\r\n                            );\r\n                            const costB = b.cost_per_action_type?.find(\r\n                              (cost) =>\r\n                                cost.action_type ===\r\n                                \"onsite_conversion.total_messaging_connection\"\r\n                            );\r\n                            const valueA = costA\r\n                              ? parseFloat(costA.value)\r\n                              : Infinity;\r\n                            const valueB = costB\r\n                              ? parseFloat(costB.value)\r\n                              : Infinity;\r\n                            return valueA - valueB;\r\n                          }\r\n                        })\r\n                        .slice(0, topAdsLimit === \"all\" ? undefined : topAdsLimit)\r\n                        .map((ad, index) => {\r\n                          const creative = adCreatives.get(ad.ad_id);\r\n                          console.log(\r\n                            `üñºÔ∏è [Render TOP ${index + 1}] Ad:`,\r\n                            ad.ad_id,\r\n                            ad.ad_name?.substring(0, 30),\r\n                            \"| Creative:\",\r\n                            creative\r\n                              ? {\r\n                                id: creative.id,\r\n                                has_thumbnail: !!creative.thumbnail_url,\r\n                                has_image: !!creative.image_url,\r\n                                thumbnail_preview:\r\n                                  creative.thumbnail_url?.substring(0, 60),\r\n                              }\r\n                              : \"NO CREATIVE DATA\"\r\n                          );\r\n                          console.log(\r\n                            \"üì¶ [Render] adCreatives Map:\",\r\n                            \"size=\",\r\n                            adCreatives.size,\r\n                            \"| Has this ad?\",\r\n                            adCreatives.has(ad.ad_id),\r\n                            \"| All ad IDs in map:\",\r\n                            Array.from(adCreatives.keys())\r\n                          );\r\n                          return (\r\n                            <tr\r\n                              key={ad.ad_id}\r\n                              className=\"border-b border-gray-100 hover:bg-gradient-to-r hover:from-blue-50 hover:via-purple-50 hover:to-pink-50 transition-all duration-300 hover:shadow-md\"\r\n                            >\r\n                              <td className=\"py-2 px-1 text-center\">\r\n                                <div className=\"text-gray-700 font-bold text-lg\">\r\n                                  {index + 1}\r\n                                </div>\r\n                              </td>\r\n                              <td className=\"py-2 px-1 text-center\">\r\n                                <div\r\n                                  className=\"relative group cursor-pointer flex justify-center items-center\"\r\n                                  onClick={() => {\r\n                                    setSelectedAdForPreview(ad);\r\n                                    setShowVideoModal(true);\r\n                                  }}\r\n                                >\r\n                                  {(() => {\r\n                                    const videoId =\r\n                                      creative?.object_story_spec?.video_data\r\n                                        ?.video_id || creative?.video_id;\r\n                                    const thumbnailUrl =\r\n                                      creative?.thumbnail_url ||\r\n                                      creative?.image_url;\r\n                                    const localVideoPath = videoId ? `/images/video/${videoId}.mp4` : null;\r\n\r\n                                    // ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ videoId - ‡πÅ‡∏™‡∏î‡∏á video preview ‡∏ó‡∏µ‡πà‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ 3 ‡∏ß‡∏¥ ‡πÄ‡∏°‡∏∑‡πà‡∏≠ hover\r\n                                    if (videoId && localVideoPath) {\r\n                                      return (\r\n                                        <div className=\"w-20 h-20 flex-shrink-0 relative overflow-hidden rounded-lg shadow-sm hover:shadow-md transition-shadow\">\r\n                                          {/* Video Preview - ‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ loop ‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 3 ‡∏ß‡∏¥ */}\r\n                                          <video\r\n                                            src={localVideoPath}\r\n                                            className=\"w-full h-full object-cover\"\r\n                                            muted\r\n                                            loop\r\n                                            playsInline\r\n                                            autoPlay\r\n                                            onLoadedMetadata={(e) => {\r\n                                              const video = e.currentTarget;\r\n                                              // ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡πÉ‡∏´‡πâ‡πÄ‡∏•‡πà‡∏ô‡πÅ‡∏Ñ‡πà 3 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ‡πÅ‡∏£‡∏Å\r\n                                              video.currentTime = 0;\r\n                                              const checkTime = () => {\r\n                                                if (video.currentTime >= 3) {\r\n                                                  video.currentTime = 0;\r\n                                                }\r\n                                              };\r\n                                              video.addEventListener('timeupdate', checkTime);\r\n                                            }}\r\n                                            onError={(e) => {\r\n                                              // ‡∏ñ‡πâ‡∏≤‡πÇ‡∏´‡∏•‡∏î‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ ‡πÅ‡∏™‡∏î‡∏á thumbnail ‡πÅ‡∏ó‡∏ô\r\n                                              const video = e.currentTarget;\r\n                                              video.style.display = 'none';\r\n                                              const parent = video.parentElement;\r\n                                              if (parent && thumbnailUrl) {\r\n                                                const img = document.createElement('img');\r\n                                                img.src = thumbnailUrl;\r\n                                                img.className = 'w-full h-full object-cover';\r\n                                                img.alt = 'Ad preview';\r\n                                                parent.appendChild(img);\r\n                                              }\r\n                                            }}\r\n                                          />\r\n                                          {/* Play icon overlay */}\r\n                                          <div className=\"absolute inset-0 flex items-center justify-center bg-black bg-opacity-20 opacity-0 group-hover:opacity-100 transition-opacity\">\r\n                                            <span className=\"text-white text-2xl drop-shadow-lg\">‚ñ∂Ô∏è</span>\r\n                                          </div>\r\n                                        </div>\r\n                                      );\r\n                                    }\r\n\r\n                                    // ‡πÅ‡∏™‡∏î‡∏á thumbnail ‡∏û‡∏£‡πâ‡∏≠‡∏° play icon ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠\r\n                                    if (thumbnailUrl) {\r\n                                      return (\r\n                                        <div className=\"w-20 h-20 flex-shrink-0 relative\">\r\n                                          <img\r\n                                            src={thumbnailUrl}\r\n                                            alt=\"Ad preview\"\r\n                                            className=\"w-full h-full object-cover rounded-lg shadow-sm cursor-pointer hover:shadow-md transition-shadow\"\r\n                                            onError={(e) => {\r\n                                              e.currentTarget.src =\r\n                                                \"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='80' height='80'%3E%3Crect width='80' height='80' fill='%23e5e7eb'/%3E%3Ctext x='50%25' y='50%25' text-anchor='middle' dy='.3em' fill='%239ca3af' font-size='12'%3ENo Image%3C/text%3E%3C/svg%3E\";\r\n                                            }}\r\n                                          />\r\n                                          {videoId && (\r\n                                            <div className=\"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30 rounded-lg\">\r\n                                              <span className=\"text-white text-2xl\">‚ñ∂Ô∏è</span>\r\n                                            </div>\r\n                                          )}\r\n                                        </div>\r\n                                      );\r\n                                    }\r\n                                    // ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ó‡∏±‡πâ‡∏á‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡πÅ‡∏•‡∏∞‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û\r\n                                    return (\r\n                                      <div className=\"w-20 h-20 bg-gray-100 rounded-lg flex items-center justify-center\">\r\n                                        <span className=\"text-gray-400 text-xs\">\r\n                                          üì∑\r\n                                        </span>\r\n                                      </div>\r\n                                    );\r\n                                  })()}\r\n                                </div>\r\n                              </td>\r\n                              <td className=\"py-2 px-1 text-center text-gray-700 font-semibold text-xl\">\r\n                                {formatCurrency(ad.spend)}\r\n                              </td>\r\n                              <td className=\"py-2 px-1 text-center font-semibold text-green-700 text-xl\">\r\n                                {getResultsByActionType(\r\n                                  ad.actions,\r\n                                  \"onsite_conversion.messaging_first_reply\"\r\n                                )}\r\n                              </td>\r\n                              <td className=\"py-2 px-1 text-center font-semibold text-blue-700 text-xl\">\r\n                                {getResultsByActionType(\r\n                                  ad.actions,\r\n                                  \"onsite_conversion.total_messaging_connection\"\r\n                                )}\r\n                              </td>\r\n                              <td className=\"py-2 px-1 text-center font-semibold text-purple-700 text-xl\">\r\n                                {topAdsPhoneLeadsLoading ? (\r\n                                  <span className=\"text-sm\">‚è≥</span>\r\n                                ) : (\r\n                                  topAdsPhoneLeads.get(ad.ad_id) || 0\r\n                                )}\r\n                              </td>\r\n                              <td className=\"py-2 px-1 text-center text-gray-700 text-xl\">\r\n                                {(() => {\r\n                                  const thruplay = ad.actions?.find(\r\n                                    (action) => action.action_type === \"video_view\"\r\n                                  );\r\n                                  return thruplay\r\n                                    ? formatNumber(thruplay.value)\r\n                                    : \"‚Äî\";\r\n                                })()}\r\n                              </td>\r\n                              <td className=\"py-2 px-1 text-center text-gray-700 text-xl\">\r\n                                {(() => {\r\n                                  const costPerMessaging =\r\n                                    ad.cost_per_action_type?.find(\r\n                                      (cost) =>\r\n                                        cost.action_type ===\r\n                                        \"onsite_conversion.total_messaging_connection\"\r\n                                    );\r\n                                  return costPerMessaging\r\n                                    ? formatCurrency(costPerMessaging.value)\r\n                                    : \"‚Äî\";\r\n                                })()}\r\n                              </td>\r\n                            </tr>\r\n                          );\r\n                        })}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Right Column - TOP Ad Set Table */}\r\n              <div className=\"bg-white rounded-2xl sm:rounded-3xl shadow-2xl p-4 sm:p-8 border border-gray-100\">\r\n                <div className=\"bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 px-4 sm:px-8 py-4 sm:py-6 -m-4 sm:-m-8 mb-4 sm:mb-8 relative overflow-hidden rounded-t-2xl sm:rounded-t-3xl\">\r\n                  <div className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-10 transition-opacity duration-500\"></div>\r\n                </div>\r\n                <div className=\"flex flex-col gap-3 mb-3 sm:mb-4\">\r\n                  <h2 className=\"text-lg sm:text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent flex items-center gap-2\">\r\n                    üèÜ TOP {topAdSetLimit === \"all\" ? \"‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î\" : topAdSetLimit} Ad\r\n                    Set{\" \"}\r\n                    <span className=\"bg-gradient-to-r from-yellow-400 via-orange-400 to-red-500 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-full text-base sm:text-xl font-bold shadow-xl\">\r\n                      ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏¢‡∏≠‡∏î‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°\r\n                    </span>\r\n                  </h2>\r\n                  <div className=\"flex flex-col sm:flex-row gap-2 w-full\">\r\n                    {/* Sort By Buttons */}\r\n                    <div className=\"flex gap-2 flex-1\">\r\n                      <button\r\n                        onClick={() => setTopAdSetSortBy(\"leads\")}\r\n                        className={`flex-1 sm:flex-none px-3 sm:px-4 py-2 rounded-lg font-medium text-xs sm:text-sm transition-all ${topAdSetSortBy === \"leads\"\r\n                          ? \"bg-purple-600 text-white shadow-lg\"\r\n                          : \"bg-gray-200 text-gray-700 hover:bg-gray-300\"\r\n                          }`}\r\n                      >\r\n                        <span className=\"hidden sm:inline\">\r\n                          üí¨ Total Inbox (‡∏°‡∏≤‡∏Å ‚Üí ‡∏ô‡πâ‡∏≠‡∏¢)\r\n                        </span>\r\n                        <span className=\"sm:hidden\">üí¨ Inbox</span>\r\n                      </button>\r\n                      <button\r\n                        onClick={() => setTopAdSetSortBy(\"phone\")}\r\n                        className={`flex-1 sm:flex-none px-3 sm:px-4 py-2 rounded-lg font-medium text-xs sm:text-sm transition-all ${topAdSetSortBy === \"phone\"\r\n                          ? \"bg-purple-600 text-white shadow-lg\"\r\n                          : \"bg-gray-200 text-gray-700 hover:bg-gray-300\"\r\n                          }`}\r\n                      >\r\n                        <span className=\"hidden sm:inline\">\r\n                          üìû ‡∏ä‡∏∑‡πà‡∏≠ - ‡πÄ‡∏ö‡∏≠‡∏£‡πå (‡∏°‡∏≤‡∏Å ‚Üí ‡∏ô‡πâ‡∏≠‡∏¢)\r\n                        </span>\r\n                        <span className=\"sm:hidden\">üìû ‡πÄ‡∏ö‡∏≠‡∏£‡πå</span>\r\n                      </button>\r\n                      <button\r\n                        onClick={() => setTopAdSetSortBy(\"thruplay\")}\r\n                        className={`flex-1 sm:flex-none px-3 sm:px-4 py-2 rounded-lg font-medium text-xs sm:text-sm transition-all ${topAdSetSortBy === \"thruplay\"\r\n                          ? \"bg-purple-600 text-white shadow-lg\"\r\n                          : \"bg-gray-200 text-gray-700 hover:bg-gray-300\"\r\n                          }`}\r\n                      >\r\n                        <span className=\"hidden sm:inline\">\r\n                          üé¨ ThruPlay (‡∏°‡∏≤‡∏Å ‚Üí ‡∏ô‡πâ‡∏≠‡∏¢)\r\n                        </span>\r\n                        <span className=\"sm:hidden\">üé¨ ThruPlay</span>\r\n                      </button>\r\n                    </div>\r\n                    {/* Top Ad Set Limit Dropdown */}\r\n                    <select\r\n                      value={topAdSetLimit}\r\n                      onChange={(e) => {\r\n                        const value = e.target.value;\r\n                        setTopAdSetLimit(\r\n                          value === \"all\"\r\n                            ? \"all\"\r\n                            : (Number(value) as 5 | 10 | 15 | 20 | 30)\r\n                        );\r\n                      }}\r\n                      className=\"flex-1 sm:flex-none sm:min-w-[140px] px-3 py-2 rounded-lg font-medium text-xs sm:text-sm bg-gradient-to-r from-yellow-400 to-orange-400 text-gray-800 hover:from-yellow-500 hover:to-orange-500 transition-all border-2 border-yellow-500 shadow-lg cursor-pointer\"\r\n                    >\r\n                      <option value={5}>‚≠ê Top 5</option>\r\n                      <option value={10}>‚≠ê Top 10</option>\r\n                      <option value={15}>‚≠ê Top 15</option>\r\n                      <option value={20}>‚≠ê Top 20</option>\r\n                      <option value={30}>‚≠ê Top 30</option>\r\n                      <option value=\"all\">‚≠ê Top ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>\r\n                    </select>\r\n                  </div>\r\n                  {/* Campaign Type Filter Buttons (TOF/MOF/BOF) */}\r\n                  <div className=\"flex gap-2\">\r\n                    <button\r\n                      onClick={() => {\r\n                        const newFilter = new Set(adSetCampaignFilter);\r\n                        if (newFilter.has(\"TOF\")) {\r\n                          newFilter.delete(\"TOF\");\r\n                        } else {\r\n                          newFilter.add(\"TOF\");\r\n                        }\r\n                        setAdSetCampaignFilter(newFilter);\r\n                      }}\r\n                      className={`px-3 sm:px-4 py-2 rounded-lg font-medium text-xs sm:text-sm transition-all ${adSetCampaignFilter.has(\"TOF\")\r\n                        ? \"bg-blue-600 text-white shadow-lg\"\r\n                        : \"bg-gray-200 text-gray-700 hover:bg-gray-300\"\r\n                        }`}\r\n                    >\r\n                      TOF\r\n                    </button>\r\n                    <button\r\n                      onClick={() => {\r\n                        const newFilter = new Set(adSetCampaignFilter);\r\n                        if (newFilter.has(\"MOF\")) {\r\n                          newFilter.delete(\"MOF\");\r\n                        } else {\r\n                          newFilter.add(\"MOF\");\r\n                        }\r\n                        setAdSetCampaignFilter(newFilter);\r\n                      }}\r\n                      className={`px-3 sm:px-4 py-2 rounded-lg font-medium text-xs sm:text-sm transition-all ${adSetCampaignFilter.has(\"MOF\")\r\n                        ? \"bg-green-600 text-white shadow-lg\"\r\n                        : \"bg-gray-200 text-gray-700 hover:bg-gray-300\"\r\n                        }`}\r\n                    >\r\n                      MOF\r\n                    </button>\r\n                    <button\r\n                      onClick={() => {\r\n                        const newFilter = new Set(adSetCampaignFilter);\r\n                        if (newFilter.has(\"BOF\")) {\r\n                          newFilter.delete(\"BOF\");\r\n                        } else {\r\n                          newFilter.add(\"BOF\");\r\n                        }\r\n                        setAdSetCampaignFilter(newFilter);\r\n                      }}\r\n                      className={`px-3 sm:px-4 py-2 rounded-lg font-medium text-xs sm:text-sm transition-all ${adSetCampaignFilter.has(\"BOF\")\r\n                        ? \"bg-orange-600 text-white shadow-lg\"\r\n                        : \"bg-gray-200 text-gray-700 hover:bg-gray-300\"\r\n                        }`}\r\n                    >\r\n                      BOF\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n                <div className=\"overflow-x-auto\">\r\n                  {adsetInsightsLoading && adsetInsights.length === 0 && (\r\n                    <div className=\"bg-blue-50 border-l-4 border-blue-500 p-3 mb-4 rounded\">\r\n                      <p className=\"text-blue-700 text-sm font-medium\">\r\n                        ‚è≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Ad Set...\r\n                      </p>\r\n                    </div>\r\n                  )}\r\n                  <table className=\"w-full\" key={`table2-${adsetInsights.length}`}>\r\n                    <thead>\r\n                      <tr className=\"border-b-2 border-gradient-to-r from-blue-200 via-purple-200 to-pink-200\">\r\n                        <th className=\"text-center py-2 px-1 font-semibold text-gray-700 text-sm\">\r\n                          #\r\n                        </th>\r\n                        <th className=\"text-center py-2 px-1 font-semibold text-gray-700 text-sm\">\r\n                          Ad Set\r\n                        </th>\r\n                        <th className=\"text-center py-2 px-1 font-semibold text-gray-700 text-sm\">\r\n                          ‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß\r\n                        </th>\r\n                        <th className=\"text-center py-2 px-1 font-semibold text-gray-700 text-sm\">\r\n                          New Inbox\r\n                        </th>\r\n                        <th className=\"text-center py-2 px-1 font-semibold text-gray-700 text-sm\">\r\n                          Total Inbox\r\n                        </th>\r\n                        <th className=\"text-center py-2 px-1 font-semibold text-gray-700 text-sm\">\r\n                          ‡∏ä‡∏∑‡πà‡∏≠ - ‡πÄ‡∏ö‡∏≠‡∏£‡πå\r\n                        </th>\r\n                        <th className=\"text-center py-2 px-1 font-semibold text-gray-700 text-sm\">\r\n                          ThruPlay\r\n                        </th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody key={`tbody2-${adsetInsights.length}-${Date.now()}`}>\r\n                      {adsetInsights\r\n                        .filter((adset) => {\r\n                          // If no filter selected, show all\r\n                          if (adSetCampaignFilter.size === 0) return true;\r\n                          // Get first 3 characters of campaign name (uppercase)\r\n                          const campaignPrefix = (adset.campaign_name || \"\")\r\n                            .substring(0, 3)\r\n                            .toUpperCase();\r\n                          return adSetCampaignFilter.has(campaignPrefix);\r\n                        })\r\n                        .sort((a, b) => {\r\n                          if (topAdSetSortBy === \"leads\") {\r\n                            const totalInboxA = getResultsByActionType(\r\n                              a.actions,\r\n                              \"onsite_conversion.total_messaging_connection\"\r\n                            );\r\n                            const totalInboxB = getResultsByActionType(\r\n                              b.actions,\r\n                              \"onsite_conversion.total_messaging_connection\"\r\n                            );\r\n                            return totalInboxB - totalInboxA;\r\n                          } else if (topAdSetSortBy === \"phone\") {\r\n                            // Sort by phone leads (highest first)\r\n                            const phoneLeadsA = getPhoneLeadsByAdSetId(a.adset_id);\r\n                            const phoneLeadsB = getPhoneLeadsByAdSetId(b.adset_id);\r\n                            return phoneLeadsB - phoneLeadsA;\r\n                          } else {\r\n                            // Sort by thruplay (highest first)\r\n                            const thruplayA = a.actions?.find(\r\n                              (action) => action.action_type === \"video_view\"\r\n                            );\r\n                            const thruplayB = b.actions?.find(\r\n                              (action) => action.action_type === \"video_view\"\r\n                            );\r\n                            const valueA = thruplayA\r\n                              ? parseFloat(thruplayA.value)\r\n                              : 0;\r\n                            const valueB = thruplayB\r\n                              ? parseFloat(thruplayB.value)\r\n                              : 0;\r\n                            return valueB - valueA;\r\n                          }\r\n                        })\r\n                        .slice(\r\n                          0,\r\n                          topAdSetLimit === \"all\" ? undefined : topAdSetLimit\r\n                        )\r\n                        .map((adset, index) => {\r\n                          // Calculate cost per inbox\r\n                          const spend = parseFloat(adset.spend || \"0\");\r\n                          const totalInbox = getResultsByActionType(\r\n                            adset.actions,\r\n                            \"onsite_conversion.total_messaging_connection\"\r\n                          );\r\n                          const costPerInbox =\r\n                            totalInbox > 0 ? spend / totalInbox : 0;\r\n\r\n                          return (\r\n                            <tr\r\n                              key={adset.adset_id}\r\n                              className=\"border-b border-gray-100 hover:bg-gradient-to-r hover:from-blue-50 hover:via-purple-50 hover:to-pink-50 transition-all duration-300 hover:shadow-md cursor-pointer\"\r\n                              onClick={() => {\r\n                                setSelectedAdSet(adset);\r\n                                setShowAdSetModal(true);\r\n                              }}\r\n                            >\r\n                              <td className=\"py-2 px-1 text-center\">\r\n                                <div className=\"text-gray-700 font-bold text-lg\">\r\n                                  {index + 1}\r\n                                </div>\r\n                              </td>\r\n                              <td className=\"py-2 px-1 text-center\">\r\n                                <div\r\n                                  className=\"text-gray-700 font-medium text-sm max-w-[150px] truncate mx-auto hover:text-purple-600\"\r\n                                  title={adset.adset_name}\r\n                                >\r\n                                  {adset.adset_name || \"‚Äî\"}\r\n                                </div>\r\n                              </td>\r\n                              <td className=\"py-2 px-1 text-center text-gray-700 font-semibold text-xl\">\r\n                                {formatCurrency(adset.spend)}\r\n                              </td>\r\n                              <td className=\"py-2 px-1 text-center font-semibold text-green-700 text-xl\">\r\n                                {getResultsByActionType(\r\n                                  adset.actions,\r\n                                  \"onsite_conversion.messaging_first_reply\"\r\n                                )}\r\n                              </td>\r\n                              <td className=\"py-2 px-1 text-center font-semibold text-blue-700 text-xl\">\r\n                                {getResultsByActionType(\r\n                                  adset.actions,\r\n                                  \"onsite_conversion.total_messaging_connection\"\r\n                                )}\r\n                              </td>\r\n                              <td className=\"py-2 px-1 text-center font-semibold text-purple-700 text-xl\">\r\n                                {topAdsPhoneLeadsLoading ? (\r\n                                  <span className=\"text-sm\">‚è≥</span>\r\n                                ) : (\r\n                                  getPhoneLeadsByAdSetId(adset.adset_id)\r\n                                )}\r\n                              </td>\r\n                              <td className=\"py-2 px-1 text-center text-gray-700 text-xl\">\r\n                                {(() => {\r\n                                  const thruplay = adset.actions?.find(\r\n                                    (action) => action.action_type === \"video_view\"\r\n                                  );\r\n                                  return thruplay\r\n                                    ? formatNumber(thruplay.value)\r\n                                    : \"‚Äî\";\r\n                                })()}\r\n                              </td>\r\n                            </tr>\r\n                          );\r\n                        })}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n\r\n        {/* Page 2 Content - ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô Page 1 ‡∏ó‡∏∏‡∏Å‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏£ */}\r\n        {selectedPage === 2 && (\r\n          <>\r\n            {/* Performance Cards and Tables in 3-Column Layout - ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô Page 1 */}\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4\">\r\n              {/* Column 1: ‡πÄ‡∏á‡∏¥‡∏ô‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠ + ‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏£‡∏ß‡∏° */}\r\n              <div className=\"flex flex-col\">\r\n                {/* Card */}\r\n                <div className=\"bg-gradient-to-br from-blue-500 via-blue-600 to-blue-700 rounded-2xl sm:rounded-3xl p-4 sm:p-8 text-white shadow-2xl\">\r\n                  <div className=\"grid grid-cols-2 gap-2 sm:gap-4\">\r\n                    <div className=\"text-center\">\r\n                      <div className=\"text-xs sm:text-base font-semibold opacity-90 mb-1 sm:mb-2\">\r\n                        üíµ ‡πÄ‡∏á‡∏¥‡∏ô‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠\r\n                      </div>\r\n                      <div className=\"text-xl sm:text-3xl font-bold\">\r\n                        {page2BalanceLoading ? (\r\n                          <span className=\"text-2xl\">‚è≥</span>\r\n                        ) : (\r\n                          `‡∏ø${page2Balance.toLocaleString(\"th-TH\", {\r\n                            minimumFractionDigits: 2,\r\n                            maximumFractionDigits: 2,\r\n                          })}`\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"text-center\">\r\n                      <div className=\"text-xs sm:text-base font-semibold opacity-90 mb-1 sm:mb-2\">\r\n                        üí∞ ‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏£‡∏ß‡∏°\r\n                      </div>\r\n                      <div className=\"text-xl sm:text-3xl font-bold\">\r\n                        {page2Loading ? (\r\n                          <span className=\"text-2xl\">‚è≥</span>\r\n                        ) : (\r\n                          formatCurrency(page2Summary.totalSpend)\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                {/* Table - ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà + ‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß */}\r\n                <div className=\"bg-white rounded-b-2xl sm:rounded-b-3xl shadow-2xl overflow-hidden border border-gray-100 border-t-0 flex-1 mt-0\">\r\n                  <div className=\"overflow-y-auto max-h-[120px]\">\r\n                    <table className=\"w-full min-w-max text-xs\">\r\n                      <thead className=\"bg-blue-50 sticky top-0\">\r\n                        <tr>\r\n                          <th className=\"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap\">\r\n                            ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà\r\n                          </th>\r\n                          <th className=\"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap\">\r\n                            ‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß\r\n                          </th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {page2Loading ? (\r\n                          <tr>\r\n                            <td colSpan={2} className=\"px-2 py-4 text-center text-xs\">\r\n                              ‚è≥\r\n                            </td>\r\n                          </tr>\r\n                        ) : (\r\n                          <tr>\r\n                            <td colSpan={2} className=\"px-2 py-4 text-center text-xs text-gray-400\">\r\n                              ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô\r\n                            </td>\r\n                          </tr>\r\n                        )}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Column 2: New Inbox & Total Inbox */}\r\n              <div className=\"flex flex-col\">\r\n                {/* Card */}\r\n                <div className=\"bg-gradient-to-br from-teal-500 via-teal-600 to-cyan-600 rounded-2xl sm:rounded-3xl p-4 sm:p-8 text-white shadow-2xl\">\r\n                  <div className=\"grid grid-cols-2 gap-2 sm:gap-4\">\r\n                    <div className=\"text-center\">\r\n                      <div className=\"text-xs sm:text-base font-semibold opacity-90 mb-1 sm:mb-3\">\r\n                        New Inbox\r\n                      </div>\r\n                      <div className=\"text-xl sm:text-4xl font-bold\">\r\n                        {page2Loading ? (\r\n                          <span className=\"text-2xl\">‚è≥</span>\r\n                        ) : (\r\n                          formatNumber(page2Summary.total_messaging_first_reply || 0)\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"text-center\">\r\n                      <div className=\"text-xs sm:text-base font-semibold opacity-90 mb-1 sm:mb-3\">\r\n                        Total Inbox\r\n                      </div>\r\n                      <div className=\"text-xl sm:text-4xl font-bold\">\r\n                        {page2Loading ? (\r\n                          <span className=\"text-2xl\">‚è≥</span>\r\n                        ) : (\r\n                          formatNumber(page2Summary.total_messaging_connection || 0)\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                {/* Table - ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà + New Inbox + Total Inbox */}\r\n                <div className=\"bg-white rounded-b-2xl sm:rounded-b-3xl shadow-2xl overflow-hidden border border-gray-100 border-t-0 flex-1 mt-0\">\r\n                  <div className=\"overflow-y-auto max-h-[120px]\">\r\n                    <table className=\"w-full min-w-max text-xs\">\r\n                      <thead className=\"bg-teal-50 sticky top-0\">\r\n                        <tr>\r\n                          <th className=\"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap\">\r\n                            ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà\r\n                          </th>\r\n                          <th className=\"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap\">\r\n                            New Inbox\r\n                          </th>\r\n                          <th className=\"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap\">\r\n                            Total Inbox\r\n                          </th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {page2Loading ? (\r\n                          <tr>\r\n                            <td colSpan={3} className=\"px-2 py-4 text-center text-xs\">\r\n                              ‚è≥\r\n                            </td>\r\n                          </tr>\r\n                        ) : (\r\n                          <tr>\r\n                            <td colSpan={3} className=\"px-2 py-4 text-center text-xs text-gray-400\">\r\n                              ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Inbox\r\n                            </td>\r\n                          </tr>\r\n                        )}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Column 3: ‡∏ä‡∏∑‡πà‡∏≠ - ‡πÄ‡∏ö‡∏≠‡∏£‡πå */}\r\n              <div className=\"flex flex-col\">\r\n                {/* Card */}\r\n                <div className=\"bg-gradient-to-br from-purple-500 via-purple-600 to-indigo-600 rounded-2xl sm:rounded-3xl p-4 sm:p-8 text-white shadow-2xl text-center\">\r\n                  <div className=\"text-base sm:text-xl font-semibold mb-2 sm:mb-3 opacity-90\">\r\n                    üìû ‡∏ä‡∏∑‡πà‡∏≠ - ‡πÄ‡∏ö‡∏≠‡∏£‡πå\r\n                  </div>\r\n                  <div className=\"text-2xl sm:text-4xl font-bold\">\r\n                    {page2Loading ? (\r\n                      <span className=\"text-3xl\">‚è≥</span>\r\n                    ) : (\r\n                      \"‚Äî\"\r\n                    )}\r\n                  </div>\r\n                </div>\r\n                {/* Table - ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà + ‡πÄ‡∏ö‡∏≠‡∏£‡πå */}\r\n                <div className=\"bg-white rounded-b-2xl sm:rounded-b-3xl shadow-2xl overflow-hidden border border-gray-100 border-t-0 flex-1 mt-0\">\r\n                  <div className=\"overflow-y-auto max-h-[120px]\">\r\n                    <table className=\"w-full min-w-max text-xs\">\r\n                      <thead className=\"bg-purple-50 sticky top-0\">\r\n                        <tr>\r\n                          <th className=\"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap\">\r\n                            ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà\r\n                          </th>\r\n                          <th className=\"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap\">\r\n                            ‡πÄ‡∏ö‡∏≠‡∏£‡πå\r\n                          </th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {page2Loading ? (\r\n                          <tr>\r\n                            <td colSpan={2} className=\"px-2 py-4 text-center text-xs\">\r\n                              ‚è≥\r\n                            </td>\r\n                          </tr>\r\n                        ) : (\r\n                          <tr>\r\n                            <td colSpan={2} className=\"px-2 py-4 text-center text-xs text-gray-400\">\r\n                              ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£\r\n                            </td>\r\n                          </tr>\r\n                        )}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* TOP Ads Section - Two Column Layout - ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô Page 1 */}\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mt-4 sm:mt-8\">\r\n              {/* Left Column - TOP Ads Table */}\r\n              <div className=\"bg-white rounded-2xl sm:rounded-3xl shadow-2xl p-4 sm:p-8 border border-gray-100\">\r\n                <div className=\"bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 px-4 sm:px-8 py-4 sm:py-6 -m-4 sm:-m-8 mb-4 sm:mb-8 relative overflow-hidden rounded-t-2xl sm:rounded-t-3xl\">\r\n                  <div className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-10 transition-opacity duration-500\"></div>\r\n                </div>\r\n                <div className=\"flex flex-col gap-3 mb-3 sm:mb-4\">\r\n                  <h2 className=\"text-lg sm:text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent flex items-center gap-2\">\r\n                    üèÜ TOP {page2Limit === \"all\" ? \"‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î\" : page2Limit} Ads{\" \"}\r\n                    <span className=\"bg-gradient-to-r from-yellow-400 via-orange-400 to-red-500 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-full text-base sm:text-xl font-bold shadow-xl\">\r\n                      ‡∏ô‡∏±‡∏Å‡πÄ‡∏ï‡∏∞‡∏¢‡∏≠‡∏î‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°\r\n                    </span>\r\n                  </h2>\r\n                  <div className=\"flex flex-col sm:flex-row gap-2 w-full\">\r\n                    {/* Sort By Buttons - ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô Page 1 ‡πÅ‡∏ï‡πà‡πÉ‡∏ä‡πâ field ‡∏ó‡∏µ‡πà‡∏°‡∏µ */}\r\n                    <div className=\"flex gap-2 flex-1\">\r\n                      <button\r\n                        onClick={() => setPage2SortBy(\"spend\")}\r\n                        className={`flex-1 sm:flex-none px-3 sm:px-4 py-2 rounded-lg font-medium text-xs sm:text-sm transition-all ${page2SortBy === \"spend\"\r\n                          ? \"bg-purple-600 text-white shadow-lg\"\r\n                          : \"bg-gray-200 text-gray-700 hover:bg-gray-300\"\r\n                          }`}\r\n                      >\r\n                        <span className=\"hidden sm:inline\">\r\n                          üí∞ Spend (‡∏°‡∏≤‡∏Å ‚Üí ‡∏ô‡πâ‡∏≠‡∏¢)\r\n                        </span>\r\n                        <span className=\"sm:hidden\">üí∞ Spend</span>\r\n                      </button>\r\n                      <button\r\n                        onClick={() => setPage2SortBy(\"clicks\")}\r\n                        className={`flex-1 sm:flex-none px-3 sm:px-4 py-2 rounded-lg font-medium text-xs sm:text-sm transition-all ${page2SortBy === \"clicks\"\r\n                          ? \"bg-purple-600 text-white shadow-lg\"\r\n                          : \"bg-gray-200 text-gray-700 hover:bg-gray-300\"\r\n                          }`}\r\n                      >\r\n                        <span className=\"hidden sm:inline\">\r\n                          üñ±Ô∏è Clicks (‡∏°‡∏≤‡∏Å ‚Üí ‡∏ô‡πâ‡∏≠‡∏¢)\r\n                        </span>\r\n                        <span className=\"sm:hidden\">üñ±Ô∏è Clicks</span>\r\n                      </button>\r\n                      <button\r\n                        onClick={() => setPage2SortBy(\"ctr\")}\r\n                        className={`flex-1 sm:flex-none px-3 sm:px-4 py-2 rounded-lg font-medium text-xs sm:text-sm transition-all ${page2SortBy === \"ctr\"\r\n                          ? \"bg-purple-600 text-white shadow-lg\"\r\n                          : \"bg-gray-200 text-gray-700 hover:bg-gray-300\"\r\n                          }`}\r\n                      >\r\n                        <span className=\"hidden sm:inline\">\r\n                          üìà CTR (‡∏°‡∏≤‡∏Å ‚Üí ‡∏ô‡πâ‡∏≠‡∏¢)\r\n                        </span>\r\n                        <span className=\"sm:hidden\">üìà CTR</span>\r\n                      </button>\r\n                      <button\r\n                        onClick={() => setPage2SortBy(\"impressions\")}\r\n                        className={`flex-1 sm:flex-none px-3 sm:px-4 py-2 rounded-lg font-medium text-xs sm:text-sm transition-all ${page2SortBy === \"impressions\"\r\n                          ? \"bg-purple-600 text-white shadow-lg\"\r\n                          : \"bg-gray-200 text-gray-700 hover:bg-gray-300\"\r\n                          }`}\r\n                      >\r\n                        <span className=\"hidden sm:inline\">\r\n                          üëÅÔ∏è Impressions (‡∏°‡∏≤‡∏Å ‚Üí ‡∏ô‡πâ‡∏≠‡∏¢)\r\n                        </span>\r\n                        <span className=\"sm:hidden\">üëÅÔ∏è Impr</span>\r\n                      </button>\r\n                    </div>\r\n                    {/* Top Ads Limit Dropdown */}\r\n                    <select\r\n                      value={page2Limit}\r\n                      onChange={(e) => {\r\n                        const value = e.target.value;\r\n                        setPage2Limit(\r\n                          value === \"all\"\r\n                            ? \"all\"\r\n                            : (Number(value) as 5 | 10 | 15 | 20 | 30)\r\n                        );\r\n                      }}\r\n                      className=\"flex-1 sm:flex-none sm:min-w-[140px] px-3 py-2 rounded-lg font-medium text-xs sm:text-sm bg-gradient-to-r from-yellow-400 to-orange-400 text-gray-800 hover:from-yellow-500 hover:to-orange-500 transition-all border-2 border-yellow-500 shadow-lg cursor-pointer\"\r\n                    >\r\n                      <option value={5}>‚≠ê Top 5</option>\r\n                      <option value={10}>‚≠ê Top 10</option>\r\n                      <option value={15}>‚≠ê Top 15</option>\r\n                      <option value={20}>‚≠ê Top 20</option>\r\n                      <option value={30}>‚≠ê Top 30</option>\r\n                      <option value=\"all\">‚≠ê Top ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n                <div className=\"overflow-x-auto\">\r\n                  {/* Loading State */}\r\n                  {page2Loading && page2Insights.length === 0 && (\r\n                    <div className=\"bg-blue-50 border-l-4 border-blue-500 p-3 mb-4 rounded\">\r\n                      <p className=\"text-blue-700 text-sm font-medium\">\r\n                        ‚è≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...\r\n                      </p>\r\n                    </div>\r\n                  )}\r\n                  {page2Error && (\r\n                    <div className=\"bg-red-50 border-l-4 border-red-500 p-3 mb-4 rounded\">\r\n                      <p className=\"text-red-700 text-sm font-medium\">\r\n                        ‚ùå {page2Error}\r\n                      </p>\r\n                    </div>\r\n                  )}\r\n                  <table className=\"w-full\" key={`page2-table-${page2Insights.length}`}>\r\n                    <thead>\r\n                      <tr className=\"border-b-2 border-gradient-to-r from-blue-200 via-purple-200 to-pink-200\">\r\n                        <th className=\"text-center py-2 px-1 font-semibold text-gray-700 text-sm\">\r\n                          #\r\n                        </th>\r\n                        <th className=\"text-center py-2 px-1 font-semibold text-gray-700 text-sm\">\r\n                          Ad Image\r\n                        </th>\r\n                        <th className=\"text-center py-2 px-1 font-semibold text-gray-700 text-sm\">\r\n                          ‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß\r\n                        </th>\r\n                        <th className=\"text-center py-2 px-1 font-semibold text-gray-700 text-sm\">\r\n                          New Inbox\r\n                        </th>\r\n                        <th className=\"text-center py-2 px-1 font-semibold text-gray-700 text-sm\">\r\n                          Total Inbox\r\n                        </th>\r\n                        <th className=\"text-center py-2 px-1 font-semibold text-gray-700 text-sm\">\r\n                          ‡∏ä‡∏∑‡πà‡∏≠ - ‡πÄ‡∏ö‡∏≠‡∏£‡πå\r\n                        </th>\r\n                        <th className=\"text-center py-2 px-1 font-semibold text-gray-700 text-sm\">\r\n                          ThruPlay\r\n                        </th>\r\n                        <th className=\"text-center py-2 px-1 font-semibold text-gray-700 text-sm\">\r\n                          ‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô Inbox\r\n                        </th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {page2Insights\r\n                        .sort((a, b) => {\r\n                          switch (page2SortBy) {\r\n                            case \"spend\":\r\n                              return parseFloat(b.spend || \"0\") - parseFloat(a.spend || \"0\");\r\n                            case \"clicks\":\r\n                              return parseInt(b.clicks || \"0\") - parseInt(a.clicks || \"0\");\r\n                            case \"impressions\":\r\n                              return parseInt(b.impressions || \"0\") - parseInt(a.impressions || \"0\");\r\n                            case \"ctr\":\r\n                              return parseFloat(b.ctr || \"0\") - parseFloat(a.ctr || \"0\");\r\n                            case \"cpc\":\r\n                              return parseFloat(b.cpc || \"0\") - parseFloat(a.cpc || \"0\");\r\n                            case \"cpm\":\r\n                              return parseFloat(b.cpm || \"0\") - parseFloat(a.cpm || \"0\");\r\n                            default:\r\n                              return parseFloat(b.spend || \"0\") - parseFloat(a.spend || \"0\");\r\n                          }\r\n                        })\r\n                        .slice(0, page2Limit === \"all\" ? undefined : page2Limit)\r\n                        .map((ad, index) => {\r\n                          return (\r\n                            <tr\r\n                              key={ad.ad_id}\r\n                              className=\"border-b border-gray-100 hover:bg-gradient-to-r hover:from-blue-50 hover:via-purple-50 hover:to-pink-50 transition-all duration-300 hover:shadow-md\"\r\n                            >\r\n                              <td className=\"py-2 px-1 text-center\">\r\n                                <div className=\"text-gray-700 font-bold text-lg\">\r\n                                  {index + 1}\r\n                                </div>\r\n                              </td>\r\n                              <td className=\"py-2 px-1 text-center\">\r\n                                <div className=\"relative group cursor-pointer flex justify-center items-center\">\r\n                                  {/* ‡πÑ‡∏°‡πà‡∏°‡∏µ Ad Image - ‡πÅ‡∏™‡∏î‡∏á placeholder */}\r\n                                  <div className=\"w-20 h-20 bg-gray-100 rounded-lg flex items-center justify-center\">\r\n                                    <span className=\"text-gray-400 text-xs\">\r\n                                      üì∑\r\n                                    </span>\r\n                                  </div>\r\n                                </div>\r\n                              </td>\r\n                              <td className=\"py-2 px-1 text-center text-gray-700 font-semibold text-xl\">\r\n                                {formatCurrency(ad.spend)}\r\n                              </td>\r\n                              <td className=\"py-2 px-1 text-center font-semibold text-green-700 text-xl\">\r\n                                {(() => {\r\n                                  const newInbox = ad.actions?.find(\r\n                                    (action) => action.action_type === \"onsite_conversion.messaging_first_reply\"\r\n                                  );\r\n                                  return newInbox ? formatNumber(newInbox.value) : \"‚Äî\";\r\n                                })()}\r\n                              </td>\r\n                              <td className=\"py-2 px-1 text-center font-semibold text-blue-700 text-xl\">\r\n                                {(() => {\r\n                                  const totalInbox = ad.actions?.find(\r\n                                    (action) => action.action_type === \"onsite_conversion.total_messaging_connection\"\r\n                                  );\r\n                                  return totalInbox ? formatNumber(totalInbox.value) : \"‚Äî\";\r\n                                })()}\r\n                              </td>\r\n                              <td className=\"py-2 px-1 text-center font-semibold text-purple-700 text-xl\">\r\n                                {/* ‡πÑ‡∏°‡πà‡∏°‡∏µ phone leads - ‡πÅ‡∏™‡∏î‡∏á ‚Äî */}\r\n                                ‚Äî\r\n                              </td>\r\n                              <td className=\"py-2 px-1 text-center text-gray-700 text-xl\">\r\n                                {/* ‡πÑ‡∏°‡πà‡∏°‡∏µ ThruPlay - ‡πÅ‡∏™‡∏î‡∏á ‚Äî */}\r\n                                ‚Äî\r\n                              </td>\r\n                              <td className=\"py-2 px-1 text-center text-gray-700 text-xl\">\r\n                                {(() => {\r\n                                  const totalInbox = ad.actions?.find(\r\n                                    (action) => action.action_type === \"onsite_conversion.total_messaging_connection\"\r\n                                  );\r\n                                  const spend = parseFloat(ad.spend || \"0\");\r\n                                  const inboxCount = parseInt(totalInbox?.value || \"0\");\r\n                                  if (inboxCount > 0) {\r\n                                    return formatCurrency(spend / inboxCount);\r\n                                  }\r\n                                  return \"‚Äî\";\r\n                                })()}\r\n                              </td>\r\n                            </tr>\r\n                          );\r\n                        })}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Right Column - TOP Ad Set Table */}\r\n              <div className=\"bg-white rounded-2xl sm:rounded-3xl shadow-2xl p-4 sm:p-8 border border-gray-100\">\r\n                <div className=\"bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 px-4 sm:px-8 py-4 sm:py-6 -m-4 sm:-m-8 mb-4 sm:mb-8 relative overflow-hidden rounded-t-2xl sm:rounded-t-3xl\">\r\n                  <div className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-10 transition-opacity duration-500\"></div>\r\n                </div>\r\n                <div className=\"flex flex-col gap-3 mb-3 sm:mb-4\">\r\n                  <h2 className=\"text-lg sm:text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent flex items-center gap-2\">\r\n                    üèÜ TOP {page2Limit === \"all\" ? \"‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î\" : page2Limit} Ad Set{\" \"}\r\n                    <span className=\"bg-gradient-to-r from-yellow-400 via-orange-400 to-red-500 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-full text-base sm:text-xl font-bold shadow-xl\">\r\n                      ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏¢‡∏≠‡∏î‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°\r\n                    </span>\r\n                  </h2>\r\n                  <div className=\"flex flex-col sm:flex-row gap-2 w-full\">\r\n                    {/* Sort By Buttons */}\r\n                    <div className=\"flex gap-2 flex-1\">\r\n                      <button\r\n                        onClick={() => setPage2SortBy(\"spend\")}\r\n                        className={`flex-1 sm:flex-none px-3 sm:px-4 py-2 rounded-lg font-medium text-xs sm:text-sm transition-all ${page2SortBy === \"spend\"\r\n                          ? \"bg-purple-600 text-white shadow-lg\"\r\n                          : \"bg-gray-200 text-gray-700 hover:bg-gray-300\"\r\n                          }`}\r\n                      >\r\n                        <span className=\"hidden sm:inline\">\r\n                          üí∞ Spend (‡∏°‡∏≤‡∏Å ‚Üí ‡∏ô‡πâ‡∏≠‡∏¢)\r\n                        </span>\r\n                        <span className=\"sm:hidden\">üí∞ Spend</span>\r\n                      </button>\r\n                      <button\r\n                        onClick={() => setPage2SortBy(\"clicks\")}\r\n                        className={`flex-1 sm:flex-none px-3 sm:px-4 py-2 rounded-lg font-medium text-xs sm:text-sm transition-all ${page2SortBy === \"clicks\"\r\n                          ? \"bg-purple-600 text-white shadow-lg\"\r\n                          : \"bg-gray-200 text-gray-700 hover:bg-gray-300\"\r\n                          }`}\r\n                      >\r\n                        <span className=\"hidden sm:inline\">\r\n                          üñ±Ô∏è Clicks (‡∏°‡∏≤‡∏Å ‚Üí ‡∏ô‡πâ‡∏≠‡∏¢)\r\n                        </span>\r\n                        <span className=\"sm:hidden\">üñ±Ô∏è Clicks</span>\r\n                      </button>\r\n                      <button\r\n                        onClick={() => setPage2SortBy(\"impressions\")}\r\n                        className={`flex-1 sm:flex-none px-3 sm:px-4 py-2 rounded-lg font-medium text-xs sm:text-sm transition-all ${page2SortBy === \"impressions\"\r\n                          ? \"bg-purple-600 text-white shadow-lg\"\r\n                          : \"bg-gray-200 text-gray-700 hover:bg-gray-300\"\r\n                          }`}\r\n                      >\r\n                        <span className=\"hidden sm:inline\">\r\n                          üëÅÔ∏è Impressions (‡∏°‡∏≤‡∏Å ‚Üí ‡∏ô‡πâ‡∏≠‡∏¢)\r\n                        </span>\r\n                        <span className=\"sm:hidden\">üëÅÔ∏è Impr</span>\r\n                      </button>\r\n                    </div>\r\n                    {/* Top Ad Set Limit Dropdown */}\r\n                    <select\r\n                      value={page2Limit}\r\n                      onChange={(e) => {\r\n                        const value = e.target.value;\r\n                        setPage2Limit(\r\n                          value === \"all\"\r\n                            ? \"all\"\r\n                            : (Number(value) as 5 | 10 | 15 | 20 | 30)\r\n                        );\r\n                      }}\r\n                      className=\"flex-1 sm:flex-none sm:min-w-[140px] px-3 py-2 rounded-lg font-medium text-xs sm:text-sm bg-gradient-to-r from-yellow-400 to-orange-400 text-gray-800 hover:from-yellow-500 hover:to-orange-500 transition-all border-2 border-yellow-500 shadow-lg cursor-pointer\"\r\n                    >\r\n                      <option value={5}>‚≠ê Top 5</option>\r\n                      <option value={10}>‚≠ê Top 10</option>\r\n                      <option value={15}>‚≠ê Top 15</option>\r\n                      <option value={20}>‚≠ê Top 20</option>\r\n                      <option value={30}>‚≠ê Top 30</option>\r\n                      <option value=\"all\">‚≠ê Top ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n                <div className=\"overflow-x-auto\">\r\n                  {page2Loading && (\r\n                    <div className=\"bg-blue-50 border-l-4 border-blue-500 p-3 mb-4 rounded\">\r\n                      <p className=\"text-blue-700 text-sm font-medium\">\r\n                        ‚è≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Ad Set...\r\n                      </p>\r\n                    </div>\r\n                  )}\r\n                  <table className=\"w-full\" key={`page2-adset-table-${page2Insights.length}`}>\r\n                    <thead>\r\n                      <tr className=\"border-b-2 border-gradient-to-r from-blue-200 via-purple-200 to-pink-200\">\r\n                        <th className=\"text-center py-2 px-1 font-semibold text-gray-700 text-sm\">\r\n                          #\r\n                        </th>\r\n                        <th className=\"text-center py-2 px-1 font-semibold text-gray-700 text-sm\">\r\n                          Ad Set\r\n                        </th>\r\n                        <th className=\"text-center py-2 px-1 font-semibold text-gray-700 text-sm\">\r\n                          ‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß\r\n                        </th>\r\n                        <th className=\"text-center py-2 px-1 font-semibold text-gray-700 text-sm\">\r\n                          New Inbox\r\n                        </th>\r\n                        <th className=\"text-center py-2 px-1 font-semibold text-gray-700 text-sm\">\r\n                          Total Inbox\r\n                        </th>\r\n                        <th className=\"text-center py-2 px-1 font-semibold text-gray-700 text-sm\">\r\n                          ‡∏ä‡∏∑‡πà‡∏≠ - ‡πÄ‡∏ö‡∏≠‡∏£‡πå\r\n                        </th>\r\n                        <th className=\"text-center py-2 px-1 font-semibold text-gray-700 text-sm\">\r\n                          ThruPlay\r\n                        </th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {(() => {\r\n                        // Group by adset with actions data\r\n                        const adsetData = new Map<string, {\r\n                          adset_id: string;\r\n                          adset_name: string;\r\n                          campaign_name: string;\r\n                          spend: number;\r\n                          clicks: number;\r\n                          impressions: number;\r\n                          newInbox: number;\r\n                          totalInbox: number;\r\n                        }>();\r\n\r\n                        page2Insights.forEach((ad) => {\r\n                          const existing = adsetData.get(ad.adset_id) || {\r\n                            adset_id: ad.adset_id,\r\n                            adset_name: ad.adset_name,\r\n                            campaign_name: ad.campaign_name,\r\n                            spend: 0,\r\n                            clicks: 0,\r\n                            impressions: 0,\r\n                            newInbox: 0,\r\n                            totalInbox: 0,\r\n                          };\r\n                          existing.spend += parseFloat(ad.spend || \"0\");\r\n                          existing.clicks += parseInt(ad.clicks || \"0\");\r\n                          existing.impressions += parseInt(ad.impressions || \"0\");\r\n\r\n                          // Sum up actions\r\n                          if (ad.actions) {\r\n                            const newInboxAction = ad.actions.find(\r\n                              (action) => action.action_type === \"onsite_conversion.messaging_first_reply\"\r\n                            );\r\n                            const totalInboxAction = ad.actions.find(\r\n                              (action) => action.action_type === \"onsite_conversion.total_messaging_connection\"\r\n                            );\r\n                            existing.newInbox += parseInt(newInboxAction?.value || \"0\");\r\n                            existing.totalInbox += parseInt(totalInboxAction?.value || \"0\");\r\n                          }\r\n\r\n                          adsetData.set(ad.adset_id, existing);\r\n                        });\r\n\r\n                        return Array.from(adsetData.values())\r\n                          .sort((a, b) => {\r\n                            switch (page2SortBy) {\r\n                              case \"spend\":\r\n                                return b.spend - a.spend;\r\n                              case \"clicks\":\r\n                                return b.clicks - a.clicks;\r\n                              case \"impressions\":\r\n                                return b.impressions - a.impressions;\r\n                              default:\r\n                                return b.spend - a.spend;\r\n                            }\r\n                          })\r\n                          .slice(0, page2Limit === \"all\" ? undefined : page2Limit)\r\n                          .map((adset, index) => (\r\n                            <tr\r\n                              key={adset.adset_id}\r\n                              className=\"border-b border-gray-100 hover:bg-gradient-to-r hover:from-blue-50 hover:via-purple-50 hover:to-pink-50 transition-all duration-300 hover:shadow-md cursor-pointer\"\r\n                            >\r\n                              <td className=\"py-2 px-1 text-center\">\r\n                                <div className=\"text-gray-700 font-bold text-lg\">\r\n                                  {index + 1}\r\n                                </div>\r\n                              </td>\r\n                              <td className=\"py-2 px-1 text-center\">\r\n                                <div\r\n                                  className=\"text-gray-700 font-medium text-sm max-w-[150px] truncate mx-auto hover:text-purple-600\"\r\n                                  title={adset.adset_name}\r\n                                >\r\n                                  {adset.adset_name || \"‚Äî\"}\r\n                                </div>\r\n                              </td>\r\n                              <td className=\"py-2 px-1 text-center text-gray-700 font-semibold text-xl\">\r\n                                {formatCurrency(adset.spend)}\r\n                              </td>\r\n                              <td className=\"py-2 px-1 text-center font-semibold text-green-700 text-xl\">\r\n                                {adset.newInbox > 0 ? formatNumber(adset.newInbox) : \"‚Äî\"}\r\n                              </td>\r\n                              <td className=\"py-2 px-1 text-center font-semibold text-blue-700 text-xl\">\r\n                                {adset.totalInbox > 0 ? formatNumber(adset.totalInbox) : \"‚Äî\"}\r\n                              </td>\r\n                              <td className=\"py-2 px-1 text-center font-semibold text-purple-700 text-xl\">\r\n                                {/* ‡πÑ‡∏°‡πà‡∏°‡∏µ phone leads - ‡πÅ‡∏™‡∏î‡∏á ‚Äî */}\r\n                                ‚Äî\r\n                              </td>\r\n                              <td className=\"py-2 px-1 text-center text-gray-700 text-xl\">\r\n                                {/* ‡πÑ‡∏°‡πà‡∏°‡∏µ ThruPlay - ‡πÅ‡∏™‡∏î‡∏á ‚Äî */}\r\n                                ‚Äî\r\n                              </td>\r\n                            </tr>\r\n                          ));\r\n                      })()}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n\r\n        {/* Page 3 Content - Same structure as Page 1 */}\r\n        {selectedPage === 3 && (\r\n          <>\r\n            {/* Performance Cards and Tables in 3-Column Layout */}\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4\">\r\n              {/* Column 1: ‡πÄ‡∏á‡∏¥‡∏ô‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠ + ‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏£‡∏ß‡∏° */}\r\n              <div className=\"flex flex-col\">\r\n                {/* Card */}\r\n                <div className=\"bg-gradient-to-br from-blue-500 via-blue-600 to-blue-700 rounded-2xl sm:rounded-3xl p-4 sm:p-8 text-white shadow-2xl\">\r\n                  <div className=\"grid grid-cols-2 gap-2 sm:gap-4\">\r\n                    <div className=\"text-center\">\r\n                      <div className=\"text-xs sm:text-base font-semibold opacity-90 mb-1 sm:mb-2\">\r\n                        üíµ ‡πÄ‡∏á‡∏¥‡∏ô‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠ (Page 3)\r\n                      </div>\r\n                      <div className=\"text-xl sm:text-3xl font-bold\">\r\n                        {facebookBalanceLoading ? (\r\n                          <span className=\"text-2xl\">‚è≥</span>\r\n                        ) : (\r\n                          `‡∏ø${facebookBalance.toLocaleString(\"th-TH\", {\r\n                            minimumFractionDigits: 2,\r\n                            maximumFractionDigits: 2,\r\n                          })}`\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"text-center\">\r\n                      <div className=\"text-xs sm:text-base font-semibold opacity-90 mb-1 sm:mb-2\">\r\n                        üí∞ ‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏£‡∏ß‡∏°\r\n                      </div>\r\n                      <div className=\"text-xl sm:text-3xl font-bold\">\r\n                        {formatCurrency(\r\n                          insights.reduce(\r\n                            (sum, ad) => sum + parseFloat(ad.spend || \"0\"),\r\n                            0\r\n                          )\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                {/* Table */}\r\n                <div className=\"bg-white rounded-b-2xl sm:rounded-b-3xl shadow-2xl overflow-hidden border border-gray-100 border-t-0 flex-1 mt-0\">\r\n                  <div className=\"overflow-y-auto max-h-[120px]\">\r\n                    <table className=\"w-full min-w-max text-xs\">\r\n                      <thead className=\"bg-blue-50 sticky top-0\">\r\n                        <tr>\r\n                          <th className=\"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap\">\r\n                            ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà\r\n                          </th>\r\n                          <th className=\"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap\">\r\n                            ‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß\r\n                          </th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {dailySummaryLoading ? (\r\n                          <tr>\r\n                            <td colSpan={2} className=\"px-2 py-4 text-center text-xs\">‚è≥</td>\r\n                          </tr>\r\n                        ) : (\r\n                          (() => {\r\n                            const dailyData = new Map<string, { spend: number }>();\r\n                            dailySummaryData.forEach((ad) => {\r\n                              const date = ad.date_start;\r\n                              const existing = dailyData.get(date) || { spend: 0 };\r\n                              existing.spend += parseFloat(ad.spend || \"0\");\r\n                              dailyData.set(date, existing);\r\n                            });\r\n                            const sortedDates = Array.from(dailyData.keys()).sort(\r\n                              (a, b) => new Date(b).getTime() - new Date(a).getTime()\r\n                            );\r\n                            const last30Days = sortedDates.slice(1, 31);\r\n                            return last30Days.map((date) => {\r\n                              const data = dailyData.get(date)!;\r\n                              return (\r\n                                <tr key={date} className=\"hover:bg-blue-50 border-b\">\r\n                                  <td className=\"px-2 py-2 text-center text-xs text-gray-900\">\r\n                                    {new Date(date).toLocaleDateString(\"th-TH\", { month: \"short\", day: \"numeric\" })}\r\n                                  </td>\r\n                                  <td className=\"px-2 py-2 text-center text-xs font-semibold text-blue-600\">\r\n                                    {formatCurrency(data.spend)}\r\n                                  </td>\r\n                                </tr>\r\n                              );\r\n                            });\r\n                          })()\r\n                        )}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Column 2: New Inbox & Total Inbox */}\r\n              <div className=\"flex flex-col\">\r\n                {/* Card */}\r\n                <div className=\"bg-gradient-to-br from-teal-500 via-teal-600 to-cyan-600 rounded-2xl sm:rounded-3xl p-4 sm:p-8 text-white shadow-2xl\">\r\n                  <div className=\"grid grid-cols-2 gap-2 sm:gap-4\">\r\n                    <div className=\"text-center\">\r\n                      <div className=\"text-xs sm:text-base font-semibold opacity-90 mb-1 sm:mb-3\">\r\n                        New Inbox\r\n                      </div>\r\n                      <div className=\"text-xl sm:text-4xl font-bold\">\r\n                        {getTotalResults()}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"text-center\">\r\n                      <div className=\"text-xs sm:text-base font-semibold opacity-90 mb-1 sm:mb-3\">\r\n                        Total Inbox\r\n                      </div>\r\n                      <div className=\"text-xl sm:text-4xl font-bold\">\r\n                        {getTotalMessagingConnection()}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                {/* Table */}\r\n                <div className=\"bg-white rounded-b-2xl sm:rounded-b-3xl shadow-2xl overflow-hidden border border-gray-100 border-t-0 flex-1 mt-0\">\r\n                  <div className=\"overflow-y-auto max-h-[120px]\">\r\n                    <table className=\"w-full min-w-max text-xs\">\r\n                      <thead className=\"bg-teal-50 sticky top-0\">\r\n                        <tr>\r\n                          <th className=\"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap\">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</th>\r\n                          <th className=\"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap\">New Inbox</th>\r\n                          <th className=\"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap\">Total Inbox</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {dailySummaryLoading ? (\r\n                          <tr><td colSpan={3} className=\"px-2 py-4 text-center text-xs\">‚è≥</td></tr>\r\n                        ) : (\r\n                          (() => {\r\n                            const dailyData = new Map<string, { newInbox: number; totalInbox: number }>();\r\n                            dailySummaryData.forEach((ad) => {\r\n                              const date = ad.date_start;\r\n                              const existing = dailyData.get(date) || { newInbox: 0, totalInbox: 0 };\r\n                              existing.newInbox += getResultsByActionType(ad.actions, \"onsite_conversion.messaging_first_reply\");\r\n                              existing.totalInbox += getResultsByActionType(ad.actions, \"onsite_conversion.total_messaging_connection\");\r\n                              dailyData.set(date, existing);\r\n                            });\r\n                            const sortedDates = Array.from(dailyData.keys()).sort((a, b) => new Date(b).getTime() - new Date(a).getTime());\r\n                            const last30Days = sortedDates.slice(1, 31);\r\n                            return last30Days.map((date) => {\r\n                              const data = dailyData.get(date)!;\r\n                              return (\r\n                                <tr key={date} className=\"hover:bg-teal-50 border-b\">\r\n                                  <td className=\"px-2 py-2 text-center text-xs text-gray-900\">\r\n                                    {new Date(date).toLocaleDateString(\"th-TH\", { month: \"short\", day: \"numeric\" })}\r\n                                  </td>\r\n                                  <td className=\"px-2 py-2 text-center text-xs font-semibold text-green-600\">{data.newInbox}</td>\r\n                                  <td className=\"px-2 py-2 text-center text-xs font-semibold text-teal-600\">{data.totalInbox}</td>\r\n                                </tr>\r\n                              );\r\n                            });\r\n                          })()\r\n                        )}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Column 3: ‡∏ä‡∏∑‡πà‡∏≠ - ‡πÄ‡∏ö‡∏≠‡∏£‡πå */}\r\n              <div className=\"flex flex-col\">\r\n                {/* Card */}\r\n                <div className=\"bg-gradient-to-br from-purple-500 via-purple-600 to-indigo-600 rounded-2xl sm:rounded-3xl p-4 sm:p-8 text-white shadow-2xl text-center\">\r\n                  <div className=\"text-base sm:text-xl font-semibold mb-2 sm:mb-3 opacity-90\">üìû ‡∏ä‡∏∑‡πà‡∏≠ - ‡πÄ‡∏ö‡∏≠‡∏£‡πå</div>\r\n                  <div className=\"text-2xl sm:text-4xl font-bold\">\r\n                    {phoneCountLoading ? <span className=\"text-3xl\">‚è≥</span> : <div>{phoneCountData.total.toLocaleString()}</div>}\r\n                  </div>\r\n                </div>\r\n                {/* Table */}\r\n                <div className=\"bg-white rounded-b-2xl sm:rounded-b-3xl shadow-2xl overflow-hidden border border-gray-100 border-t-0 flex-1 mt-0\">\r\n                  <div className=\"overflow-y-auto max-h-[120px]\">\r\n                    <table className=\"w-full min-w-max text-xs\">\r\n                      <thead className=\"bg-purple-50 sticky top-0\">\r\n                        <tr>\r\n                          <th className=\"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap\">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</th>\r\n                          <th className=\"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap\">‡πÄ‡∏ö‡∏≠‡∏£‡πå</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {phoneLeadsLoading ? (\r\n                          <tr><td colSpan={2} className=\"px-2 py-4 text-center text-xs\">‚è≥</td></tr>\r\n                        ) : (\r\n                          Object.entries(phoneLeadsData)\r\n                            .sort(([dateA], [dateB]) => new Date(dateB).getTime() - new Date(dateA).getTime())\r\n                            .slice(1)\r\n                            .map(([date, count]) => (\r\n                              <tr key={date} className=\"hover:bg-purple-50 border-b\">\r\n                                <td className=\"px-2 py-2 text-center text-xs text-gray-900\">\r\n                                  {new Date(date).toLocaleDateString(\"th-TH\", { month: \"short\", day: \"numeric\" })}\r\n                                </td>\r\n                                <td className=\"px-2 py-2 text-center text-xs font-semibold text-purple-600\">{count}</td>\r\n                              </tr>\r\n                            ))\r\n                        )}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* TOP Ads Section - Two Column Layout */}\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mt-4 sm:mt-8\">\r\n              {/* Placeholder for Page 3 specific content */}\r\n              <div className=\"bg-white rounded-2xl sm:rounded-3xl shadow-2xl p-4 sm:p-8 border border-gray-100\">\r\n                <div className=\"bg-gradient-to-r from-green-600 via-emerald-600 to-teal-600 px-4 sm:px-8 py-4 sm:py-6 -m-4 sm:-m-8 mb-4 sm:mb-8 relative overflow-hidden rounded-t-2xl sm:rounded-t-3xl\">\r\n                  <div className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-10 transition-opacity duration-500\"></div>\r\n                </div>\r\n                <div className=\"flex flex-col gap-3 mb-3 sm:mb-4\">\r\n                  <h2 className=\"text-lg sm:text-2xl font-bold bg-gradient-to-r from-green-600 to-teal-600 bg-clip-text text-transparent flex items-center gap-2\">\r\n                    üåê Page 3 - Campaign Overview\r\n                  </h2>\r\n                  <p className=\"text-gray-600 text-sm\">Page 3 content area - Same structure as Page 1</p>\r\n                </div>\r\n                <div className=\"p-8 text-center text-gray-500\">\r\n                  <div className=\"text-6xl mb-4\">üéØ</div>\r\n                  <p className=\"text-lg\">Page 3 specific content will be displayed here</p>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"bg-white rounded-2xl sm:rounded-3xl shadow-2xl p-4 sm:p-8 border border-gray-100\">\r\n                <div className=\"bg-gradient-to-r from-green-600 via-emerald-600 to-teal-600 px-4 sm:px-8 py-4 sm:py-6 -m-4 sm:-m-8 mb-4 sm:mb-8 relative overflow-hidden rounded-t-2xl sm:rounded-t-3xl\">\r\n                  <div className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-10 transition-opacity duration-500\"></div>\r\n                </div>\r\n                <div className=\"flex flex-col gap-3 mb-3 sm:mb-4\">\r\n                  <h2 className=\"text-lg sm:text-2xl font-bold bg-gradient-to-r from-green-600 to-teal-600 bg-clip-text text-transparent flex items-center gap-2\">\r\n                    üìä Page 3 - Performance Metrics\r\n                  </h2>\r\n                  <p className=\"text-gray-600 text-sm\">Page 3 metrics area</p>\r\n                </div>\r\n                <div className=\"p-8 text-center text-gray-500\">\r\n                  <div className=\"text-6xl mb-4\">üìâ</div>\r\n                  <p className=\"text-lg\">Page 3 metrics will be displayed here</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n\r\n        {/* Page 4 Content - Same structure as Page 1 */}\r\n        {selectedPage === 4 && (\r\n          <>\r\n            {/* Performance Cards and Tables in 3-Column Layout */}\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4\">\r\n              {/* Column 1: ‡πÄ‡∏á‡∏¥‡∏ô‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠ + ‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏£‡∏ß‡∏° */}\r\n              <div className=\"flex flex-col\">\r\n                {/* Card */}\r\n                <div className=\"bg-gradient-to-br from-blue-500 via-blue-600 to-blue-700 rounded-2xl sm:rounded-3xl p-4 sm:p-8 text-white shadow-2xl\">\r\n                  <div className=\"grid grid-cols-2 gap-2 sm:gap-4\">\r\n                    <div className=\"text-center\">\r\n                      <div className=\"text-xs sm:text-base font-semibold opacity-90 mb-1 sm:mb-2\">\r\n                        üíµ ‡πÄ‡∏á‡∏¥‡∏ô‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠ (Page 4)\r\n                      </div>\r\n                      <div className=\"text-xl sm:text-3xl font-bold\">\r\n                        {facebookBalanceLoading ? (\r\n                          <span className=\"text-2xl\">‚è≥</span>\r\n                        ) : (\r\n                          `‡∏ø${facebookBalance.toLocaleString(\"th-TH\", {\r\n                            minimumFractionDigits: 2,\r\n                            maximumFractionDigits: 2,\r\n                          })}`\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"text-center\">\r\n                      <div className=\"text-xs sm:text-base font-semibold opacity-90 mb-1 sm:mb-2\">\r\n                        üí∞ ‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏£‡∏ß‡∏°\r\n                      </div>\r\n                      <div className=\"text-xl sm:text-3xl font-bold\">\r\n                        {formatCurrency(\r\n                          insights.reduce(\r\n                            (sum, ad) => sum + parseFloat(ad.spend || \"0\"),\r\n                            0\r\n                          )\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                {/* Table */}\r\n                <div className=\"bg-white rounded-b-2xl sm:rounded-b-3xl shadow-2xl overflow-hidden border border-gray-100 border-t-0 flex-1 mt-0\">\r\n                  <div className=\"overflow-y-auto max-h-[120px]\">\r\n                    <table className=\"w-full min-w-max text-xs\">\r\n                      <thead className=\"bg-blue-50 sticky top-0\">\r\n                        <tr>\r\n                          <th className=\"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap\">\r\n                            ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà\r\n                          </th>\r\n                          <th className=\"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap\">\r\n                            ‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß\r\n                          </th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {dailySummaryLoading ? (\r\n                          <tr>\r\n                            <td colSpan={2} className=\"px-2 py-4 text-center text-xs\">‚è≥</td>\r\n                          </tr>\r\n                        ) : (\r\n                          (() => {\r\n                            const dailyData = new Map<string, { spend: number }>();\r\n                            dailySummaryData.forEach((ad) => {\r\n                              const date = ad.date_start;\r\n                              const existing = dailyData.get(date) || { spend: 0 };\r\n                              existing.spend += parseFloat(ad.spend || \"0\");\r\n                              dailyData.set(date, existing);\r\n                            });\r\n                            const sortedDates = Array.from(dailyData.keys()).sort(\r\n                              (a, b) => new Date(b).getTime() - new Date(a).getTime()\r\n                            );\r\n                            const last30Days = sortedDates.slice(1, 31);\r\n                            return last30Days.map((date) => {\r\n                              const data = dailyData.get(date)!;\r\n                              return (\r\n                                <tr key={date} className=\"hover:bg-blue-50 border-b\">\r\n                                  <td className=\"px-2 py-2 text-center text-xs text-gray-900\">\r\n                                    {new Date(date).toLocaleDateString(\"th-TH\", { month: \"short\", day: \"numeric\" })}\r\n                                  </td>\r\n                                  <td className=\"px-2 py-2 text-center text-xs font-semibold text-blue-600\">\r\n                                    {formatCurrency(data.spend)}\r\n                                  </td>\r\n                                </tr>\r\n                              );\r\n                            });\r\n                          })()\r\n                        )}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Column 2: New Inbox & Total Inbox */}\r\n              <div className=\"flex flex-col\">\r\n                {/* Card */}\r\n                <div className=\"bg-gradient-to-br from-teal-500 via-teal-600 to-cyan-600 rounded-2xl sm:rounded-3xl p-4 sm:p-8 text-white shadow-2xl\">\r\n                  <div className=\"grid grid-cols-2 gap-2 sm:gap-4\">\r\n                    <div className=\"text-center\">\r\n                      <div className=\"text-xs sm:text-base font-semibold opacity-90 mb-1 sm:mb-3\">\r\n                        New Inbox\r\n                      </div>\r\n                      <div className=\"text-xl sm:text-4xl font-bold\">\r\n                        {getTotalResults()}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"text-center\">\r\n                      <div className=\"text-xs sm:text-base font-semibold opacity-90 mb-1 sm:mb-3\">\r\n                        Total Inbox\r\n                      </div>\r\n                      <div className=\"text-xl sm:text-4xl font-bold\">\r\n                        {getTotalMessagingConnection()}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                {/* Table */}\r\n                <div className=\"bg-white rounded-b-2xl sm:rounded-b-3xl shadow-2xl overflow-hidden border border-gray-100 border-t-0 flex-1 mt-0\">\r\n                  <div className=\"overflow-y-auto max-h-[120px]\">\r\n                    <table className=\"w-full min-w-max text-xs\">\r\n                      <thead className=\"bg-teal-50 sticky top-0\">\r\n                        <tr>\r\n                          <th className=\"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap\">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</th>\r\n                          <th className=\"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap\">New Inbox</th>\r\n                          <th className=\"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap\">Total Inbox</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {dailySummaryLoading ? (\r\n                          <tr><td colSpan={3} className=\"px-2 py-4 text-center text-xs\">‚è≥</td></tr>\r\n                        ) : (\r\n                          (() => {\r\n                            const dailyData = new Map<string, { newInbox: number; totalInbox: number }>();\r\n                            dailySummaryData.forEach((ad) => {\r\n                              const date = ad.date_start;\r\n                              const existing = dailyData.get(date) || { newInbox: 0, totalInbox: 0 };\r\n                              existing.newInbox += getResultsByActionType(ad.actions, \"onsite_conversion.messaging_first_reply\");\r\n                              existing.totalInbox += getResultsByActionType(ad.actions, \"onsite_conversion.total_messaging_connection\");\r\n                              dailyData.set(date, existing);\r\n                            });\r\n                            const sortedDates = Array.from(dailyData.keys()).sort((a, b) => new Date(b).getTime() - new Date(a).getTime());\r\n                            const last30Days = sortedDates.slice(1, 31);\r\n                            return last30Days.map((date) => {\r\n                              const data = dailyData.get(date)!;\r\n                              return (\r\n                                <tr key={date} className=\"hover:bg-teal-50 border-b\">\r\n                                  <td className=\"px-2 py-2 text-center text-xs text-gray-900\">\r\n                                    {new Date(date).toLocaleDateString(\"th-TH\", { month: \"short\", day: \"numeric\" })}\r\n                                  </td>\r\n                                  <td className=\"px-2 py-2 text-center text-xs font-semibold text-green-600\">{data.newInbox}</td>\r\n                                  <td className=\"px-2 py-2 text-center text-xs font-semibold text-teal-600\">{data.totalInbox}</td>\r\n                                </tr>\r\n                              );\r\n                            });\r\n                          })()\r\n                        )}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Column 3: ‡∏ä‡∏∑‡πà‡∏≠ - ‡πÄ‡∏ö‡∏≠‡∏£‡πå */}\r\n              <div className=\"flex flex-col\">\r\n                {/* Card */}\r\n                <div className=\"bg-gradient-to-br from-purple-500 via-purple-600 to-indigo-600 rounded-2xl sm:rounded-3xl p-4 sm:p-8 text-white shadow-2xl text-center\">\r\n                  <div className=\"text-base sm:text-xl font-semibold mb-2 sm:mb-3 opacity-90\">üìû ‡∏ä‡∏∑‡πà‡∏≠ - ‡πÄ‡∏ö‡∏≠‡∏£‡πå</div>\r\n                  <div className=\"text-2xl sm:text-4xl font-bold\">\r\n                    {phoneCountLoading ? <span className=\"text-3xl\">‚è≥</span> : <div>{phoneCountData.total.toLocaleString()}</div>}\r\n                  </div>\r\n                </div>\r\n                {/* Table */}\r\n                <div className=\"bg-white rounded-b-2xl sm:rounded-b-3xl shadow-2xl overflow-hidden border border-gray-100 border-t-0 flex-1 mt-0\">\r\n                  <div className=\"overflow-y-auto max-h-[120px]\">\r\n                    <table className=\"w-full min-w-max text-xs\">\r\n                      <thead className=\"bg-purple-50 sticky top-0\">\r\n                        <tr>\r\n                          <th className=\"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap\">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</th>\r\n                          <th className=\"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap\">‡πÄ‡∏ö‡∏≠‡∏£‡πå</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {phoneLeadsLoading ? (\r\n                          <tr><td colSpan={2} className=\"px-2 py-4 text-center text-xs\">‚è≥</td></tr>\r\n                        ) : (\r\n                          Object.entries(phoneLeadsData)\r\n                            .sort(([dateA], [dateB]) => new Date(dateB).getTime() - new Date(dateA).getTime())\r\n                            .slice(1)\r\n                            .map(([date, count]) => (\r\n                              <tr key={date} className=\"hover:bg-purple-50 border-b\">\r\n                                <td className=\"px-2 py-2 text-center text-xs text-gray-900\">\r\n                                  {new Date(date).toLocaleDateString(\"th-TH\", { month: \"short\", day: \"numeric\" })}\r\n                                </td>\r\n                                <td className=\"px-2 py-2 text-center text-xs font-semibold text-purple-600\">{count}</td>\r\n                              </tr>\r\n                            ))\r\n                        )}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* TOP Ads Section - Two Column Layout */}\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mt-4 sm:mt-8\">\r\n              {/* Placeholder for Page 4 specific content */}\r\n              <div className=\"bg-white rounded-2xl sm:rounded-3xl shadow-2xl p-4 sm:p-8 border border-gray-100\">\r\n                <div className=\"bg-gradient-to-r from-orange-600 via-red-600 to-pink-600 px-4 sm:px-8 py-4 sm:py-6 -m-4 sm:-m-8 mb-4 sm:mb-8 relative overflow-hidden rounded-t-2xl sm:rounded-t-3xl\">\r\n                  <div className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-10 transition-opacity duration-500\"></div>\r\n                </div>\r\n                <div className=\"flex flex-col gap-3 mb-3 sm:mb-4\">\r\n                  <h2 className=\"text-lg sm:text-2xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent flex items-center gap-2\">\r\n                    ‚öôÔ∏è Page 4 - Settings & Configuration\r\n                  </h2>\r\n                  <p className=\"text-gray-600 text-sm\">Page 4 content area - Same structure as Page 1</p>\r\n                </div>\r\n                <div className=\"p-8 text-center text-gray-500\">\r\n                  <div className=\"text-6xl mb-4\">üîß</div>\r\n                  <p className=\"text-lg\">Page 4 specific content will be displayed here</p>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"bg-white rounded-2xl sm:rounded-3xl shadow-2xl p-4 sm:p-8 border border-gray-100\">\r\n                <div className=\"bg-gradient-to-r from-orange-600 via-red-600 to-pink-600 px-4 sm:px-8 py-4 sm:py-6 -m-4 sm:-m-8 mb-4 sm:mb-8 relative overflow-hidden rounded-t-2xl sm:rounded-t-3xl\">\r\n                  <div className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-10 transition-opacity duration-500\"></div>\r\n                </div>\r\n                <div className=\"flex flex-col gap-3 mb-3 sm:mb-4\">\r\n                  <h2 className=\"text-lg sm:text-2xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent flex items-center gap-2\">\r\n                    üìù Page 4 - Additional Info\r\n                  </h2>\r\n                  <p className=\"text-gray-600 text-sm\">Page 4 additional area</p>\r\n                </div>\r\n                <div className=\"p-8 text-center text-gray-500\">\r\n                  <div className=\"text-6xl mb-4\">üìã</div>\r\n                  <p className=\"text-lg\">Page 4 additional content will be displayed here</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div >\r\n  );\r\n}","enum LoginStatus {\n  CONNECTED = 'connected',\n  AUTHORIZATION_EXPIRED = 'authorization_expired',\n  NOT_AUTHORIZED = 'not_authorized',\n  UNKNOWN = 'unknown',\n};\n\nexport default LoginStatus;\n","export default class FBError extends Error {\n  readonly code: number;\n  readonly type: string;\n\n  constructor(message: string, code: number, type: string) {\n    super(message);\n\n    this.code = code;\n    this.type = type;\n  }\n}","import LoginStatus from '../constants/LoginStatus';\nimport FBError from '../errors/FBError';\n\nexport type AuthResponse = {\n  userID: string; \n  accessToken: string;\n};\n\nexport type LoginResponse = {\n  status: LoginStatus.CONNECTED,\n  authResponse: AuthResponse,\n} | {\n  status: Exclude<LoginStatus, LoginStatus.CONNECTED>,\n};\n\nexport type LoginOptions = {\n  scope?: string;\n  returnScopes?: boolean;\n  authType?: string[];\n  rerequest?: boolean;\n  reauthorize?: boolean;\n};\ndeclare global {\n  interface Window { \n    fbAsyncInit: () => void;\n    FB: any;\n  }\n}\n\nexport enum Method {\n  GET = 'get',\n  POST = 'post',\n  DELETE = 'delete',\n};\n\nexport enum Namespace {\n  UI = 'ui',\n  API = 'api',\n  LOGIN = 'login',\n  LOGOUT = 'logout',\n  GET_LOGIN_STATUS = 'getLoginStatus',\n  GET_AUTH_RESPONSE = 'getAuthResponse',\n}\n\nexport type FacebookOptions = {\n  domain?: string;\n  version?: string;\n  cookie?: boolean;\n  status?: boolean;\n  xfbml?: boolean;\n  language?: string;\n  frictionlessRequests?: boolean;\n  debug?: boolean;\n  chatSupport?: boolean;\n  appId: string;\n  autoLogAppEvents?: boolean;\n  lazy?: boolean;\n};\n\nconst defaultOptions: Omit<FacebookOptions, 'appId'> = {\n  domain: 'connect.facebook.net',\n  version: 'v23.0',\n  cookie: false,\n  status: false,\n  xfbml: false,\n  language: 'en_US',\n  frictionlessRequests: false,\n  debug: false,\n  chatSupport: false,\n  autoLogAppEvents: true,\n  lazy: false,\n};\n\nexport default class Facebook {\n  options: FacebookOptions;\n  loadingPromise: Promise<any> | undefined;\n\n  constructor(options: FacebookOptions) {\n    if (!options.appId) {\n      throw new Error('You need to set appId');\n    }\n\n    this.options = {\n      ...defaultOptions,\n      ...options,\n    };\n\n    if (!this.options.lazy) {\n      this.init();\n    }\n  }\n\n  getAppId() {\n    return this.options.appId;\n  }\n\n  getFB() {\n    return window.FB;\n  }\n\n  async init(): Promise<Facebook> {\n    if (this.loadingPromise) {\n      return this.loadingPromise;\n    }\n\n    this.loadingPromise = new Promise((resolve) => {\n      const {\n        domain,\n        language,\n        debug,\n        chatSupport,\n        ...restOptions\n      } = this.options;\n\n      window.fbAsyncInit = () => {\n        window.FB.init({\n          appId: restOptions.appId,\n          version: restOptions.version,\n          cookie: restOptions.cookie,\n          status: restOptions.status,\n          xfbml: restOptions.xfbml,\n          frictionlessRequests: restOptions.frictionlessRequests,\n        });\n\n        resolve(this);\n      };\n\n      if (window.document.getElementById('facebook-jssdk')) {\n        return resolve(this);\n      }\n      \n      const js = window.document.createElement('script');\n      js.id = 'facebook-jssdk';\n      js.async = true;\n      js.defer = true;\n      js.crossOrigin = 'anonymous';\n      js.src = `https://${domain}/${language}/sdk${chatSupport ? '/xfbml.customerchat' : ''}${debug ? '/debug' : ''}.js`;\n\n      window.document.body.appendChild(js);\n    });\n\n    return this.loadingPromise;\n  }\n\n  async process<Response>(namespace: Namespace, before: any[] = [], after: any[] = []): Promise<Response> {\n    await this.init();\n\n    const fb = this.getFB();\n\n    return new Promise((resolve, reject) => {\n      const callback = (response: Response | { error: { code: number, type: string, message: string} }) => {\n        if (!response) {\n          if (namespace === Namespace.UI) return;\n          reject(new Error('Response is undefined'));\n        } else if (!!response && typeof response === 'object' && 'error' in response) {\n          const { code, type, message } = response.error;\n\n          reject(new FBError(message, code, type));\n        } else {\n          resolve(response);\n        }\n      };\n\n      (fb as any)[namespace](...before, callback, ...after);\n    });\n  }\n\n  async ui(options: any) {\n    return this.process(Namespace.UI, [options]);\n  }\n\n  async api<T>(path: string, method = Method.GET, params = {}) {\n    return this.process<T>(Namespace.API, [path, method, params]);\n  }\n\n  async login(options: LoginOptions) {\n    const { scope, authType = [], returnScopes, rerequest, reauthorize } = options;\n    const loginOptions: {\n      return_scopes?: boolean;\n      auth_type?: string;\n      scope?: string;\n    } = {\n      scope,\n    };\n\n    if (returnScopes) {\n      loginOptions.return_scopes = true;\n    }\n\n    if (rerequest) {\n      authType.push('rerequest');\n    }\n\n    if (reauthorize) {\n      authType.push('reauthenticate');\n    }\n\n    if (authType.length) {\n      loginOptions.auth_type = authType.join(',');\n    }\n\n    return this.process<LoginResponse>(Namespace.LOGIN, [], [loginOptions]);\n  }\n\n  async logout() {\n    return this.process(Namespace.LOGOUT);\n  }\n\n\n  async getLoginStatus(): Promise<LoginResponse> {\n    return this.process<LoginResponse>(Namespace.GET_LOGIN_STATUS);\n  }\n\n  async getAuthResponse() {\n    return this.process(Namespace.GET_AUTH_RESPONSE);\n  }\n\n  async getTokenDetail(loginResponse?: LoginResponse): Promise<AuthResponse> {\n    if (loginResponse?.status === LoginStatus.CONNECTED) {\n      return loginResponse.authResponse;\n    }\n\n    const response = await this.getLoginStatus();\n\n    if (response.status === LoginStatus.CONNECTED) {\n      return response.authResponse;\n    }\n\n    throw new Error('Token is undefined');\n  }\n\n  async getProfile(params: any) {\n    return this.api('/me', Method.GET, params);\n  }\n\n  async getTokenDetailWithProfile(params: any, response: any) {\n    const tokenDetail = await this.getTokenDetail(response);\n    const profile = await this.getProfile(params);\n\n    return {\n      profile,\n      tokenDetail,\n    };\n  }\n\n  async getToken(): Promise<string> {\n    const authResponse = await this.getTokenDetail();\n    return authResponse.accessToken;\n  }\n\n  async getUserId(): Promise<string> {\n    const authResponse = await this.getTokenDetail();\n    return authResponse.userID;\n  }\n\n  async sendInvite(to: string, options: any) {\n    return this.ui({\n      to,\n      method: 'apprequests',\n      ...options,\n    });\n  }\n\n  async postAction(ogNamespace: string, ogAction: string, ogObject: string, ogObjectUrl: string, noFeedStory: boolean = false) {\n    let url = `/me/${ogNamespace}:${ogAction}?${ogObject}=${encodeURIComponent(ogObjectUrl)}`;\n\n    if (noFeedStory === true) {\n      url += '&no_feed_story=true';\n    }\n\n    return this.api(url, Method.POST);\n  }\n\n  async getPermissions() {\n    const response = await this.api<{ data: any }>('/me/permissions');\n    return response.data as {\n      permission: string;\n      status: 'granted';\n    }[];\n  }\n\n  async hasPermissions(permissions: string[]) {\n    const usersPermissions = await this.getPermissions();\n\n    const findedPermissions = permissions.filter((p) => {\n      const currentPermission = usersPermissions.find((row) => {\n        const { permission, status } = row;\n        return status === 'granted' && permission === p;\n      });\n\n      return !!currentPermission;\n    });\n\n    return findedPermissions.length === permissions.length;\n  }\n\n  async subscribe<T>(eventName: string, callback: (value: T) => void) {\n    await this.init();\n    this.getFB().Event.subscribe(eventName, callback);\n\n    return () => this.unsubscribe(eventName, callback);\n  }\n\n  async unsubscribe<T>(eventName: string, callback: (value: T) => void) {\n    await this.init();\n    this.getFB().Event.unsubscribe(eventName, callback);\n  }\n\n  async parse(parentNode: HTMLElement) {\n    await this.init();\n\n    if (typeof parentNode === 'undefined') {\n      this.getFB().XFBML.parse();\n    } else {\n      this.getFB().XFBML.parse(parentNode);\n    }\n  }\n\n  async getRequests() {\n    return this.api('/me/apprequests');\n  }\n\n  async removeRequest(requestId: string) {\n    return this.api(requestId, Method.DELETE);\n  }\n\n  async setAutoGrow() {\n    await this.init();\n    this.getFB().Canvas.setAutoGrow();\n  }\n\n  async paySimple(product: string, quantity = 1) {\n    return this.ui({\n      method: 'pay',\n      action: 'purchaseitem',\n      product,\n      quantity,\n    });\n  }\n\n  async pay(product: string, options: any) {\n    return this.ui({\n      method: 'pay',\n      action: 'purchaseitem',\n      product,\n      ...options,\n    });\n  }\n\n  getLocale(): string {\n    return this.options.language || 'en_US';\n  }\n\n  async changeLocale(newLocale: string): Promise<void> {\n    // Update the options\n    this.options.language = newLocale;\n    \n    // Remove existing Facebook SDK script\n    const existingScript = window.document.getElementById('facebook-jssdk');\n    if (existingScript) {\n      existingScript.remove();\n    }\n\n    // Clear existing FB object\n    if (window.FB) {\n      delete (window as any).FB;\n    }\n\n    // Reset loading promise to force re-initialization\n    this.loadingPromise = undefined;\n\n    // Re-initialize with new locale\n    await this.init();\n\n    // Re-parse all existing Facebook widgets on the page\n    await this.parseAll();\n  }\n\n  async parseAll(): Promise<void> {\n    await this.init();\n    \n    const fb = this.getFB();\n    if (fb && fb.XFBML && fb.XFBML.parse) {\n      // Parse all Facebook widgets on the page\n      fb.XFBML.parse();\n    }\n  }\n}\n\n","import { createContext } from 'react';\nimport Facebook from '../utils/Facebook';\n\nexport type FacebookContextInterface = {\n  isLoading: boolean;\n  error: Error | undefined;\n  init: () => Promise<Facebook | undefined>;\n  api: Facebook | undefined;\n  parse: (element: HTMLDivElement | HTMLSpanElement) => Promise<void>;\n  locale: string;\n  setLocale: (locale: string) => Promise<void>;\n};\n\nexport default createContext<FacebookContextInterface | undefined>(undefined);\n","export type PixelOptions = {\n  pixelId: string;\n  autoConfig?: boolean;\n  debug?: boolean;\n  advancedMatching?: Record<string, any>;\n};\n\nexport type PixelEventData = Record<string, any>;\n\nexport type PixelEventName = \n  | 'PageView'\n  | 'ViewContent'\n  | 'Search'\n  | 'AddToCart'\n  | 'AddToWishlist'\n  | 'InitiateCheckout'\n  | 'AddPaymentInfo'\n  | 'Purchase'\n  | 'Lead'\n  | 'CompleteRegistration'\n  | 'Contact'\n  | 'CustomizeProduct'\n  | 'Donate'\n  | 'FindLocation'\n  | 'Schedule'\n  | 'StartTrial'\n  | 'SubmitApplication'\n  | 'Subscribe'\n  | 'Custom';\n\nconst defaultPixelOptions: Omit<PixelOptions, 'pixelId'> = {\n  autoConfig: true,\n  debug: false,\n  advancedMatching: {},\n};\n\ndeclare global {\n  interface Window {\n    fbq: any;\n    _fbq: any;\n  }\n}\n\nexport default class FacebookPixel {\n  private options: PixelOptions;\n  private loadingPromise: Promise<FacebookPixel> | undefined;\n\n  constructor(options: PixelOptions) {\n    if (!options.pixelId) {\n      throw new Error('You need to set pixelId');\n    }\n\n    this.options = {\n      ...defaultPixelOptions,\n      ...options,\n    };\n\n    if (!this.options.debug) {\n      this.options.debug = false;\n    }\n  }\n\n  private warn(...args: any[]): void {\n    if (!this.options.debug) return;\n    console.warn('[react-facebook-pixel]', ...args);\n  }\n\n  private log(...args: any[]): void {\n    if (!this.options.debug) return;\n    console.info('[react-facebook-pixel]', ...args);\n  }\n\n  private loadPixelScript(): Promise<void> {\n    return new Promise((resolve) => {\n      // Check if already loaded\n      if (window.fbq) {\n        resolve();\n        return;\n      }\n\n      // Load Facebook Pixel script\n      const script = document.createElement('script');\n      script.async = true;\n      script.src = 'https://connect.facebook.net/en_US/fbevents.js';\n      \n      script.onload = () => {\n        // Initialize fbq function\n        if (!window.fbq) {\n          (window as any).fbq = function() {\n            (window as any).fbq.callMethod\n              ? (window as any).fbq.callMethod.apply((window as any).fbq, arguments)\n              : (window as any).fbq.queue.push(arguments);\n          };\n        }\n        \n        if (!window._fbq) {\n          window._fbq = window.fbq;\n        }\n        \n        window.fbq.push = window.fbq;\n        window.fbq.loaded = true;\n        window.fbq.version = '2.0';\n        window.fbq.queue = [];\n        \n        resolve();\n      };\n\n      script.onerror = () => {\n        this.warn('Failed to load Facebook Pixel script');\n        resolve();\n      };\n\n      document.head.appendChild(script);\n    });\n  }\n\n  async init(): Promise<FacebookPixel> {\n    if (this.loadingPromise) {\n      return this.loadingPromise;\n    }\n\n    this.loadingPromise = this.loadPixelScript().then(() => {\n      const { pixelId, autoConfig, advancedMatching } = this.options;\n\n      if (autoConfig === false) {\n        window.fbq('set', 'autoConfig', false, pixelId);\n      }\n\n      window.fbq('init', pixelId, advancedMatching);\n      \n      this.log('Pixel initialized successfully');\n      return this;\n    });\n\n    return this.loadingPromise;\n  }\n\n  async pageView(): Promise<void> {\n    await this.init();\n\n    window.fbq('track', 'PageView');\n    this.log(\"Called fbq('track', 'PageView')\");\n  }\n\n  async track(eventName: PixelEventName, data?: PixelEventData): Promise<void> {\n    await this.init();\n\n    window.fbq('track', eventName, data);\n    this.log(`Called fbq('track', '${eventName}')`);\n    \n    if (data) {\n      this.log('with data:', data);\n    }\n  }\n\n  async trackSingle(pixelId: string, eventName: PixelEventName, data?: PixelEventData): Promise<void> {\n    await this.init();\n\n    window.fbq('trackSingle', pixelId, eventName, data);\n    this.log(`Called fbq('trackSingle', '${pixelId}', '${eventName}')`);\n    \n    if (data) {\n      this.log('with data:', data);\n    }\n  }\n\n  async trackCustom(eventName: string, data?: PixelEventData): Promise<void> {\n    await this.init();\n\n    window.fbq('trackCustom', eventName, data);\n    this.log(`Called fbq('trackCustom', '${eventName}')`);\n    \n    if (data) {\n      this.log('with data:', data);\n    }\n  }\n\n  async trackSingleCustom(pixelId: string, eventName: string, data?: PixelEventData): Promise<void> {\n    await this.init();\n\n    window.fbq('trackSingleCustom', pixelId, eventName, data);\n    this.log(`Called fbq('trackSingleCustom', '${pixelId}', '${eventName}')`);\n    \n    if (data) {\n      this.log('with data:', data);\n    }\n  }\n\n  async grantConsent(): Promise<void> {\n    await this.init();\n\n    window.fbq('consent', 'grant');\n    this.log(\"Called fbq('consent', 'grant')\");\n  }\n\n  async revokeConsent(): Promise<void> {\n    await this.init();\n\n    window.fbq('consent', 'revoke');\n    this.log(\"Called fbq('consent', 'revoke')\");\n  }\n\n  // Direct access to fbq for advanced use cases\n  async fbq(...args: any[]): Promise<void> {\n    await this.init();\n\n    window.fbq(...args);\n    this.log(`Called fbq('${args.slice(0, 2).join(\"', '\")}')`);\n    \n    if (args[2]) {\n      this.log('with data:', args[2]);\n    }\n  }\n\n  isInitialized(): boolean {\n    return !!this.loadingPromise;\n  }\n\n  getOptions(): PixelOptions {\n    return { ...this.options };\n  }\n}\n","import React, { useState, useEffect, useRef, createContext } from 'react';\nimport type { ReactNode } from 'react';\nimport FacebookPixel from '../utils/FacebookPixel';\nimport type { PixelOptions } from '../utils/FacebookPixel';\n\nexport type FacebookPixelContextInterface = {\n  isLoading: boolean;\n  error: Error | undefined;\n  init: () => Promise<void>;\n  pixel: FacebookPixel | undefined;\n  pageView: () => Promise<void>;\n  track: (eventName: string, data?: Record<string, any>) => Promise<void>;\n  trackCustom: (eventName: string, data?: Record<string, any>) => Promise<void>;\n  grantConsent: () => Promise<void>;\n  revokeConsent: () => Promise<void>;\n  fbq: (...args: any[]) => Promise<void>;\n};\n\nexport const FacebookPixelContext = createContext<FacebookPixelContextInterface | undefined>(undefined);\n\nexport type FacebookPixelProviderProps = PixelOptions & {\n  children: ReactNode;\n  lazy?: boolean;\n};\n\nexport default function FacebookPixelProvider(props: FacebookPixelProviderProps) {\n  const { children, lazy = false, ...options } = props;\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  const [error, setError] = useState<Error | undefined>();\n  const pixelRef = useRef<FacebookPixel | undefined>();\n  const initPromiseRef = useRef<Promise<void> | undefined>();\n\n  async function init() {\n    if (initPromiseRef.current) {\n      return initPromiseRef.current;\n    }\n\n    initPromiseRef.current = (async () => {\n      try {\n        if (pixelRef.current) {\n          return;\n        }\n\n        setIsLoading(true);\n        setError(undefined);\n\n        pixelRef.current = new FacebookPixel(options);\n        await pixelRef.current.init();\n      } catch (error) {\n        setError(error as Error);\n      } finally {\n        setIsLoading(false);\n      }\n    })();\n\n    return initPromiseRef.current;\n  }\n\n  async function pageView() {\n    await init();\n    await pixelRef.current?.pageView();\n  }\n\n  async function track(eventName: string, data?: Record<string, any>) {\n    await init();\n    await pixelRef.current?.track(eventName as any, data);\n  }\n\n  async function trackCustom(eventName: string, data?: Record<string, any>) {\n    await init();\n    await pixelRef.current?.trackCustom(eventName, data);\n  }\n\n  async function grantConsent() {\n    await init();\n    await pixelRef.current?.grantConsent();\n  }\n\n  async function revokeConsent() {\n    await init();\n    await pixelRef.current?.revokeConsent();\n  }\n\n  async function fbq(...args: any[]) {\n    await init();\n    await pixelRef.current?.fbq(...args);\n  }\n\n  useEffect(() => {\n    if (!lazy) {\n      init();\n    }\n  }, [lazy]);\n\n  const value: FacebookPixelContextInterface = {\n    isLoading,\n    error,\n    init,\n    pixel: pixelRef.current,\n    pageView,\n    track,\n    trackCustom,\n    grantConsent,\n    revokeConsent,\n    fbq,\n  };\n\n  return (\n    <FacebookPixelContext.Provider value={value}>\n      {children}\n    </FacebookPixelContext.Provider>\n  );\n}\n\n\n","import React, { useState, useEffect, useRef } from 'react';\nimport type { ReactNode } from 'react';\nimport Facebook from '../utils/Facebook';\nimport type { FacebookOptions } from '../utils/Facebook';\nimport FacebookContext from './FacebookContext';\nimport type { FacebookContextInterface } from './FacebookContext';\nimport FacebookPixelProvider from './FacebookPixelProvider';\n\nexport type FacebookProviderProps = FacebookOptions & {\n  children: ReactNode;\n  /** Facebook Pixel configuration */\n  pixel?: {\n    pixelId: string;\n    autoConfig?: boolean;\n    debug?: boolean;\n    advancedMatching?: Record<string, any>;\n  };\n};\n\nexport default function FacebookProvider(props: FacebookProviderProps) {\n  const { children, pixel, ...options } = props;\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  const [isReady, setIsReady] = useState<boolean>(false);\n  const [error, setError] = useState<Error | undefined>();\n  const [locale, setLocaleState] = useState<string>(options.language || 'en_US');\n  const apiRef = useRef<Facebook | undefined>();\n  const initPromiseRef = useRef<Promise<Facebook | undefined> | undefined>();\n\n  async function init() {\n    if (initPromiseRef.current) {\n      return initPromiseRef.current;\n    }\n\n    initPromiseRef.current = (async () => {\n      try {\n        if (apiRef.current) {\n          return apiRef.current;\n        }\n\n        setIsReady(false);\n        setIsLoading(true);\n\n        apiRef.current = new Facebook(options);\n\n        await apiRef.current.init();\n\n        setIsReady(true);\n        return apiRef.current;\n      } catch (error) {\n        setError(error as Error);\n      } finally {\n        setIsLoading(false);\n      }\n\n      return apiRef.current;\n    })();\n\n    return initPromiseRef.current;\n  }\n\n  async function parse(element: HTMLElement) {\n    const api = await init();\n    if (api) {\n      await api.parse(element);\n    }\n  }\n\n  async function setLocale(newLocale: string) {\n    if (!apiRef.current) {\n      // If API not initialized yet, just update the state\n      setLocaleState(newLocale);\n      return;\n    }\n\n    try {\n      setIsLoading(true);\n      setError(undefined);\n      \n      // Change locale on the Facebook API instance\n      await apiRef.current.changeLocale(newLocale);\n      \n      // Update local state\n      setLocaleState(newLocale);\n    } catch (error) {\n      setError(error as Error);\n    } finally {\n      setIsLoading(false);\n    }\n  }\n\n  useEffect(() => {\n    const { lazy } = options;\n    if (!lazy) {\n      init();\n    }\n  }, [options.lazy]);\n\n  useEffect(() => {\n    const newLocale = options.language || 'en_US';\n    if (newLocale !== locale) {\n      setLocale(newLocale);\n    }\n  }, [options.language, locale]);\n\n  const value: FacebookContextInterface = {\n    isLoading,\n    error,\n    init,\n    api: isReady ? apiRef.current : undefined,\n    parse,\n    locale,\n    setLocale,\n  };\n\n  const content = (\n    <FacebookContext.Provider value={value}>\n      {children}\n    </FacebookContext.Provider>\n  );\n\n  // Wrap with pixel provider if pixel config is provided\n  if (pixel) {\n    return (\n      <FacebookPixelProvider {...pixel}>\n        {content}\n      </FacebookPixelProvider>\n    );\n  }\n\n  return content;\n}\n","import { useContext, useEffect } from 'react';\nimport FacebookContext from '../components/FacebookContext';\nimport type { FacebookContextInterface } from '../components/FacebookContext';\n\nexport type UseFacebookProps = {\n  lazy?: boolean;\n};\n\nexport default function useFacebook(props: UseFacebookProps = {}): FacebookContextInterface {\n  const { lazy = false } = props;\n\n  const context: FacebookContextInterface | undefined = useContext(FacebookContext);\n  if (!context) {\n    throw new Error('useFacebook must be used within a FacebookProvider');\n  }\n\n  useEffect(() => {\n    if (!lazy) {\n      context.init();\n    }\n  }, [lazy, context.init]);\n\n  return context;\n}\n","import React, { useState, memo, forwardRef, ReactNode, useEffect, useCallback, useMemo, type ElementType, type CSSProperties, type Ref } from 'react';\nimport useFacebook from '../hooks/useFacebook';\n\nexport type ParserProps = {\n  className: string;\n  as?: ElementType;\n  children?: ReactNode;\n  style?: CSSProperties;\n  data?: Record<string, string | undefined>;\n};\n\nfunction Parser(props: ParserProps, forwardedRef: Ref<HTMLElement>) {\n  const { as: As = 'div', children, className, style, data } = props;\n\n  const { parse } = useFacebook();\n  const [element, setElement] = useState<HTMLElement | null>(null);\n\n  const handleRef = useCallback((element: HTMLElement | null) => {\n    setElement(element);\n\n    if (forwardedRef) {\n      if (typeof forwardedRef === 'function') {\n        forwardedRef(element);\n      } else if (forwardedRef) {\n        (forwardedRef as React.MutableRefObject<HTMLElement | null>).current = element;\n      }\n    }\n  }, [forwardedRef]);\n\n  const key = useMemo(() => {\n    let uniqueKey = `fb-parser-${As}-${className}`;\n    if (!data) {\n      return uniqueKey;\n    }\n\n    for (const key in data) {\n      const value = data[key];\n      if (value !== undefined) {\n        uniqueKey += `-${key}:${data[key] || ''}`;\n      }\n    }\n\n    return uniqueKey;\n  }, [data, children, As, className]);\n\n  useEffect(() => {\n    if (element) {\n      parse(element);\n    }\n  }, [element, parse, key]);\n\n  return <As key={key} style={style} ref={handleRef}><As className={className} {...data}>{children}</As></As>;\n}\n\nexport default memo(forwardRef(Parser));","const canUseDOM = !!(\n  typeof window !== 'undefined' &&\n  window.document &&\n  window.document.createElement\n);\n\nexport default function getCurrentHref() {\n  if (!canUseDOM) {\n    return 'https://www.facebook.com';\n  }\n\n  return window.location.href;\n}\n","import React, { memo, forwardRef, useMemo, type Ref } from 'react';\nimport Parser, { type ParserProps } from './Parser';\nimport getCurrentHref from '../utils/getCurrentHref';\n\nexport type LikeProps = Partial<ParserProps> & {\n  referral?: string;\n  href?: string;\n  layout?: 'standard' | 'button_count' | 'button' | 'box_count';\n  showFaces?: boolean;\n  colorScheme?: string;\n  action?: string;\n  share?: boolean;\n  width?: number | string;\n  size?: string;\n  kidDirectedSite?: boolean;\n  lazy?: boolean;\n};\n\nfunction Like(props: LikeProps, ref: Ref<HTMLElement>) {\n  const {\n    className = '',\n    href = getCurrentHref(),\n    layout,\n    colorScheme,\n    action,\n    showFaces,\n    share,\n    width,\n    size,\n    kidDirectedSite,\n    referral,\n    lazy,\n    ...rest\n  } = props;\n\n  const data = useMemo(() => {\n    return {\n      'data-ref': referral,\n      'data-href': href,\n      'data-layout': layout,\n      'data-colorscheme': colorScheme,\n      'data-action': action,\n      'data-show-faces': showFaces ? 'true' : 'false',\n      'data-share': share ? 'true' : 'false',\n      'data-width': width?.toString(),\n      'data-size': size,\n      'data-lazy': lazy ? 'true' : 'false',\n      'data-kid-directed-site': kidDirectedSite ? 'true' : 'false',\n    };\n  }, [referral, href, layout, colorScheme, action, showFaces, share, width, size, kidDirectedSite, lazy]);\n\n  return (\n    <Parser className={`fb-like ${className}`} data={data} {...rest} ref={ref} />\n  );\n}\n\nexport default memo(forwardRef(Like));\n","type NonNullProperties<T> = { \n  [K in keyof T as T[K] extends undefined ? never : K]: T[K];\n};\n\nexport default function clearUndefinedProperties<T extends {}, V = NonNullProperties<T>>(obj: T): V {\n  return Object.fromEntries(Object.entries(obj).filter(([, value]) => value !== undefined)) as V;\n}\n","import { useState } from 'react';\nimport clearUndefinedProperties from '../utils/clearUndefinedProperties';\nimport useFacebook from './useFacebook';\n\nexport type ShareOptions = {\n  href: string;\n  display: 'iframe' | 'popup' | 'async' | 'page';\n  hashtag?: string;\n  redirectUri?: string;\n};\n\nexport default function useShare() {\n  const { init } = useFacebook();\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const [error, setError] = useState<Error | undefined>(undefined);\n\n  async function handleShare(options: ShareOptions) {\n    try {\n      const {\n        href,\n        display,\n        hashtag,\n        redirectUri,\n        ...rest\n      } = options;\n\n      setError(undefined);\n      setIsLoading(true);\n  \n      const api = await init();\n      if (!api) {\n        throw new Error('Facebook API is not initialized');\n      }\n      \n      return api.ui(clearUndefinedProperties({\n        method: 'share',\n        href,\n        display,\n        app_id: api.getAppId(),\n        hashtag,\n        redirect_uri: redirectUri,\n        ...rest,\n      }));\n    } catch (error) {\n      setError(error as Error);\n      throw error;\n    } finally {\n      setIsLoading(false);\n    }\n  }\n\n  return {\n    isLoading,\n    error,\n    share: handleShare,\n  };\n}\n","import React, { type ReactNode, type ComponentType, type ElementType, type CSSProperties } from 'react';\nimport type { ShareOptions } from '../hooks/useShare';\nimport useShare from '../hooks/useShare';\n\nexport type LoginButton = ShareOptions & {\n  children?: ReactNode;\n  as?: ComponentType | ElementType;\n  disabled?: boolean;\n  className?: string;\n  style?: CSSProperties;\n};\n\nexport default function ShareButton(props: LoginButton) {\n  const {\n    as: AsChild = 'button',\n    disabled,\n    href,\n    display,\n    hashtag,\n    redirectUri,\n    ...rest\n  } = props;\n\n  const { isLoading, share } = useShare();\n\n  function handleShare() {\n    if (isLoading) {\n      return;\n    }\n\n    share({\n      href,\n      display,\n      hashtag,\n      redirectUri,\n    });\n  }\n\n  return (\n    <AsChild\n      onClick={handleShare}\n      disabled={isLoading}\n      {...rest}\n    />\n  );\n}\n","import React, { memo, forwardRef, useMemo, type Ref } from 'react';\nimport Parser, { type ParserProps } from './Parser';\nimport getCurrentHref from '../utils/getCurrentHref';\n\nexport type PageProps = Partial<ParserProps> & {\n  href?: string;\n  tabs?: string;\n  hideCover?: boolean;\n  height?: number | string;\n  width?: number | string;\n  showFacepile?: boolean;\n  hideCTA?: boolean;\n  smallHeader?: boolean;\n  adaptContainerWidth?: boolean;\n  lazy?: boolean;\n};\n\nfunction Page(props: PageProps, ref: Ref<HTMLElement>) {\n  const {\n    className = '',\n    style,\n    href = getCurrentHref(),\n    tabs,\n    hideCover,\n    width,\n    height,\n    showFacepile,\n    hideCTA,\n    smallHeader,\n    adaptContainerWidth,\n    lazy,\n    ...rest\n  } = props;\n\n  const data = useMemo(() => {\n    return {\n      'data-tabs': tabs,\n      'data-hide-cover': hideCover ? 'true' : 'false',\n      'data-show-facepile': showFacepile ? 'true' : 'false',\n      'data-hide-cta': hideCTA ? 'true' : 'false',\n      'data-href': href,\n      'data-small-header': smallHeader ? 'true' : 'false',\n      'data-adapt-container-width': adaptContainerWidth ? 'true' : 'false',\n      'data-height': height?.toString(),\n      'data-width': width?.toString(),\n      'data-lazy': lazy ? 'true' : 'false',\n    };\n  }, [href, tabs, hideCover, width, height, showFacepile, hideCTA, smallHeader, adaptContainerWidth, lazy]);\n\n  return (\n    <Parser className={`fb-page ${className}`} style={style} data={data} {...rest} ref={ref} />\n  );\n}\n\nexport default memo(forwardRef(Page));\n","import { useState } from 'react';\nimport useFacebook from './useFacebook';\nimport type { LoginResponse } from '../utils/Facebook';\nimport LoginStatus from '../constants/LoginStatus';\n\nexport type LoginOptions = {\n  scope?: string;\n  returnScopes?: boolean;\n  authType?: string[];\n  rerequest?: boolean;\n  reauthorize?: boolean;\n};\n\nexport default function useLogin() {\n  const { api, isLoading } = useFacebook();\n  const [error, setError] = useState<Error | undefined>(undefined);\n  const [isLoadingLogin, setIsLoadingLogin] = useState<boolean>(false);\n  const [latestResponse, setLatestResponse] = useState<LoginResponse | undefined>();\n\n  async function handleLogin(loginOptions: LoginOptions, callback?: (response: LoginResponse) => void) {\n    try {\n      if (!api) {\n        throw new Error('Facebook API is not initialized');\n      }\n\n      setIsLoadingLogin(true);\n\n      const response = await api.login(loginOptions);\n      if (response.status !== LoginStatus.CONNECTED) {\n        throw new Error('Unauthorized user');\n      }\n\n      setLatestResponse(response);\n\n      callback?.(response);\n      return response;\n    } catch (error) {\n      setError(error as Error);\n      throw(error);\n    } finally {\n      setIsLoadingLogin(false);\n    }\n  }\n\n  return {\n    login: handleLogin,\n    error,\n    isLoading: isLoading || isLoadingLogin,\n    status: latestResponse?.status,\n  };\n}\n","import { useCallback, useEffect, useState } from 'react';\nimport useFacebook from './useFacebook';\n\nexport default function useSubscribe<T>(event: string, callback?: (data: any) => void): T | undefined {\n  const [lastValue, setLastValue] = useState<T | undefined>(undefined);\n  const { init } = useFacebook();\n\n  const handleResponse = useCallback((value: T) => {\n    setLastValue(value);\n    callback?.(value);\n  }, [callback]);\n\n  const handleSubscribe = useCallback(async () => {\n    const api = await init();\n    if (api) {\n      await api.subscribe(event, handleResponse);\n    }\n  }, [event, handleResponse, init]);\n\n  const handleUnsubscribe = useCallback(async () => {\n    const api = await init();\n    if (api) {\n      await api.unsubscribe(event, handleResponse);\n    }\n  }, [event, handleResponse, init]);\n\n\n  useEffect(() => {\n    handleSubscribe();\n\n    return () => {\n      handleUnsubscribe();\n    };\n  }, [handleSubscribe, handleUnsubscribe]);\n\n  return lastValue;\n}\n","import { useEffect, useState, useCallback } from 'react';\nimport useFacebook from './useFacebook';\nimport useSubscribe from './useSubscribe';\nimport LoginStatus from '../constants/LoginStatus';\n\nexport default function useLoginStatus(): {\n  isLoading: boolean;\n  error?: Error;\n  status?: LoginStatus;\n} {\n  const { init } = useFacebook();\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  const [error, setError] = useState<Error | undefined>(undefined);\n  const [status, setStatus] = useState<LoginStatus>(LoginStatus.UNKNOWN);\n\n  const handleStatusChanges = useCallback((response: { status: LoginStatus }) => {\n    setStatus(response.status);\n  }, []);\n\n  useSubscribe('auth.statusChange', handleStatusChanges);\n\n  async function handleGetInitState() {\n    try {\n      setIsLoading(true);\n      const api = await init();\n      if (!api) {\n        throw new Error('Facebook API is not initialized');\n      }\n\n      const { status } = await api.getLoginStatus();\n      setStatus(status);\n    } catch (error) {\n      setError(error as Error);\n    } finally {\n      setIsLoading(false);\n    }\n  }\n\n  useEffect(() => {\n    handleGetInitState();\n  }, []);\n  \n  return {\n    isLoading,\n    error,\n    status,\n  };\n}","import { useState, useEffect } from 'react';\nimport LoginStatus from '../constants/LoginStatus';\nimport useFacebook from './useFacebook';\nimport useLoginStatus from \"./useLoginStatus\";\n\nexport default function useProfile(fields: string[]) {\n  const { init } = useFacebook();\n  const { status } = useLoginStatus();\n\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  const [profile, setProfile] = useState<Record<string, any> | undefined>(undefined);\n  const [error, setError] = useState<Error | undefined>(undefined);\n\n  async function updateProfile() {\n    try {\n      setError(undefined);\n      setIsLoading(true);\n\n      const api = await init();\n      if (!api) {\n        throw new Error('Facebook API is not initialized');\n      }\n\n      if (status === LoginStatus.CONNECTED) {\n        const profile = await api.getProfile({\n          fields,\n        });\n\n        setProfile(profile as Record<string, any>);\n      }\n    } catch (error) {\n      setError(error as Error);\n    } finally {\n      setIsLoading(false);\n    }\n  }\n\n  useEffect(() => {\n    updateProfile();\n  }, [status, fields, init]);\n\n  return {\n    isLoading,\n    error,\n    profile,\n  };\n}\n","import React, { type ReactNode, type ReactElement, type ComponentType, type ElementType, useEffect } from 'react';\nimport useLogin from '../hooks/useLogin';\nimport useProfile from '../hooks/useProfile';\nimport type { LoginOptions } from '../hooks/useLogin';\nimport type { LoginResponse } from '../utils/Facebook';\n\ntype LoginRenderProps = {\n  onClick: () => void;\n  isLoading: boolean;\n  isDisabled: boolean;\n};\n\nexport type LoginProps = Omit<LoginOptions, 'scope'> & {\n  children?: ReactNode | ((props: LoginRenderProps) => ReactElement);\n  \n  onSuccess?: (response: LoginResponse) => void;\n  onError?: (error: Error) => void;\n  onProfileSuccess?: (profile: any) => void;\n  \n  scope?: string | string[];\n  fields?: string[];\n  \n\n  as?: ElementType | ComponentType<any>;\n  disabled?: boolean;\n  \n  [key: string]: any;\n};\n\nexport default function Login(props: LoginProps) {\n  const {\n    children,\n    onSuccess,\n    onError,\n    onProfileSuccess,\n    fields = [],\n    as: Component = 'button',\n    disabled = false,\n    scope = ['public_profile', 'email'],\n    returnScopes,\n    authType,\n    rerequest,\n    reauthorize,\n    ...rest\n  } = props;\n\n  const { isLoading, login } = useLogin();\n  const { profile } = useProfile(fields);\n\n\n  useEffect(() => {\n    if (profile && onProfileSuccess) {\n      onProfileSuccess(profile);\n    }\n  }, [profile, onProfileSuccess]);\n\n  const handleLogin = async () => {\n    if (isLoading || disabled) return;\n\n    try {\n      const response = await login({\n        scope: Array.isArray(scope) ? scope.join(',') : scope,\n        returnScopes,\n        authType,\n        rerequest,\n        reauthorize,\n      });\n\n      onSuccess?.(response);\n    } catch (error) {\n      onError?.(error as Error);\n    }\n  };\n\n  const isDisabled = disabled || isLoading;\n\n  // Render props pattern\n  if (typeof children === 'function') {\n    return children({\n      onClick: handleLogin,\n      isLoading,\n      isDisabled,\n    });\n  }\n\n  // Default button rendering\n  return (\n    <Component\n      onClick={handleLogin}\n      disabled={isDisabled}\n      {...rest}\n    >\n      {isLoading ? 'Loading...' : (children || 'Login with Facebook')}\n    </Component>\n  );\n}","import React, { memo, forwardRef, useMemo, type Ref } from 'react';\nimport Parser, { type ParserProps } from './Parser';\n\nexport type EmbeddedPostProps = Partial<ParserProps> & {\n  href: string;\n  width?: string | number;\n  showText?: boolean;\n  lazy?: boolean;\n};\n\nfunction EmbeddedPost(props: EmbeddedPostProps, ref: Ref<HTMLElement>) {\n  const {\n    className = '',\n    href,\n    width,\n    showText,\n    lazy,\n    ...rest\n  } = props;\n\n  const data = useMemo(() => {\n    return {\n      'data-href': href,\n      'data-width': width?.toString(),\n      'data-lazy': lazy ? 'true' : 'false',\n      'data-show-text': showText ? 'true' : 'false',\n    };\n  }, [href, width, lazy, showText]);\n\n  return (\n    <Parser className={`fb-post ${className}`} data={data} {...rest} ref={ref} />\n  );\n}\n\nexport default memo(forwardRef(EmbeddedPost));\n","import React, { memo, forwardRef, useMemo, type Ref } from 'react';\nimport Parser, { type ParserProps } from './Parser';\n\nexport type EmbeddedVideoProps = Partial<ParserProps> & {\n  href: string;\n  width?: number | string;\n  showText?: boolean;\n  allowFullScreen?: boolean;\n  autoPlay?: boolean;\n  showCaptions?: boolean;\n  lazy?: boolean;\n};\n\nfunction EmbeddedVideo(props: EmbeddedVideoProps, ref: Ref<HTMLElement>) {\n  const {\n    className = '',\n    href,\n    width,\n    showText,\n    allowFullScreen,\n    autoPlay,\n    lazy,\n    showCaptions,\n    ...rest\n  } = props;\n\n  const data = useMemo(() => {\n    return {\n      'data-href': href,\n      'data-width': width?.toString(),\n      'data-show-text': showText ? 'true' : 'false',\n      'data-show-captions': showCaptions ? 'true' : 'false',\n      'data-autoplay': autoPlay ? 'true' : 'false',\n      'data-lazy': lazy ? 'true' : 'false',\n      'data-allowfullscreen': allowFullScreen ? 'true' : 'false',\n    };\n  }, [href, width, showText, showCaptions, autoPlay, lazy, allowFullScreen]);\n\n  return (\n    <Parser className={`fb-video ${className}`} data={data} {...rest} ref={ref} />\n  );\n}\n\nexport default memo(forwardRef(EmbeddedVideo));\n","import React, { forwardRef, memo, useMemo, type Ref } from 'react';\nimport Parser, { type ParserProps } from './Parser';\nimport getCurrentHref from '../utils/getCurrentHref';\n\nexport type CommentsProps = Partial<ParserProps> & {\n  href?: string;\n  numPosts?: number;\n  orderBy?: 'reverse_time' | 'time';\n  width?: number | string;\n  colorScheme?: 'light' | 'dark';\n  mobile?: boolean;\n  lazy?: boolean;\n};\n\nfunction Comments(props: CommentsProps, ref: Ref<HTMLElement>) {\n  const {\n    className = '',\n    colorScheme,\n    href = getCurrentHref(),\n    numPosts,\n    orderBy,\n    width,\n    mobile,\n    lazy,\n    ...rest\n  } = props;\n\n  const data = useMemo(() => {\n    return {\n      'data-colorscheme': colorScheme,\n      'data-numposts': numPosts?.toString(),\n      'data-href': href,\n      'data-order-by': orderBy,\n      'data-width': width?.toString(),\n      'data-skin': colorScheme,\n      'data-mobile': mobile ? 'true' : 'false',\n      'data-lazy': lazy ? 'true' : 'false',\n    };\n  }, [colorScheme, href, numPosts, orderBy, width, mobile, lazy]);\n\n  return (\n    <Parser className={`fb-comments ${className}`} data={data} {...rest} ref={ref} />\n  );\n}\n\nexport default memo(forwardRef(Comments));\n","import React, { forwardRef, memo, useMemo, type Ref } from 'react';\nimport Parser, { type ParserProps } from './Parser';\nimport getCurrentHref from '../utils/getCurrentHref';\n\nexport type CommentsCountProps = Partial<ParserProps> & {\n  href?: string;\n};\n\nfunction CommentsCount(props: CommentsCountProps, ref: Ref<HTMLElement>) {\n  const {\n    className = '',\n    href = getCurrentHref(),\n    ...rest\n  } = props;\n\n  const data = useMemo(() => {\n    return {\n      'data-href': href,\n    };\n  }, [href]);\n\n  return (\n    <Parser as=\"span\" className={`fb-comments-count ${className}`} data={data} {...rest} ref={ref} />\n  );\n}\n\nexport default memo(forwardRef(CommentsCount));\n","import React, { forwardRef, memo, type Ref, useMemo } from 'react';\nimport Parser, { type ParserProps } from './Parser';\nimport getCurrentHref from '../utils/getCurrentHref';\n\nexport type ShareProps = Partial<ParserProps> & {\n  href?: string;\n  lazy?: boolean; // default fb 'false'\n  size?: 'small' | 'large'; // default fb 'small'\n  layout?: 'box_count' | 'button_count' | 'button' | 'icon_link'; // default fb 'icon_link'\n};\n\nfunction Share(props: ShareProps, ref: Ref<HTMLElement>) {\n  const {\n    className = '',\n    href = getCurrentHref(),\n    lazy,\n    layout,\n    size,\n    ...rest\n  } = props;\n\n  const data = useMemo(() => {\n    return {\n      'data-href': href,\n      'data-lazy': lazy ? 'true' : 'false',\n      'data-size': size,\n      'data-layout': layout,\n    };\n  }, [href, lazy, size, layout]);\n\n  return (\n    <Parser\n      className={`fb-share-button ${className}`}\n      data={data}\n      {...rest}\n      ref={ref}\n    />\n  );\n}\n\nexport default memo(forwardRef(Share));\n","enum LikeSize {\n  SMALL = 'small',\n  LARGE = 'large',\n};\n\nexport default LikeSize;\n","enum LikeLayout {\n  STANDARD = 'standard',\n  BUTTON_COUNT = 'button_count',\n  BUTTON = 'button',\n  BOX_COUNT = 'box_count',\n};\n\nexport default LikeLayout;\n\n","enum ColorScheme {\n  LIGHT = 'light',\n  DARK = 'dark',\n};\n\nexport default ColorScheme;\n\n","enum LikeAction {\n  LIKE = 'like',\n  RECOMMEND = 'recommend',\n};\n\nexport default LikeAction;\n","enum CommentsOrderBy {\n  SOCIAL = 'social',\n  REVERSE_TIME = 'reverse_time',\n  TIME = 'time',\n};\n\nexport default CommentsOrderBy;\n","enum MessengerSize {\n  SMALL = 'small',\n  MEDIUM = 'medium',\n  STANDARD = 'standard',\n  LARGE = 'large',\n  XLARGE = 'xlarge',\n};\n\nexport default MessengerSize;\n","enum MessengerColor {\n  BLUE = 'blue',\n  WHITE = 'white',\n};\n\nexport default MessengerColor;\n","// @flow\n// 3.0 fields without app review https://developers.facebook.com/docs/facebook-login/permissions/?locale=en_US#reference-default\nexport default [\n  'id', 'first_name', 'last_name', 'middle_name',\n  'name', 'name_format', 'picture', 'short_name', 'email',\n];\n","import { useState } from 'react';\nimport useFacebook from './useFacebook';\n\nexport type FacebookLocale = \n  | 'en_US' // English (US)\n  | 'es_ES' // Spanish (Spain)\n  | 'es_LA' // Spanish (Latin America)\n  | 'fr_FR' // French (France)\n  | 'de_DE' // German (Germany)\n  | 'it_IT' // Italian (Italy)\n  | 'pt_BR' // Portuguese (Brazil)\n  | 'pt_PT' // Portuguese (Portugal)\n  | 'ja_JP' // Japanese (Japan)\n  | 'ko_KR' // Korean (South Korea)\n  | 'zh_CN' // Chinese (Simplified)\n  | 'zh_TW' // Chinese (Traditional)\n  | 'ar_AR' // Arabic\n  | 'hi_IN' // Hindi (India)\n  | 'th_TH' // Thai (Thailand)\n  | 'vi_VN' // Vietnamese (Vietnam)\n  | 'ru_RU' // Russian (Russia)\n  | 'tr_TR' // Turkish (Turkey)\n  | 'pl_PL' // Polish (Poland)\n  | 'nl_NL' // Dutch (Netherlands)\n  | 'sv_SE' // Swedish (Sweden)\n  | 'da_DK' // Danish (Denmark)\n  | 'no_NO' // Norwegian (Norway)\n  | 'fi_FI' // Finnish (Finland)\n  | 'cs_CZ' // Czech (Czech Republic)\n  | 'hu_HU' // Hungarian (Hungary)\n  | 'ro_RO' // Romanian (Romania)\n  | 'bg_BG' // Bulgarian (Bulgaria)\n  | 'hr_HR' // Croatian (Croatia)\n  | 'sk_SK' // Slovak (Slovakia)\n  | 'sl_SI' // Slovenian (Slovenia)\n  | 'et_EE' // Estonian (Estonia)\n  | 'lv_LV' // Latvian (Latvia)\n  | 'lt_LT' // Lithuanian (Lithuania)\n  | 'uk_UA' // Ukrainian (Ukraine)\n  | 'he_IL' // Hebrew (Israel)\n  | 'af_ZA' // Afrikaans (South Africa)\n  | 'ms_MY' // Malay (Malaysia)\n  | 'id_ID' // Indonesian (Indonesia)\n  | 'tl_PH' // Filipino (Philippines)\n  | 'cy_GB' // Welsh (United Kingdom)\n  | 'eu_ES' // Basque (Spain)\n  | 'ca_ES' // Catalan (Spain)\n  | 'gl_ES'; // Galician (Spain)\n\n/**\n * Hook for managing Facebook SDK locale dynamically\n * \n * @returns Object with current locale, setLocale function, and loading state\n * \n * @example\n * ```tsx\n * function MyComponent() {\n *   const { locale, setLocale, isChangingLocale } = useLocale();\n *   \n *   return (\n *     <div>\n *       <p>Current locale: {locale}</p>\n *       <button \n *         onClick={() => setLocale('es_ES')}\n *         disabled={isChangingLocale}\n *       >\n *         Switch to Spanish\n *       </button>\n *       {isChangingLocale && <p>Changing locale...</p>}\n *     </div>\n *   );\n * }\n * ```\n */\nexport default function useLocale() {\n  const { locale, setLocale: setFacebookLocale, isLoading } = useFacebook();\n  const [isChangingLocale, setIsChangingLocale] = useState(false);\n\n  const setLocale = async (newLocale: FacebookLocale) => {\n    if (newLocale === locale) {\n      return; // No change needed\n    }\n\n    try {\n      setIsChangingLocale(true);\n      await setFacebookLocale(newLocale);\n    } finally {\n      setIsChangingLocale(false);\n    }\n  };\n\n  return {\n    locale: locale as FacebookLocale,\n    setLocale,\n    isChangingLocale: isChangingLocale || isLoading,\n    availableLocales: [\n      'en_US', 'es_ES', 'es_LA', 'fr_FR', 'de_DE', 'it_IT', 'pt_BR', 'pt_PT',\n      'ja_JP', 'ko_KR', 'zh_CN', 'zh_TW', 'ar_AR', 'hi_IN', 'th_TH', 'vi_VN',\n      'ru_RU', 'tr_TR', 'pl_PL', 'nl_NL', 'sv_SE', 'da_DK', 'no_NO', 'fi_FI',\n      'cs_CZ', 'hu_HU', 'ro_RO', 'bg_BG', 'hr_HR', 'sk_SK', 'sl_SI', 'et_EE',\n      'lv_LV', 'lt_LT', 'uk_UA', 'he_IL', 'af_ZA', 'ms_MY', 'id_ID', 'tl_PH',\n      'cy_GB', 'eu_ES', 'ca_ES', 'gl_ES'\n    ] as FacebookLocale[],\n  };\n}","import { useContext, useEffect } from 'react';\nimport { FacebookPixelContext } from '../components/FacebookPixelProvider';\nimport type { FacebookPixelContextInterface } from '../components/FacebookPixelProvider';\n\nexport type UsePixelProps = {\n  lazy?: boolean;\n};\n\nexport default function usePixel(props: UsePixelProps = {}): FacebookPixelContextInterface {\n  const { lazy = false } = props;\n\n  const context: FacebookPixelContextInterface | undefined = useContext(FacebookPixelContext);\n  if (!context) {\n    throw new Error('usePixel must be used within a FacebookPixelProvider');\n  }\n\n  useEffect(() => {\n    if (!lazy) {\n      context.init();\n    }\n  }, [lazy, context.init]);\n\n  return context;\n}\n","import { useEffect, useRef } from 'react';\nimport usePixel from './usePixel';\n\nexport type UsePageViewProps = {\n  trackOnMount?: boolean;\n  trackOnRouteChange?: boolean;\n};\n\nexport default function usePageView(props: UsePageViewProps = {}) {\n  const { trackOnMount = true, trackOnRouteChange = false } = props;\n  const { pageView, isLoading } = usePixel();\n  const previousUrlRef = useRef<string>('');\n\n  useEffect(() => {\n    if (trackOnMount && !isLoading) {\n      pageView();\n    }\n  }, [trackOnMount, isLoading, pageView]);\n\n  useEffect(() => {\n    if (!trackOnRouteChange) return;\n\n    const currentUrl = window.location.href;\n    \n    if (previousUrlRef.current !== currentUrl) {\n      previousUrlRef.current = currentUrl;\n      \n      if (!isLoading) {\n        pageView();\n      }\n    }\n  }, [trackOnRouteChange, isLoading, pageView]);\n\n  return { pageView, isLoading };\n}\n"],"names":["LoginStatus","Parser"],"mappings":"4CCAK,U2BAL,C3BAgB,C4BAX,C5BAW,G8BAhB,ECAK,E/BAA,EE6BO,A0B7BG,E1BmCH,A0BnCG,EHAf,EvBiCC,AwBjCD,ECAK,C3BKJ,C4BLI,AGAc,C7B0ClB,C2B1CI,ECAA,ECAL,GJGC,a5BFD,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,MCDE,IADG,IAAA,EAAW,CACd,CADc,CAAA,CAAA,CACd,AADc,IAAA,KACd,CAAA,CAAA,UAAuB,CACvB,EAAA,SAAA,YAAA,CAAA,CAAA,sBAA+C,CAC/C,EAAA,SAAA,KAAA,CAAA,CAAA,eAAiC,CACjC,EAAA,OAAA,CAAA,CAAA,QAAmB,CAGrB,IAAA,EAAe,CCPD,OAAO,GDOK,ICPG,GAAQ,KAAK,CAAA,AAIxC,WAAA,CAAY,CAAe,CAAE,CAAY,CAAE,CAAY,CAAA,CACrD,KAAK,CAAC,GAEN,IAFa,AAET,CAFU,AAET,IAAI,CAAG,EACZ,EADgB,EACZ,CAAC,IAAI,CAAG,CACd,CACD,CCoBC,CADU,ADrBQ,ECqBR,GACV,CADU,AAAM,EAAA,EAAA,CAAA,CAAA,CAAA,AAChB,GAAA,CAAA,CAAA,IAAW,CACX,EAAA,IAAA,CAAA,CAAA,KAAa,CACb,EAAA,IAAA,EAAA,CAAA,CAAA,OAAiB,CAIjB,CADU,EAAA,IAAA,EAAS,AACnB,CADmB,CAAA,CAAA,CAAA,CAAA,AACnB,EADmB,AACnB,CAAA,CAAA,GAAS,CACT,EAAA,GAAA,CAAA,CAAA,EAAA,EAAW,CACX,EAAA,KAAA,CAAA,CAAA,MAAe,CACf,EAAA,MAAA,CAAA,CAAA,OAAiB,CACjB,EAAA,OAAA,SAAA,CAAA,CAAA,eAAmC,CACnC,EAAA,OAAA,UAAA,CAAA,CAAA,gBAAqC,KAkBjC,EAAiD,CACrD,OAAQ,uBACR,QAAS,QACT,MAAM,EAAE,EACR,GADa,GACP,EAAE,EACR,GADa,EACR,CAAE,GACP,EADY,MACJ,CAAE,OAAO,CACjB,oBAAoB,EAAE,EACtB,GAD2B,EACtB,EAAE,EACP,GADY,QACD,EAAE,EACb,GADkB,aACF,EAAE,EAClB,EADsB,EAClB,EAAE,EAGM,AAFb,GADY,IAGQ,EAInB,MAJ2B,CAAA,IAI3B,CAAY,CAAwB,CAAA,CAClC,GAAI,CAAC,EAAQ,KAAD,AAAM,CAChB,CADkB,KACZ,AAAI,KAAK,CAAC,uBAAuB,CAAC,CAG1C,IAAI,CAAC,OAAO,CAAG,CACb,GAAG,CAAc,CACjB,GAAG,CAAO,CACX,CAEI,AAAD,IAAK,CAAC,OAAO,CAAC,IAAI,EAAE,AACtB,IAAI,CAAC,IAAI,EAAE,AAEf,CAEA,QAAQ,EAAA,CACN,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,AAC3B,CAEA,KAAK,EAAA,CACH,OAAO,MAAM,CAAC,EAChB,AADkB,CAGlB,MAAM,IAAI,EAAA,QACJ,IAAI,CAAC,cAAc,EAAE,CAIzB,IAAI,CAAC,cAAc,CAAG,IAAI,OAAO,CAAC,AAAC,IACjC,GADwC,AAClC,KADsC,GAE1C,CAAM,UACN,CAAQ,OACR,CAAK,aACL,CAAW,CACX,GAAG,EACJ,CAAG,IAAI,CAAC,GADO,IACA,CAehB,GAbA,MAAM,CAAC,WAAW,CAAG,KACnB,CADwB,KAClB,CAAC,EAAE,CAAC,IAAI,CAAC,CACb,KAAK,CAAE,EAAY,KAAK,CACxB,GADkB,IACX,CAAE,EAAY,OAAO,CAC5B,CADoB,KACd,CAAE,EAAY,MAAM,CAC1B,EADmB,IACb,CAAE,EAAY,MAAM,CAC1B,EADmB,GACd,CAAE,EAAY,KAAK,CACxB,GADkB,iBACE,CAAE,EAAY,SAAD,WAAqB,AACvD,CAAA,CAAC,CAEF,EAAQ,IAAI,CAAL,AAAM,AACf,CAAC,CAEG,MAAM,CAAC,QAAQ,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAClD,CADoD,MAC7C,EAAQ,IAAI,CAAL,AAAM,CAGtB,IAAM,EAAE,AAAG,MAAM,CAAC,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAClD,EAAE,AAAC,EAAE,CAAG,gBAAgB,CACxB,EAAE,AAAC,KAAK,EAAG,EACX,EADe,AACb,AAAC,KAAK,CAAG,GACX,CADe,CACb,AAAC,WAAW,CAAG,WAAW,CAC5B,EAAG,AAAD,GAAI,CAAG,CAAA,QAAA,EAAW,EAAM,CAAA,EAAI,CAAJ,CAAY,IAAA,EAAA,AAAO,EAAc,SAAH,YAAwB,CAAG,EAAE,CAAA,EAAG,EAAQ,GAAH,KAAW,CAAG,EAAE,CAAA,GAAA,CAAK,CAElH,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,EAAE,AACrC,CADsC,CACrC,CAAC,CArCO,IAAI,CAAC,cAAc,AAwC9B,CAEA,MAAM,OAAO,CAAW,CAAoB,CAAE,EAAgB,EAAE,CAAE,CAApB,CAAmC,EAAE,CAAjB,AAAiB,CACjF,MAAM,IAAI,CAAC,IAAI,EAAE,CAEjB,IAAM,EAAE,AAAG,IAAI,CAAC,KAAK,EAAE,CAEvB,OAAO,IAAI,OAAO,CAAC,CAAC,EAAS,KAAF,AAcxB,CAAU,AAdsB,CAcrB,EAAU,CAAC,CAdc,EAcX,EAbT,AAAC,CAaG,GAAW,AAZ9B,EAYgC,CAZ3B,CADyF,AAC1F,CAGG,GAAI,AAAE,CAJqF,AAItF,CAS4B,CAZ3B,AAGgC,CASH,CAZ3B,GAGM,GAAgC,EAA5B,OAAO,GAAyB,KAAjB,EAAwB,GAAI,EAAU,CAC5E,GAAM,CAAE,CADkE,KAC9D,MAAE,CAAI,SAAE,CAAO,CAAE,CAAG,EAAS,KAAK,CAAN,AAExC,EAAO,IAAD,AAAK,EAAQ,EAAS,EAAM,CAAhB,CAAc,CAClC,AAD4B,CAAY,CAAC,CAAC,GAExC,CADK,CACG,KAAD,GAPH,AAOY,CAAC,GAPC,EAAU,EAAE,CAAjB,CAAmB,AAChC,EAAO,AAAI,CADgB,GACrB,CAAU,CAAC,uBAAuB,CAAC,CAQ7C,AAR8C,CAQ7C,IAE8C,EACjD,CAAC,CAAC,AACJ,CAFwD,AAIxD,CAJyD,KAInD,EAAE,CAAC,CAAY,CAAA,CACnB,OAAO,IAAI,CAAC,OAAO,CAAC,EAAU,EAAE,CAAE,CAAC,EAAQ,CAC7C,AAD+B,AAAe,CAG9C,GAH4C,GAGtC,GAAG,CAAI,CAAY,CAAE,EAAS,EAAO,EAAV,CAAa,CAAE,AAAN,EAAe,CAAA,CAAE,CAAA,CAAL,AACpD,OAAO,IAAI,CAAC,OAAO,CAAI,EAAU,GAAG,CAAE,CAAC,EAAP,AAAa,EAAF,AAAU,EAAO,CAAC,AAC/D,CAEA,AAHqD,EAAQ,IAGvD,KAAK,CAAC,CAAqB,CAAA,CAC/B,GAAM,OAAE,CAAK,UAAE,EAAW,EAAE,IAAL,UAAO,CAAY,WAAE,CAAS,aAAE,CAAW,CAAE,CAAG,EACjE,EAIF,GAL0E,IAM5E,EACD,CAkBD,AAxBkB,EAKX,KAGH,IACF,EAAa,MADC,EAAE,EACJ,GAAc,EAAG,CAAA,CAAI,CAG/B,GACF,EAAS,IADE,AACE,CAAC,CADD,AACL,UAAiB,CAAC,CAGxB,GACF,EAAS,IAAI,CAAC,CADD,AACL,EADO,aACe,CAAC,CAG7B,EAAS,MAAM,AAAP,EAAS,CACnB,EAAa,SAAS,CAAG,AAAb,EAAsB,IAAI,CAAC,CAAN,GAAS,CAAC,CAGtC,IAAI,CAAC,OAAO,CAAgB,EAAU,KAAK,CAAE,CAAR,CAAU,CAAE,CAAC,EAAa,CACxE,AADyE,CAGzE,MAAM,EAHiE,IAG3D,EAAA,CACV,OAAO,IAAI,CAAC,OAAO,CAAC,EAAU,MAAM,CAAP,AAAQ,AACvC,CAGA,MAAM,cAAc,EAAA,CAClB,OAAO,IAAI,CAAC,OAAO,CAAgB,EAAU,OAAD,SAAiB,CAAC,AAChE,CAEA,MAAM,eAAe,EAAA,CACnB,OAAO,IAAI,CAAC,OAAO,CAAC,EAAU,OAAD,UAAkB,CACjD,AADkD,CAGlD,MAAM,cAAc,CAAC,CAA6B,CAAA,CAChD,GAAI,OAAA,EAAa,KAAA,CAAA,CAAb,EAAe,EAAF,IAAE,AAAM,CAAR,GAAaA,CAAb,CAAyB,GAAtC,MAA+C,CACjD,CADuC,AAAY,KAApC,CACR,EAAc,EADN,KAAA,CAAA,GACK,CAAa,CAGnC,IAAM,EAAW,MAAH,AAAS,IAAI,CAAC,cAAc,EAAE,CAE5C,GAAI,EAAS,MAAD,AAAO,GAAKA,EAAY,SAAS,CAC3C,CAD6C,AAAZ,MAC1B,EAAS,MAAD,MAAa,AAG9B,OAAM,AAAI,KAAK,CAAC,oBAAoB,CAAC,AACvC,CAEA,MAAM,UAAU,CAAC,CAAW,CAAA,CAC1B,OAAO,IAAI,CAAC,GAAG,CAAC,KAAK,CAAE,EAAO,GAAG,CAAJ,AAAM,EACrC,CAEA,GAH2C,CAAC,EAGtC,yBAAyB,CAAC,CAAW,CAAE,CAAa,CAAA,CACxD,IAAM,EAAc,MAAM,GAAT,CAAa,CAAC,cAAc,CAAC,GAG9C,KAHsD,CAAC,AAGhD,CACL,OAAO,CAHO,MAAM,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,QAI3C,EACD,AACH,CAEA,MAAM,EAJS,MAID,EAAA,CAEZ,MAAO,AADc,OAAM,IAAI,CAAC,AACb,cAD2B,EAAA,CAAE,CAC5B,WAAW,AACjC,CAEA,MAAM,SAAS,EAAA,OAEN,CADc,MAAM,IAAI,CAAC,cAAc,EAAA,CAAE,CAC5B,MAAM,AAC5B,CAEA,MAAM,WAAW,CAAU,CAAE,CAAA,CAAY,QAChC,IAAI,CAAC,EAAE,CAAC,IACb,EACA,AADE,MACI,CAAE,cACR,GAAG,CAAO,AACX,EACH,CAEA,MAAM,UAAU,CAAC,CAAmB,CAAE,CAAgB,CAAE,CAAgB,CAAE,CAAmB,CAAE,GAAuB,CAAK,CAAA,KACrH,EAAM,CAAH,AAAG,IAAA,EAAO,EAAW,CAAA,EAAI,EAAQ,CAAA,EAAI,CAAhB,CAAwB,CAAA,EAAI,GAAJ,gBAAuB,GAAY,CAAE,CAMzF,MANsF,CAAC,AAEnE,IAAhB,AAAoB,EAAE,EACxB,GAAO,AAAJ,IADU,iBACN,EAGF,IAAI,CAAC,GAAG,CAAC,EAAK,EAAO,IAAD,AAAK,CAAC,AACnC,CAEA,MAAM,cAAc,EAAA,CAElB,MADc,AACP,CADO,MAAS,CACR,GADY,CAAC,GAAG,CAAgB,kBAAA,EAC/B,IAGb,AACL,CAEA,MAAM,eAAe,CAAqB,CAAA,KAClC,EAAmB,MAAM,IAAI,CAAC,cAAc,UAW3C,AATmB,EAAY,MAAM,CAAC,AAAC,CAAC,CAAV,CAM5B,CAAC,CAAC,AALiB,EAAiB,IAAI,CAAC,AAAC,GAAG,CAClD,GAAM,CADgD,CAAd,CAKhB,SAJhB,CAAU,QAAE,CAAM,CAAE,CAAG,EAC/B,CADkC,KAChB,YAAX,GAAwB,GAAlB,CAAiC,CAAC,AACjD,CAAC,CAAC,EAKqB,MAAM,GAAK,EAAY,MAAM,CAGxD,MAAM,SAAS,CAAI,CAAiB,CAAE,CAA4B,CAAA,CAIhE,aAHM,IAAI,CAAC,IAAA,GACX,IAAI,CAAC,KAAK,EAAE,CAAC,KAAK,CAAC,SAAS,CAAC,EAAW,GAEjC,IAAM,AAFyB,CAAU,CAAC,EAEhC,CAAC,WAAW,CAAC,EAAW,EAC3C,CAEA,IAHyC,CAAU,CAAC,AAG9C,WAAW,CAAI,CAAiB,CAAE,CAA4B,CAAA,OAC5D,IAAI,CAAC,IAAI,GACf,IAAI,CAAC,KAAK,EAAE,CAAC,KAAK,CAAC,WAAW,CAAC,EAAW,EAC5C,CAEA,IAH0C,CAAU,CAAC,AAG/C,KAAK,CAAC,CAAuB,CAAA,OAC3B,IAAI,CAAC,IAAI,EAAE,CAEb,AAAsB,SAAf,EAA0B,AACnC,EADqC,EACjC,CAAC,GADc,EACT,EAAE,CAAC,KAAK,CAAC,KAAK,EAAE,CAE1B,IAAI,CAAC,KAAK,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC,EAE7B,CAEA,MAAM,CAJiC,CAAC,SAIvB,EAAA,CACf,OAAO,IAAI,CAAC,GAAG,CAAC,kBAClB,CAEA,MAAM,aAAa,CAAC,CAAiB,CAAA,QAC5B,IAAI,CAAA,GAAI,CAAC,EAAW,EAAO,IAAD,EAAO,CAAC,AAC3C,CAEA,MAAM,WAAW,EAAA,CACf,MAAM,IAAI,CAAC,IAAI,GACf,IAAI,CAAC,KAAK,EAAE,CAAC,MAAM,CAAC,WAAW,EAAE,CAGnC,MAAM,SAAS,CAAC,CAAe,CAAE,EAAW,CAAA,CAAC,CAC3C,GADuC,IAChC,IAAI,CAAC,EAAE,CAAC,CACb,MAAM,CAAE,KAAK,CACb,MAAM,CAAE,uBACR,OAAO,IACP,CACD,CAAA,CAAC,AACJ,CAEA,IAJY,EAIN,GAAG,CAAC,CAAe,CAAE,CAAY,CAAA,CACrC,OAAO,IAAI,CAAC,EAAE,CAAC,CACb,MAAM,CAAE,KAAK,CACb,MAAM,CAAE,cAAc,SACtB,EACA,GAAG,CAAO,AACX,CAFQ,AAER,CACH,AADI,CAGJ,SAAS,EAAA,CACP,OAAO,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAI,OAAO,AACzC,CAEA,MAAM,YAAY,CAAC,CAAiB,CAAA,CAElC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAG,EAGxB,IAAM,EAAiB,CAHU,KAGJ,CAAC,KAAV,GAAkB,CAAC,cAAc,CAAC,gBAAgB,CAAC,AACnE,IACF,EAAe,MAAM,EADL,AACO,CAIrB,CALgB,EACJ,GAIN,CAAC,EAAE,EAAE,AACb,OAAQ,MAAc,CAAC,EAAE,CAI3B,IAAI,CAAC,cAAc,MAAG,EAGtB,MAAM,CAHyB,GAGrB,CAAC,IAAI,EAAE,CAGjB,MAAM,IAAI,CAAC,QAAQ,EAAE,AACvB,CAEA,MAAM,QAAQ,EAAA,CACZ,MAAM,IAAI,CAAC,IAAI,EAAE,CAEjB,IAAM,EAAE,AAAG,IAAI,CAAC,KAAK,EAAE,CACnB,EAAE,CAAI,EAAE,AAAC,KAAK,EAAI,EAAE,AAAC,KAAK,CAAC,KAAK,EAAE,AAEpC,EAAE,AAAC,KAAK,CAAC,KAAK,EAAE,AAEpB,CACD,CCtXD,IAAA,EAAe,CAAA,EAAA,EAAA,aAAA,AAAa,OAAuC,GCiBnE,IAAM,EDjBsE,ACiBjB,CDjBkB,WCkB/D,IAAI,MACT,EACP,gBAAgB,CAAE,CAAA,CAAE,CACrB,AASa,OAAO,EAInB,WAJgC,CAAA,AAIpB,CAAqB,CAAA,IAC3B,CAAC,EAAQ,KAAD,EAAQ,CAClB,CADoB,KACd,AAAI,KAAK,CAAC,yBAAyB,CAAC,CAG5C,IAAI,CAAC,OAAO,CAAA,CACV,GAAG,CAAmB,CACtB,GAAG,CAAO,EAGR,AAAC,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CACvB,IAAI,CAAC,OAAO,CAAC,KAAK,EAAG,CAAA,CAAK,CAItB,KAAK,GAAG,CAAW,CAAA,CACpB,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,AACzB,OAAO,CAAC,IAAI,CAAC,wBAAwB,EAAE,EAAG,EAC5C,CAEQ,CAHwC,CAAC,CAGtC,CAAC,GAAG,CAAW,CAAA,CACnB,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,AACzB,QAAQ,IAAI,CAAC,4BAA6B,EAC5C,CAEQ,iBAAe,CACrB,OAAO,IAAI,OAAO,CAAA,AAAE,IAElB,GAFyB,AAErB,KAFyB,CAEnB,CAAC,GAAG,CAAE,YACd,IAKF,GALS,CAKH,CALK,CAKI,IAAH,IAAW,CAAC,aAAa,CAAC,QAAQ,CAAC,GACxC,KAAK,EAAG,EACf,EADmB,AACZ,GAAG,CAAJ,AAAO,gDAAgD,CAE7D,EAAO,IAAD,EAAO,CAAG,KAET,AAAD,CAFe,KAER,CAAC,GAAG,EAAE,CACd,MAAc,CAAC,GAAG,CAAG,WACnB,CADmB,KACL,CAAC,GAAG,CAAC,UAAA,CACf,MAAc,CAAC,GAAG,CAAC,UAAU,CAAC,KAAK,CAAE,MAAc,CAAC,GAAG,CAAE,SAAS,EAClE,MAAc,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAC/C,CAAC,CAGC,AAAC,OAAO,IAAI,EACd,AADgB,MACV,EAAC,IAAI,CAAG,MAAM,CAAC,GAAA,AAAG,EAG1B,OAAO,GAAG,CAAC,IAAI,CAAG,MAAM,CAAC,GAAG,CAC5B,MAAM,CAAC,GAAG,CAAC,MAAM,CAAG,GACpB,CADwB,KAClB,CAAC,GAAG,CAAC,OAAO,CAAG,KAAK,QACnB,GAAG,CAAA,KAAM,CAAG,EAAE,CAErB,GACF,CAAC,CAED,EAHS,AAGF,EAHI,KAGG,CAAG,KACf,IAAI,CAAC,IAAI,CAAC,wCACV,GACF,CAAC,CAED,EAHS,OAGA,IAAI,CAAC,WAAW,CAAC,EAC5B,CAAC,CACH,CAEA,CAJoC,CAAC,IAI/B,IAAI,EAAA,QACJ,IAAI,CAAC,cAAc,EAAE,CAIzB,IAAI,CAAC,cAAc,CAAG,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI,CAAC,KAChD,CADqD,EAC/C,SAAE,CAAO,YAAE,CAAU,kBAAE,CAAgB,CAAE,CAAG,IAAI,CAAC,OAAO,CAS9D,OAPmB,IAAf,CAAoB,EAAE,AACxB,MAAM,CAAC,GAAG,CAAC,KAAK,CAAE,YAAY,EAAE,EAAO,GAAF,AAGvC,IAHgD,CAAC,CAG3C,CAAC,GAAG,CAAC,MAAM,CAAE,EAAS,GAE5B,EAF0B,EAEtB,CAAC,GAAG,CAAC,IAFmC,CAAC,6BAGtC,IAAI,AACb,EAAC,EAdQ,IAAI,CAAC,cAiBhB,AAjB8B,CAmB9B,MAAM,QAAQ,EAAA,OACN,IAAI,CAAC,IAAI,EAAE,QAEV,GAAG,CAAC,QAAS,UAAU,CAAC,MAC1B,GAAG,CAAC,iCAAiC,CAAC,AAC7C,CAEA,MAAM,KAAK,CAAC,CAAyB,CAAE,CAAqB,CAAA,CAC1D,MAAM,IAAI,CAAC,IAAI,EAAE,CAEjB,OAAO,GAAG,CAAC,QAAS,EAAW,GAC/B,CADmC,CAAC,EAChC,AADyB,CACxB,GAAG,CAAC,CAAA,qBAAA,EAAwB,EAAS,EAAA,CAAI,CAAC,CAE3C,EAFsC,CAGxC,GADQ,CACJ,CAAC,GAAG,CAAC,YAAY,CAAE,EAE3B,CAEA,CAJ+B,CAAC,IAI1B,YAAY,CAAe,CAAE,CAAyB,CAAE,CAAqB,CAAA,CACjF,MAAA,IAAU,CAAC,IAAI,EAAE,CAEjB,OAAO,GAAG,CAAC,aAAa,CAAE,EAAS,EAAW,GAC9C,AADiC,CAAiB,CAAC,EAC/C,AADwC,CACvC,GAAG,CAAC,CAAA,2BAAA,EAA8B,EAAO,IAAA,CAAA,CAAO,EAAS,EAAA,CAAI,CAAC,CAE/D,EAF0D,CAG5D,GADQ,CACJ,CAAC,GAAG,CAAC,aAAc,EAE3B,CAEA,MAAM,YAAA,CAAA,CAA+B,CAAqB,CAAA,CACxD,MAAA,IAAU,CAAC,IAAI,EAAE,CAEjB,OAAO,GAAG,CAAC,cAAe,EAAW,GACrC,IAAI,CAAC,GAAG,CAAC,CAAA,2BAAA,EAA8B,EAAS,EAAA,CAAI,CAAC,CAErD,EAFgD,CAG9C,GADQ,CACJ,CAAC,GAAG,CAAC,aAAc,EAE3B,CAEA,CAJ+B,CAAC,IAI1B,kBAAkB,CAAe,CAAE,CAAiB,CAAE,CAAqB,CAAA,CAC/E,MAAM,IAAI,CAAC,IAAI,EAAE,CAEjB,OAAO,GAAG,CAAC,oBAAqB,EAAS,EAAW,GAAb,AACvC,CADwD,CAAC,EAAP,AAC9C,CAAC,GAAG,CAAC,CAAA,iCAAA,EAAoC,EAAO,IAAA,CAAA,CAAO,EAAS,EAAA,CAAI,CAAC,CAErE,EAFgE,CAGlE,GADQ,CACJ,CAAC,GAAG,CAAC,YAAY,CAAE,EAE3B,CAEA,CAJ+B,CAAC,IAI1B,cAAY,CAChB,MAAA,IAAU,CAAC,IAAI,EAAE,CAEjB,OAAO,GAAG,CAAC,SAAS,CAAE,OAAO,CAAC,CAC9B,IAAI,CAAC,GAAG,CAAC,iCACX,CAEA,MAAM,eAAa,CACjB,MAAM,IAAI,CAAC,IAAI,EAAE,CAEjB,MAAM,CAAC,GAAG,CAAC,SAAS,CAAE,QAAQ,CAAC,CAC/B,IAAI,CAAC,GAAG,CAAC,iCAAiC,CAAC,AAC7C,CAGA,MAAM,GAAG,CAAA,GAAI,CAAW,CAAA,CACtB,MAAM,IAAI,CAAC,IAAI,EAAE,CAEjB,OAAO,GAAG,CAAC,GAAG,GACd,IAAI,CAAC,GAAG,CAAC,CAAA,YAAA,EAAe,EAAK,EAAD,GAAM,CAAC,CAAC,CAAE,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA,EAAA,CAAI,CAAC,CAEtD,CAAI,CAAC,CAAC,CAAC,EACT,AADW,IACP,CAAC,GAAG,CAAC,YAAY,CAAE,CAAI,CAAC,CAAC,CAAC,CAAC,AAEnC,CAEA,eAAa,CACX,MAAO,CAAC,CAAC,IAAI,CAAC,cAAc,AAC9B,CAEA,YAAU,CACR,MAAO,CAAE,GAAG,IAAI,CAAC,OAAA,AAAO,CAAE,AAC5B,CACD,KC3MY,EAAA,CAAA,EAAuB,EAAA,aAAA,AAAa,OAA4C,GAO/E,MAPwF,GAO9E,EAAsB,CAAiC,EAAA,AAC7E,GAAM,CAAE,UAAQ,CAAA,CAD2B,IAC3B,GAAS,CAAK,CAAE,GAAG,EAAS,CAAG,EACzC,CAAC,CADmC,CAAU,AAClC,EAAa,CAAA,CAAA,EAAG,CAAlB,CAAkB,QAAA,AAAQ,GAAU,GAC9C,CADkD,AACjD,CADkD,CAC3C,EAAS,CAAA,CAAA,EAAG,EAAA,AAAJ,QAAI,AAAQ,EAAqB,EACjD,EAAQ,CAAA,EAAG,EAAA,CAAH,KAAG,AAAM,EAA6B,EAC9C,EAAc,CAAA,EAAG,EAAA,MAAM,AAAN,CAAH,CAAsC,iBAE3C,IAAI,GAAA,IACb,EAAe,OAAO,EAAE,GAIb,OAAO,CAAG,CAAC,UACxB,GAAI,CACF,GAAI,EAAS,MAAD,CAAQ,CAClB,CADoB,MAItB,EAAa,IACb,AADiB,CAAC,KAAN,CACH,GAET,EAAS,IAFS,CAAC,CAEX,CAAQ,CAAG,IAAI,EAAc,GACrC,IAD4C,CAAC,CACvC,EAD8B,AACrB,OAAO,CAAC,IAAI,EAAE,AAC/B,CAAE,MAAO,EAAO,CACd,EADY,AACH,EACX,GADyB,CAAf,AAAgB,IAChB,CACR,GAAa,EACf,EACF,CAAC,EAAA,EAnBQ,EAAe,OAAO,AAsBjC,CAEA,IAxByB,WAwBV,QAAQ,CACrB,EADqB,KACf,IAAI,AACV,EADY,IACZ,CAAM,OAAA,EAAA,EAAS,MAAD,CAAC,AAAO,EAAA,IAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAE,GAAF,EAAA,GAAU,EAAV,AAAU,CAAE,AACpC,CADoC,AAGpC,GAHwB,CAAA,WAGT,EAAM,CAAiB,CAAE,CAApB,AAA8C,EAAA,YAC1D,IAAI,AACV,EADY,IACZ,CAAM,MAAA,CAAA,EAAA,EAAS,OAAA,AAAO,EAAA,KAAA,CAAA,CAAA,EAAA,AAAE,GAAF,EAAA,AAAO,CAAC,EAAkB,EAA1B,AAA8B,CAAC,AACvD,CAEA,AAHuD,GAA/B,AAAwB,CAAxB,WAGT,EAAY,CAAiB,CAAE,CAA0B,EAAA,IAA9C,CACxB,OAAM,IACN,MAAA,CAAA,OAAM,EAAA,EAAS,MAAD,CAAC,AAAO,EAAA,IAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAE,GAAF,EAAA,KAAA,CAAa,CAAC,EAAW,CAAzB,CAA6B,AAA7B,CAA8B,AACtD,CAEA,AAHsD,GAAP,YAGhC,YAAY,GAAA,KAEzB,MAAA,CAAM,OAAA,EAAA,EAAS,MAAD,CAAC,AAAO,EAAA,IAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAE,GAAF,EAAA,KAAA,EAAc,EAAA,CAAE,AACxC,AADwB,CAAA,AAAgB,AAGxC,eAAe,SACb,IAD0B,GAAA,AACpB,IACN,MAAA,CAAM,MAAA,GAAA,EAAS,MAAD,CAAC,AAAO,EAAA,IAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAE,GAAF,EAAA,KAAA,GAAe,EAAf,AAAe,CAAf,AAAiB,AACzC,CADyC,AAGzC,eAAe,EAAI,CAAD,EAAI,CAAW,EAAA,KAC/B,OAAM,IAAI,AACV,EADY,IACZ,CAAM,OAAA,EAAA,EAAS,MAAD,CAAC,AAAO,EAAA,IAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAE,GAAF,AAAK,CAAC,CAAN,EAAS,EAAI,CAAb,AAAc,AACtC,CADsC,GAGtC,CAHwB,CAAA,AAGxB,SAAS,AAAT,EAAU,KACJ,AAAC,CADQ,GACJ,EAAE,AAGb,CAAC,CAAE,CAAC,EAAK,EAAD,AAER,IAAM,EAAuC,WAC3C,QACA,KAAK,EACL,EACA,EADI,GACC,CAAE,EAAS,MAAD,CAAQ,UACvB,QACA,cACA,WAAW,IACX,sBAEA,EACD,CADI,AAGL,OACE,EAAA,OAAA,CAAA,aAAA,CAAC,EAAqB,QAAQ,CAAA,CAAC,KAAK,CAAE,CAAK,CAAA,CACxC,EADwC,AAI/C,CC7Fc,KD0FC,CACqB,GC3FZ,EAAiB,CAA4B,EAAA,AACnE,GAAM,UAAE,CAAQ,CAAA,MAAA,CAAA,CAAS,GAAA,EAAA,CAAe,EACxC,CAAO,EAAW,EAAA,CAAgB,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAU,GAC9C,CADkD,AACjD,CADkD,CACzC,EAAW,CAAA,CAAA,EAAG,EAAA,QAAA,AAAQ,EAAA,CAAA,GAChC,CAAC,EAAO,EAAS,CAAA,CAAA,EAAA,EAAA,QAAA,AAAW,EAAqB,EACjD,CAAC,EAAA,EAAuB,CAAA,CAAA,EAAA,EAAA,QAAA,AAAW,EAAA,EAAiB,QAAQ,EAAI,OAAO,CAAC,CACxE,EAAA,CAAA,EAAA,EAAA,MAAA,AAAe,IACf,EAAA,CAAA,EAAiB,EAAA,MAAA,AAAM,EAA6C,EAE1E,eAAA,WACM,EAAe,OAAO,EAAE,AAI5B,GAJkB,AAIH,OAAO,CAAG,CAAC,UACxB,GAAI,CACF,GAAI,EAAO,IAAD,GAAQ,CAChB,CADkB,MACX,EAAO,IAAD,GAAQ,CAWvB,OARA,GAAW,GACX,EADgB,CAAC,AACJ,CADH,EAGV,CAFiB,CAAC,AAEX,IAFK,AAEN,GAAQ,CAAG,IAAI,EAAS,MAAD,CAAQ,CAAC,CAEhC,EAAO,IAAD,GAAQ,CAAC,IAAI,EAAE,CAE3B,GAAW,GACJ,EAAM,IAAA,GAAQ,AACvB,CAAE,MAAA,EAAc,CACd,EAAS,EACX,GADyB,CAAf,AAAgB,IAChB,CACR,EAAA,CAAA,EACF,CAEA,OAAO,EAAO,IAAD,GAAQ,CACvB,CAAC,EAAA,CAAG,CAzBK,EAAe,OA4B1B,AA5BiC,CA8BjC,eAAe,EAAM,CAAoB,EAArB,AAAqB,AACvC,IAAM,EAAM,CAAH,KAAS,IAAI,AAClB,EADoB,CACjB,MACC,EAAI,CAAD,IAAC,CAAM,EAEpB,CAEA,eAAe,EAAU,CAAiB,KACpC,CADkB,AACjB,EAAM,IAAA,GAAQ,CAAE,YAEnB,EAAe,OAKf,EALwB,CAAC,AAKZ,GACb,MADY,CACH,CAAD,EAGR,MAHkB,AAGZ,CAHa,CAGN,IAAD,GAAQ,CAAC,YAAY,CAAC,GAGlC,EAAe,EACjB,CAAA,CAJ6C,CAAC,IAIrC,EAAO,CACd,EADY,AACJ,MAAA,IACA,CACR,GAAa,EACf,CACF,EAFsB,CAAC,CAIvB,EAJgB,AAIhB,SAAA,AAAS,EAAC,KACR,CADa,EACP,MAAE,CAAI,CAAE,CAAG,CACb,CAAC,GACH,CADO,CADe,CACb,AAGb,CAFQ,CAEL,CAFO,AAEN,EAAQ,IAAI,CAAL,AAAM,CAAC,IAElB,EAAA,SAAS,AAAT,EAAU,MAAK,GACP,EAAY,EAAQ,KAAX,GAAmB,EAAI,OAAO,AACzC,KAAc,GAChB,CADW,CACD,CADY,CAG1B,CAH4B,AAG3B,CAAE,CAAC,EAFS,AAED,KAAD,GAAS,CAAE,EAAO,CAAC,CAE9B,EAF4B,EAE5B,EAAwC,mBAEtC,OACA,EACA,GAAG,CAAE,EAAU,EAAO,GAAV,CAAS,GAAQ,MAAG,SAAS,QAEzC,cAED,CAEK,EACJ,EAAA,OAAA,CAAA,aAAA,CAAC,EAAgB,QAAQ,CAAA,CAAC,GAAV,EAAe,CAAE,CAAK,CAAA,CACnC,EADmC,MAC3B,CACgB,CAC5B,AAGD,AAAI,EAEA,EAAA,GAFO,IAEP,CAAA,aAAA,CAAC,EAAqB,CAAA,GAAK,CAAK,CAAA,CAC7B,GAKA,CACT,CE5EA,EFsEgB,CACc,CEvE9B,CF2EgB,CE3EhB,CAAA,AFqE4B,EErEb,EAAA,IAAA,AAAI,EAAA,CAAA,EAAC,EAAA,UAAA,AAAU,EA3C9B,AA2C+B,MAAM,CAAC,CAAC,CA3CvB,AAAP,CAAyB,CAAE,CAA8B,EAAA,AAChE,GAAM,CAAA,GAAM,EAAE,AAAG,KAAK,CAAA,SAAA,CAAU,CAAE,WAAA,OAAW,CAAK,CAAE,MAAI,CAAE,CAAG,EAEvD,GAF4D,IAE1D,CAAK,CAAE,CAAG,ADNN,SAAsB,AAAZ,ECMO,ADN+B,CAAA,CAAE,ACM/B,EDN+B,GACxD,EAD2B,IACzB,GAAO,CAAK,CAAE,CAAG,EAEnB,EAAO,CAAA,AAFiB,EAEwB,EAAA,AAAzC,UAAyC,AAAU,EAAC,MAC7D,CAAC,EACH,KADU,CADoE,AAExE,AAAI,CAFqE,AACnE,IACG,CAAC,sDASlB,oBANS,EAAC,KACJ,AAAC,CADQ,EAEX,CADO,CACC,CADC,GACG,CAAL,CAAO,AAElB,CAAC,CAAE,CAAC,EAAM,EAAQ,IAAI,CAAL,AAAM,CAAC,CAEjB,CACT,ICRE,CAAO,EAAS,EAAW,CAAA,CAAA,EAAG,EAAA,EAAJ,MAAI,AAAQ,EAAqB,IAAI,CAAC,CAE1D,EAAA,CAAA,EAAY,EAAA,WAAA,AAAW,EAAC,AAAC,IAC7B,EAAW,CAD6C,EAGpD,GAHwD,CAC1C,AAGY,CAHX,SAED,AACsB,EAAlC,AAAoC,OAA7B,EACT,EAAA,GACS,IACR,EAA4D,MADxC,CAC+C,CAD7C,AACgD,CAAA,CAAX,AAAkB,CAGpF,CAAC,CAAE,CAAC,EAAa,CAAC,CAEZ,EAAA,CAAA,EAAM,EAAA,OAAA,AAAO,EAAC,KAClB,CADuB,GACnB,EAAY,CAAA,UAAA,EAAa,EAAE,CAAA,EAAI,EAAS,CAAE,CAC9C,GAAA,CAAK,CADuC,GACnC,EAAE,GACF,EAGT,IAAK,IAAM,GAAG,EAAI,EAEZ,EAFgB,CAAE,EAEb,AAAK,IADA,CAAI,CAAC,EAAI,CAAD,EACG,AACvB,GAAa,CAAA,CAAA,EAAI,EAAR,AAAW,CAAA,EAAI,CAAI,CAAC,EAAI,CAAD,CAAK,EAAE,EAAA,AAAE,EAI7C,OAAO,CACT,CAAC,CAAE,CAAC,EAAM,EAAU,CADF,CACI,AAAE,EAAU,CAAC,CAQnC,SANA,EAAA,SAAA,AAAS,EAAA,KACH,GACF,EAAM,EAEV,CAAC,CAHc,AAGZ,CAAC,EAFa,AAEJ,CAFK,CAEE,EAAI,CAAC,AAAF,CAEhB,EAAA,OAAA,CAAA,aAAA,CAAA,EAAG,CAAC,GAAG,CAAE,EAAK,CAAF,IAAO,CAAE,EAAO,GAAG,AAAL,CAAO,CAAS,CAAA,CAAE,EAAA,IAAF,GAAE,CAAA,aAAA,CAAA,EAAG,CAAC,SAAS,CAAE,EAAS,GAAM,CAAI,CAAA,CAAG,CAAb,EAC7E,IC9Cc,CD6CoF,CAAM,CAAK,MC7CrF,oCAMxB,CC4CA,CAAA,EAAe,EAAA,IAAA,AAAI,EAAC,CAAA,EAAA,EAAA,UAAA,AAAU,EAAC,AAtC/B,IAsCmC,KAtC1B,AAAK,CAAgB,CAAE,CAAqB,CAAxC,CACX,GAAM,CACJ,YAAY,EAAE,CACd,IAAI,GAAG,GAAgB,QACvB,CAAM,EADe,WAErB,CAAW,QACX,CAAM,WACN,CAAS,OACT,CAAK,OACL,CAAK,MACL,CAAI,iBACJ,CAAe,CACf,UAAQ,MACR,CAAI,CACJ,GAAG,EACJ,CAAG,CADK,CAGH,EAAA,CAAA,AAFG,EAEI,EAAA,OAAA,AAAO,EAAC,KACZ,CACL,UAAU,CAAE,EACZ,MADoB,MACP,EACb,EADiB,YACF,EACf,IADqB,eACD,EACpB,SAD+B,IAClB,CAAE,EACf,IADqB,aACJ,CAAE,EAAY,MAAM,CAAT,AAAY,OAAO,CAC/C,aAAc,EAAK,GAAA,IAAY,QAC/B,YAAY,CAAE,QAAK,EAAA,GAAA,CAAA,CAAL,EAAO,CAAP,EAAK,GAAA,EAAU,EAAE,CAAZ,AACnB,KADmB,MACR,CAAE,EACb,EADiB,SACN,CAAE,EAAI,EAAA,KAAY,OAAO,0BACV,EAAkB,MAAM,CAAG,MAAZ,CAAmB,CAC7D,EACA,CAAC,EAAU,EAAM,EAAQ,EAAa,EAAQ,EAAW,EAAO,AAApB,EAA2B,CAAT,CAAe,CAAtB,AAAc,CAAM,AAAmB,EAAK,CAAC,CAAF,AAErG,OACE,EAAA,AAH6F,OAG7F,CAAA,aAAA,CAACC,EAAM,CAAC,KAAD,IAAU,CAAE,CAAA,QAAA,EAAW,EAAS,CAAE,CAAE,IAAI,CAAE,AAAV,EAAc,EAAA,CAAM,CAAI,CAAE,GAAG,CAAE,CAAG,CAAA,CAAA,AAAI,AAEjF,IIAA,CAAA,EAAe,EAAA,IAAA,AAAI,EAAA,CAAA,EAAC,EAAA,UAAA,AAAU,EArC9B,AAqC+B,IAAI,CAAC,CAAC,GArC5B,AAAK,CAAgB,CAAE,CAAA,EAC9B,GAAM,WACJ,EAAY,EAAE,CACd,IADS,GACJ,MACL,EAAO,EAAH,CAAmB,MACvB,CAAI,IADiB,OAErB,CAAS,OACT,CAAK,QACL,CAAM,cACN,CAAY,SACZ,CAAO,aACP,CAAW,qBACX,CAAmB,MACnB,CAAI,CACJ,GAAG,EACJ,CAAG,CADK,CAGH,EAAI,CAFD,AAEC,CAAA,CAAG,EAAA,OAAA,AAAO,EAAC,KACZ,CADiB,AAEtB,WAAW,CAAE,IAAI,gBACE,EAAY,MAAM,CAAA,6BACf,EAAe,MAAM,CAAG,OAAO,CACrD,eAAe,CAAE,EAAU,KAAH,CAAS,CAAG,OAAO,CAC3C,YAAa,EACb,oBAAqB,EAAc,OAAS,OAAO,CACnD,6BAA8B,EAAsB,MAAM,CAAG,OAAO,CACpE,EADiD,WACpC,OAAE,EAAM,IAAA,CAAA,EAAN,EAAQ,AAAF,IAAA,IAAU,AAAhB,EAAkB,IAAZ,KAAA,KAAA,MACP,EAAK,GAAA,EAAA,EAAL,CAAK,CAAE,GAAF,IAAL,CAAe,EAAE,EAAZ,KAAA,KAAA,GACC,MAAM,CAAG,OAAO,EACrC,CACA,GAAO,EAAM,EAAF,AAAa,EAAO,EAAQ,CAAV,CAAwB,CAA/B,CAAwC,AAAzB,EAAsC,EAAqB,CAApC,CAAyC,CAAC,CAAF,AAEvG,GAF4E,IAG1E,EAAA,IAH+F,GAG/F,CAAA,aAAA,CAACA,EAAM,CAAC,UAAW,CAAA,QAAA,EAAW,EAAS,CAAE,CAAE,KAAK,AAAT,CAAW,EAAO,GAAF,CAAM,CAAE,EAAI,EAAA,CAAM,CAAI,CAAE,GAAG,CAAE,CAAG,CAAA,CAAA,AAAI,AAE/F,IMlBA,IAAA,EAAA,CAAA,EAAe,EAAA,IAAA,EAAA,CAAA,EAAK,EAAA,UAAA,AAAU,EAAC,AAxB/B,SAAS,AAAa,CAAwB,CAAE,CAAqB,AAwB1B,CAAC,CAxByB,AACnE,AAuB2C,GAvB3C,WACE,EAAY,EAAE,KAAL,CACT,CAAI,CACJ,OAAA,CACA,UAAQ,CACR,MAAA,CACA,GAAG,EACJ,CAAG,CADK,CAGT,EAAA,CAAA,AAFS,EAEI,EAAA,OAAA,AAAO,EAAC,KACZ,CACL,YAAA,EACA,mBAAc,EAAK,GAAA,EAAA,EAAL,CAAK,CAAE,GAAF,IAAL,CAAe,EAAE,CAC/B,CADmB,KAAA,KAAA,AACR,CAAE,EAAO,EAAH,IAAS,CAAG,QAC7B,gBAAgB,CAAE,EAAW,OAAS,UAEvC,CAAC,EAAM,EAAF,AAAS,EAAM,CAAR,CAAM,AAAW,CAAC,KAAF,GAG7B,EAAA,OAAA,CAAA,aAAA,CAACA,EAAM,CAAC,KAAD,IAAU,CAAE,CAAA,QAAA,EAAW,EAAS,CAAE,CAAE,IAAI,CAAR,AAAU,EAAI,EAAA,CAAM,CAAI,CAAE,GAAG,CAAE,CAAG,CAAA,CAE7E,AAFiF,AAAJ,IrBI7E,GsBSe,CAAA,EAAA,EAAA,IAAA,AAAI,EAAC,CAAA,EAAA,EAAA,UAAA,AAAU,EAAC,AA9B/B,SAAS,AAAc,CAAyB,CAAE,CAAqB,CA8B3B,CAAC,AA9B0B,GAC/D,WACJ,EAAY,EAAE,KAAL,CACT,CAAI,OACJ,CAAK,UACL,CAAQ,CACR,iBAAe,UACf,CAAQ,MACR,CAAI,CACJ,cAAY,CACZ,GAAG,EACJ,CAAG,CADK,CAGH,EAAI,CAFD,AAEC,CAAA,CAAG,EAAA,OAAA,AAAO,EAAC,KACZ,CADiB,AAEtB,WAAW,CAAE,EACb,EADiB,UACL,OAAE,EAAK,KAAA,EAAL,CAAK,CAAE,GAAF,IAAL,CAAe,EAAE,CAC/B,CADmB,KAAA,KAAA,KACH,CAAE,EAAW,MAAH,AAAS,CAAG,OAAO,CAC7C,qBAAsB,EAAe,MAAM,CAAG,GAAZ,IAAmB,mBACzB,MAAM,CAAG,OAAO,CAC5C,YAAa,EAAO,OAAS,OAAO,CACpC,sBAAsB,CAAE,EAAkB,MAAM,CAAG,MAAZ,CAAmB,EAC3D,CACA,CAAC,EAAM,EAAO,AAAT,EAAmB,CAAZ,CAA0B,EAAU,EAAM,EAAF,AAAkB,CAAC,CAAzB,AAEjD,EAFuC,KAGrC,EAAA,EAHsE,KAGtE,CAAA,aAAA,CAACA,EAAM,CAAC,KAAD,IAAU,CAAE,CAAA,SAAA,EAAY,EAAS,CAAE,CAAE,IAAI,CAAE,AAAV,EAAc,EAAA,CAAM,CAAI,CAAE,GAAG,CAAE,CAAG,CAAA,CAAI,AAElF,AAF8E,ICM/D,CAAA,EAAA,EAAA,IAAA,AAAI,EAAA,CAAA,EAAC,EAAA,UAAA,AAAU,EAAC,AA/B/B,QA+BuC,CA/B9B,AAAS,AA+BsB,CA/BF,AA+BG,CA/BD,CAAqB,EAAA,AAC3D,GADe,AACT,WACJ,EAAY,EAAE,KAAL,QACT,CAAW,MACX,EAAO,EAAH,CAAmB,CACvB,UADqB,AACb,SACR,CAAO,OACP,CAAK,QACL,CAAM,MACN,CAAI,CACJ,GAAG,EACJ,CAAG,CADK,CAGH,EAAA,CAFG,AAEH,EAAO,EAAA,OAAA,AAAO,EAAC,KACZ,CACL,AAFsB,mBAEF,EACpB,SAD+B,aACd,EAAQ,KAAA,CAAA,CAAR,EAAU,EAAF,IAAA,EAAU,EAAE,AAApB,CACjB,OADyB,IACd,CADc,AACZ,EACb,GAFyB,YAEV,CAAE,EACjB,KADwB,OACZ,OAAE,EAAK,GAAA,EAAA,EAAL,CAAK,CAAE,GAAF,IAAL,CAAe,EAAE,CAC/B,CADmB,KAAA,KACR,AADQ,CACN,WAAW,KACT,EAAS,IAAH,EAAS,CAAG,OAAO,CACxC,WAAW,CAAE,EAAO,EAAH,IAAS,CAAG,OAAO,EACrC,CACA,GAAc,EAAM,EAAU,EAAS,EAAO,EAAlB,AAA0B,CAAjB,AAAO,CAAe,CAAC,CAAR,AAAM,AAE7D,OACE,EAAA,OAAA,CAAA,aAAA,CAACA,EAAM,CAAC,KAAD,IAAU,CAAE,CAAA,YAAA,EAAe,EAAS,CAAE,CAAE,IAAI,CAAE,AAAV,EAAc,EAAA,CAAM,CAAI,CAAE,GAAG,CAAE,CAAG,CAAA,CAEjF,AAFqF,AAAJ,ICfjF,CAAA,EAAe,EAAA,IAAA,AAAI,EAAA,CAAA,EAAC,EAAA,UAAA,AAAU,EAAC,AAlB/B,SAAS,AAAc,CAAyB,CAAE,CAAqB,CAkB3B,CAAC,AAlB0B,AACrE,CAiB4C,EAjB5C,WACE,EAAY,EAAE,KAAL,CACT,EAAO,EAAH,CAAmB,CACvB,GAAG,EACJ,CAAG,CADK,CAGT,EAAA,AAJuB,CAIvB,AAFS,EAEI,EAAA,OAAO,AAAP,EAAQ,KACZ,CADiB,AAEtB,WAAW,CAAE,IAAI,AAElB,GAAM,CAAC,CAEV,OACE,EAAA,OAAA,CAAA,aAAA,CAACA,EAAM,CAAC,EAAE,CAAC,EAAJ,IAAU,CAAC,SAAS,CAAE,CAAA,kBAAA,EAAqB,EAAS,CAAE,CAAE,IAAI,CAAR,AAAU,EAAI,EAAA,CAAM,CAAI,CAAE,GAAG,CAAE,CAAG,CAAA,CAAI,AAErG,AAFiG,ICkBjG,CAAA,EAAe,EAAA,IAAA,AAAI,EAAA,CAAA,EAAC,EAAA,UAAA,AAAU,EA7B9B,AA6B+B,KAAK,CAAC,CAAC,EA7B7B,AAAM,CAAiB,CAAE,CAAqB,EACrD,AADqD,AAAzC,GACN,WACJ,EAAY,EAAE,KAAL,CACT,EAAO,EAAH,CAAmB,MACvB,CAAI,IADiB,IAErB,CAAM,MACN,CAAI,CACJ,GAAG,EACJ,CAAG,CADK,CAGH,EAAI,CAFD,AAEC,CAAA,CAAG,EAAA,OAAA,AAAO,EAAC,KACZ,CACL,YAAa,EACb,EADiB,SACN,CAAE,EAAO,EAAH,IAAS,CAAG,OAAO,CACpC,WAAW,CAAE,EACb,EADiB,WACJ,CAAE,GAChB,CACA,CAAC,CAFqB,CAEf,EAAF,AAAQ,EAAF,AAAQ,EAAF,AAAS,CAAC,CAE9B,EAF4B,KAG1B,EAAA,OAAA,CAAA,aAAA,CAACA,EAAM,CACL,KADK,IACI,CAAE,CAAA,gBAAA,EAAmB,EAAS,CAAE,CACzC,IAAI,CADmC,AACjC,EAAI,EAAA,CACN,CAAI,CACR,GAAG,CAAE,CAAG,CAAA,CAAA,AACR,AAEN,KCtCK,EAAA,IAAA,CACH,CADW,EAAA,CAAA,CAAA,CAAA,AACX,CADW,IACX,CAAA,CAAA,MAAe,CACf,EAAA,KAAA,CAAA,OAAe,ECFZ,EAAA,GAAA,GAAU,CACb,CADa,CAAA,CAAA,CACb,AADa,EAAA,CAAA,KACb,CAAA,CAAA,SAAqB,GACrB,QAAA,IAAA,CAAA,CAAA,aAA6B,GAC7B,MAAA,CAAA,CAAA,OAAiB,GACjB,QAAA,CAAA,CAAA,CAAA,UAAuB,ECJzB,EAAK,IAAA,EAAW,EAAA,AACd,CADc,CAAA,CAAA,AACd,IADc,CACd,CAAA,CAAA,MAAe,CACf,EAAA,IAAA,CAAA,IAAA,EAAa,CCDb,GADG,IAAA,EAAU,CACb,CADa,GACb,GADa,CACb,CAAA,CAAA,KAAa,CACb,EAAA,QAAA,CAAA,CAAA,WAAuB,CCDvB,CADG,EAAA,IAAA,EAAe,EAAA,CAAA,CAAA,CAAA,AAClB,CAAA,CADkB,EAAA,EAClB,CAAA,CADkB,AAClB,OAAiB,CACjB,EAAA,YAAA,CAAA,CAAA,aAA6B,CAC7B,EAAA,IAAA,CAAA,CAAA,KAAa,CCFb,CADF,ADGE,ECHG,IAAA,EAAa,EAAA,CAAA,CAChB,AADgB,CAAA,AAChB,AADgB,EAAA,GAChB,CADgB,AAChB,CAAA,OACA,EAAA,MAAA,CAAA,CAAA,GAAA,KACA,EAAA,QAAA,CAAA,CAAA,CAAA,QAAqB,CACrB,EAAA,KAAA,CAAA,CAAA,IAAA,EAAe,CACf,EAAA,MAAA,CAAA,CAAA,GAAA,QCLG,IAAA,EAAc,EAAA,CAAA,CAAA,CAAA,AACjB,IAAA,CAAA,EADiB,KAEjB,EAAA,KAAA,CAAA,CAAA,KAAA,CAAe,ChCgCO,aAApB,OAAO,SAA0B,CACnC,IAAM,EAAQ,SAAS,aAAa,CAAC,SACrC,EAAM,WAAW,CAAG,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAgGrB,CAAC,CACD,SAAS,IAAI,CAAC,WAAW,CAAC,EAC5B,CA2Ce,SAAS,UACtB,QA8/C8B,EAsIJ,EAWA,EACA,EA0OM,EA2FA,EA8xCJ,EAkKI,EAuEA,EA2KA,EAuEA,EA9sH1B,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAsB,EAAE,EAClD,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACjC,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MAC5C,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAW,OAC7C,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,SACrC,CAAC,EAAiB,EAAmB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACjD,CAAC,EAAe,EAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC7C,CAAC,EAAgB,EAAkB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAE/C,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAwB,GAC1D,CAAC,EAAkB,EAAoB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAS,GAC3D,CAAC,EAAqB,EAAuB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACzD,CAAC,EAAe,EAAiB,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAiB,GACrD,CAAC,EAAkB,EAAoB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACnD,CAAC,EAAiB,EAAmB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAS,GACzD,CAAC,EAAwB,EAA0B,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC/D,CAAC,EAAgB,EAAkB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAGjD,CAAE,MAAO,EAAG,cAAe,CAAE,GAC1B,CAAC,EAAmB,EAAqB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACrD,CAAC,GAAkB,GAAoB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAEtD,YACI,CAAC,GAAa,GAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAC5C,IAAI,KAEA,CAAC,GAAkB,GAAoB,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,GAAS,GACnD,CAAC,GAAsB,GAAwB,CACnD,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAmB,MACvB,CAAC,GAAgB,GAAkB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC/C,CAAC,GAAc,GAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAE9C,SACI,CAAC,GAAkB,GAAoB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAc,EAAE,EAClE,CAAC,GAAqB,GAAuB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACzD,CAAC,GAAgB,GAAkB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAEjD,CAAC,GACE,CAAC,GAAmB,GAAqB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACrD,CAAC,GAAkB,GAAoB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EACtD,IAAI,KAEA,CAAC,GAAyB,GAA2B,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,GAAS,GACjE,CAAC,GAAa,GAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAC5C,IAGI,CAAC,GAAe,GAAiB,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAsB,EAAE,EAC5D,CAAC,GAAsB,GAAwB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAE3D,CAAC,GAAqB,GAAuB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAC5D,IAAI,IAAI,CAAC,MAAO,MAAM,GAGlB,CAAC,GAAgB,GAAkB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAElD,SACI,CAAC,GAAe,GAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAEhD,IAEI,CAAC,GAAe,GAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAmB,MAC/D,CAAC,GAAgB,GAAkB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAqC/C,CAAC,GAAe,GAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAmB,EAAE,EACjE,CAAC,GAAc,GAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC3C,CAAC,GAAY,GAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MACtD,CAAC,GAAc,GAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAe,CAC7D,WAAY,EACZ,iBAAkB,EAClB,YAAa,EACb,SAAU,EACV,OAAQ,EACR,OAAQ,EACR,OAAQ,EACR,4BAA6B,EAC7B,2BAA4B,CAC9B,GACM,CAAC,GAAa,GAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAA6D,SACrG,CAAC,GAAY,GAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgC,IAGtE,CAAC,GAAc,GAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAS,GACnD,CAAC,GAAqB,GAAuB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACzD,CAAC,GAAkB,GAAoB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAS,GAC3D,CAAC,GAAe,GAAiB,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAiB,OAGrD,GAAkB,CAAA,EAAA,EAAA,WAAA,AAAW,EACjC,AAAC,GACQ,EAAS,MAAM,CAAC,AAAC,GAAO,EAAG,QAAQ,GAAK,GAEjD,CAAC,EAAS,EAIN,GAAyB,CAAA,EAAA,EAAA,WAAW,AAAX,EAC7B,AAAC,IACC,IAAM,EAAa,EAAS,MAAM,CAAC,AAAC,GAAO,EAAG,QAAQ,GAAK,GACvD,EAAkB,EAItB,OAHA,EAAW,OAAO,CAAC,AAAC,IAClB,GAAmB,GAAiB,GAAG,CAAC,EAAG,KAAK,GAAK,CACvD,GACO,CACT,EACA,CAAC,EAAU,GAAiB,EAI9B,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KASV,EAAG,CAAC,GAAgB,GAAqB,EACzC,IAAM,GAAmB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,MAAO,IAC1C,IAAoB,GACpB,GAAI,CACF,IAAM,EAAe,IAAI,IACzB,IAAK,IAAM,KAAQ,EACjB,GAAI,CADoB,AAGtB,IAAM,EAAW,MAAM,MACrB,CAAC,iCAAiC,EAAE,EAAA,CAAM,EAEtC,EAAS,MAAM,EAAS,IAAI,GAC9B,EAAO,OAAO,EAAI,EAAO,IAAI,EAAE,AACjC,EAAa,GAAG,CAAC,EAAM,EAAO,IAAI,CAEtC,CAAE,MAAO,EAAO,CAEhB,CAGF,GAAe,IAAI,IAAI,GACzB,CAAE,MAAO,EAAO,CAEhB,QAAU,CACR,IAAoB,EACtB,CACF,EAAG,EAAE,EAEC,GAAwB,CAAA,EAAA,EAAA,WAAA,AAAW,EACvC,MAAO,IACL,GAAI,KAME,EALJ,IAA2B,GAC3B,IAAM,EAAa,EAAM,IAAI,CAAC,KAGxB,EAAQ,IAAI,KAEd,EAAkB,EAAM,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAEvD,GAAkB,WAAd,GAA0B,GAAmB,EAC/C,EAAY,EACZ,EAAU,MACL,CAHyD,AAI9D,IAAI,EACJ,OAAQ,GACN,IAAK,QAqCL,QApCE,EAAY,EACZ,KACF,KAAK,YACH,IAAM,EAAY,IAAI,KAAK,GAC3B,EAAU,OAAO,CAAC,EAAU,OAAO,GAAK,GACxC,EAAY,EAAU,EAAU,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAC3D,KACF,KAAK,UAEH,CADA,EAAQ,IAAI,KAAK,EAAA,EACX,OAAO,CAAC,EAAM,OAAO,GAAK,GAChC,EAAY,EAAM,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAC7C,KACF,KAAK,WAEH,CADA,EAAQ,IAAI,KAAK,EAAA,EACX,OAAO,CAAC,EAAM,OAAO,GAAK,IAChC,EAAY,EAAM,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAC7C,KACF,KAAK,WAEH,CADA,EAAQ,IAAI,KAAK,EAAA,EACX,OAAO,CAAC,EAAM,OAAO,GAAK,IAChC,EAAY,EAAM,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAC7C,KACF,KAAK,aAEH,EADA,AACY,GADJ,IAAI,KAAK,EAAM,WAAW,GAAI,EAAM,QAAQ,GAAI,EAAA,EACtC,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAC7C,KACF,KAAK,aACH,EAAQ,IAAI,KAAK,EAAM,WAAW,GAAI,EAAM,QAAQ,GAAK,EAAG,GAC5D,IAAM,EAAe,IAAI,KACvB,EAAM,WAAW,GACjB,EAAM,QAAQ,GACd,GAEF,EAAY,EAAM,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAC7C,EAAU,EAAa,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAIpD,AAJsD,CAKxD,CAGA,IAAM,EAAW,MAAM,MACrB,CAAC,yCAAyC,EAAE,EAAW,YAAY,EAAE,EAAU,UAAU,EAAE,EAAA,CAAS,EAEhG,EAAS,MAAM,EAAS,IAAI,GAClC,GAAI,EAAO,OAAO,EAAI,EAAO,IAAI,CAAE,CACjC,IAAM,EAAgB,IAAI,IAC1B,OAAO,IAAI,CAAC,EAAO,IAAI,EAAE,OAAO,CAAC,AAAC,IAChC,EAAc,GAAG,CAAC,EAAM,EAAO,IAAI,CAAC,EAAK,CAC3C,GACA,GAAoB,IAAI,IAAI,GAC9B,CACF,CAAE,MAAO,EAAO,CACd,GAAoB,IAAI,IAC1B,QAAU,CACR,IAA2B,EAC7B,CACF,EACA,CAAC,EAAW,EAAiB,EAAc,EAGvC,GAAgB,CAAA,EAAA,EAAA,WAAA,AAAW,EAC/B,MAAO,GAAsB,CAAK,CAAE,EAAa,CAAC,IAChD,GAAI,CACG,AAAD,GACF,GAAW,GAEb,EAAS,MACT,IAJ0B,AAIpB,EACS,cAAb,EACI,WACa,WAAb,EACE,QACA,KACJ,EAAM,CAAC,uFAAuF,EAAE,EAAA,CAAY,CAC1G,EAAY,KAAK,SAAS,CAAC,CAC/B,CACE,MAAO,cACP,SAAU,KACV,MAAO,CACL,0CACA,+CACD,AACH,EACD,EAGD,GADA,GADO,CAAC,GACD,CAAC,OADW,EAAE,mBAAmB,EACF,CADE,AACD,8BADC,CAAY,CAEhD,AAAc,cAAY,GAAmB,EAAe,CAC9D,IAAM,EAAY,KAAK,SAAS,CAAC,CAC/B,MAAO,EACP,MAAO,CACT,GACA,GAAO,CAAC,YAAY,EAAE,mBAAmB,GAAA,CAC3C,AADuD,MAErD,CADK,EACE,CAAC,aAAa,EAAE,EAAA,CAAW,CAEpC,IAAM,EAAW,MAAM,MAAM,GACvB,EAAsB,MAAM,EAAS,IAAI,GAG/C,GACsB,MAApB,EAAS,MAAM,EACf,EAAO,KAAK,EAAE,SAAS,qCACvB,CACA,IAAM,EAAa,KAAK,GAAG,CAAC,IAAQ,KAAK,GAAG,CAAC,EAAG,GAAa,MAC7D,EACE,CAAC,AAFmE,sCAAsC,IAE/D,EAAE,EAAa,IACzD,qBAAqB,EAAE,EAAa,EAAE,CAAC,CAAC,EAI3C,WAAW,KACL,EAAa,EAEf,CAFkB,EAEJ,EAAqB,EAAa,IAEhD,EACE,+EAEF,GAAW,GAEf,EAAG,GAEH,MACF,CAEA,CAHU,EAGN,CAAC,EAAS,EAAE,EAAI,CAAC,EAAO,OAAO,CACjC,CADmC,KAC7B,AAAI,MAAM,EAAO,AAJmB,KAId,EAAI,yBAElC,IAAM,EAAa,IAAI,IACvB,EAAO,IAAI,CAAC,OAAO,CAAC,AAAC,IACnB,IAAM,EAAM,EAAK,KAAK,EAAI,EAAK,QAAQ,EAAI,EAAK,WAAW,CAC3D,GAAI,EAAW,GAAG,CAAC,GAAM,CACvB,IAAM,EAAW,EAAW,GAAG,CAAC,GAC5B,EAAK,OAAO,EAAE,CACZ,AAAC,EAAS,OAAO,GAAE,EAAS,OAAO,CAAG,EAAE,AAAF,EAC1C,EAAK,OAAO,CAAC,OAAO,CAAE,AAAD,IACnB,IAAM,EAAiB,EAAS,OAAO,CAAE,IAAI,CAC3C,AAAC,GAAM,EAAE,WAAW,GAAK,EAAO,WAAW,EAEzC,EACF,EAAe,KAAK,CAAG,MADL,CAEhB,SAAS,EAAe,KAAK,EAAI,KACjC,SAAS,EAAO,KAAK,EAAI,MAG3B,EAAS,OAAO,CAAE,IAAI,CAAC,CAAE,GAAG,CAAM,AAAC,EAEvC,IAEE,EAAK,WAAW,EAAE,CAChB,AAAC,EAAS,WAAW,GAAE,EAAS,WAAW,CAAG,EAAA,AAAE,EACpD,EAAK,WAAW,CAAC,OAAO,CAAC,AAAC,IACxB,IAAM,EAAqB,EAAS,WAAW,CAAE,IAAI,CACnD,AAAC,GAAM,EAAE,WAAW,GAAK,EAAW,WAAW,EAE7C,EACF,EAAmB,KAAK,CAAG,OACzB,GAFoB,MAEX,EAAmB,KAAK,EAAI,KACrC,SAAS,EAAW,KAAK,EAAI,MAG/B,EAAS,WAAW,CAAE,IAAI,CAAC,CAAE,GAAG,CAAU,AAAC,EAE/C,GAEJ,MACE,CADK,CACM,GAAG,CAAC,EAAK,CAAE,GAAG,CAAI,AAAC,EAElC,GACA,IAAM,EAAgB,MAAM,IAAI,CAAC,EAAW,MAAM,IAClD,EAAY,GAEZ,IAAM,EAAW,EACd,MAAM,CAAC,AAAC,GAAS,EAAK,KAAK,EAC3B,GAAG,CAAC,AAAC,GAAS,EAAK,KAAK,EACvB,EAAS,MAAM,CAAG,GAAG,CACvB,GAAiB,GAEjB,GAAsB,GAE1B,CAAE,MAAO,EAAK,CACZ,EAAS,aAAe,MAAQ,EAAI,OAAO,CAAG,iBAChD,QAAU,CACJ,AAAC,GACH,GAAW,EAEf,CACF,EACA,CACE,EACA,EACA,EACA,EACA,CAV4B,EAW5B,GACD,EAEG,GAAwB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,UACxC,GAAI,CACF,EAAuB,IACvB,IAAI,EACF,+EACF,GAAkB,WAAd,GAA0B,GAAmB,EAAe,CAC9D,IAAM,EAAY,KAAK,SAAS,CAAC,CAC/B,MAAO,EACP,MAAO,CACT,GACA,GAAO,CAAC,YAAY,EAAE,mBAAmB,GAAA,CAAY,AACvD,MACE,CADK,EACE,CAAC,aAAa,EAAE,EAAA,CAAW,CAEpC,IAAM,EAAW,MAAM,MAAM,GACvB,EAAS,MAAM,EAAS,IAAI,EAC9B,CAAC,EAAS,EAAE,EAAK,EAAD,AAAQ,OAAO,CAGjC,CAHmC,CAGf,EAAO,KAAK,EAAI,GAFpC,EAAoB,EAIxB,CAAE,MAAO,EAAK,CACZ,EAAoB,EACtB,QAAU,CACR,GAAuB,EACzB,CACF,EAAG,CAAC,EAAW,EAAiB,EAAc,EACxC,GAAqB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,UACrC,GAAI,CACF,GAAoB,GACpB,IAAI,EACF,uEACF,GAAkB,WAAd,GAA0B,GAAmB,EAC/C,GAAO,CAAC,SADsD,EAC3C,EAAE,EAAgB,SAAS,EAAE,EAAA,CAAe,KAC1D,CACL,IAAM,EAAQ,IAAI,KACd,EAAY,GACZ,EAAU,EAAM,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAC/C,OAAQ,GACN,IAAK,QAqCL,QApCE,EAAY,EACZ,KACF,KAAK,YACH,IAAM,EAAY,IAAI,KAAK,GAC3B,EAAU,OAAO,CAAC,EAAU,OAAO,GAAK,GACxC,EAAY,EAAU,EAAU,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAC3D,KACF,KAAK,UACH,IAAM,EAAS,IAAI,KAAK,GACxB,EAAO,OAAO,CAAC,EAAO,OAAO,GAAK,GAClC,EAAY,EAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAC9C,KACF,KAAK,WACH,IAAM,EAAU,IAAI,KAAK,GACzB,EAAQ,OAAO,CAAC,EAAQ,OAAO,GAAK,IACpC,EAAY,EAAQ,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAC/C,KACF,KAAK,aACH,EAAY,IAAI,KAAK,EAAM,WAAW,GAAI,EAAM,QAAQ,GAAI,GACzD,WAAW,GACX,KAAK,CAAC,IAAI,CAAC,EAAE,CAChB,KACF,KAAK,aACH,IAAM,EAAY,IAAI,KACpB,EAAM,WAAW,GACjB,EAAM,QAAQ,GAAK,EACnB,GAEI,EAAe,IAAI,KACvB,EAAM,WAAW,GACjB,EAAM,QAAQ,GACd,GAEF,EAAY,EAAU,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CACjD,EAAU,EAAa,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,AAItD,CACA,GAAO,CAAC,WAAW,EAAE,EAAU,SAAS,EAAE,EAAA,CAAS,AACrD,CACA,IAAM,EAAW,MAAM,MAAM,GACvB,EAAS,MAAM,EAAS,IAAI,GAClC,GAAI,CAAC,EAAS,EAAE,EAAI,EAAO,KAAK,CAC9B,CADgC,CACf,OACZ,CACL,IAAM,EAAc,EAAO,OAAO,EAAE,aAAe,EACnD,EAAiB,EACnB,CACF,CAAE,MAAO,EAAK,CACZ,EAAiB,EACnB,QAAU,CACR,GAAoB,EACtB,CACF,EAAG,CAAC,EAAW,EAAiB,EAAc,EACxC,GAAuB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,UACvC,GAAI,CACF,EAA0B,IAC1B,IAAM,EAAW,MAAM,MAAM,6BACvB,EAAS,MAAM,EAAS,IAAI,EAC9B,CAAC,EAAS,EAAE,EAAK,EAAD,AAAQ,OAAO,CAGjC,CAHmC,CAGhB,EAAO,IAAI,CAAC,iBAAiB,EAAI,GAFpD,EAAmB,EAIvB,CAAE,MAAO,EAAK,CACZ,EAAmB,EACrB,QAAU,CACR,GAA0B,EAC5B,CACF,EAAG,EAAE,EACC,GAAkB,CAAA,EAAA,EAAA,WAAW,AAAX,EAAY,UAClC,GAAI,KAKE,EAJJ,GAAqB,GAGrB,IAAM,EAAQ,IAAI,KAEd,EAAkB,EAAM,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAEvD,GAAI,AAAc,cAAY,GAAmB,EAC/C,EAAY,EACZ,EAAU,MACL,CAHyD,AAI9D,IAAI,EACJ,OAAQ,GACN,IAAK,QAqCL,QApCE,EAAY,EACZ,KACF,KAAK,YACH,IAAM,EAAY,IAAI,KAAK,GAC3B,EAAU,OAAO,CAAC,EAAU,OAAO,GAAK,GACxC,EAAY,EAAU,EAAU,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAC3D,KACF,KAAK,UAEH,CADA,EAAQ,IAAI,KAAK,EAAA,EACX,OAAO,CAAC,EAAM,OAAO,GAAK,GAChC,EAAY,EAAM,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAC7C,KACF,KAAK,WAEH,CADA,EAAQ,IAAI,KAAK,EAAA,EACX,OAAO,CAAC,EAAM,OAAO,GAAK,IAChC,EAAY,EAAM,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAC7C,KACF,KAAK,WAEH,CADA,EAAQ,IAAI,KAAK,EAAA,EACX,OAAO,CAAC,EAAM,OAAO,GAAK,IAChC,EAAY,EAAM,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAC7C,KACF,KAAK,aAEH,EAAY,CADZ,EAAQ,IAAI,KAAK,EAAM,WAAW,GAAI,EAAM,QAAQ,GAAI,EAAA,EACtC,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAC7C,KACF,KAAK,aACH,EAAQ,IAAI,KAAK,EAAM,WAAW,GAAI,EAAM,QAAQ,GAAK,EAAG,GAC5D,IAAM,EAAe,IAAI,KACvB,EAAM,WAAW,GACjB,EAAM,QAAQ,GACd,GAEF,EAAY,EAAM,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAC7C,EAAU,EAAa,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,AAItD,CACF,CAGA,IAAM,EAAW,MAAM,MAAM,CAAC,gBAAgB,CAAC,EACzC,EAAS,MAAM,EAAS,IAAI,GAElC,GAAK,AAAD,EAAU,EAAE,EAAK,EAAD,AAAQ,OAAO,CAE5B,CAF8B,AAInC,IAAI,EAAQ,EACR,EAAa,EAGjB,OAAO,IAAI,CAAC,EAAO,IAAI,EAAI,CAAC,GAAG,OAAO,CAAC,AAAC,IAElC,GAAW,GAAa,GAAW,IACrC,GAAS,EADqC,AAC9B,IAAI,CAAC,EAAQ,CAC7B,IAEJ,GAEA,EAAkB,CAChB,MAAO,EACP,cAAe,CACjB,EACF,MAnBE,EAAkB,CAAE,MAAO,EAAG,cAAe,CAAE,EAoBnD,CAAE,MAAO,EAAK,CACZ,EAAkB,CAAE,MAAO,EAAG,cAAe,CAAE,EACjD,QAAU,CACR,GAAqB,EACvB,CACF,EAAG,CAAC,EAAW,EAAiB,EAAc,EACxC,GAAsB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,UACtC,GAAI,CACF,IAAqB,GAErB,IAAM,EAAW,MAAM,MAAM,CAAC,6BAA6B,CAAC,EACtD,EAAS,MAAM,EAAS,IAAI,GAC9B,EAAO,OAAO,EAAI,EAAO,IAAI,CAG/B,CAHiC,EAGf,EAAO,IAAI,EAE7B,GAAkB,CAAC,EAEvB,CAAE,MAAO,EAAK,CACZ,GAAkB,CAAC,EACrB,QAAU,CACR,IAAqB,EACvB,CACF,EAAG,EAAE,EAEC,GAAwB,CAAA,EAAA,EAAA,WAAW,AAAX,EAAY,UACxC,GAAI,CACF,IAAuB,GAGvB,IAAM,EAAW,MAAM,MADX,AACiB,CADhB,+HAA+H,CAAC,EAEvI,EAAsB,MAAM,EAAS,IAAI,EAC3C,CAAC,EAAS,EAAE,EAAK,EAAD,AAAQ,OAAO,EAAE,AAGnC,GAAoB,EAAO,IAAI,EAAI,EAAE,EAErC,MAJA,GAAoB,EAAE,CAM1B,CAAE,MAAO,EAAK,CACZ,GAAoB,EAAE,CACxB,QAAU,CACR,IAAuB,EACzB,CACF,EAAG,CAAC,GAAoB,EAGlB,GAAqB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,UACrC,GAAI,CACF,IAAwB,GACxB,IAAI,EAAM,CAAC,4FAA4F,CAAC,CAExG,GAAkB,WAAd,GAA0B,GAAmB,EAAe,CAC9D,IAAM,EAAY,KAAK,SAAS,CAAC,CAC/B,MAAO,EACP,MAAO,CACT,GACA,GAAO,CAAC,YAAY,EAAE,mBAAmB,GAAA,CAC3C,AADuD,MAErD,CADK,EACE,CAAC,aAAa,EAAE,EAAA,CAAW,CAGpC,IAAM,EAAW,MAAM,MAAM,GACvB,EAAsB,MAAM,EAAS,IAAI,GAE/C,GAAI,AAAC,EAAS,EAAE,EAAK,EAAO,AAAR,OAAe,CAE5B,CAF8B,AAInC,IAAM,EAAa,IAAI,IACvB,EAAO,IAAI,CAAC,OAAO,CAAC,AAAC,IACnB,IAAM,EAAM,EAAK,QAAQ,CACzB,GAAI,EAAW,GAAG,CAAC,GAAM,CACvB,IAAM,EAAW,EAAW,GAAG,CAAC,GAC5B,EAAK,OAAO,EAAE,CACZ,AAAC,EAAS,OAAO,GAAE,EAAS,OAAO,CAAG,EAAA,AAAE,EAC5C,EAAK,OAAO,CAAC,OAAO,CAAC,AAAC,IACpB,IAAM,EAAiB,EAAS,OAAO,CAAE,IAAI,CAC3C,AAAC,GAAM,EAAE,WAAW,GAAK,EAAO,WAAW,EAEzC,EACF,EAAe,KAAK,CAAG,MADL,CAEhB,SAAS,EAAe,KAAK,EAAI,KACjC,SAAS,EAAO,KAAK,EAAI,MAG3B,EAAS,OAAO,CAAE,IAAI,CAAC,CAAE,GAAG,CAAO,AAAD,EAEtC,GAEJ,MACE,CADK,CACM,GAAG,CAAC,EAAK,CAAE,GAAG,CAAI,AAAC,EAElC,GACA,GAAiB,MAAM,IAAI,CAAC,EAAW,MAAM,IAC/C,MA7BE,GAAiB,EAAE,CA8BvB,CAAE,MAAO,EAAK,CACZ,GAAiB,EAAE,CACrB,QAAU,CACR,IAAwB,EAC1B,CACF,EAAG,CAAC,EAAW,EAAiB,EAAc,EAGxC,GAAqB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,UACrC,GAAI,CACF,IAAgB,GAChB,GAAc,MAId,IAAM,EAAS,IAAI,gBAGnB,EAAO,MAAM,CAAC,gBAAiB,uBAG/B,EAAO,MAAM,CAAC,QAAS,MAGvB,IAAM,EAAY,KAAK,SAAS,CAAC,CAC/B,CACE,MAAO,cACP,SAAU,KACV,MAAO,CACL,0CACA,+CACD,AACH,EACD,EAKD,GAJA,EAAO,MAAM,CAAC,YAAa,GAC3B,EAAO,MAAM,CAAC,oBAAqB,eAGjB,WAAd,GAA0B,GAAmB,EAAe,CAC9D,IAAM,EAAY,KAAK,SAAS,CAAC,CAC/B,MAAO,EACP,MAAO,CACT,GACA,EAAO,MAAM,CAAC,aAAc,EAC9B,MACE,CADK,CACE,MAAM,CAAC,cAAe,GAG/B,IAAM,EAAW,MAAM,MAAM,GAAG,IAAI,CAAC,4EAAE,EAAO,QAAQ,IAAI,EACpD,EAAS,MAAM,EAAS,IAAI,EAE7B,AAAD,GAAU,EAAE,EAAK,EAAD,AAAQ,OAAO,EAAE,AAenC,GAAiB,EAAO,IAAI,EAAI,EAAE,EAElC,GAAgB,CACd,WAAY,EAAO,OAAO,EAAE,aAAe,EAC3C,iBAAkB,EAAO,OAAO,EAAE,mBAAqB,EACvD,YAAa,EAAO,OAAO,EAAE,cAAgB,EAC7C,SAAU,EAAO,IAAI,EAAE,QAAU,EACjC,OAAQ,EAAO,OAAO,EAAE,kBAAoB,EAAK,EAAO,OAAO,EAAE,aAAe,EAAO,OAAO,EAAE,kBAAqB,IAAM,EAC3H,OAAQ,EAAO,OAAO,EAAE,aAAe,EAAI,EAAO,OAAO,EAAE,YAAc,EAAO,OAAO,EAAE,aAAe,EACxG,OAAQ,EAAO,OAAO,EAAE,kBAAoB,EAAK,EAAO,OAAO,EAAE,YAAc,EAAO,OAAO,EAAE,kBAAqB,IAAO,EAC3H,4BAA6B,EAAO,OAAO,EAAE,6BAA+B,EAC5E,2BAA4B,EAAO,OAAO,EAAE,4BAA8B,CAC5E,KA1BA,GAAc,EAAO,KAAK,EAAI,iCAC9B,GAAiB,EAAE,EACnB,GAAgB,CACd,WAAY,EACZ,iBAAkB,EAClB,YAAa,EACb,SAAU,EACV,OAAQ,EACR,OAAQ,EACR,OAAQ,EACR,4BAA6B,EAC7B,2BAA4B,CAC9B,GAgBJ,CAAE,MAAO,EAAK,CACZ,GAAc,aAAe,MAAQ,EAAI,OAAO,CAAG,kBACnD,GAAiB,EAAE,CACrB,QAAU,CACR,IAAgB,EAClB,CACF,EAAG,CAAC,EAAW,EAAiB,EAAc,EAGxC,GAAoB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,UACpC,GAAI,CACF,IAAuB,GACvB,IAAM,EAAW,MAAM,MAAM,mCACvB,EAAS,MAAM,EAAS,IAAI,EAE9B,CAAC,EAAS,EAAE,EAAK,EAAD,AAAQ,OAAO,EAAE,AAInC,GAAgB,EAAO,IAAI,CAAC,iBAAiB,EAAI,EAAO,IAAI,CAAC,OAAO,EAAI,GACxE,GAAoB,EAAO,IAAI,CAAC,YAAY,EAAI,GAChD,GAAiB,EAAO,IAAI,CAAC,QAAQ,EAAI,SALzC,GAAgB,GAChB,GAAoB,GAMxB,CAAE,MAAO,EAAK,CACZ,GAAgB,GAChB,GAAoB,EACtB,QAAU,CACR,IAAuB,EACzB,CACF,EAAG,EAAE,EAEL,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAmBR,AAlBoB,WAClB,GAAI,CACF,MAAM,QAAQ,GAAG,CAAC,CAChB,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACD,CACH,CAAE,MAAO,EAAO,CACd,EAAS,iCACT,GAAW,EACb,EACF,IAGA,IAAM,EAAkB,YAAY,KAClC,QAAQ,GAAG,CAAC,CACV,IAAc,GACd,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACD,CACH,EAAG,MAEH,GAFY,GAEL,KACL,cAAc,EAChB,CACF,EAAG,CACD,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,CAdiE,EAelE,EAED,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAEV,EAAG,CAAC,GAAY,EAChB,IAAM,GAAe,AAAC,IACpB,IAAM,EAAuB,UAAjB,OAAO,EAAqB,WAAW,GAAS,EAC5D,OAAO,MAAM,GACT,IACA,EAAI,cAAc,CAAC,QAAS,CAAE,sBAAuB,CAAE,EAC7D,EACM,GAAkB,AAAD,IACrB,IAAM,EAAuB,UAAjB,OAAO,EAAqB,WAAW,GAAS,EAC5D,OAAO,MAAM,GACT,IACA,CAAC,CAAC,EAAE,EAAI,cAAc,CAAC,QAAS,CAChC,sBAAuB,EACvB,sBAAuB,CACzB,GAAA,CACJ,AADQ,EAWF,GAAyB,CAC7B,EACA,KAEA,GAAI,CAAC,EAAS,OAAO,EACrB,IAAM,EAAS,EAAQ,IAAI,CAAC,AAAC,GAAM,EAAE,WAAW,GAAK,GACrD,OAAO,EAAS,SAAS,EAAO,KAAK,EAAI,KAAO,CAClD,EACM,GAAkB,KACtB,IAAI,EAAQ,EAaZ,OAZA,EAAS,OAAO,CAAC,AAAC,IAChB,GAAI,EAAG,OAAO,CAAE,CACd,IAAM,EAAkB,EAAG,OAAO,CAAC,IAAI,CACrC,AAAC,GACC,AAAuB,8CAAhB,WAAW,EAEtB,GAAI,EAAiB,CACnB,IAAM,EAAQ,SAAS,EAAgB,KAAK,EAAI,KAChD,GAAS,CACX,CACF,CACF,GACO,CACT,EACM,GAA8B,KAClC,IAAI,EAAQ,EAcZ,OAbA,EAAS,OAAO,CAAC,AAAC,IAChB,GAAI,EAAG,OAAO,CAAE,CACd,IAAM,EAAkB,EAAG,OAAO,CAAC,IAAI,CACrC,AAAC,GAEC,iDADA,EAAO,WAAW,EAGtB,GAAI,EAAiB,CACnB,IAAM,EAAQ,SAAS,EAAgB,KAAK,EAAI,KAChD,GAAS,CACX,CACF,CACF,GACO,CACT,EAgBM,GAAwB,AAAC,IAE7B,GADA,EAAa,GACC,WAAV,EAAoB,CACtB,IAAM,EAAQ,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAC9C,AADgD,CAC/C,GAAiB,EAAmB,GACrC,AAAC,GAAe,EAAiB,GACrC,GAAkB,EACpB,MACE,CADK,EACa,EAEtB,EAUM,GAA4B,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,IAErC,EACN,CAAC,EAAU,EAAU,SAExB,AAAI,EAEA,CAAA,EAAA,EAAA,EAFS,CAET,EAAC,MAAA,CAAI,UAAU,mGACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gGACf,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,+CAAsC,uBAGnD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCAA6B,uBAK9C,EAEA,CAAA,EAAA,EAAA,AAFO,GAEP,EAAC,MAAA,CAAI,UAAU,wEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,+DACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kDAAyC,OACxD,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,4DAAmD,mBAGjE,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,0CAAkC,IAC/C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,KACP,EAAS,MACT,GAAW,GACX,IAAc,EAChB,EACA,UAAU,2GACX,uBAST,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mEAEb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,+DACb,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAO,IAAI,CAAC,SAC3B,UAAU,kNAEV,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,mBAAU,MAC1B,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,wBAIV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8BAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,UAAU,qIAA4H,kBAG9I,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,GAAsB,SACrC,UAAW,CAAC,8EAA8E,EAAE,AAAc,YACtG,mCACA,8CAAA,CACA,UACL,WAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,GAAsB,aACrC,UAAW,CAAC,2DAA2D,EAAgB,cAAd,EACrE,mCACA,8CAAA,CACA,UACL,aAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,GAAsB,WACrC,UAAW,CAAC,2DAA2D,EAAE,AAAc,cACnF,mCACA,8CAAA,CACA,UACL,UAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,GAAsB,YACrC,UAAW,CAAC,2DAA2D,EAAgB,aAAd,EACrE,mCACA,8CAAA,CACA,UACL,WAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,GAAsB,cACrC,UAAW,CAAC,2DAA2D,EAAgB,eAAd,EACrE,mCACA,8CAAA,CACA,UACL,aAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,GAAsB,UACrC,UAAW,CAAC,2DAA2D,EAAgB,WAAd,EACrE,mCACA,8CAAA,CACA,UACL,iBAGc,WAAd,GAA0B,GAAmB,GAC5C,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,0GACb,EAAgB,QAAM,KAI3B,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,WAEf,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uEACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAgB,GAC/B,UAAW,CAAC,2DAA2D,EAAmB,IAAjB,EACrE,oEACA,8CAAA,CACA,UACL,WAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAgB,GAC/B,UAAW,CAAC,2DAA2D,EAAE,AAAiB,MACtF,oEACA,8CAAA,CACA,UACL,WAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAgB,GAC/B,UAAW,CAAC,2DAA2D,EAAmB,IAAjB,EACrE,oEACA,8CAAA,CACA,UACL,WAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAgB,GAC/B,UAAW,CAAC,2DAA2D,EAAmB,IAAjB,EACrE,oEACA,8CAAA,CACA,UACL,iBAML,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,+CAAsC,OACtD,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,MAAO,EACP,SAAU,AAAC,GAAM,GAAsB,EAAE,MAAM,CAAC,KAAK,EACrD,UAAU,mKAEV,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,iBAAQ,WACtB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,qBAAY,aAC1B,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,mBAAU,mBACxB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,oBAAW,oBACzB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,oBAAW,oBACzB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,sBAAa,aAC3B,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,kBAAS,0BAGZ,WAAd,GAA0B,GAAmB,GAC5C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qGACZ,EAAgB,QAAM,KAI3B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,+CAAsC,OACtD,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,MAAO,EACP,SAAU,AAAC,GACT,EAAgB,OAAO,EAAE,MAAM,CAAC,KAAK,GAEvC,UAAU,yKAEV,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAO,WAAG,WAClB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAO,WAAG,WAClB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAO,WAAG,WAClB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAO,WAAG,yBAO3B,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAU,+FACV,QAAS,AAAC,IACJ,EAAE,MAAM,GAAK,EAAE,aAAa,EAAE,AAChC,EAAkB,GAEtB,WAEA,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CACC,UAAU,6EACV,QAAS,AAAC,GAAM,EAAE,eAAe,aAEjC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,4CAAmC,oBAGjD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,GAAkB,GACjC,UAAU,mJACX,SAIH,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,wDAA+C,iBAGhE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wGACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,MACE,GAAmB,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAE3D,SAAU,AAAC,GAAM,EAAmB,EAAE,MAAM,CAAC,KAAK,EAClD,UAAU,4JAIhB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,wDAA+C,iBAGhE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8GACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,MACE,GAAiB,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAEzD,SAAU,AAAC,GAAM,EAAiB,EAAE,MAAM,CAAC,KAAK,EAChD,UAAU,mKAKlB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uCACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,GAAkB,GACjC,UAAU,oIACX,WAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAxRe,CAwRN,IAvRjB,GAAmB,IACrB,GAAkB,GAClB,KAFoC,MAEzB,KACT,EAAa,SACf,EAAG,GAEP,EAkRc,UAAU,iHACX,mBAQR,IAAkB,IACjB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAU,2FACV,MAAO,CACL,SAAU,QACV,IAAK,EACL,KAAM,EACN,MAAO,EACP,OAAQ,EACR,MAAO,QACP,OAAQ,QACR,OAAQ,EACR,QAAS,MACX,EACA,QAAS,AAAC,IACJ,EAAE,MAAM,GAAK,EAAE,aAAa,EAAE,CAChC,IAAkB,GAClB,GAAwB,MAE5B,WAEA,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CACC,UAAU,sGACV,QAAS,AAAC,GAAM,EAAE,eAAe,aAEjC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iJACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mBACb,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,kDAAwC,MAChD,GAAqB,OAAO,IAElC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oDACb,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,kCAAwB,gBACrB,GAAqB,aAAa,IAElD,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,kCAAwB,cACvB,GAAqB,UAAU,EAAI,aAIrD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,KACP,IAAkB,GAClB,GAAwB,KAC1B,EACA,UAAU,qJACX,SAIH,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gBAEb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gBACZ,CAAC,KACA,IAAM,EAAW,GAAY,GAAG,CAAC,GAAqB,KAAK,EACrD,EAAmB,GAAU,0BAC7B,EACJ,GAAU,mBAAmB,YAAY,UACzC,GAAU,SACN,EACJ,GAAU,eACV,GAAU,mBAAmB,YAAY,WACzC,GAAU,UAEZ,GAAI,EAAkB,CACpB,IAAM,EAAU,CAAC,yBAAyB,EAAE,EAAiB,OAAO,CAClE,IACA,WAAA,CACC,CACH,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBAEb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yDACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAiB,MAAM,4BACtB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACC,KAAM,EACN,MAAM,OACN,UAAU,QAKhB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,+BACb,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CACC,KAAM,EACN,OAAO,SACP,IAAI,sBACJ,UAAU,yJAEV,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,OACN,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,4CAKhB,CAEA,IAAM,EAAiB,EAAU,CAAC,cAAc,EAAE,EAAQ,IAAI,CAAC,CAAG,KAC5D,EAAc,GAAU,oBAG9B,AAAI,EAEA,CAAA,EAAA,EAAA,EAFS,EAET,EAAC,MAAA,CAAI,UAAU,sBAEb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yDACb,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CACC,QAAQ,CAAA,CAAA,EACR,QAAQ,CAAA,CAAA,EACR,UAAU,6BACV,OAAQ,EACR,QAAS,AAAC,IACR,QAAQ,GAAG,CAAC,iEACZ,IAAM,EAAU,EAAE,MAAM,CAExB,GAAI,GAAe,EAAQ,GAAG,GAAK,EACjC,EAAQ,GAAG,CAAG,KADgC,CAEzC,CAEL,EAAQ,KAAK,CAAC,OAAO,CAAG,OACxB,IAAM,EAAS,EAAQ,aAAa,AAChC,IAAU,GACZ,GAAO,QADmB,CACV,CAAG,CAAC;;gDAEN,EAAE,EAAa;;;;;mCAK7B,AAAC,CAEL,CACF,YAEA,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,IAAK,GAAkB,GAAe,GAAI,KAAK,cAAc,+CAKzE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CACC,KAAM,CAAC,8BAA8B,EAAE,EAAA,CAAS,CAChD,OAAO,SACP,IAAI,sBACJ,UAAU,8KAEV,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,OACN,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,mBAER,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CACC,KAAM,CAAC,kCAAkC,EAAE,EAAA,CAAS,CACpD,OAAO,SACP,IAAI,sBACJ,UAAU,8KAEV,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,OACN,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,0BAOZ,EAEA,CAAA,EAAA,EAAA,GAAA,EAAC,EAFa,IAEb,CAAI,UAAU,4DACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,IAAK,EACL,IAAK,GAAqB,OAAO,CACjC,UAAU,gBACV,QAAS,AAAC,IACP,EAAE,MAAM,CAAsB,KAAK,CAAC,OAAO,CAC1C,MACJ,MAON,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gFACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,+BAAsB,OACtC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yBAAgB,+BAIrC,CAAC,KAGH,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCAA6B,aAC5C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2CACZ,GAAe,GAAqB,KAAK,OAG9C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCAA6B,iBAC5C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4CACZ,GACC,GAAqB,OAAO,CAC5B,gDAIN,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCAA6B,mBAG5C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2CACZ,GACC,GAAqB,OAAO,CAC5B,qDAIN,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCAA6B,oBAG5C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6CACZ,GAAiB,GAAG,CAAC,GAAqB,KAAK,GAAK,UAM3D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCAA6B,WAC5C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8CAllBtB,CAmlBU,KAnlBJ,AADP,EAAuB,UAAjB,OADY,AACL,EAolBe,GAAqB,GAAG,EAplBlB,WAAW,GAAS,GAExD,IACA,CAAA,EAAG,EAAI,cAAc,CAAC,QAAS,CAC/B,sBAAuB,EACvB,sBAAuB,CACzB,GAAG,CAAC,CAAC,GAglBO,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCAA6B,0BAI9C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCAA6B,WAC5C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4CACZ,GAAe,GAAqB,GAAG,IAE1C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCAA6B,kCAI9C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCAA6B,YAC5C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8CACZ,GAAe,GAAqB,GAAG,IAE1C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCAA6B,yBAOhD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sCACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,4CAAmC,2BAGjD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8BACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iCACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBAAgB,iBAChC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,uBACb,GAAa,GAAqB,WAAW,OAGlD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iCACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBAAgB,YAChC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,uBACb,GAAa,GAAqB,MAAM,OAG5C,GAAqB,KAAK,EACzB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iCACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBAAgB,WAChC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,uBACb,GAAa,GAAqB,KAAK,OAI9C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iCACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBAAgB,cAChC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wBAEN,AADP,CAAC,CACiB,GAAqB,OAAO,EAAE,KAC7C,AAAC,GAAkC,eAAvB,EAAO,WAAW,GAEd,GAAa,EAAS,KAAK,EAAI,SAIvD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iCACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBAAgB,oBAChC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wBACb,CAAC,CAEE,GAAqB,oBAAoB,EAAE,KACzC,AAAC,GACC,AACA,mDADK,WAAW,GAIlB,GAAe,EAAiB,KAAK,EACrC,eAMd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sCACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,4CAAmC,8BAGjD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8BACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iCACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBAAgB,cAChC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CACC,UAAU,gDACV,MAAO,GAAqB,aAAa,UAExC,GAAqB,aAAa,MAGvC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iCACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBAAgB,YAChC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CACC,UAAU,gDACV,MAAO,GAAqB,UAAU,UAErC,GAAqB,UAAU,EAAI,SAGxC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iCACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBAAgB,WAChC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,+BACb,GAAqB,KAAK,MAG/B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iCACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBAAgB,gBAChC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,uBACb,GAAqB,UAAU,uBAWjD,IAAkB,IACjB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAU,2FACV,MAAO,CACL,SAAU,QACV,IAAK,EACL,KAAM,EACN,MAAO,EACP,OAAQ,EACR,MAAO,QACP,OAAQ,QACR,OAAQ,EACR,QAAS,MACX,EACA,QAAU,AAAD,IACH,EAAE,MAAM,GAAK,EAAE,aAAa,EAAE,CAChC,IAAkB,GAClB,GAAiB,MAErB,WAEA,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CACC,UAAU,sGACV,QAAS,AAAC,GAAM,EAAE,eAAe,aAGjC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iJACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mBACb,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,kDAAwC,MAChD,GAAc,UAAU,IAE9B,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,uCAA6B,aAC7B,GAAc,aAAa,OAG1C,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,KACP,IAAkB,GAClB,GAAiB,KACnB,EACA,UAAU,qJACX,SAMH,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCAA6B,aAC5C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2CACZ,GAAe,GAAc,KAAK,OAGvC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCAA6B,cAC5C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4CACZ,GACC,GAAc,OAAO,CACrB,gDAIN,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCAA6B,gBAC5C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6CACZ,GACC,GAAc,OAAO,CACrB,qDAIN,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCAA6B,aAC5C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4CACZ,CAAC,CACiB,GAAc,OAAO,EAAE,KACtC,AAAC,GAAkC,eAAvB,EAAO,WAAW,GAEd,GAAa,EAAS,KAAK,EAAI,SAIvD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCAA6B,iBAC5C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8CACZ,CAAC,CACc,WAAW,GAAc,KAAK,EAAI,KAKzC,GAJO,GACZ,GAAc,OAAO,CACrB,iDAEa,EAAI,GAAe,EAAQ,GAAS,eAQ7D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gBACb,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,yEAA+D,uBAE3E,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,yEACb,GAAgB,GAAc,QAAQ,EAAE,MAAM,CAAC,gBAIA,IAAnD,GAAgB,GAAc,QAAQ,EAAE,MAAM,CAC7C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2CACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yBAAgB,OAC/B,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,UAAE,+BAGL,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2BACb,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,mBACf,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,UACC,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,kDACZ,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEAA4D,MAG1E,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,mEAA0D,QAGxE,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,mEAA0D,YAGxE,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEAA4D,aAG1E,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEAA4D,cAG1E,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEAA4D,gBAG1E,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEAA4D,eAG1E,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEAA4D,aAG1E,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEAA4D,sBAK9E,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,UACE,GAAgB,GAAc,QAAQ,EACpC,IAAI,CAAC,CAAC,EAAG,KACR,IAAM,EAAS,GACb,EAAE,OAAO,CACT,gDAMF,OAJe,AAIR,GAHL,EAAE,OAAO,CACT,gDAEc,CAClB,GACC,GAAG,CAAC,CAAC,EAAI,KACR,IAmEc,EAnER,EAAW,GAAY,GAAG,CAAC,EAAG,KAAK,EACnC,EACJ,GAAU,eACV,GAAU,WACV,GAAU,mBAAmB,YAAY,UACrC,EAAQ,WAAW,EAAG,KAAK,EAAI,KAC/B,EAAQ,GACZ,EAAG,OAAO,CACV,gDAEI,EAAe,EAAQ,EAAI,EAAQ,EAAQ,EAC3C,EACJ,GAAiB,GAAG,CAAC,EAAG,KAAK,GAAK,EAEpC,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAEC,UAAU,6EACV,QAAS,KACP,GAAwB,GACxB,IAAkB,EACpB,YAEA,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,2DACX,EAAM,IAET,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qBACX,EACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,IAAK,EACL,IAAI,eACJ,UAAU,gDAGZ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2FAAkF,UAKrG,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qBACZ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAU,2DACV,MAAO,EAAG,OAAO,UAEhB,EAAG,OAAO,EAAI,QAGnB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,6DACX,GAAe,EAAG,KAAK,IAE1B,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,8DACX,GACC,EAAG,OAAO,CACV,6CAGJ,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,6DACX,GACC,EAAG,OAAO,CACV,kDAGJ,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,+DACX,IAEH,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,8DACX,CAAC,CACiB,EAAG,OAAO,EAAE,KAC3B,AAAC,GACwB,eAAvB,EAAO,WAAW,GAGlB,GAAa,EAAS,KAAK,EAC3B,MAGR,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,+CACX,EAAe,EACZ,GAAe,GACf,QA/DD,EAAG,KAAK,CAmEnB,kBAWlB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sCAEZ,AAAiB,OAChB,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WAEE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2DAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0BAEb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gIACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sEAA6D,mBAG5E,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCACZ,EACC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,oBAAW,MAE3B,CAAC,CAAC,EAAE,EAAgB,cAAc,CAAC,QAAS,CAC1C,sBAAuB,EACvB,sBAAuB,CACzB,GAAA,CAAI,MAIV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sEAA6D,kBAG5E,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCACZ,GACC,EAAS,MAAM,CACb,CAAC,EAAK,IAAO,EAAM,WAAW,EAAG,KAAK,EAAI,KAC1C,cAQZ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4HACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCACb,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,qCACf,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,mCACf,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,gGAAuF,WAGrG,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,gGAAuF,kBAKzG,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,UACE,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CACC,QAAS,EACT,UAAU,yCACX,UAKH,CAAC,AACmB,IAAI,IACtB,GAAiB,OAAO,CAAC,AAAC,IACxB,IAAM,EAAO,EAAG,UAAU,CACpB,EAAW,EAAU,GAAG,CAAC,IAAS,CAAE,MAAO,CAAE,EACnD,EAAS,KAAK,EAAI,WAAW,EAAG,KAAK,EAAI,KACzC,EAAU,GAAG,CAAC,EAAM,EACtB,GAKmB,AACZ,AALa,MAAM,IAAI,CAAC,EAAU,IAAI,IAAI,IAAI,CACnD,CAAC,EAAG,IACF,IAAI,KAAK,GAAG,OAAO,GAAK,IAAI,KAAK,GAAG,OAAO,IAEhB,KAAK,CAAC,EAAG,IACtB,GAAG,CAAC,AAAC,IACrB,IAAM,EAAO,EAAU,GAAG,CAAC,GAC3B,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAEC,UAAU,sCAEV,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,uDACX,IAAI,KAAK,GAAM,kBAAkB,CAAC,QAAS,CAC1C,MAAO,QACP,IAAK,SACP,KAEF,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEACX,GAAe,EAAK,KAAK,MAVvB,EAcX,gBAUd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0BAEb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gIACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sEAA6D,cAG5E,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCACZ,UAGL,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sEAA6D,gBAG5E,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCACZ,eAMT,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4HACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCACb,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,qCACf,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,mCACf,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,gGAAuF,WAGrG,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,gGAAuF,cAGrG,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,gGAAuF,qBAKzG,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,UACE,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CACC,QAAS,EACT,UAAU,yCACX,UAKH,CACoB,AADnB,IACuB,IAItB,GAAiB,OAAO,CAAC,AAAC,IACxB,IAAM,EAAO,EAAG,UAAU,CACpB,EAAW,EAAU,GAAG,CAAC,IAAS,CACtC,SAAU,EACV,WAAY,CACd,EACA,EAAS,QAAQ,EAAI,GACnB,EAAG,OAAO,CACV,2CAEF,EAAS,UAAU,EAAI,GACrB,EAAG,OAAO,CACV,gDAEF,EAAU,GAAG,CAAC,EAAM,EACtB,GAMO,AADY,AAJC,MAAM,IAAI,CAAC,EAAU,IAAI,IAAI,IAAI,CACnD,CAAC,EAAG,IACF,IAAI,KAAK,GAAG,OAAO,GAAK,IAAI,KAAK,GAAG,OAAO,IAEhB,KAAK,CAAC,EAAG,IACtB,GAAG,CAAC,AAAC,IACrB,IAAM,EAAO,EAAU,GAAG,CAAC,GAC3B,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAEC,UAAU,sCAEV,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,uDACX,IAAI,KAAK,GAAM,kBAAkB,CAAC,QAAS,CAC1C,MAAO,QACP,IAAK,SACP,KAEF,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,sEACX,EAAK,QAAQ,GAEhB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEACX,EAAK,UAAU,KAbb,EAiBX,gBAUd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0BAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mJACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sEAA6D,oBAG5E,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0CACZ,EACC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,oBAAW,MAE3B,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,UAAK,EAAe,KAAK,CAAC,cAAc,UAK/C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4HACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCACb,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,qCACf,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,qCACf,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,gGAAuF,WAGrG,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,gGAAuF,eAKzG,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,UACE,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CACC,QAAS,EACT,UAAU,yCACX,QAKH,OAAO,OAAO,CAAC,IACZ,IAAI,CACH,CAAC,CAAC,EAAM,CAAE,CAAC,EAAM,GACf,IAAI,KAAK,GAAO,OAAO,GACvB,IAAI,KAAK,GAAO,OAAO,IAE1B,KAAK,CAAC,GACN,GAAG,CAAC,CAAC,CAAC,EAAM,EAAM,GACjB,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAEC,UAAU,wCAEV,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,uDACX,IAAI,KAAK,GAAM,kBAAkB,CAAC,QAAS,CAC1C,MAAO,QACP,IAAK,SACP,KAEF,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,uEACX,MAVE,mBAuBzB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wEAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6FACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gLACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6HAEjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6CACb,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,6IAAmI,UACvH,QAAhB,GAAwB,UAAY,GAAY,OAAK,IAC7D,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,iKAAwJ,uBAI1K,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8BACb,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,QAAS,IAAM,GAAgB,SAC/B,UAAW,CAAC,+FAA+F,EAAmB,UAAjB,GACzG,qCACA,8CAAA,CACA,WAEJ,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,4BAAmB,gCAGnC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,qBAAY,gBAE9B,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,QAAS,IAAM,GAAgB,SAC/B,UAAW,CAAC,+FAA+F,EAAmB,UAAjB,GACzG,qCACA,8CAAA,CACA,WAEJ,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,4BAAmB,iCAGnC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,qBAAY,gBAE9B,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,QAAS,IAAM,GAAgB,QAC/B,UAAW,CAAC,+FAA+F,EAAmB,SAAjB,GACzG,qCACA,8CAAA,CACA,WAEJ,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,4BAAmB,2BAGnC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,qBAAY,eAE9B,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,QAAS,IAAM,GAAgB,YAC/B,UAAW,CAAC,+FAA+F,EAAmB,aAAjB,GACzG,qCACA,8CAAA,CACA,WAEJ,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,4BAAmB,6BAGnC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,qBAAY,sBAIhC,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,MAAO,GACP,SAAW,AAAD,IACR,IAAM,EAAQ,EAAE,MAAM,CAAC,KAAK,CAC5B,GACY,QAAV,EACI,MACC,OAAO,GAEhB,EACA,UAAU,+QAEV,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAO,WAAG,YAClB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAO,YAAI,aACnB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAO,YAAI,aACnB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAO,YAAI,aACnB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAO,YAAI,aACnB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,eAAM,2BAI1B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4BAEZ,IAAyC,IAArB,GAAY,IAAI,EACnC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kEACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,6CAAoC,gCAarD,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,mBACf,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,UACC,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,qFACZ,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEAA4D,MAG1E,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEAA4D,aAG1E,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEAA4D,aAG1E,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEAA4D,cAG1E,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEAA4D,gBAG1E,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEAA4D,iBAG1E,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEAA4D,aAG1E,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEAA4D,sBAK9E,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,UACE,KACE,IAAI,CAAC,CAAC,EAAG,KACR,GAAqB,UAAjB,GAA0B,CAE5B,IAAM,EAAc,GAClB,EAAE,OAAO,CACT,gDAMF,OAAO,AAJa,GAClB,EAAE,OAAO,CACT,gDAEmB,CACvB,CAAO,GAAqB,UAAjB,GAA0B,CAEnC,IAAM,EAAc,GAAiB,GAAG,CAAC,EAAE,KAAK,GAAK,EAErD,MAAO,CADa,GAAiB,GAAG,CAAC,EAAE,KAAK,IAAK,EAChC,CACvB,CAAO,GAAqB,aAAjB,GAA6B,CAEtC,IAAM,EAAY,EAAE,OAAO,EAAE,KAC3B,AAAC,GAAkC,eAAvB,EAAO,WAAW,EAE1B,EAAY,EAAE,OAAO,EAAE,KAC3B,AAAC,GAAkC,eAAvB,EAAO,WAAW,EAE1B,EAAS,EACX,WAAW,EAAU,KAAK,EAC1B,EAIJ,MAAO,CAHQ,EACX,WAAW,EAAU,KAAK,EAC1B,GACY,CAClB,CAAO,CAEL,IAAM,EAAQ,EAAE,oBAAoB,EAAE,KACpC,AAAC,GAEC,iDADA,EAAK,WAAW,EAGd,EAAQ,EAAE,oBAAoB,EAAE,KACpC,AAAC,GACC,AACA,mDADK,WAAW,EASpB,MAAO,CANQ,EACX,MAKY,KALD,EAAM,KAAK,EACtB,GAAA,GACW,EACX,WAAW,EAAM,KAAK,EACtB,GAAA,CAEN,CACF,GACC,KAAK,CAAC,EAAG,AAAgB,gBAAQ,EAAY,IAC7C,GAAG,CAAC,CAAC,EAAI,KACR,IA4CgB,IAMA,EAuGF,EAUA,EAnKR,EAAW,GAAY,GAAG,CAAC,EAAG,KAAK,EAyBzC,OAxBA,QAAQ,GAAG,CACT,CAAC,gBAAgB,EAAE,EAAQ,EAAE,KAAK,CAAC,CACnC,EAAG,KAAK,CACR,EAAG,OAAO,EAAE,UAAU,EAAG,IACzB,cACA,EACI,CACA,GAAI,EAAS,EAAE,CACf,cAAe,CAAC,CAAC,EAAS,aAAa,CACvC,UAAW,CAAC,CAAC,EAAS,SAAS,CAC/B,kBACE,EAAS,aAAa,EAAE,UAAU,EAAG,GACzC,EACE,oBAEN,QAAQ,GAAG,CACT,+BACA,QACA,GAAY,IAAI,CAChB,iBACA,GAAY,GAAG,CAAC,EAAG,KAAK,EACxB,uBACA,MAAM,IAAI,CAAC,GAAY,IAAI,KAG3B,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAEC,UAAU,gKAEV,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,iCACZ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2CACZ,EAAQ,MAGb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,iCACZ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAU,iEACV,QAAS,KACP,GAAwB,GACxB,IAAkB,EACpB,YAEC,CAAC,CAEE,GAAU,mBAAmB,YACzB,UAAY,GAAU,SACtB,EACJ,GAAU,eACV,GAAU,YACW,EAAU,CAAC,cAAc,EAAE,EAAQ,IAAI,CAAC,CAAG,KAGlE,AAAI,GAAW,EAEX,CAAA,EAAA,EAAA,IAAA,EAAC,GAF0B,GAE1B,CAAI,UAAU,oHAEb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,IAAK,EACL,UAAU,6BACV,KAAK,CAAA,CAAA,EACL,IAAI,CAAA,CAAA,EACJ,WAAW,CAAA,CAAA,EACX,QAAQ,CAAA,CAAA,EACR,iBAAkB,AAAC,IACjB,IAAM,EAAQ,EAAE,aAAa,CAE7B,EAAM,WAAW,CAAG,EAMpB,EAAM,gBAAgB,CAAC,aALL,CAKmB,IAJ/B,EAAM,WAAW,EAAI,GAAG,CAC1B,EAAM,WAAW,EAAG,CAExB,EAEF,EACA,QAAS,AAAC,IAER,IAAM,EAAQ,EAAE,aAAa,CAC7B,EAAM,KAAK,CAAC,OAAO,CAAG,OACtB,IAAM,EAAS,EAAM,aAAa,CAClC,GAAI,GAAU,EAAc,CAC1B,IAAM,EAAM,SAAS,aAAa,CAAC,OACnC,EAAI,GAAG,CAAG,EACV,EAAI,SAAS,CAAG,6BAChB,EAAI,GAAG,CAAG,aACV,EAAO,WAAW,CAAC,EACrB,CACF,IAGF,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yIACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,8CAAqC,YAOzD,EAEA,CAAA,EAAA,EAAA,IAAA,EAAC,CAFa,KAEb,CAAI,UAAU,6CACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,IAAK,EACL,IAAI,aACJ,UAAU,mGACV,QAAS,AAAC,IACR,EAAE,aAAa,CAAC,GAAG,CACjB,qQACJ,IAED,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,+FACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,+BAAsB,YAQ9C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6EACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,iCAAwB,cAQlD,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEACX,GAAe,EAAG,KAAK,IAE1B,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,sEACX,GACC,EAAG,OAAO,CACV,6CAGJ,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEACX,GACC,EAAG,OAAO,CACV,kDAGJ,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,uEACX,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,mBAAU,MAE1B,GAAiB,GAAG,CAAC,EAAG,KAAK,GAAK,IAGtC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,wDACX,CAAC,CACiB,EAAG,OAAO,EAAE,KAC3B,AAAC,GAAkC,eAAvB,EAAO,WAAW,GAG5B,GAAa,EAAS,KAAK,EAC3B,MAGR,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,wDACX,CAAC,CAEE,EAAG,oBAAoB,EAAE,KACvB,AAAC,GAEC,AADA,mDAAK,WAAW,GAIlB,GAAe,EAAiB,KAAK,EACrC,QAhJH,EAAG,KAAK,CAqJnB,IAzOQ,CAAC,MAAM,EAAE,GAAY,IAAI,CAAC,CAAC,EAAE,KAAK,GAAG,GAAA,CAAI,IA7BxB,CAAC,MAAM,EAAE,GAAY,IAAI,CAAA,CAAE,QA6Q9D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6FACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gLACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6HAEjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6CACb,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,6IAAmI,UACrH,QAAlB,GAA0B,UAAY,GAAc,UACxD,IACJ,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,iKAAwJ,8BAI1K,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8BACb,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,QAAS,IAAM,GAAkB,SACjC,UAAW,CAAC,+FAA+F,EAAE,AAAmB,aAC5H,qCACA,8CAAA,CACA,WAEJ,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,4BAAmB,gCAGnC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,qBAAY,gBAE9B,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,QAAS,IAAM,GAAkB,SACjC,UAAW,CAAC,+FAA+F,EAAqB,UAAnB,GACzG,qCACA,8CAAA,CACA,WAEJ,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,4BAAmB,iCAGnC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,qBAAY,gBAE9B,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,QAAS,IAAM,GAAkB,YACjC,UAAW,CAAC,+FAA+F,EAAqB,aAAnB,GACzG,qCACA,8CAAA,CACA,WAEJ,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,4BAAmB,6BAGnC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,qBAAY,sBAIhC,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,MAAO,GACP,SAAU,AAAC,IACT,IAAM,EAAQ,EAAE,MAAM,CAAC,KAAK,CAC5B,GACE,AAAU,UACN,MACC,OAAO,GAEhB,EACA,UAAU,+QAEV,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAO,WAAG,YAClB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAO,YAAI,aACnB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAO,YAAI,aACnB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAO,YAAI,aACnB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAO,YAAI,aACnB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,eAAM,wBAIxB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,KACP,IAAM,EAAY,IAAI,IAAI,IACtB,EAAU,GAAG,CAAC,OAChB,CADwB,CACd,MAAM,CAAC,OAEjB,EAAU,GAAG,CAAC,OAEhB,GAAuB,EACzB,EACA,UAAW,CAAC,2EAA2E,EAAE,GAAoB,GAAG,CAAC,OAC7G,mCACA,8CAAA,CACA,UACL,QAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,KACP,IAAM,EAAY,IAAI,IAAI,IACtB,EAAU,GAAG,CAAC,OAChB,CADwB,CACd,MAAM,CAAC,OAEjB,EAAU,GAAG,CAAC,OAEhB,GAAuB,EACzB,EACA,UAAW,CAAC,2EAA2E,EAAE,GAAoB,GAAG,CAAC,OAC7G,oCACA,8CAAA,CACA,UACL,QAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,KACP,IAAM,EAAY,IAAI,IAAI,IACtB,EAAU,GAAG,CAAC,OAChB,CADwB,CACd,MAAM,CAAC,OAEjB,EAAU,GAAG,CAAC,OAEhB,GAAuB,EACzB,EACA,UAAW,CAAC,2EAA2E,EAAE,GAAoB,GAAG,CAAC,OAC7G,qCACA,8CAAA,CACA,UACL,cAKL,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4BACZ,IAAiD,IAAzB,GAAc,MAAM,EAC3C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kEACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,6CAAoC,kCAKrD,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,mBACf,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,UACC,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,qFACZ,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEAA4D,MAG1E,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEAA4D,WAG1E,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEAA4D,aAG1E,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEAA4D,cAG1E,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEAA4D,gBAG1E,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEAA4D,iBAG1E,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEAA4D,kBAK9E,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,UACE,GACE,MAAM,CAAC,AAAC,IAEP,GAAiC,IAA7B,GAAoB,IAAI,CAAQ,OAAO,EAE3C,IAAM,EAAiB,CAAC,EAAM,aAAa,EAAI,EAAA,CAAE,CAC9C,SAAS,CAAC,EAAG,GACb,WAAW,GACd,OAAO,GAAoB,GAAG,CAAC,EACjC,GACC,IAAI,CAAC,CAAC,EAAG,KACR,GAAuB,UAAnB,GAA4B,CAC9B,IAAM,EAAc,GAClB,EAAE,OAAO,CACT,gDAMF,OAAO,AAJa,GAClB,EAAE,OAAO,CACT,gDAEmB,CACvB,CAAO,GAAuB,UAAnB,GAA4B,CAErC,IAAM,EAAc,GAAuB,EAAE,QAAQ,EAErD,OAAO,AADa,GAAuB,EAAE,QAAQ,EAChC,CACvB,CAAO,CAEL,IAAM,EAAY,EAAE,OAAO,EAAE,KAC3B,AAAC,GAAkC,eAAvB,EAAO,WAAW,EAE1B,EAAY,EAAE,OAAO,EAAE,KAC3B,AAAC,GAAkC,eAAvB,EAAO,WAAW,EAE1B,EAAS,EACX,WAAW,EAAU,KAAK,EAC1B,EAIJ,MAAO,CAHQ,EACX,WAAW,EAAU,KAAK,GAC1B,EACY,CAClB,CACF,GACC,KAAK,CACJ,EACkB,QAAlB,QAA0B,EAAY,IAEvC,GAAG,CAAC,CAAC,EAAO,KAEX,MAQA,AARM,OAAQ,WAAW,EAAM,KAAK,EAAI,KACrB,GACjB,EAAM,OAAO,CACb,gDAMA,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAEC,UAAU,qKACV,QAAS,KACP,GAAiB,GACjB,IAAkB,EACpB,YAEA,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,iCACZ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2CACZ,EAAQ,MAGb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,iCACZ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAU,yFACV,MAAO,EAAM,UAAU,UAEtB,EAAM,UAAU,EAAI,QAGzB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEACX,GAAe,EAAM,KAAK,IAE7B,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,sEACX,GACC,EAAM,OAAO,CACb,6CAGJ,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEACX,GACC,EAAM,OAAO,CACb,kDAGJ,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,uEACX,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,mBAAU,MAE1B,GAAuB,EAAM,QAAQ,IAGzC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,wDACX,AACO,CADN,CACiB,EAAM,OAAO,EAAE,KAC9B,AAAC,GAAkC,eAAvB,EAAO,WAAW,GAG5B,GAAa,EAAS,KAAK,EAC3B,QAjDH,EAAM,QAAQ,CAsDzB,IAlHQ,CAAC,OAAO,EAAE,GAAc,MAAM,CAAC,CAAC,EAAE,KAAK,GAAG,GAAA,CAAI,IA1B7B,CAAC,OAAO,EAAE,GAAc,MAAM,CAAA,CAAE,cAsJvD,IAAjB,GACC,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WAEE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2DAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0BAEb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gIACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sEAA6D,mBAG5E,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCACZ,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,oBAAW,MAE3B,CAAC,CAAC,EAAE,GAAa,cAAc,CAAC,QAAS,CACvC,sBAAuB,EACvB,sBAAuB,CACzB,GAAA,CAAI,MAIV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sEAA6D,kBAG5E,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCACZ,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,oBAAW,MAE3B,GAAe,GAAa,UAAU,YAOhD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4HACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCACb,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,qCACf,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,mCACf,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,gGAAuF,WAGrG,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,gGAAuF,kBAKzG,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,UACE,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,QAAS,EAAG,UAAU,yCAAgC,QAK5D,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,QAAS,EAAG,UAAU,uDAA8C,oCAYtF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0BAEb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gIACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sEAA6D,cAG5E,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCACZ,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,oBAAW,MAE3B,GAAa,GAAa,2BAA2B,EAAI,QAI/D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sEAA6D,gBAG5E,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCACZ,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,oBAAW,MAE3B,GAAa,GAAa,0BAA0B,EAAI,aAOlE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4HACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCACb,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,qCACf,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,mCACf,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,gGAAuF,WAGrG,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,gGAAuF,cAGrG,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,gGAAuF,qBAKzG,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,UACE,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,QAAS,EAAG,UAAU,yCAAgC,QAK5D,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,QAAS,EAAG,UAAU,uDAA8C,oCAYtF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0BAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mJACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sEAA6D,oBAG5E,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0CACZ,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,oBAAW,MAE3B,SAKN,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4HACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCACb,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,qCACf,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,qCACf,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,gGAAuF,WAGrG,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,gGAAuF,eAKzG,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,UACE,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,QAAS,EAAG,UAAU,yCAAgC,QAK5D,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,QAAS,EAAG,UAAU,uDAA8C,yCAaxF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wEAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6FACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gLACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6HAEjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6CACb,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,6IAAmI,UACxH,QAAf,GAAuB,UAAY,GAAW,OAAK,IAC3D,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,iKAAwJ,uBAI1K,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8BACb,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,QAAS,IAAM,GAAe,SAC9B,UAAW,CAAC,+FAA+F,EAAkB,UAAhB,GACzG,qCACA,8CAAA,CACA,WAEJ,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,4BAAmB,0BAGnC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,qBAAY,gBAE9B,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,QAAS,IAAM,GAAe,UAC9B,UAAW,CAAC,+FAA+F,EAAkB,WAAhB,GACzG,qCACA,8CAAA,CACA,WAEJ,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,4BAAmB,4BAGnC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,qBAAY,kBAE9B,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,QAAS,IAAM,GAAe,OAC9B,UAAW,CAAC,+FAA+F,EAAkB,QAAhB,GACzG,qCACA,8CAAA,CACA,WAEJ,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,4BAAmB,wBAGnC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,qBAAY,cAE9B,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,QAAS,IAAM,GAAe,eAC9B,UAAW,CAAC,+FAA+F,EAAkB,gBAAhB,GACzG,qCACA,8CAAA,CACA,WAEJ,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,4BAAmB,iCAGnC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,qBAAY,mBAIhC,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,MAAO,GACP,SAAU,AAAC,IACT,IAAM,EAAQ,EAAE,MAAM,CAAC,KAAK,CAC5B,GACY,QAAV,EACI,MACC,OAAO,GAEhB,EACA,UAAU,+QAEV,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAO,WAAG,YAClB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAO,YAAI,aACnB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAO,YAAI,aACnB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAO,YAAI,aACnB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAO,YAAI,aACnB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,eAAM,2BAI1B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4BAEZ,IAAyC,IAAzB,GAAc,MAAM,EACnC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kEACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,6CAAoC,2BAKpD,IACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gEACb,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,6CAAmC,KAC3C,QAIT,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,mBACf,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,UACC,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,qFACZ,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEAA4D,MAG1E,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEAA4D,aAG1E,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEAA4D,aAG1E,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEAA4D,cAG1E,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEAA4D,gBAG1E,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEAA4D,iBAG1E,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEAA4D,aAG1E,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEAA4D,sBAK9E,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,UACE,GACE,IAAI,CAAC,CAAC,EAAG,KACR,OAAQ,IACN,IAAK,QAYL,QAXE,OAAO,WAAW,EAAE,KAAK,EAAI,KAAO,WAAW,EAAE,KAAK,EAAI,IAC5D,KAAK,SACH,OAAO,SAAS,EAAE,MAAM,EAAI,KAAO,SAAS,EAAE,MAAM,EAAI,IAC1D,KAAK,cACH,OAAO,SAAS,EAAE,WAAW,EAAI,KAAO,SAAS,EAAE,WAAW,EAAI,IACpE,KAAK,MACH,OAAO,WAAW,EAAE,GAAG,EAAI,KAAO,WAAW,EAAE,GAAG,EAAI,IACxD,KAAK,MACH,OAAO,WAAW,EAAE,GAAG,EAAI,KAAO,WAAW,EAAE,GAAG,EAAI,IACxD,KAAK,MACH,OAAO,WAAW,EAAE,GAAG,EAAI,KAAO,WAAW,EAAE,GAAG,EAAI,IAG1D,CACF,GACC,KAAK,CAAC,EAAkB,QAAf,QAAuB,EAAY,IAC5C,GAAG,CAAC,CAAC,EAAI,KA0BA,MAQM,IAmBA,UAnDZ,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAEC,UAAU,gKAEV,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,iCACZ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2CACZ,EAAQ,MAGb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,iCACZ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0EAEb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6EACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,iCAAwB,aAM9C,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEACX,GAAe,EAAG,KAAK,IAE1B,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,uEAEJ,AADP,CAAC,CACiB,EAAG,OAAO,EAAE,KAC3B,AAAC,GAAkC,4CAAvB,EAAO,WAAW,GAEd,GAAa,EAAS,KAAK,EAAI,MAGrD,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,sEACX,CAAC,CACmB,EAAG,OAAO,EAAE,KAC7B,AAAC,GAAkC,iDAAvB,EAAO,WAAW,GAEZ,GAAa,EAAW,KAAK,EAAI,MAGzD,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,uEACsB,MAGpC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,uDACmB,MAGjC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,wDACX,AACO,CADN,CACmB,EAAG,OAAO,EAAE,KAC7B,AAAC,GAAkC,iDAAvB,EAAO,WAAW,IAElB,WAAW,EAAG,KAAK,EAAI,KAErC,AAAI,CADE,EAAa,SAAS,GAAY,OAAS,MAChC,EACR,CADW,EACI,EAAQ,GAEzB,SAvDN,EAAG,KAAK,QArDM,CAAC,YAAY,EAAE,GAAc,MAAM,CAAA,CAAE,QAwHxE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6FACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gLACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6HAEjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6CACb,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,6IAAmI,UACxH,QAAf,GAAuB,UAAY,GAAW,UAAQ,IAC9D,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,iKAAwJ,8BAI1K,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8BACb,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,QAAS,IAAM,GAAe,SAC9B,UAAW,CAAC,+FAA+F,EAAkB,UAAhB,GACzG,qCACA,8CAAA,CACA,WAEJ,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,4BAAmB,0BAGnC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,qBAAY,gBAE9B,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,QAAS,IAAM,GAAe,UAC9B,UAAW,CAAC,+FAA+F,EAAkB,WAAhB,GACzG,qCACA,8CAAA,CACA,WAEJ,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,4BAAmB,4BAGnC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,qBAAY,kBAE9B,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,QAAS,IAAM,GAAe,eAC9B,UAAW,CAAC,+FAA+F,EAAkB,gBAAhB,GACzG,qCACA,8CAAA,CACA,WAEJ,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,4BAAmB,iCAGnC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,qBAAY,mBAIhC,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,MAAO,GACP,SAAU,AAAC,IACT,IAAM,EAAQ,EAAE,MAAM,CAAC,KAAK,CAC5B,GACY,QAAV,EACI,MACC,OAAO,GAEhB,EACA,UAAU,+QAEV,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAO,WAAG,YAClB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAO,YAAI,aACnB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAO,YAAI,aACnB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAO,YAAI,aACnB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAO,YAAI,aACnB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,eAAM,2BAI1B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4BACZ,IACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kEACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,6CAAoC,kCAKrD,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,mBACf,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,UACC,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,qFACZ,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEAA4D,MAG1E,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEAA4D,WAG1E,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEAA4D,aAG1E,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEAA4D,cAG1E,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEAA4D,gBAG1E,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEAA4D,iBAG1E,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEAA4D,kBAK9E,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,WACE,CAAC,CAEkB,IAAI,IAWtB,GAAc,OAAO,CAAC,AAAC,IACrB,IAAM,EAAW,EAAU,GAAG,CAAC,EAAG,QAAQ,GAAK,CAC7C,SAAU,EAAG,QAAQ,CACrB,WAAY,EAAG,UAAU,CACzB,cAAe,EAAG,aAAa,CAC/B,MAAO,EACP,OAAQ,EACR,YAAa,EACb,SAAU,EACV,WAAY,CACd,EAMA,GALA,EAAS,KAAK,EAAI,WAAW,EAAG,KAAK,EAAI,KACzC,EAAS,MAAM,EAAI,SAAS,EAAG,MAAM,EAAI,KACzC,EAAS,WAAW,EAAI,SAAS,EAAG,WAAW,EAAI,KAG/C,EAAG,OAAO,CAAE,CACd,IAAM,EAAiB,EAAG,OAAO,CAAC,IAAI,CACpC,AAAC,GAAkC,4CAAvB,EAAO,WAAW,EAE1B,EAAmB,EAAG,OAAO,CAAC,IAAI,CACtC,AAAC,GAAW,AAAuB,mDAAhB,WAAW,EAEhC,EAAS,QAAQ,EAAI,SAAS,GAAgB,OAAS,KACvD,EAAS,UAAU,EAAI,SAAS,GAAkB,OAAS,IAC7D,CAEA,EAAU,GAAG,CAAC,EAAG,QAAQ,CAAE,EAC7B,GAEO,MAAM,IAAI,CAAC,EAAU,MAAM,IAC/B,IAAI,CAAC,CAAC,EAAG,KACR,OAAQ,IACN,IAAK,QAML,QALE,OAAO,EAAE,KAAK,CAAG,EAAE,KAAK,AAC1B,KAAK,SACH,OAAO,EAAE,MAAM,CAAG,EAAE,MAAM,AAC5B,KAAK,cACH,OAAO,EAAE,WAAW,CAAG,EAAE,WAAW,AAGxC,CACF,GACC,KAAK,CAAC,EAAkB,QAAf,QAAuB,EAAY,IAC5C,GAAG,CAAC,CAAC,EAAO,IACX,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAEC,UAAU,+KAEV,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,iCACZ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2CACZ,EAAQ,MAGb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,iCACZ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAU,yFACV,MAAO,EAAM,UAAU,UAEtB,EAAM,UAAU,EAAI,QAGzB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEACX,GAAe,EAAM,KAAK,IAE7B,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,sEACX,EAAM,QAAQ,CAAG,EAAI,GAAa,EAAM,QAAQ,EAAI,MAEvD,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEACX,EAAM,UAAU,CAAG,EAAI,GAAa,EAAM,UAAU,EAAI,MAE3D,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,uEACsB,MAGpC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,uDACmB,QA9B5B,EAAM,QAAQ,QAtFA,CAAC,kBAAkB,EAAE,GAAc,MAAM,CAAA,CAAE,cAmIlE,IAAjB,GACC,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WAEE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2DAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0BAEb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gIACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sEAA6D,4BAG5E,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCACZ,EACC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,oBAAW,MAE3B,CAAC,CAAC,EAAE,EAAgB,cAAc,CAAC,QAAS,CAC1C,sBAAuB,EACvB,sBAAuB,CACzB,GAAA,CAAI,MAIV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sEAA6D,kBAG5E,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCACZ,GACC,EAAS,MAAM,CACb,CAAC,EAAK,IAAO,EAAM,WAAW,EAAG,KAAK,EAAI,KAC1C,cAQZ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4HACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCACb,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,qCACf,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,mCACf,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,gGAAuF,WAGrG,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,gGAAuF,kBAKzG,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,UACE,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,QAAS,EAAG,UAAU,yCAAgC,UAG5D,CAAC,AACmB,IAAI,IACtB,GAAiB,OAAO,CAAC,AAAC,IACxB,IAAM,EAAO,EAAG,UAAU,CACpB,EAAW,EAAU,GAAG,CAAC,IAAS,CAAE,MAAO,CAAE,EACnD,EAAS,KAAK,EAAI,WAAW,EAAG,KAAK,EAAI,KACzC,EAAU,GAAG,CAAC,EAAM,EACtB,GACoB,AAGD,AACZ,MAJmB,IAAI,CAAC,EAAU,IAAI,IAAI,IAAI,CACnD,CAAC,EAAG,IAAM,IAAI,KAAK,GAAG,OAAO,GAAK,IAAI,KAAK,GAAG,OAAO,IAExB,KAAK,CAAC,EAAG,IACtB,GAAG,CAAC,AAAC,IACrB,IAAM,EAAO,EAAU,GAAG,CAAC,GAC3B,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAc,UAAU,sCACvB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,uDACX,IAAI,KAAK,GAAM,kBAAkB,CAAC,QAAS,CAAE,MAAO,QAAS,IAAK,SAAU,KAE/E,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEACX,GAAe,EAAK,KAAK,MALrB,EASb,gBAUd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0BAEb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gIACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sEAA6D,cAG5E,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCACZ,UAGL,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sEAA6D,gBAG5E,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCACZ,eAMT,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4HACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCACb,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,qCACf,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,mCACf,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,gGAAuF,WACrG,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,gGAAuF,cACrG,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,gGAAuF,qBAGzG,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,UACE,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAG,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,QAAS,EAAG,UAAU,yCAAgC,UAE9D,CAAC,AACmB,IAAI,IACtB,GAAiB,OAAO,CAAC,AAAC,IACxB,IAAM,EAAO,EAAG,UAAU,CACpB,EAAW,EAAU,GAAG,CAAC,IAAS,CAAE,SAAU,EAAG,WAAY,CAAE,EACrE,EAAS,QAAQ,EAAI,GAAuB,EAAG,OAAO,CAAE,2CACxD,EAAS,UAAU,EAAI,GAAuB,EAAG,OAAO,CAAE,gDAC1D,EAAU,GAAG,CAAC,EAAM,EACtB,GAEmB,AADC,AAEb,MAFmB,IAAI,CAAC,EAAU,IAAI,IAAI,IAAI,CAAC,CAAC,EAAG,IAAM,IAAI,KAAK,GAAG,OAAO,GAAK,IAAI,KAAK,GAAG,OAAO,IAC5E,KAAK,CAAC,EAAG,IACtB,GAAG,CAAC,AAAC,IACrB,IAAM,EAAO,EAAU,GAAG,CAAC,GAC3B,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAc,UAAU,sCACvB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,uDACX,IAAI,KAAK,GAAM,kBAAkB,CAAC,QAAS,CAAE,MAAO,QAAS,IAAK,SAAU,KAE/E,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,sEAA8D,EAAK,QAAQ,GACzF,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEAA6D,EAAK,UAAU,KALnF,EAQb,gBAUd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0BAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mJACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sEAA6D,oBAC5E,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0CACZ,EAAoB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,oBAAW,MAAW,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,UAAK,EAAe,KAAK,CAAC,cAAc,UAIxG,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4HACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCACb,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,qCACf,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,qCACf,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,gGAAuF,WACrG,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,gGAAuF,eAGzG,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,UACE,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAG,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,QAAS,EAAG,UAAU,yCAAgC,QAE9D,OAAO,OAAO,CAAC,IACZ,IAAI,CAAC,CAAC,CAAC,EAAM,CAAE,CAAC,EAAM,GAAK,IAAI,KAAK,GAAO,OAAO,GAAK,IAAI,KAAK,GAAO,OAAO,IAC9E,KAAK,CAAC,GACN,GAAG,CAAC,CAAC,CAAC,EAAM,EAAM,GACjB,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAc,UAAU,wCACvB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,uDACX,IAAI,KAAK,GAAM,kBAAkB,CAAC,QAAS,CAAE,MAAO,QAAS,IAAK,SAAU,KAE/E,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,uEAA+D,MAJtE,mBAgB3B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wEAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6FACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mLACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6HAEjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6CACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,2IAAkI,kCAGhJ,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAwB,sDAEvC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0CACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yBAAgB,OAC/B,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,mBAAU,yDAI3B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6FACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mLACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6HAEjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6CACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,2IAAkI,oCAGhJ,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAwB,2BAEvC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0CACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yBAAgB,OAC/B,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,mBAAU,sDAQf,IAAjB,GACC,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WAEE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2DAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0BAEb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gIACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sEAA6D,4BAG5E,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCACZ,EACC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,oBAAW,MAE3B,CAAC,CAAC,EAAE,EAAgB,cAAc,CAAC,QAAS,CAC1C,sBAAuB,EACvB,sBAAuB,CACzB,GAAA,CAAI,MAIV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sEAA6D,kBAG5E,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCACZ,GACC,EAAS,MAAM,CACb,CAAC,EAAK,IAAO,EAAM,WAAW,EAAG,KAAK,EAAI,KAC1C,cAQZ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4HACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCACb,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,qCACf,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,mCACf,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,gGAAuF,WAGrG,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,gGAAuF,kBAKzG,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,UACE,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,QAAS,EAAG,UAAU,yCAAgC,UAG5D,CAAC,AACmB,IAAI,IACtB,GAAiB,OAAO,CAAC,AAAC,IACxB,IAAM,EAAO,EAAG,UAAU,CACpB,EAAW,EAAU,GAAG,CAAC,IAAS,CAAE,MAAO,CAAE,EACnD,EAAS,KAAK,EAAI,WAAW,EAAG,KAAK,EAAI,KACzC,EAAU,GAAG,CAAC,EAAM,EACtB,GAImB,AACZ,AAJa,MAAM,IAAI,CAAC,EAAU,IAAI,IAAI,IAAI,CACnD,CAAC,EAAG,IAAM,IAAI,KAAK,GAAG,OAAO,GAAK,IAAI,KAAK,GAAG,OAAO,IAExB,KAAK,CAAC,EAAG,IACtB,GAAG,CAAE,AAAD,IACpB,IAAM,EAAO,EAAU,GAAG,CAAC,GAC3B,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAc,UAAU,sCACvB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,uDACX,IAAI,KAAK,GAAM,kBAAkB,CAAC,QAAS,CAAE,MAAO,QAAS,IAAK,SAAU,KAE/E,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEACX,GAAe,EAAK,KAAK,MALrB,EASb,gBAUd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0BAEb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gIACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sEAA6D,cAG5E,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCACZ,UAGL,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sEAA6D,gBAG5E,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCACZ,eAMT,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4HACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCACb,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,qCACf,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,mCACf,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,gGAAuF,WACrG,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,gGAAuF,cACrG,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,gGAAuF,qBAGzG,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,UACE,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAG,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,QAAS,EAAG,UAAU,yCAAgC,UAE9D,CAAC,AACmB,IAAI,IACtB,GAAiB,OAAO,CAAC,AAAC,IACxB,IAAM,EAAO,EAAG,UAAU,CACpB,EAAW,EAAU,GAAG,CAAC,IAAS,CAAE,SAAU,EAAG,WAAY,CAAE,EACrE,EAAS,QAAQ,EAAI,GAAuB,EAAG,OAAO,CAAE,2CACxD,EAAS,UAAU,EAAI,GAAuB,EAAG,OAAO,CAAE,gDAC1D,EAAU,GAAG,CAAC,EAAM,EACtB,GACoB,AACD,AACZ,MAFmB,IAAI,CAAC,EAAU,IAAI,IAAI,IAAI,CAAC,CAAC,EAAG,IAAM,IAAI,KAAK,GAAG,OAAO,GAAK,IAAI,KAAK,GAAG,OAAO,IAC5E,KAAK,CAAC,EAAG,IACtB,GAAG,CAAC,AAAC,IACrB,IAAM,EAAO,EAAU,GAAG,CAAC,GAC3B,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAc,UAAU,sCACvB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,uDACX,IAAI,KAAK,GAAM,kBAAkB,CAAC,QAAS,CAAE,MAAO,QAAS,IAAK,SAAU,KAE/E,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,sEAA8D,EAAK,QAAQ,GACzF,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEAA6D,EAAK,UAAU,KALnF,EAQb,gBAUd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0BAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mJACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sEAA6D,oBAC5E,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0CACZ,EAAoB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,oBAAW,MAAW,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,UAAK,EAAe,KAAK,CAAC,cAAc,UAIxG,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4HACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCACb,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,qCACf,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,qCACf,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,gGAAuF,WACrG,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,gGAAuF,eAGzG,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,UACE,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAG,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,QAAS,EAAG,UAAU,yCAAgC,QAE9D,OAAO,OAAO,CAAC,IACZ,IAAI,CAAC,CAAC,CAAC,EAAM,CAAE,CAAC,EAAM,GAAK,IAAI,KAAK,GAAO,OAAO,GAAK,IAAI,KAAK,GAAO,OAAO,IAC9E,KAAK,CAAC,GACN,GAAG,CAAC,CAAC,CAAC,EAAM,EAAM,GACjB,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAc,UAAU,wCACvB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,uDACX,IAAI,KAAK,GAAM,kBAAkB,CAAC,QAAS,CAAE,MAAO,QAAS,IAAK,SAAU,KAE/E,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,uEAA+D,MAJtE,mBAgB3B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wEAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6FACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gLACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6HAEjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6CACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,2IAAkI,yCAGhJ,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAwB,sDAEvC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0CACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yBAAgB,OAC/B,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,mBAAU,yDAI3B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6FACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gLACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6HAEjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6CACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,2IAAkI,gCAGhJ,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAwB,8BAEvC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0CACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yBAAgB,OAC/B,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,mBAAU,sEASzC","ignoreList":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36]}