module.exports=[635595,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(50944),e=a.i(587532),f=a.i(170106);let g=(0,f.default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var h=a.i(405784);let i=(0,f.default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);var j=a.i(633508),k=a.i(915618),l=a.i(400210),m=a.i(114548),n=a.i(596221),o=a.i(821374),p=a.i(104720);let q=(0,f.default)("clipboard-check",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);var r=a.i(941961),s=a.i(941675),t=a.i(546842),u=a.i(731626),v=a.i(816201),w=a.i(862722);let x=({isOpen:a,onClose:d,type:e,title:f,message:g})=>{let[h,i]=(0,c.useState)(!1),[k,l]=(0,c.useState)(!1);(0,c.useEffect)(()=>{if(a){i(!0),setTimeout(()=>l(!0),10);let a=setTimeout(()=>{m()},3e3);return()=>clearTimeout(a)}l(!1),setTimeout(()=>i(!1),300)},[a]);let m=()=>{l(!1),setTimeout(()=>{i(!1),d()},300)};if(!h)return null;let n="success"===e;return(0,b.jsxs)("div",{className:"jsx-39caaad5107536c0 fixed inset-0 flex items-center justify-center z-[9999] pointer-events-none",children:[(0,b.jsx)("div",{style:{backgroundColor:"rgba(0, 0, 0, 0.3)"},onClick:m,className:`jsx-39caaad5107536c0 absolute inset-0 backdrop-blur-sm transition-opacity duration-300 pointer-events-auto ${k?"opacity-100":"opacity-0"}`}),(0,b.jsx)("div",{className:`jsx-39caaad5107536c0 relative pointer-events-auto transform transition-all duration-300 ${k?"scale-100 opacity-100 translate-y-0":"scale-95 opacity-0 -translate-y-4"}`,children:(0,b.jsxs)("div",{className:`jsx-39caaad5107536c0 relative bg-white rounded-2xl shadow-2xl overflow-hidden w-96 ${n?"border-4 border-green-400":"border-4 border-red-400"}`,children:[(0,b.jsx)("div",{className:`jsx-39caaad5107536c0 absolute inset-0 opacity-10 ${n?"bg-gradient-to-br from-green-400 via-emerald-400 to-teal-400":"bg-gradient-to-br from-red-400 via-rose-400 to-pink-400"} animate-gradient`}),(0,b.jsx)("button",{onClick:m,className:"jsx-39caaad5107536c0 absolute top-4 right-4 p-1 rounded-full hover:bg-gray-100 transition-colors z-10",children:(0,b.jsx)(j.X,{className:"w-5 h-5 text-gray-500"})}),(0,b.jsxs)("div",{className:"jsx-39caaad5107536c0 relative p-8",children:[(0,b.jsx)("div",{className:"jsx-39caaad5107536c0 flex justify-center mb-6",children:(0,b.jsx)("div",{className:`jsx-39caaad5107536c0 relative ${n?"animate-success-icon":"animate-error-icon"}`,children:n?(0,b.jsxs)("div",{className:"jsx-39caaad5107536c0 relative",children:[(0,b.jsx)("div",{className:"jsx-39caaad5107536c0 absolute inset-0 animate-ping-slow",children:(0,b.jsx)("div",{className:"jsx-39caaad5107536c0 w-24 h-24 rounded-full bg-green-400 opacity-30"})}),(0,b.jsx)("div",{className:"jsx-39caaad5107536c0 absolute inset-0 animate-pulse-slow",children:(0,b.jsx)("div",{className:"jsx-39caaad5107536c0 w-24 h-24 rounded-full bg-green-300 opacity-20"})}),(0,b.jsx)(v.CheckCircle,{className:"w-24 h-24 text-green-500 relative z-10 drop-shadow-lg"}),(0,b.jsxs)("div",{className:"jsx-39caaad5107536c0 absolute top-0 left-0 w-full h-full",children:[(0,b.jsx)("div",{className:"jsx-39caaad5107536c0 absolute top-2 right-2 w-3 h-3 bg-yellow-400 rounded-full animate-sparkle-1"}),(0,b.jsx)("div",{className:"jsx-39caaad5107536c0 absolute top-6 right-0 w-2 h-2 bg-yellow-300 rounded-full animate-sparkle-2"}),(0,b.jsx)("div",{className:"jsx-39caaad5107536c0 absolute top-0 right-6 w-2 h-2 bg-yellow-500 rounded-full animate-sparkle-3"}),(0,b.jsx)("div",{className:"jsx-39caaad5107536c0 absolute bottom-2 left-2 w-3 h-3 bg-green-300 rounded-full animate-sparkle-1"}),(0,b.jsx)("div",{className:"jsx-39caaad5107536c0 absolute bottom-6 left-0 w-2 h-2 bg-green-400 rounded-full animate-sparkle-2"})]})]}):(0,b.jsxs)("div",{className:"jsx-39caaad5107536c0 relative",children:[(0,b.jsx)("div",{className:"jsx-39caaad5107536c0 absolute inset-0 animate-ping-slow",children:(0,b.jsx)("div",{className:"jsx-39caaad5107536c0 w-24 h-24 rounded-full bg-red-400 opacity-30"})}),(0,b.jsx)("div",{className:"jsx-39caaad5107536c0 absolute inset-0 animate-pulse-slow",children:(0,b.jsx)("div",{className:"jsx-39caaad5107536c0 w-24 h-24 rounded-full bg-red-300 opacity-20"})}),(0,b.jsx)(w.XCircle,{className:"w-24 h-24 text-red-500 relative z-10 drop-shadow-lg animate-shake"})]})})}),(0,b.jsx)("h2",{className:`jsx-39caaad5107536c0 text-2xl font-bold text-center mb-3 ${n?"text-green-600":"text-red-600"}`,children:f}),(0,b.jsx)("p",{className:"jsx-39caaad5107536c0 text-gray-600 text-center text-base leading-relaxed",children:g}),(0,b.jsx)("div",{className:"jsx-39caaad5107536c0 mt-6",children:(0,b.jsx)("div",{className:"jsx-39caaad5107536c0 w-full h-1 bg-gray-200 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:`jsx-39caaad5107536c0 h-full ${n?"bg-green-500":"bg-red-500"} animate-progress`})})})]}),(0,b.jsx)("div",{className:`jsx-39caaad5107536c0 h-2 ${n?"bg-gradient-to-r from-green-400 via-emerald-400 to-teal-400":"bg-gradient-to-r from-red-400 via-rose-400 to-pink-400"}`})]})}),(0,b.jsx)(u.default,{id:"39caaad5107536c0",children:"@keyframes gradient{0%,to{transform:scale(1)rotate(0)}50%{transform:scale(1.1)rotate(5deg)}}@keyframes ping-slow{0%{opacity:.3;transform:scale(1)}50%{opacity:.15;transform:scale(1.2)}to{opacity:0;transform:scale(1.4)}}@keyframes pulse-slow{0%,to{opacity:.2;transform:scale(1)}50%{opacity:.3;transform:scale(1.15)}}@keyframes success-icon{0%{transform:scale(0)rotate(-180deg)}50%{transform:scale(1.2)rotate(10deg)}to{transform:scale(1)rotate(0)}}@keyframes error-icon{0%{transform:scale(0)rotate(0)}50%{transform:scale(1.2)}to{transform:scale(1)}}@keyframes shake{0%,to{transform:translate(0)}10%,30%,50%,70%,90%{transform:translate(-3px)}20%,40%,60%,80%{transform:translate(3px)}}@keyframes sparkle-1{0%,to{opacity:0;transform:scale(0)rotate(0)}50%{opacity:1;transform:scale(1)rotate(180deg)}}@keyframes sparkle-2{0%,to{opacity:0;transform:scale(0)rotate(0)}60%{opacity:1;transform:scale(1)rotate(180deg)}}@keyframes sparkle-3{0%,to{opacity:0;transform:scale(0)rotate(0)}40%{opacity:1;transform:scale(1)rotate(180deg)}}@keyframes progress{0%{width:0%}to{width:100%}}.animate-gradient.jsx-39caaad5107536c0{animation:3s ease-in-out infinite gradient}.animate-ping-slow.jsx-39caaad5107536c0{animation:2s cubic-bezier(0,0,.2,1) infinite ping-slow}.animate-pulse-slow.jsx-39caaad5107536c0{animation:2s cubic-bezier(.4,0,.6,1) infinite pulse-slow}.animate-success-icon.jsx-39caaad5107536c0{animation:.6s cubic-bezier(.68,-.55,.265,1.55) success-icon}.animate-error-icon.jsx-39caaad5107536c0{animation:.6s cubic-bezier(.68,-.55,.265,1.55) error-icon}.animate-shake.jsx-39caaad5107536c0{animation:.5s cubic-bezier(.36,.07,.19,.97) .6s shake}.animate-sparkle-1.jsx-39caaad5107536c0{animation:1s ease-in-out .3s sparkle-1}.animate-sparkle-2.jsx-39caaad5107536c0{animation:1s ease-in-out .4s sparkle-2}.animate-sparkle-3.jsx-39caaad5107536c0{animation:1s ease-in-out .5s sparkle-3}.animate-progress.jsx-39caaad5107536c0{animation:3s linear progress}"})]})},y="https://raw.githubusercontent.com/kongvut/thai-province-data/refs/heads/master/api/latest",z=null,A=null,B=async()=>z||(A||(A=Promise.all([fetch(`${y}/province.json`).then(a=>{if(!a.ok)throw Error("à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹‚à¸«à¸¥à¸”à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”à¹„à¸”à¹‰");return a.json()}),fetch(`${y}/district.json`).then(a=>{if(!a.ok)throw Error("à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹‚à¸«à¸¥à¸”à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸­à¸³à¹€à¸ à¸­à¹„à¸”à¹‰");return a.json()}),fetch(`${y}/sub_district.json`).then(a=>{if(!a.ok)throw Error("à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹‚à¸«à¸¥à¸”à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸•à¸³à¸šà¸¥à¹„à¸”à¹‰");return a.json()})]).then(([a,b,c])=>{let d={provinces:a,districts:b,subdistricts:c};return z=d,d})),A),C=a=>a?a.trim().toLowerCase():"",D=(a,b)=>{let c=C(b);return!!c&&(C(a.name_th)===c||C(a.name_en)===c)},E=[{key:"patient",label:"à¸œà¸¹à¹‰à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£"},{key:"provider",label:"à¸œà¸¹à¹‰à¹ƒà¸«à¹‰à¸‚à¹‰à¸­à¸¡à¸¹à¸¥"}],F=()=>E.reduce((a,b)=>(a[b.key]={weight:"",height:"",hasChronic:!1,chronicDiseaseDetail:"",hasDrugAllergy:!1,drugAllergyDetail:"",signatureUrl:"",medicalConsent:"",acceptPdpa:"",acceptMedia:""},a),{}),G=["à¸¢à¸´à¸™à¸¢à¸­à¸¡","à¹„à¸¡à¹ˆà¸¢à¸´à¸™à¸¢à¸­à¸¡"],H=["à¸‚à¹‰à¸²à¸žà¹€à¸ˆà¹‰à¸²à¸‚à¸­à¹à¸ªà¸”à¸‡à¸„à¸§à¸²à¸¡à¸¢à¸´à¸™à¸¢à¸­à¸¡à¹à¸¥à¸°à¸£à¸±à¸šà¸—à¸£à¸²à¸šà¹€à¸‡à¸·à¹ˆà¸­à¸™à¹„à¸‚à¸à¸²à¸£à¸•à¸£à¸§à¸ˆà¸£à¸±à¸à¸©à¸²à¸”à¸±à¸‡à¸•à¹ˆà¸­à¹„à¸›à¸™à¸µà¹‰","à¸‚à¹‰à¸²à¸žà¹€à¸ˆà¹‰à¸²à¸¢à¸´à¸™à¸¢à¸­à¸¡à¹€à¸‚à¹‰à¸²à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£à¸«à¸±à¸•à¸–à¸à¸²à¸£, à¸à¸²à¸£à¸¨à¸±à¸¥à¸¢à¸à¸£à¸£à¸¡ à¸«à¸£à¸·à¸­à¸à¸²à¸£à¸£à¸±à¸à¸©à¸²à¸—à¸²à¸‡à¸à¸²à¸£à¹à¸žà¸—à¸¢à¹Œà¸­à¸·à¹ˆà¸™ à¹† à¸•à¸²à¸¡à¸—à¸µà¹ˆà¹à¸žà¸—à¸¢à¹Œà¹€à¸«à¹‡à¸™à¸ªà¸¡à¸„à¸§à¸£","à¸‚à¹‰à¸²à¸žà¹€à¸ˆà¹‰à¸²à¸•à¸à¸¥à¸‡à¸¢à¸´à¸™à¸¢à¸­à¸¡à¹ƒà¸«à¹‰à¸—à¸µà¸¡à¹à¸žà¸—à¸¢à¹Œà¹à¸¥à¸°à¸šà¸¸à¸„à¸¥à¸²à¸à¸£à¸—à¸²à¸‡à¸à¸²à¸£à¹à¸žà¸—à¸¢à¹Œ à¸”à¸³à¹€à¸™à¸´à¸™à¸à¸²à¸£à¸•à¸£à¸§à¸ˆà¸§à¸´à¸™à¸´à¸ˆà¸‰à¸±à¸¢ à¸£à¸±à¸à¸©à¸² à¹ƒà¸«à¹‰à¸„à¸³à¸›à¸£à¸¶à¸à¸©à¸² à¸«à¸£à¸·à¸­à¸—à¸³à¸«à¸±à¸•à¸–à¸à¸²à¸£à¸•à¹ˆà¸²à¸‡ à¹† à¸—à¸µà¹ˆà¸ˆà¸³à¹€à¸›à¹‡à¸™ à¸­à¸±à¸™à¸£à¸§à¸¡à¸–à¸¶à¸‡à¹à¸•à¹ˆà¹„à¸¡à¹ˆà¸ˆà¸³à¸à¸±à¸”à¹€à¸žà¸µà¸¢à¸‡ à¸à¸²à¸£à¸‰à¸µà¸”à¸¢à¸², à¸à¸²à¸£à¹€à¸ˆà¸²à¸°à¹€à¸¥à¸·à¸­à¸”, à¸à¸²à¸£à¸—à¸³à¸«à¸±à¸•à¸–à¸à¸²à¸£à¹€à¸¥à¹‡à¸, à¸à¸²à¸£à¸—à¸³à¹€à¸¥à¹€à¸‹à¸­à¸£à¹Œ, à¸à¸²à¸£à¸œà¹ˆà¸²à¸•à¸±à¸”à¹€à¸‰à¸žà¸²à¸°à¸ˆà¸¸à¸” à¹à¸¥à¸°à¸à¸²à¸£à¸£à¸±à¸à¸©à¸²à¹‚à¸”à¸¢à¹€à¸—à¸„à¹‚à¸™à¹‚à¸¥à¸¢à¸µà¸•à¹ˆà¸²à¸‡ à¹† à¸•à¸²à¸¡à¸”à¸¸à¸¥à¸¢à¸žà¸´à¸™à¸´à¸ˆà¸‚à¸­à¸‡à¹à¸žà¸—à¸¢à¹Œ","à¸‚à¹‰à¸²à¸žà¹€à¸ˆà¹‰à¸²à¸£à¸±à¸šà¸—à¸£à¸²à¸šà¸–à¸¶à¸‡à¸œà¸¥à¸¥à¸±à¸žà¸˜à¹Œà¸—à¸µà¹ˆà¸­à¸²à¸ˆà¹€à¸à¸´à¸”à¸‚à¸¶à¹‰à¸™ à¸£à¸§à¸¡à¸–à¸¶à¸‡à¸ à¸²à¸§à¸°à¹à¸—à¸£à¸à¸‹à¹‰à¸­à¸™à¸«à¸£à¸·à¸­à¸„à¸§à¸²à¸¡à¹€à¸ªà¸µà¹ˆà¸¢à¸‡à¸•à¹ˆà¸²à¸‡ à¹† à¸—à¸µà¹ˆà¸­à¸²à¸ˆà¹€à¸à¸´à¸”à¸‚à¸¶à¹‰à¸™à¹„à¸”à¹‰à¸ˆà¸²à¸à¸à¸²à¸£à¸•à¸£à¸§à¸ˆà¸£à¸±à¸à¸©à¸²à¸«à¸£à¸·à¸­à¸«à¸±à¸•à¸–à¸à¸²à¸£à¸”à¸±à¸‡à¸à¸¥à¹ˆà¸²à¸§ à¹à¸¥à¸°à¸‚à¸­à¸¢à¸·à¸™à¸¢à¸±à¸™à¸§à¹ˆà¸²à¹„à¸”à¹‰à¸£à¸±à¸šà¸„à¸³à¸­à¸˜à¸´à¸šà¸²à¸¢à¸ˆà¸²à¸à¸šà¸¸à¸„à¸¥à¸²à¸à¸£à¸—à¸²à¸‡à¸à¸²à¸£à¹à¸žà¸—à¸¢à¹Œà¸­à¸¢à¹ˆà¸²à¸‡à¹€à¸žà¸µà¸¢à¸‡à¸žà¸­à¹à¸¥à¹‰à¸§","à¹ƒà¸™à¸à¸£à¸“à¸µà¹€à¸à¸´à¸”à¹€à¸«à¸•à¸¸à¸à¸²à¸£à¸“à¹Œà¸‰à¸¸à¸à¹€à¸‰à¸´à¸™ à¸‚à¹‰à¸²à¸žà¹€à¸ˆà¹‰à¸²à¸¢à¸´à¸™à¸¢à¸­à¸¡à¹ƒà¸«à¹‰à¸šà¸¸à¸„à¸¥à¸²à¸à¸£à¸—à¸²à¸‡à¸à¸²à¸£à¹à¸žà¸—à¸¢à¹Œà¸”à¸³à¹€à¸™à¸´à¸™à¸à¸²à¸£à¸£à¸±à¸à¸©à¸²à¸­à¸¢à¹ˆà¸²à¸‡à¹€à¸£à¹ˆà¸‡à¸”à¹ˆà¸§à¸™à¸•à¸²à¸¡à¸„à¸§à¸²à¸¡à¹€à¸«à¸¡à¸²à¸°à¸ªà¸¡à¹‚à¸”à¸¢à¹„à¸¡à¹ˆà¸ˆà¸³à¹€à¸›à¹‡à¸™à¸•à¹‰à¸­à¸‡à¸‚à¸­à¸„à¸§à¸²à¸¡à¸¢à¸´à¸™à¸¢à¸­à¸¡à¹€à¸žà¸´à¹ˆà¸¡à¹€à¸•à¸´à¸¡","à¸‚à¹‰à¸²à¸žà¹€à¸ˆà¹‰à¸²à¸£à¸±à¸šà¸—à¸£à¸²à¸šà¸–à¸¶à¸‡à¸ªà¸´à¸—à¸˜à¸´à¹Œà¸‚à¸­à¸‡à¸‚à¹‰à¸²à¸žà¹€à¸ˆà¹‰à¸²à¹ƒà¸™à¸à¸²à¸£à¸‚à¸­à¹€à¸‚à¹‰à¸²à¸–à¸¶à¸‡ à¹à¸à¹‰à¹„à¸‚ à¸«à¸£à¸·à¸­à¹€à¸žà¸´à¸à¸–à¸­à¸™à¸„à¸§à¸²à¸¡à¸¢à¸´à¸™à¸¢à¸­à¸¡à¹ƒà¸™à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ªà¹ˆà¸§à¸™à¸šà¸¸à¸„à¸„à¸¥ à¸•à¸²à¸¡à¸—à¸µà¹ˆà¸à¸Žà¸«à¸¡à¸²à¸¢ PDPA à¸à¸³à¸«à¸™à¸”","à¸‚à¹‰à¸²à¸žà¹€à¸ˆà¹‰à¸²à¹€à¸‚à¹‰à¸²à¹ƒà¸ˆà¹à¸¥à¸°à¸¢à¸´à¸™à¸¢à¸­à¸¡à¸§à¹ˆà¸² à¹€à¸¡à¸·à¹ˆà¸­à¹„à¸”à¹‰à¸¡à¸µà¸à¸²à¸£à¸Šà¸³à¸£à¸°à¹€à¸‡à¸´à¸™à¸¡à¸±à¸”à¸ˆà¸³à¹€à¸žà¸·à¹ˆà¸­à¸¢à¸·à¸™à¸¢à¸±à¸™à¸à¸²à¸£à¸ˆà¸­à¸‡à¸šà¸£à¸´à¸à¸²à¸£à¹à¸¥à¹‰à¸§ à¸ˆà¸°à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸‚à¸­à¸„à¸·à¸™à¹€à¸‡à¸´à¸™à¸¡à¸±à¸”à¸ˆà¸³à¸”à¸±à¸‡à¸à¸¥à¹ˆà¸²à¸§à¹„à¸”à¹‰à¹„à¸¡à¹ˆà¸§à¹ˆà¸²à¸à¸£à¸“à¸µà¹ƒà¸” à¹†","à¸‚à¹‰à¸²à¸žà¹€à¸ˆà¹‰à¸²à¹„à¸”à¹‰à¸­à¹ˆà¸²à¸™à¹à¸¥à¸°à¹€à¸‚à¹‰à¸²à¹ƒà¸ˆà¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¸‚à¹‰à¸²à¸‡à¸•à¹‰à¸™à¹‚à¸”à¸¢à¸Šà¸±à¸”à¹€à¸ˆà¸™à¹à¸¥à¹‰à¸§ à¹à¸¥à¸°à¸¢à¸´à¸™à¸¢à¸­à¸¡à¹‚à¸”à¸¢à¸ªà¸¡à¸±à¸„à¸£à¹ƒà¸ˆ à¹‚à¸”à¸¢à¹„à¸¡à¹ˆà¸¡à¸µà¸à¸²à¸£à¸šà¸±à¸‡à¸„à¸±à¸šà¸«à¸£à¸·à¸­à¸«à¸¥à¸­à¸à¸¥à¸§à¸‡à¹ƒà¸” à¹† à¸—à¸±à¹‰à¸‡à¸ªà¸´à¹‰à¸™","à¸œà¸¹à¹‰à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£à¸‚à¸­à¸£à¸±à¸šà¸£à¸­à¸‡à¸§à¹ˆà¸²à¹„à¸”à¹‰à¹à¸ªà¸”à¸‡à¹€à¸ˆà¸•à¸™à¸²à¹„à¸§à¹‰à¸à¹ˆà¸­à¸™à¹€à¸‚à¹‰à¸²à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£à¸£à¸±à¸à¸©à¸²à¹à¸¥à¸°/à¸«à¸£à¸·à¸­à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£à¹ƒà¸” à¹† à¸à¹‡à¸•à¸²à¸¡ à¸œà¸¹à¹‰à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£à¸«à¸£à¸·à¸­à¸œà¸¹à¹‰à¹à¸—à¸™à¸‚à¸­à¸ªà¸¥à¸°à¸ªà¸´à¸—à¸˜à¸´à¹Œà¸—à¸¸à¸à¸›à¸£à¸°à¹€à¸ à¸—à¸—à¸µà¹ˆà¸ˆà¸°à¹€à¸£à¸µà¸¢à¸à¸£à¹‰à¸­à¸‡à¸„à¹ˆà¸²à¹€à¸ªà¸µà¸¢à¸«à¸²à¸¢à¸«à¸£à¸·à¸­à¸„à¹ˆà¸²à¹ƒà¸Šà¹‰à¸ˆà¹ˆà¸²à¸¢à¹ƒà¸” à¹† à¸ˆà¸²à¸à¸šà¸£à¸´à¸©à¸±à¸—à¸«à¸£à¸·à¸­à¹à¸žà¸—à¸¢à¹Œà¸œà¸¹à¹‰à¹€à¸Šà¸µà¹ˆà¸¢à¸§à¸Šà¸²à¸à¸«à¸£à¸·à¸­à¸œà¸¹à¹‰à¹ƒà¸«à¹‰à¸šà¸£à¸´à¸à¸²à¸£","à¸œà¸¹à¹‰à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£à¸—à¸£à¸²à¸šà¸”à¸µà¸§à¹ˆà¸²à¸à¸²à¸£à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£à¸™à¸µà¹‰à¹€à¸›à¹‡à¸™à¸„à¸§à¸²à¸¡à¸¢à¸´à¸™à¸¢à¸­à¸¡à¹à¸¥à¸°à¸ªà¸¡à¸±à¸„à¸£à¹ƒà¸ˆà¹‚à¸”à¸¢à¹„à¸¡à¹ˆà¹„à¸”à¹‰à¸–à¸¹à¸à¸šà¸±à¸‡à¸„à¸±à¸š à¸«à¸¥à¸­à¸à¸¥à¸§à¸‡ à¸«à¸£à¸·à¸­à¹€à¸‚à¹‰à¸²à¹ƒà¸ˆà¸œà¸´à¸”à¹ƒà¸™à¸ªà¸²à¸£à¸°à¸ªà¸³à¸„à¸±à¸à¸‚à¸­à¸‡à¸‚à¹‰à¸­à¹€à¸—à¹‡à¸ˆà¸ˆà¸£à¸´à¸‡","à¹„à¸¡à¹ˆà¸§à¹ˆà¸²à¸à¸£à¸“à¸µà¹ƒà¸” à¹† à¸œà¸¹à¹‰à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£à¸ˆà¸°à¹„à¸¡à¹ˆà¸šà¸­à¸à¹€à¸¥à¸´à¸à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸šà¸£à¸´à¸à¸²à¸£à¸«à¸£à¸·à¸­à¸‚à¸­à¸„à¸·à¸™à¹€à¸‡à¸´à¸™à¸—à¸µà¹ˆà¸Šà¸³à¸£à¸°à¹„à¸§à¹‰à¹à¸¥à¹‰à¸§","à¸à¸£à¸“à¸µà¸Šà¸³à¸£à¸°à¹€à¸‡à¸´à¸™à¸¡à¸±à¸”à¸ˆà¸³à¹„à¸§à¹‰à¸šà¸²à¸‡à¸ªà¹ˆà¸§à¸™à¹à¸¥à¸°à¸‚à¸²à¸”à¸à¸²à¸£à¸•à¸´à¸”à¸•à¹ˆà¸­à¸«à¸£à¸·à¸­à¹„à¸¡à¹ˆà¹€à¸‚à¹‰à¸²à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£à¹€à¸à¸´à¸™ 6 à¹€à¸”à¸·à¸­à¸™ à¸œà¸¹à¹‰à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£à¸ˆà¸°à¸«à¸¡à¸”à¸­à¸²à¸¢à¸¸à¸à¸²à¸£à¹€à¸›à¹‡à¸™à¸ªà¸¡à¸²à¸Šà¸´à¸ à¸¢à¸à¹€à¸§à¹‰à¸™à¸à¸£à¸“à¸µà¸Šà¸³à¸£à¸°à¹€à¸‡à¸´à¸™à¸„à¸£à¸šà¸–à¹‰à¸§à¸™à¸•à¸²à¸¡à¹‚à¸›à¸£à¹à¸à¸£à¸¡ à¸œà¸¹à¹‰à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£à¸ˆà¸°à¸•à¹‰à¸­à¸‡à¹€à¸‚à¹‰à¸²à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£à¹ƒà¸«à¹‰à¸„à¸£à¸šà¸ à¸²à¸¢à¹ƒà¸™à¸£à¸°à¸¢à¸°à¹€à¸§à¸¥à¸² 2 à¸›à¸µ à¸«à¸²à¸à¹€à¸à¸´à¸™à¸à¸³à¸«à¸™à¸” à¸šà¸£à¸´à¸©à¸±à¸—à¸¡à¸µà¸ªà¸´à¸—à¸˜à¸´à¹Œà¸¢à¸à¹€à¸¥à¸´à¸à¸à¸²à¸£à¹ƒà¸«à¹‰à¸šà¸£à¸´à¸à¸²à¸£à¹‚à¸”à¸¢à¹„à¸¡à¹ˆà¸•à¹‰à¸­à¸‡à¹à¸ˆà¹‰à¸‡à¸¥à¹ˆà¸§à¸‡à¸«à¸™à¹‰à¸²","à¸œà¸¹à¹‰à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£à¸•à¹‰à¸­à¸‡à¸Šà¸³à¸£à¸°à¸„à¹ˆà¸²à¸šà¸£à¸´à¸à¸²à¸£à¹ƒà¸«à¹‰à¸„à¸£à¸šà¸–à¹‰à¸§à¸™à¸•à¸²à¸¡à¸—à¸µà¹ˆà¸•à¸à¸¥à¸‡à¹„à¸§à¹‰ à¸¡à¸´à¸‰à¸°à¸™à¸±à¹‰à¸™à¹‚à¸›à¸£à¹à¸à¸£à¸¡à¸ˆà¸°à¸ªà¸´à¹‰à¸™à¸ªà¸¸à¸”à¸¥à¸‡à¹‚à¸”à¸¢à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´","à¸«à¸²à¸à¸œà¸¹à¹‰à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£à¸Šà¸³à¸£à¸°à¹€à¸‡à¸´à¸™à¹„à¸¡à¹ˆà¸„à¸£à¸šà¸–à¹‰à¸§à¸™ à¸«à¸²à¸à¸¡à¸µà¸à¸²à¸£à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£ à¸šà¸£à¸´à¸©à¸±à¸—à¸ˆà¸°à¸„à¸³à¸™à¸§à¸“à¸«à¸±à¸à¸„à¹ˆà¸²à¹ƒà¸Šà¹‰à¸šà¸£à¸´à¸à¸²à¸£à¸ˆà¸²à¸à¸£à¸²à¸„à¸²à¹€à¸•à¹‡à¸¡ à¸ˆà¸™à¸à¸§à¹ˆà¸²à¸ˆà¸°à¸Šà¸³à¸£à¸°à¸„à¸£à¸šà¹à¸¥à¹‰à¸§à¸ˆà¸¶à¸‡à¸„à¸´à¸”à¸£à¸²à¸„à¸²à¸•à¸²à¸¡à¸ªà¹ˆà¸§à¸™à¸¥à¸”à¸«à¸£à¸·à¸­à¹‚à¸›à¸£à¹‚à¸¡à¸Šà¸±à¹ˆà¸™","à¹‚à¸›à¸£à¹à¸à¸£à¸¡à¸™à¸µà¹‰à¹€à¸›à¹‡à¸™à¹‚à¸›à¸£à¹à¸à¸£à¸¡à¹€à¸‰à¸žà¸²à¸°à¸šà¸¸à¸„à¸„à¸¥ à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹‚à¸­à¸™à¸ªà¸´à¸—à¸˜à¸´à¹Œà¹ƒà¸«à¹‰à¸œà¸¹à¹‰à¸­à¸·à¹ˆà¸™à¹„à¸”à¹‰","à¸à¸£à¸“à¸µà¸¡à¸µà¸›à¸±à¸à¸«à¸²à¸ªà¸¸à¸‚à¸ à¸²à¸žà¸—à¸µà¹ˆà¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹ƒà¸Šà¹‰à¹‚à¸›à¸£à¹à¸à¸£à¸¡à¸•à¹ˆà¸­à¹„à¸”à¹‰ à¸•à¹‰à¸­à¸‡à¹„à¸”à¹‰à¸£à¸±à¸šà¸à¸²à¸£à¸•à¸£à¸§à¸ˆà¹à¸¥à¸°à¸¢à¸·à¸™à¸¢à¸±à¸™à¸ˆà¸²à¸à¹à¸žà¸—à¸¢à¹Œà¹€à¸—à¹ˆà¸²à¸™à¸±à¹‰à¸™ à¸šà¸£à¸´à¸©à¸±à¸—à¸ˆà¸°à¸„à¸·à¸™à¹€à¸‡à¸´à¸™à¹„à¸¡à¹ˆà¹€à¸à¸´à¸™ 70% à¸‚à¸­à¸‡à¸£à¸²à¸„à¸²à¹€à¸•à¹‡à¸¡","à¸œà¸¹à¹‰à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£à¸—à¸£à¸²à¸šà¹à¸¥à¸°à¸•à¸à¸¥à¸‡à¸§à¹ˆà¸²à¸ˆà¸°à¹„à¸¡à¹ˆà¸–à¸·à¸­à¹€à¸­à¸²à¸„à¹ˆà¸²à¹‚à¸†à¸©à¸“à¸² à¸„à¸³à¸Šà¸§à¸™ à¸„à¸³à¹à¸™à¸°à¸™à¸³ à¸«à¸£à¸·à¸­à¸„à¸³à¸šà¸£à¸£à¸¢à¸²à¸¢à¸ªà¸£à¸£à¸žà¸„à¸¸à¸“à¹ƒà¸” à¹† à¸ˆà¸²à¸à¸žà¸™à¸±à¸à¸‡à¸²à¸™à¹€à¸›à¹‡à¸™à¸ªà¹ˆà¸§à¸™à¸«à¸™à¸¶à¹ˆà¸‡à¸‚à¸­à¸‡à¸‚à¹‰à¸­à¸•à¸à¸¥à¸‡ à¸—à¸±à¹‰à¸‡à¸™à¸µà¹‰à¸œà¸¥à¸¥à¸±à¸žà¸˜à¹Œà¸‚à¸¶à¹‰à¸™à¸à¸±à¸šà¸ªà¸¸à¸‚à¸ à¸²à¸žà¸£à¹ˆà¸²à¸‡à¸à¸²à¸¢ à¸ªà¸ à¸²à¸žà¸œà¸´à¸§ à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸¢à¸² à¸ªà¸´à¹ˆà¸‡à¹à¸§à¸”à¸¥à¹‰à¸­à¸¡ à¹à¸¥à¸°à¸žà¸¤à¸•à¸´à¸à¸£à¸£à¸¡à¸‚à¸­à¸‡à¸œà¸¹à¹‰à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£","à¸«à¸²à¸à¸šà¸£à¸´à¸©à¸±à¸—à¸žà¸´à¸ˆà¸²à¸£à¸“à¸²à¸§à¹ˆà¸²à¸ªà¸ à¸²à¸žà¸œà¸´à¸§à¸«à¸£à¸·à¸­à¸£à¹ˆà¸²à¸‡à¸à¸²à¸¢à¸œà¸¹à¹‰à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£à¹„à¸¡à¹ˆà¸žà¸£à¹‰à¸­à¸¡ à¸šà¸£à¸´à¸©à¸±à¸—à¸‚à¸­à¸ªà¸‡à¸§à¸™à¸ªà¸´à¸—à¸˜à¸´à¹Œà¸«à¸¢à¸¸à¸”à¸«à¸£à¸·à¸­à¸¢à¸à¹€à¸¥à¸´à¸à¸šà¸£à¸´à¸à¸²à¸£à¸šà¸²à¸‡à¸ªà¹ˆà¸§à¸™à¸«à¸£à¸·à¸­à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”à¹„à¸”à¹‰à¸—à¸±à¸™à¸—à¸µ","à¸œà¸¹à¹‰à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£à¸¢à¸´à¸™à¸¢à¸­à¸¡à¹ƒà¸«à¹‰à¸•à¸£à¸§à¸ˆà¸ªà¸¸à¸‚à¸ à¸²à¸žà¹à¸¥à¸°à¸—à¸³à¹à¸šà¸šà¸—à¸”à¸ªà¸­à¸šà¸•à¹ˆà¸²à¸‡ à¹† à¸•à¸²à¸¡à¸—à¸µà¹ˆà¸šà¸£à¸´à¸©à¸±à¸—à¸à¸³à¸«à¸™à¸”","à¸œà¸¹à¹‰à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£à¸•à¸à¸¥à¸‡à¸£à¸±à¸šà¸œà¸´à¸”à¸Šà¸­à¸šà¸•à¹ˆà¸­à¸„à¸§à¸²à¸¡à¹€à¸ªà¸µà¸¢à¸«à¸²à¸¢à¸—à¸µà¹ˆà¹€à¸à¸´à¸”à¸‚à¸¶à¹‰à¸™à¸à¸±à¸šà¸—à¸£à¸±à¸žà¸¢à¹Œà¸ªà¸´à¸™à¸‚à¸­à¸‡à¸•à¸™à¹€à¸­à¸‡","à¸œà¸¹à¹‰à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£à¸•à¸à¸¥à¸‡à¸£à¸±à¸šà¸œà¸´à¸”à¸Šà¸­à¸šà¸•à¹ˆà¸­à¸à¸²à¸£à¸à¸£à¸°à¸—à¸³à¹ƒà¸” à¹† à¸—à¸µà¹ˆà¸à¹ˆà¸­à¹ƒà¸«à¹‰à¹€à¸à¸´à¸”à¸„à¸§à¸²à¸¡à¹€à¸ªà¸µà¸¢à¸«à¸²à¸¢à¸•à¹ˆà¸­à¸—à¸£à¸±à¸žà¸¢à¹Œà¸ªà¸´à¸™à¸«à¸£à¸·à¸­à¸Šà¸·à¹ˆà¸­à¹€à¸ªà¸µà¸¢à¸‡à¸‚à¸­à¸‡à¸šà¸£à¸´à¸©à¸±à¸—","à¸šà¸£à¸´à¸©à¸±à¸—à¸¡à¸µà¸ªà¸´à¸—à¸˜à¸´à¹Œà¸«à¸¢à¸¸à¸” à¸£à¸°à¸‡à¸±à¸š à¸«à¸£à¸·à¸­à¸¢à¸à¹€à¸¥à¸´à¸à¸à¸²à¸£à¹ƒà¸«à¹‰à¸šà¸£à¸´à¸à¸²à¸£à¸«à¸²à¸à¸œà¸¹à¹‰à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£à¸¡à¸µà¸žà¸¤à¸•à¸´à¸à¸£à¸£à¸¡à¹„à¸¡à¹ˆà¹€à¸«à¸¡à¸²à¸°à¸ªà¸¡","à¸ªà¸±à¸à¸à¸²à¸™à¸µà¹‰à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸”à¸±à¸”à¹à¸›à¸¥à¸‡ à¹à¸à¹‰à¹„à¸‚ à¸«à¸£à¸·à¸­à¸‚à¸¹à¸”à¸¥à¸šà¹ƒà¸” à¹† à¹€à¸§à¹‰à¸™à¹à¸•à¹ˆà¸¡à¸µà¸‚à¹‰à¸­à¸•à¸à¸¥à¸‡à¹€à¸›à¹‡à¸™à¸¥à¸²à¸¢à¸¥à¸±à¸à¸©à¸“à¹Œà¸­à¸±à¸à¸©à¸£","à¸à¸£à¸“à¸µà¸Šà¸³à¸£à¸°à¸¢à¸­à¸”à¸„à¸‡à¹€à¸«à¸¥à¸·à¸­ à¸œà¸¹à¹‰à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£à¸•à¹‰à¸­à¸‡à¸Šà¸³à¸£à¸°à¸ à¸²à¸¢à¹ƒà¸™ 14 à¸§à¸±à¸™à¸™à¸±à¸šà¸ˆà¸²à¸à¸§à¸±à¸™à¸—à¸µà¹ˆà¸•à¸à¸¥à¸‡à¹ƒà¸Šà¹‰à¸šà¸£à¸´à¸à¸²à¸£","à¸ˆà¸”à¸„à¸·à¸™à¹€à¸‡à¸´à¸™à¸—à¸¸à¸à¸à¸£à¸“à¸µ: No Refund"],I=["PDPA - à¸‚à¹‰à¸²à¸žà¹€à¸ˆà¹‰à¸²à¸¢à¸´à¸™à¸¢à¸­à¸¡à¹ƒà¸«à¹‰à¹‚à¸£à¸‡à¸žà¸¢à¸²à¸šà¸²à¸¥/à¸„à¸¥à¸´à¸™à¸´à¸ à¹€à¸à¹‡à¸š à¸£à¸§à¸šà¸£à¸§à¸¡ à¹ƒà¸Šà¹‰ à¹à¸¥à¸°à¹€à¸›à¸´à¸”à¹€à¸œà¸¢à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ªà¹ˆà¸§à¸™à¸šà¸¸à¸„à¸„à¸¥à¹€à¸žà¸·à¹ˆà¸­à¸§à¸±à¸•à¸–à¸¸à¸›à¸£à¸°à¸ªà¸‡à¸„à¹Œà¹ƒà¸™à¸à¸²à¸£à¹ƒà¸«à¹‰à¸šà¸£à¸´à¸à¸²à¸£à¸—à¸²à¸‡à¸à¸²à¸£à¹à¸žà¸—à¸¢à¹Œ à¹à¸¥à¸°/à¸«à¸£à¸·à¸­à¸à¸²à¸£à¹ƒà¸Šà¹‰à¹€à¸žà¸·à¹ˆà¸­à¸›à¸£à¸°à¹‚à¸¢à¸Šà¸™à¹Œà¸—à¸²à¸‡à¸à¸²à¸£à¹à¸žà¸—à¸¢à¹Œà¸­à¸·à¹ˆà¸™ à¹†","à¸‚à¹‰à¸²à¸žà¹€à¸ˆà¹‰à¸²à¸¢à¸´à¸™à¸¢à¸­à¸¡à¹ƒà¸«à¹‰à¸¡à¸µà¸à¸²à¸£à¸šà¸±à¸™à¸—à¸¶à¸à¸ à¸²à¸žà¸–à¹ˆà¸²à¸¢ à¸§à¸´à¸”à¸µà¹‚à¸­ à¸«à¸£à¸·à¸­à¹€à¸­à¸à¸ªà¸²à¸£à¸—à¸²à¸‡à¸à¸²à¸£à¹à¸žà¸—à¸¢à¹Œà¸—à¸µà¹ˆà¹€à¸à¸µà¹ˆà¸¢à¸§à¸‚à¹‰à¸­à¸‡ à¹€à¸žà¸·à¹ˆà¸­à¸›à¸£à¸°à¸à¸­à¸šà¸à¸²à¸£à¸£à¸±à¸à¸©à¸² à¸•à¸´à¸”à¸•à¸²à¸¡à¸œà¸¥ à¸«à¸£à¸·à¸­à¹ƒà¸Šà¹‰à¹€à¸žà¸·à¹ˆà¸­à¸à¸²à¸£à¸¨à¸¶à¸à¸©à¸² à¸§à¸´à¸ˆà¸±à¸¢ à¸«à¸£à¸·à¸­à¸›à¸£à¸°à¸Šà¸²à¸ªà¸±à¸¡à¸žà¸±à¸™à¸˜à¹Œ (à¹‚à¸”à¸¢à¹„à¸¡à¹ˆà¹€à¸›à¸´à¸”à¹€à¸œà¸¢à¸•à¸±à¸§à¸•à¸™ à¹€à¸§à¹‰à¸™à¹à¸•à¹ˆà¸ˆà¸°à¹„à¸”à¹‰à¸£à¸±à¸šà¸„à¸§à¸²à¸¡à¸¢à¸´à¸™à¸¢à¸­à¸¡à¹€à¸›à¹‡à¸™à¸¥à¸²à¸¢à¸¥à¸±à¸à¸©à¸“à¹Œà¸­à¸±à¸à¸©à¸£à¹€à¸žà¸´à¹ˆà¸¡à¹€à¸•à¸´à¸¡)"],J=["à¸‚à¹‰à¸²à¸žà¹€à¸ˆà¹‰à¸²à¸¢à¸´à¸™à¸¢à¸­à¸¡à¹ƒà¸«à¹‰à¸„à¸¥à¸´à¸™à¸´à¸à¹ƒà¸Šà¹‰à¸ à¸²à¸žà¸–à¹ˆà¸²à¸¢ à¸«à¸£à¸·à¸­à¸§à¸´à¸”à¸µà¹‚à¸­à¸—à¸µà¹ˆà¹€à¸à¸´à¸”à¸‚à¸¶à¹‰à¸™à¸£à¸°à¸«à¸§à¹ˆà¸²à¸‡à¸à¸²à¸£à¸£à¸±à¸à¸©à¸²à¹€à¸žà¸·à¹ˆà¸­à¸›à¸£à¸°à¸à¸­à¸šà¸à¸²à¸£à¸¨à¸¶à¸à¸©à¸²à¸ à¸²à¸¢à¹ƒà¸™à¸«à¸£à¸·à¸­à¸›à¸£à¸°à¸Šà¸²à¸ªà¸±à¸¡à¸žà¸±à¸™à¸˜à¹Œ à¹‚à¸”à¸¢à¹„à¸¡à¹ˆà¸£à¸°à¸šà¸¸à¸Šà¸·à¹ˆà¸­à¸šà¸¸à¸„à¸„à¸¥ à¹à¸¥à¸°à¸‚à¸­à¸ªà¸‡à¸§à¸™à¸ªà¸´à¸—à¸˜à¸´à¹Œà¹ƒà¸™à¸à¸²à¸£à¸‚à¸­à¸„à¸§à¸²à¸¡à¸¢à¸´à¸™à¸¢à¸­à¸¡à¹€à¸žà¸´à¹ˆà¸¡à¹€à¸•à¸´à¸¡à¸«à¸²à¸à¸¡à¸µà¸à¸²à¸£à¹€à¸›à¸´à¸”à¹€à¸œà¸¢à¸•à¸±à¸§à¸•à¸™","à¸‚à¹‰à¸²à¸žà¹€à¸ˆà¹‰à¸²à¸¢à¸´à¸™à¸¢à¸­à¸¡à¸£à¸±à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸›à¸£à¸°à¸Šà¸²à¸ªà¸±à¸¡à¸žà¸±à¸™à¸˜à¹Œà¹€à¸à¸µà¹ˆà¸¢à¸§à¸à¸±à¸šà¸à¸²à¸£à¸£à¸±à¸à¸©à¸² à¸œà¹ˆà¸²à¸™à¸Šà¹ˆà¸­à¸‡à¸—à¸²à¸‡à¸—à¸µà¹ˆà¸„à¸¥à¸´à¸™à¸´à¸à¸à¸³à¸«à¸™à¸” à¹€à¸žà¸·à¹ˆà¸­à¹€à¸›à¹‡à¸™à¸ªà¹ˆà¸§à¸™à¸«à¸™à¸¶à¹ˆà¸‡à¸‚à¸­à¸‡à¸à¸²à¸£à¸•à¸´à¸”à¸•à¸²à¸¡à¸œà¸¥à¸à¸²à¸£à¸£à¸±à¸à¸©à¸²à¸«à¸£à¸·à¸­à¸à¸²à¸£à¹ƒà¸«à¹‰à¸‚à¹ˆà¸²à¸§à¸ªà¸²à¸£à¸ªà¸³à¸„à¸±à¸"],K=["à¸¢à¸­à¸¡à¸£à¸±à¸š","à¹„à¸¡à¹ˆà¸¢à¸­à¸¡à¸£à¸±à¸š"],L=new Intl.NumberFormat("th-TH",{minimumFractionDigits:2,maximumFractionDigits:2}),M=a=>Number.isFinite(a)?L.format(a):"0.00",N=a=>Number.isFinite(a)?a.toFixed(2):"",O=a=>{let b=a.trim();if(!b)return 0;let c=Number(b);return Number.isFinite(c)?c:0},P=a=>{if(null==a)return 0;if("number"==typeof a&&Number.isFinite(a))return a;let b=Number(a);return Number.isFinite(b)?b:0},Q=a=>{if(null==a)return 0;let b="number"==typeof a?a:Number(a);return Number.isFinite(b)?b:0},R=a=>(Number.isFinite(a.salesprice)?a.salesprice:0)+O(a.chargePrice)-O(a.discountPrice),S=[{key:"record_no",label:"Record No",readOnly:!0},{key:"code",label:"Code",readOnly:!0},{key:"appoint_code",label:"Appoint Code",readOnly:!0},{key:"register_date",label:"à¸§à¸±à¸™à¸—à¸µà¹ˆà¸¥à¸‡à¸—à¸°à¹€à¸šà¸µà¸¢à¸™",type:"date"},{key:"start_date",label:"à¸§à¸±à¸™à¸™à¸±à¸”",type:"datetime-local"},{key:"end_date",label:"à¸„à¸£à¸šà¸à¸³à¸«à¸™à¸”",type:"datetime-local"},{key:"prefix",label:"à¸„à¸³à¸™à¸³à¸«à¸™à¹‰à¸²"},{key:"name",label:"à¸Šà¸·à¹ˆà¸­"},{key:"surname",label:"à¸™à¸²à¸¡à¸ªà¸à¸¸à¸¥"},{key:"nickname",label:"à¸Šà¸·à¹ˆà¸­à¹€à¸¥à¹ˆà¸™"},{key:"display_name",label:"à¸Šà¸·à¹ˆà¸­à¸—à¸µà¹ˆà¹à¸ªà¸”à¸‡",placeholder:"à¹€à¸Šà¹ˆà¸™ à¸Šà¸·à¹ˆà¸­à¸—à¸µà¹ˆà¸¥à¸¹à¸à¸„à¹‰à¸²à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¹ƒà¸«à¹‰à¹à¸ªà¸”à¸‡"},{key:"mobilephone",label:"à¹€à¸šà¸­à¸£à¹Œà¸¡à¸·à¸­à¸–à¸·à¸­",type:"tel"},{key:"email",label:"à¸­à¸µà¹€à¸¡à¸¥"},{key:"activity",label:"à¸à¸´à¸ˆà¸à¸£à¸£à¸¡"},{key:"note",label:"à¸«à¸¡à¸²à¸¢à¹€à¸«à¸•à¸¸",type:"textarea",fullWidth:!0},{key:"doctor_code",label:"à¸£à¸«à¸±à¸ªà¸«à¸¡à¸­"},{key:"doctor_name",label:"à¸Šà¸·à¹ˆà¸­à¸«à¸¡à¸­"},{key:"dest_code",label:"à¸£à¸«à¸±à¸ªà¸ˆà¸¸à¸”à¸«à¸¡à¸²à¸¢"},{key:"dest_name",label:"à¸Šà¸·à¹ˆà¸­à¸ˆà¸¸à¸”à¸«à¸¡à¸²à¸¢"},{key:"organize",label:"à¸«à¸™à¹ˆà¸§à¸¢à¸‡à¸²à¸™"},{key:"bind_code",label:"à¸£à¸«à¸±à¸ª Bind"},{key:"bind_date",label:"à¸§à¸±à¸™à¸—à¸µà¹ˆ Bind",type:"date"},{key:"id_all",label:"ID à¸¥à¸¹à¸à¸„à¹‰à¸²",readOnly:!0}],T=S.reduce((a,b)=>(a[b.key]=b,a),{}),U=a=>{if(null==a||""===a)return"-";let b="number"==typeof a?a:String(a),c=new Date(b);return Number.isNaN(c.getTime())?("string"==typeof b?b:String(b)).replace("T"," ").split(".")[0]:new Intl.DateTimeFormat("th-TH",{dateStyle:"medium",timeStyle:"short"}).format(c)},V=(a,b)=>a.appoint_code?`code-${a.appoint_code}`:void 0!==a.record_no&&null!==a.record_no?`record-${a.record_no}`:`history-${b}`,W=[{title:"à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸à¸²à¸£à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢",fields:["register_date","start_date","end_date","bind_date"],columns:"grid-cols-1 md:grid-cols-3"},{title:"à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸œà¸¹à¹‰à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£",fields:["prefix","name","surname","nickname","display_name","mobilephone","email","id_all"],columns:"grid-cols-1 md:grid-cols-2"},{title:"à¸£à¸²à¸¢à¸¥à¸°à¹€à¸­à¸µà¸¢à¸”à¹€à¸žà¸´à¹ˆà¸¡à¹€à¸•à¸´à¸¡",fields:["activity","note","doctor_code","doctor_name","dest_code","dest_name","organize","bind_code"],columns:"grid-cols-1 md:grid-cols-2"}],X=()=>S.reduce((a,b)=>(a[b.key]="",a),{}),Y=({value:a,onChange:d})=>{let e=(0,c.useRef)(null),f=(0,c.useRef)(null),g=(0,c.useRef)(!1),[h,i]=(0,c.useState)(!1),j=(0,c.useCallback)(()=>{let a=e.current;a&&d(a.toDataURL("image/png"))},[d]),k=(0,c.useCallback)(()=>{let a=e.current,b=f.current;a&&b&&(b.clearRect(0,0,a.width,a.height),d(""))},[d]),l=(0,c.useCallback)(()=>{let b=f.current,c=e.current;if(!b||!c||(b.clearRect(0,0,c.width,c.height),!a))return;let d=new Image;d.crossOrigin="anonymous",d.onload=()=>{b.drawImage(d,0,0,c.width,c.height)},d.src=a},[a]);(0,c.useEffect)(()=>{let a=e.current;if(!a)return;let b=a.getContext("2d");if(!b)return;let c=Math.max(1,window.devicePixelRatio||1),d=a.clientWidth||400;a.width=d*c,a.height=150*c,a.style.width="100%",a.style.height="150px",b.scale(c,c),b.lineCap="round",b.lineJoin="round",b.lineWidth=1.8,b.strokeStyle="#4c1d95",f.current=b,i(!0)},[]),(0,c.useEffect)(()=>{h&&l()},[l,h]);let m=a=>{let b=e.current;if(!b)return{x:0,y:0};let c=b.getBoundingClientRect();return{x:a.clientX-c.left,y:a.clientY-c.top}},n=()=>{g.current&&(g.current=!1,j())};return(0,b.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-3",children:[(0,b.jsx)("canvas",{ref:e,className:"w-full touch-none",onPointerDown:a=>{a.preventDefault();let b=f.current;if(!b)return;let{x:c,y:d}=m(a);g.current=!0,b.beginPath(),b.moveTo(c,d)},onPointerMove:a=>{if(!g.current)return;let b=f.current;if(!b)return;let{x:c,y:d}=m(a);b.lineTo(c,d),b.stroke()},onPointerUp:n,onPointerLeave:n}),(0,b.jsxs)("div",{className:"mt-2 flex items-center justify-between",children:[(0,b.jsx)("button",{type:"button",onClick:k,className:"rounded-lg border border-slate-300 px-3 py-1 text-xs font-semibold text-slate-600 transition hover:border-slate-400",children:"à¸¥à¹‰à¸²à¸‡à¸¥à¸²à¸¢à¹€à¸‹à¹‡à¸™"}),(0,b.jsx)("span",{className:"text-[11px] text-slate-500",children:"à¸¥à¸‡à¸Šà¸·à¹ˆà¸­à¸”à¹‰à¸§à¸¢à¹€à¸¡à¸²à¸ªà¹Œà¸«à¸£à¸·à¸­à¸ªà¸±à¸¡à¸œà¸±à¸ª"})]})]})},Z=({isOpen:a,onClose:d,customerData:e,onSave:f})=>{var g;let[h,i]=(0,c.useState)({}),[k,l]=(0,c.useState)("contact"),[u,v]=(0,c.useState)([]),[w,y]=(0,c.useState)([]),[z,A]=(0,c.useState)([]),[C,L]=(0,c.useState)([]),[Z,$]=(0,c.useState)([]),[_,aa]=(0,c.useState)(!1),[ab,ac]=(0,c.useState)(!1),[ad,ae]=(0,c.useState)(!1),[af,ag]=(0,c.useState)(!1),[ah,ai]=(0,c.useState)(!1),[aj,ak]=(0,c.useState)(X),[al,am]=(0,c.useState)(!1),[an,ao]=(0,c.useState)(null),[ap,aq]=(0,c.useState)([]),[ar,as]=(0,c.useState)(!1),[at,au]=(0,c.useState)(null),[av,aw]=(0,c.useState)(null),[ax,ay]=(0,c.useState)(null),az=(0,c.useRef)({}),[aA,aB]=(0,c.useState)([]),[aC,aD]=(0,c.useState)([]),[aE,aF]=(0,c.useState)([]),[aG,aH]=(0,c.useState)(null),[aI,aJ]=(0,c.useState)(null),[aK,aL]=(0,c.useState)(null),[aM,aN]=(0,c.useState)(!1),[aO,aP]=(0,c.useState)(null),aQ=a=>null==a?"":("string"==typeof a?a:String(a)).trim(),aR=(0,c.useMemo)(()=>{for(let a of["id_all","id","à¸£à¸«à¸±à¸ªà¸¥à¸¹à¸à¸„à¹‰à¸²","customer_code"])if(a in h){let b=aQ(h[a]);if(b)return b}return""},[h]),aS=(0,c.useMemo)(()=>{for(let a of["id_all","idAll","id"])if(a in h){let b=aQ(h[a]);if(b)return b}return""},[h]),aT=(0,c.useMemo)(()=>{for(let a of["à¸Šà¸·à¹ˆà¸­","customer_name","displayName"])if(a in h){let b=aQ(h[a]);if(b)return b}return""},[h]),aU=(0,c.useMemo)(()=>{for(let a of["à¸£à¸«à¸±à¸ªà¸¥à¸¹à¸à¸„à¹‰à¸²","customer_code"])if(a in h){let b=aQ(h[a]);if(b)return b}return""},[h]),[aV,aW]=(0,c.useState)([]),[aX,aY]=(0,c.useState)(!1),[aZ,a$]=(0,c.useState)(""),[a_,a0]=(0,c.useState)([]),[a1,a2]=(0,c.useState)(!1),[a3,a4]=(0,c.useState)(null),[a5,a6]=(0,c.useState)(""),[a7,a8]=(0,c.useState)([]),a9=(0,c.useRef)(null),[ba,bb]=(0,c.useState)([]),[bc,bd]=(0,c.useState)(!1),[be,bf]=(0,c.useState)(null),[bg,bh]=(0,c.useState)(!1),[bi,bj]=(0,c.useState)(!1),[bk,bl]=(0,c.useState)(null),[bm,bn]=(0,c.useState)(F()),[bo,bp]=(0,c.useState)(E[0].key),[bq,br]=(0,c.useState)(!1),[bs,bt]=(0,c.useState)(null),[bu,bv]=(0,c.useState)(!1),[bw,bx]=(0,c.useState)(""),[by,bz]=(0,c.useState)({isOpen:!1,type:"success",title:"",message:""}),bA=async()=>{try{let a=await fetch("/api/status-options"),b=await a.json();b.success&&b.data?v(b.data):v([{value:"à¸•à¸´à¸”à¸•à¸²à¸¡à¸•à¹ˆà¸­à¹€à¸™à¸·à¹ˆà¸­à¸‡",label:"à¸•à¸´à¸”à¸•à¸²à¸¡à¸•à¹ˆà¸­à¹€à¸™à¸·à¹ˆà¸­à¸‡",color:"#FFD700"},{value:"à¸›à¸´à¸”à¸à¸²à¸£à¸‚à¸²à¸¢",label:"à¸›à¸´à¸”à¸à¸²à¸£à¸‚à¸²à¸¢",color:"#90EE90"},{value:"à¸¢à¸à¹€à¸¥à¸´à¸",label:"à¸¢à¸à¹€à¸¥à¸´à¸",color:"#FFB6C1"},{value:"à¸£à¸­à¸•à¸­à¸šà¸à¸¥à¸±à¸š",label:"à¸£à¸­à¸•à¸­à¸šà¸à¸¥à¸±à¸š",color:"#87CEEB"},{value:"à¹„à¸”à¹‰à¸™à¸±à¸” Consult",label:"à¹„à¸”à¹‰à¸™à¸±à¸” Consult",color:"#FFA500"},{value:"à¹„à¸”à¹‰à¸™à¸±à¸”à¸œà¹ˆà¸²à¸•à¸±à¸”",label:"à¹„à¸”à¹‰à¸™à¸±à¸”à¸œà¹ˆà¸²à¸•à¸±à¸”",color:"#FF6347"},{value:"à¸œà¹ˆà¸²à¸•à¸±à¸”à¹à¸¥à¹‰à¸§",label:"à¸œà¹ˆà¸²à¸•à¸±à¸”à¹à¸¥à¹‰à¸§",color:"#32CD32"}])}catch(a){console.error("Error fetching status options:",a),v([{value:"à¸•à¸´à¸”à¸•à¸²à¸¡à¸•à¹ˆà¸­à¹€à¸™à¸·à¹ˆà¸­à¸‡",label:"à¸•à¸´à¸”à¸•à¸²à¸¡à¸•à¹ˆà¸­à¹€à¸™à¸·à¹ˆà¸­à¸‡",color:"#FFD700"},{value:"à¸›à¸´à¸”à¸à¸²à¸£à¸‚à¸²à¸¢",label:"à¸›à¸´à¸”à¸à¸²à¸£à¸‚à¸²à¸¢",color:"#90EE90"},{value:"à¸¢à¸à¹€à¸¥à¸´à¸",label:"à¸¢à¸à¹€à¸¥à¸´à¸",color:"#FFB6C1"},{value:"à¸£à¸­à¸•à¸­à¸šà¸à¸¥à¸±à¸š",label:"à¸£à¸­à¸•à¸­à¸šà¸à¸¥à¸±à¸š",color:"#87CEEB"},{value:"à¹„à¸”à¹‰à¸™à¸±à¸” Consult",label:"à¹„à¸”à¹‰à¸™à¸±à¸” Consult",color:"#FFA500"},{value:"à¹„à¸”à¹‰à¸™à¸±à¸”à¸œà¹ˆà¸²à¸•à¸±à¸”",label:"à¹„à¸”à¹‰à¸™à¸±à¸”à¸œà¹ˆà¸²à¸•à¸±à¸”",color:"#FF6347"},{value:"à¸œà¹ˆà¸²à¸•à¸±à¸”à¹à¸¥à¹‰à¸§",label:"à¸œà¹ˆà¸²à¸•à¸±à¸”à¹à¸¥à¹‰à¸§",color:"#32CD32"}])}},bB=async()=>{try{let a=await fetch("/api/source-options"),b=await a.json();b.success&&b.data?y(b.data):y([{value:"Facebook",label:"Facebook"},{value:"Instagram",label:"Instagram"},{value:"Google Ads",label:"Google Ads"},{value:"Line",label:"Line"},{value:"Walk-in",label:"Walk-in"},{value:"Referral",label:"Referral"}])}catch(a){console.error("Error fetching source options:",a),y([{value:"Facebook",label:"Facebook"},{value:"Instagram",label:"Instagram"},{value:"Google Ads",label:"Google Ads"},{value:"Line",label:"Line"},{value:"Walk-in",label:"Walk-in"},{value:"Referral",label:"Referral"}])}},bC=async()=>{try{let a=await fetch("/api/product-options"),b=await a.json();b.success&&b.data?A(b.data):A([{value:"à¸•à¸µà¸•à¸±à¸§à¹„à¸¥à¹ˆà¸•à¸±à¸§",label:"à¸•à¸µà¸•à¸±à¸§à¹„à¸¥à¹ˆà¸•à¸±à¸§"},{value:"Sub brow lift",label:"Sub brow lift"},{value:"à¹à¸à¹‰à¸•à¸²à¸«à¸¡à¸·à¹ˆà¸­à¸•à¸­à¸™à¹à¸¥à¸°à¹à¸à¹‰à¸§",label:"à¹à¸à¹‰à¸•à¸²à¸«à¸¡à¸·à¹ˆà¸­à¸•à¸­à¸™à¹à¸¥à¸°à¹à¸à¹‰à¸§"},{value:"à¸•à¸²à¸ªà¸­à¸‡à¸Šà¸±à¹‰à¸™",label:"à¸•à¸²à¸ªà¸­à¸‡à¸Šà¸±à¹‰à¸™"},{value:"à¹€à¸ªà¸£à¸´à¸¡à¸ˆà¸¡à¸¹à¸",label:"à¹€à¸ªà¸£à¸´à¸¡à¸ˆà¸¡à¸¹à¸"},{value:"à¹à¸à¹‰à¸ˆà¸¡à¸¹à¸",label:"à¹à¸à¹‰à¸ˆà¸¡à¸¹à¸"},{value:"à¹€à¸ªà¸£à¸´à¸¡à¸•à¸²à¸‚à¸²à¸§",label:"à¹€à¸ªà¸£à¸´à¸¡à¸•à¸²à¸‚à¸²à¸§"},{value:"à¸¥à¸´à¸Ÿà¸«à¸™à¹‰à¸²",label:"à¸¥à¸´à¸Ÿà¸«à¸™à¹‰à¸²"},{value:"Skin",label:"Skin"}])}catch(a){console.error("Error fetching product options:",a),A([{value:"à¸•à¸µà¸•à¸±à¸§à¹„à¸¥à¹ˆà¸•à¸±à¸§",label:"à¸•à¸µà¸•à¸±à¸§à¹„à¸¥à¹ˆà¸•à¸±à¸§"},{value:"Sub brow lift",label:"Sub brow lift"},{value:"à¹à¸à¹‰à¸•à¸²à¸«à¸¡à¸·à¹ˆà¸­à¸•à¸­à¸™à¹à¸¥à¸°à¹à¸à¹‰à¸§",label:"à¹à¸à¹‰à¸•à¸²à¸«à¸¡à¸·à¹ˆà¸­à¸•à¸­à¸™à¹à¸¥à¸°à¹à¸à¹‰à¸§"},{value:"à¸•à¸²à¸ªà¸­à¸‡à¸Šà¸±à¹‰à¸™",label:"à¸•à¸²à¸ªà¸­à¸‡à¸Šà¸±à¹‰à¸™"},{value:"à¹€à¸ªà¸£à¸´à¸¡à¸ˆà¸¡à¸¹à¸",label:"à¹€à¸ªà¸£à¸´à¸¡à¸ˆà¸¡à¸¹à¸"},{value:"à¹à¸à¹‰à¸ˆà¸¡à¸¹à¸",label:"à¹à¸à¹‰à¸ˆà¸¡à¸¹à¸"},{value:"à¹€à¸ªà¸£à¸´à¸¡à¸•à¸²à¸‚à¸²à¸§",label:"à¹€à¸ªà¸£à¸´à¸¡à¸•à¸²à¸‚à¸²à¸§"},{value:"à¸¥à¸´à¸Ÿà¸«à¸™à¹‰à¸²",label:"à¸¥à¸´à¸Ÿà¸«à¸™à¹‰à¸²"},{value:"Skin",label:"Skin"}])}},bD=async()=>{try{let a=await fetch("/api/country-options"),b=await a.json();b.success&&b.data?L(b.data):L([{value:"à¹„à¸—à¸¢",label:"à¹„à¸—à¸¢"},{value:"à¸ˆà¸µà¸™",label:"à¸ˆà¸µà¸™"},{value:"à¸à¸µà¹ˆà¸›à¸¸à¹ˆà¸™",label:"à¸à¸µà¹ˆà¸›à¸¸à¹ˆà¸™"},{value:"à¹€à¸à¸²à¸«à¸¥à¸µ",label:"à¹€à¸à¸²à¸«à¸¥à¸µ"},{value:"à¸ªà¸´à¸‡à¸„à¹‚à¸›à¸£à¹Œ",label:"à¸ªà¸´à¸‡à¸„à¹‚à¸›à¸£à¹Œ"},{value:"à¸¡à¸²à¹€à¸¥à¹€à¸‹à¸µà¸¢",label:"à¸¡à¸²à¹€à¸¥à¹€à¸‹à¸µà¸¢"},{value:"à¸­à¸·à¹ˆà¸™à¹†",label:"à¸­à¸·à¹ˆà¸™à¹†"}])}catch(a){console.error("Error fetching country options:",a),L([{value:"à¹„à¸—à¸¢",label:"à¹„à¸—à¸¢"},{value:"à¸ˆà¸µà¸™",label:"à¸ˆà¸µà¸™"},{value:"à¸à¸µà¹ˆà¸›à¸¸à¹ˆà¸™",label:"à¸à¸µà¹ˆà¸›à¸¸à¹ˆà¸™"},{value:"à¹€à¸à¸²à¸«à¸¥à¸µ",label:"à¹€à¸à¸²à¸«à¸¥à¸µ"},{value:"à¸ªà¸´à¸‡à¸„à¹‚à¸›à¸£à¹Œ",label:"à¸ªà¸´à¸‡à¸„à¹‚à¸›à¸£à¹Œ"},{value:"à¸¡à¸²à¹€à¸¥à¹€à¸‹à¸µà¸¢",label:"à¸¡à¸²à¹€à¸¥à¹€à¸‹à¸µà¸¢"},{value:"à¸­à¸·à¹ˆà¸™à¹†",label:"à¸­à¸·à¹ˆà¸™à¹†"}])}},bE=async()=>{try{let a=await fetch("/api/contact-person-options"),b=await a.json();b.success&&b.data?$(b.data):$([{value:"à¸§à¹ˆà¸²à¸™",label:"à¸§à¹ˆà¸²à¸™"},{value:"à¸ˆà¸µà¸™",label:"à¸ˆà¸µà¸™"},{value:"à¸ªà¸²",label:"à¸ªà¸²"},{value:"à¹€à¸ˆ",label:"à¹€à¸ˆ"},{value:"à¸žà¸´à¸”à¸¢à¸²",label:"à¸žà¸´à¸”à¸¢à¸²"},{value:"à¸¡à¸¸à¸",label:"à¸¡à¸¸à¸"}])}catch(a){console.error("Error fetching contact person options:",a),$([{value:"à¸§à¹ˆà¸²à¸™",label:"à¸§à¹ˆà¸²à¸™"},{value:"à¸ˆà¸µà¸™",label:"à¸ˆà¸µà¸™"},{value:"à¸ªà¸²",label:"à¸ªà¸²"},{value:"à¹€à¸ˆ",label:"à¹€à¸ˆ"},{value:"à¸žà¸´à¸”à¸¢à¸²",label:"à¸žà¸´à¸”à¸¢à¸²"},{value:"à¸¡à¸¸à¸",label:"à¸¡à¸¸à¸"}])}},bF=async()=>{aY(!0);try{let a=await fetch("/api/b-item-groups"),b=await a.json();if(!a.ok||!1===b.success)throw Error(b.error||"à¹„à¸¡à¹ˆà¸žà¸šà¸à¸¥à¸¸à¹ˆà¸¡à¸‚à¸²à¸¢ OPD");aW(Array.isArray(b.data)?b.data:[])}catch(a){console.error("Error fetching OPD groups:",a)}finally{aY(!1)}},bG=async a=>{if(!a)return void a0([]);a9.current=a,a2(!0),a4(null),a0([]);try{let b=await fetch(`/api/b-item-services?groupCode=${encodeURIComponent(a)}`),c=await b.json();if(!b.ok||!1===c.success)throw Error(c.error||"à¹„à¸¡à¹ˆà¸žà¸šà¸£à¸²à¸¢à¸à¸²à¸£à¸šà¸£à¸´à¸à¸²à¸£");if(a9.current!==a)return;let d=Array.isArray(c.data)?c.data.map(a=>({...a,saleprice:Q(a.saleprice)})):[];a0(d)}catch(b){if(a9.current!==a)return;a4(b?.message||"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹‚à¸«à¸¥à¸”à¸£à¸²à¸¢à¸à¸²à¸£à¸šà¸£à¸´à¸à¸²à¸£à¹„à¸”à¹‰")}finally{a9.current===a&&a2(!1)}},bH=(0,c.useCallback)(async a=>{bd(!0),bf(null);try{let b=await fetch(`/api/b-saleitem?code=${encodeURIComponent(a)}`),c=await b.json();if(!b.ok||!1===c.success)throw Error(c.error||"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹‚à¸«à¸¥à¸”à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸šà¸£à¸´à¸à¸²à¸£à¹„à¸”à¹‰");bb(Array.isArray(c.data)?c.data:[])}catch(a){bb([]),bf(a?.message||"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹‚à¸«à¸¥à¸”à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸šà¸£à¸´à¸à¸²à¸£à¹„à¸”à¹‰")}finally{bd(!1)}},[]),bI=()=>{ag(!1),a6(""),a4(null)},bJ=()=>{bj(!1)},bK=(0,c.useCallback)(async()=>{if(aS){br(!0),bt(null),bn(F());try{let a=await fetch(`/api/consent-forms?id_all=${encodeURIComponent(aS)}`),b=await a.json();if(!a.ok||!1===b.success)throw Error(b.error||"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹‚à¸«à¸¥à¸” Consent form à¹„à¸”à¹‰");let c=F();Array.isArray(b.data)&&b.data.forEach(a=>{let b=(a=>{if(!a)return null;let b=a.toString().trim().toLowerCase();if(!b)return null;if("patient"===b||b.includes("à¸œà¸¹à¹‰à¸£à¸±à¸š"))return"patient";if("provider"===b||b.includes("à¸œà¸¹à¹‰à¹ƒà¸«à¹‰"))return"provider";let c=E.find(a=>a.key===b);return c?c.key:null})(a.part);if(!b)return;let d=a=>null==a?"":String(a);c[b]={weight:d(a.weight_kg??a.weight),height:d(a.height_cm??a.height),hasChronic:!!(a.has_chronic_disease??a.has_chronic??a.hasChronic),chronicDiseaseDetail:a.chronic_disease_detail||a.chronicDiseaseDetail||"",hasDrugAllergy:!!(a.has_drug_allergy??a.hasDrugAllergy),drugAllergyDetail:a.drug_allergy_detail||a.drugAllergyDetail||"",signatureUrl:a.signature_url||a.signatureUrl||"",medicalConsent:a.medical_consent||a.medicalConsent||"",acceptPdpa:a.accept_pdpa||a.acceptPdpa||"",acceptMedia:a.accept_media||a.acceptMedia||""}}),bn(c)}catch(a){console.error("Error fetching consent data:",a),bt(a?.message||"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹‚à¸«à¸¥à¸” Consent form à¹„à¸”à¹‰")}finally{br(!1)}}},[aR]);(0,c.useEffect)(()=>{af&&aR&&bH(aR)},[af,aR,bH]),(0,c.useEffect)(()=>{ad&&(bp(E[0].key),bK())},[ad,bK]);let bL=(a,b)=>{bn(c=>({...c,[a]:{...c[a],...b}}))},bM=(a,b,c)=>{let d={[b]:c};"hasChronic"!==b||c||(d.chronicDiseaseDetail=""),"hasDrugAllergy"!==b||c||(d.drugAllergyDetail=""),bL(a,d)},bN=async()=>{if(!aS)return void bz({isOpen:!0,type:"error",title:"à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹„à¸¡à¹ˆà¸„à¸£à¸š",message:"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸šà¸±à¸™à¸—à¸¶à¸ Consent à¹„à¸”à¹‰ à¹€à¸žà¸£à¸²à¸°à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸£à¸¹à¹‰à¸ˆà¸±à¸à¸¥à¸¹à¸à¸„à¹‰à¸²"});bv(!0);try{let a,b={code:aS,idAll:aS,createdBy:bw||null,sections:E.map(a=>{let b=bm[a.key];return{part:a.key,weight:b.weight,height:b.height,hasChronic:b.hasChronic,chronicDiseaseDetail:b.chronicDiseaseDetail,hasDrugAllergy:b.hasDrugAllergy,drugAllergyDetail:b.drugAllergyDetail,signatureUrl:b.signatureUrl,medicalConsent:b.medicalConsent||null,acceptPdpa:b.acceptPdpa||null,acceptMedia:b.acceptMedia||null}})},c=await fetch("/api/consent-forms",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});try{a=await c.json()}catch(b){let a=await c.text();throw Error(a||b.message||"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸­à¹ˆà¸²à¸™à¸œà¸¥à¸¥à¸±à¸žà¸˜à¹Œà¸ˆà¸²à¸à¹€à¸‹à¸´à¸£à¹Œà¸Ÿà¹€à¸§à¸­à¸£à¹Œ")}if(!c.ok||!1===a.success)throw Error(a.error||"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸šà¸±à¸™à¸—à¸¶à¸ Consent à¹„à¸”à¹‰");bz({isOpen:!0,type:"success",title:"à¸šà¸±à¸™à¸—à¸¶à¸ Consent à¹à¸¥à¹‰à¸§",message:a.message||"Consent form à¸–à¸¹à¸à¸šà¸±à¸™à¸—à¸¶à¸à¹€à¸£à¸µà¸¢à¸šà¸£à¹‰à¸­à¸¢à¹à¸¥à¹‰à¸§"}),await bK()}catch(a){bz({isOpen:!0,type:"error",title:"à¸šà¸±à¸™à¸—à¸¶à¸à¹„à¸¡à¹ˆà¸ªà¸³à¹€à¸£à¹‡à¸ˆ",message:a?.message||"à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”à¹ƒà¸™à¸à¸²à¸£à¸šà¸±à¸™à¸—à¸¶à¸ Consent"})}finally{bv(!1)}},bO=async()=>{if(!aR)return bz({isOpen:!0,type:"error",title:"à¸£à¸«à¸±à¸ªà¸¥à¸¹à¸à¸„à¹‰à¸²à¹„à¸¡à¹ˆà¸„à¸£à¸š",message:"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸šà¸±à¸™à¸—à¸¶à¸à¸šà¸£à¸´à¸à¸²à¸£à¹„à¸”à¹‰ à¹€à¸žà¸£à¸²à¸°à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µà¸£à¸«à¸±à¸ªà¸”à¸¶à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸¥à¸¹à¸à¸„à¹‰à¸²"}),!1;if(0===a7.length)return bz({isOpen:!0,type:"error",title:"à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µà¸šà¸£à¸´à¸à¸²à¸£",message:"à¸à¸£à¸¸à¸“à¸²à¹€à¸¥à¸·à¸­à¸à¸šà¸£à¸´à¸à¸²à¸£à¸à¹ˆà¸­à¸™à¸šà¸±à¸™à¸—à¸¶à¸à¸¥à¸‡ b_saleitem"}),!1;bh(!0);try{let a,b,c=bk??(a=Math.floor(90*Math.random()+10),b=Math.floor(9e3*Math.random()+1e3),`Ex${a}-${b}`),d={code:aR,saleCode:aU||null,displayName:aT||null,receiptNo:c,services:a7.map(a=>({itemCode:a.itemcode,itemName:a.itemname,unitSale:a.salesprice,netAmount:R(a),saleType:a.saleType||"20"}))},e=await fetch("/api/b-saleitem",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)}),f=await e.json();if(!e.ok||!1===f.success)throw Error(f.error||"à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”à¹ƒà¸™à¸à¸²à¸£à¸šà¸±à¸™à¸—à¸¶à¸à¸šà¸£à¸´à¸à¸²à¸£");return bz({isOpen:!0,type:"success",title:"à¸šà¸±à¸™à¸—à¸¶à¸à¸šà¸£à¸´à¸à¸²à¸£ OPD à¹à¸¥à¹‰à¸§",message:f.message||`à¸šà¸±à¸™à¸—à¸¶à¸ ${f.insertedCount??a7.length} à¸£à¸²à¸¢à¸à¸²à¸£à¸¥à¸‡ b_saleitem à¹à¸¥à¹‰à¸§`}),bl(c),aR&&bH(aR),!0}catch(a){return bz({isOpen:!0,type:"error",title:"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸šà¸±à¸™à¸—à¸¶à¸à¸šà¸£à¸´à¸à¸²à¸£à¹„à¸”à¹‰",message:a?.message||"à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”à¹ƒà¸™à¸à¸²à¸£à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­à¸à¸±à¸šà¹€à¸‹à¸´à¸£à¹Œà¸Ÿà¹€à¸§à¸­à¸£à¹Œ à¸à¸£à¸¸à¸“à¸²à¸¥à¸­à¸‡à¹ƒà¸«à¸¡à¹ˆ"}),!1}finally{bh(!1)}},bP=async()=>{await bO()&&bI()},bQ=(a,b)=>{a8(c=>c.map(c=>c.id===a?b(c):c))},bR=(0,c.useMemo)(()=>aV.find(a=>a.groupcode===aZ)??null,[aV,aZ]),bS=(0,c.useMemo)(()=>a7.reduce((a,b)=>{let c=Number.isFinite(b.salesprice)?b.salesprice:0,d=O(b.chargePrice),e=O(b.discountPrice);return a.baseTotal+=c,a.chargeTotal+=d,a.discountTotal+=e,a.netTotal+=c+d-e,a},{baseTotal:0,chargeTotal:0,discountTotal:0,netTotal:0}),[a7]),bT=(0,c.useMemo)(()=>ba.reduce((a,b)=>{let c=P(b?.amount);return a.total+=Number.isFinite(c)?c:0,a.count+=1,a},{count:0,total:0}),[ba]),bU=bm[bo],bV=(0,c.useMemo)(()=>{if(!a5.trim())return a_;let a=a5.trim().toLowerCase();return a_.filter(b=>b.itemname.toLowerCase().includes(a)||b.itemcode.toLowerCase().includes(a))},[a_,a5]);(0,c.useEffect)(()=>{console.log("ðŸ“‹ EditCustomerModal - isOpen:",a,"initialData:",e),e&&i({...e}),a&&(bA(),bB(),bC(),bD(),bE())},[e,a]),(0,c.useEffect)(()=>{try{let a=localStorage.getItem("user");if(a){let b=JSON.parse(a),c=b?.name||b?.username||b?.email||"";bx(c)}}catch(a){console.error("Failed to load logged in user info",a)}},[]);let bW=(0,c.useCallback)((a,b)=>{i(c=>({...c,[a]:b}))},[]),bX=(0,c.useCallback)((a,b)=>{ak(c=>({...c,[a]:b}))},[]),bY=(0,c.useCallback)(()=>{let a=new Date().toISOString().split("T")[0];ak({...X(),...az.current,register_date:az.current.register_date||a,bind_date:az.current.bind_date||a}),ay(null),aw(null),ao(null)},[]),bZ=(0,c.useCallback)(()=>{bY()},[bY]),b$=(0,c.useCallback)(async()=>{if(!aS){aq([]),au("à¹„à¸¡à¹ˆà¸žà¸š ID à¸¥à¸¹à¸à¸„à¹‰à¸²à¸ªà¸³à¸«à¸£à¸±à¸šà¸›à¸£à¸°à¸§à¸±à¸•à¸´");return}as(!0),au(null);try{let a=await fetch(`/api/appointments?id_all=${encodeURIComponent(aS)}`),b=await a.json();if(!a.ok||!1===b.success)throw Error(b.error||"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹‚à¸«à¸¥à¸”à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢à¹„à¸”à¹‰");aq(Array.isArray(b.data)?b.data:[])}catch(a){aq([]),au(a?.message||"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹‚à¸«à¸¥à¸”à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢à¹„à¸”à¹‰")}finally{as(!1)}},[aS]),b_=(0,c.useCallback)((a,b)=>{let c={};S.forEach(b=>{let d=a[b.key];c[b.key]=null==d?"":String(d)}),c.id_all||(c.id_all=aS),ak({...X(),...c}),ay(a.appoint_code?String(a.appoint_code):null),aw(b),ao(null)},[aS]);(0,c.useEffect)(()=>{if(!ab||(aP(null),aA.length&&aC.length&&aE.length))return;let a=!1;return aN(!0),B().then(b=>{a||(aB(b.provinces),aD(b.districts),aF(b.subdistricts))}).catch(b=>{a||aP(b?.message||"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹‚à¸«à¸¥à¸”à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸—à¸µà¹ˆà¸­à¸¢à¸¹à¹ˆà¹„à¸”à¹‰")}).finally(()=>{a||aN(!1)}),()=>{a=!0}},[ab,aA.length,aC.length,aE.length]),(0,c.useEffect)(()=>{let a=new Date().toISOString().split("T")[0];az.current={id_all:aS,display_name:aT,prefix:h.prefix||"",name:h.name||h["à¸Šà¸·à¹ˆà¸­"]||"",surname:h.surname||"",nickname:h.nickname||"",mobilephone:h.mobilephone||h.phone||"",email:h.email||"",activity:h.activity||"",note:h.note||"",register_date:az.current.register_date||a,bind_date:az.current.bind_date||a}},[aS,aT,h]),(0,c.useEffect)(()=>{ah&&(b$(),bY())},[ah,b$,bY]);let b0=h.province||"",b1=h.amphur||"",b2=h.tumbon||"";(0,c.useEffect)(()=>{if(!aA.length||!b0)return void aH(null);let a=aA.find(a=>D(a,b0));aH(a?a.id:null)},[aA,b0]),(0,c.useEffect)(()=>{if(!aC.length||!aG||!b1)return void aJ(null);let a=aC.find(a=>a.province_id===aG&&D(a,b1));aJ(a?a.id:null)},[aC,aG,b1]),(0,c.useEffect)(()=>{if(!aE.length||!aI||!b2)return void aL(null);let a=aE.find(a=>a.district_id===aI&&D(a,b2));aL(a?a.id:null)},[aE,aI,b2]),(0,c.useEffect)(()=>{ab&&!h.country&&bW("country","Thailand")},[ab,h.country,bW]);let b3=(0,c.useMemo)(()=>aA.map(a=>({id:a.id,label:`${a.name_th} (${a.name_en})`})),[aA]),b4=(0,c.useMemo)(()=>aG?aC.filter(a=>a.province_id===aG).map(a=>({id:a.id,label:`${a.name_th} (${a.name_en})`})):[],[aC,aG]),b5=(0,c.useMemo)(()=>aI?aE.filter(a=>a.district_id===aI).map(a=>({id:a.id,label:`${a.name_th} (${a.name_en})`})):[],[aE,aI]),b6=a=>{if(!a){aH(null),aJ(null),aL(null),bW("province",""),bW("amphur",""),bW("tumbon",""),bW("zipcode","");return}let b=Number(a);if(!Number.isFinite(b))return;let c=aA.find(a=>a.id===b);aH(b),aJ(null),aL(null),bW("province",c?.name_th||c?.name_en||""),bW("amphur",""),bW("tumbon",""),bW("zipcode","")},b7=a=>{if(!a){aJ(null),aL(null),bW("amphur",""),bW("tumbon",""),bW("zipcode","");return}let b=Number(a);if(!Number.isFinite(b))return;let c=aC.find(a=>a.id===b);aJ(b),aL(null),bW("amphur",c?.name_th||c?.name_en||""),bW("tumbon",""),bW("zipcode","")},b8=a=>{if(!a){aL(null),bW("tumbon",""),bW("zipcode","");return}let b=Number(a);if(!Number.isFinite(b))return;let c=aE.find(a=>a.id===b);aL(b),bW("tumbon",c?.name_th||c?.name_en||""),bW("zipcode",c?.zip_code!==null&&c?.zip_code!==void 0?String(c.zip_code):"")},b9=async a=>{if(!_){aa(!0);try{let b=await fetch("/api/customer-data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"update",data:h})}),c=await b.json(),e=a?.autoClose!==!1;c.success?(a?.onSuccess?.(),bz({isOpen:!0,type:"success",title:"âœ¨ à¸šà¸±à¸™à¸—à¸¶à¸à¸ªà¸³à¹€à¸£à¹‡à¸ˆ!",message:"à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸¥à¸¹à¸à¸„à¹‰à¸²à¹„à¸”à¹‰à¸£à¸±à¸šà¸à¸²à¸£à¸­à¸±à¸›à¹€à¸”à¸•à¹€à¸£à¸µà¸¢à¸šà¸£à¹‰à¸­à¸¢à¹à¸¥à¹‰à¸§"}),setTimeout(()=>{bz(a=>({...a,isOpen:!1})),e&&setTimeout(()=>{f(h),d()},300)},2e3)):(bz({isOpen:!0,type:"error",title:"âŒ à¸šà¸±à¸™à¸—à¸¶à¸à¹„à¸¡à¹ˆà¸ªà¸³à¹€à¸£à¹‡à¸ˆ!",message:c.error||"à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”à¹ƒà¸™à¸à¸²à¸£à¸šà¸±à¸™à¸—à¸¶à¸à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ à¸à¸£à¸¸à¸“à¸²à¸¥à¸­à¸‡à¹ƒà¸«à¸¡à¹ˆà¸­à¸µà¸à¸„à¸£à¸±à¹‰à¸‡"}),setTimeout(()=>{bz(a=>({...a,isOpen:!1}))},3e3))}catch(a){bz({isOpen:!0,type:"error",title:"âŒ à¸šà¸±à¸™à¸—à¸¶à¸à¹„à¸¡à¹ˆà¸ªà¸³à¹€à¸£à¹‡à¸ˆ!",message:"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­à¸à¸±à¸šà¹€à¸‹à¸´à¸£à¹Œà¸Ÿà¹€à¸§à¸­à¸£à¹Œà¹„à¸”à¹‰ à¸à¸£à¸¸à¸“à¸²à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸à¸²à¸£à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­à¸­à¸´à¸™à¹€à¸—à¸­à¸£à¹Œà¹€à¸™à¹‡à¸•"}),setTimeout(()=>{bz(a=>({...a,isOpen:!1}))},3e3)}finally{aa(!1)}}},ca=async()=>{if(al)return;let a=Object.entries(aj).reduce((a,[b,c])=>{let d="string"==typeof c?c.trim():c;return""!==d&&null!=d&&(a[b]=d),a},{});delete a.record_no;let b=a.id_all||aS||az.current.id_all;if(b&&(a.id_all=b),!a.id_all)return void ao("à¸•à¹‰à¸­à¸‡à¹€à¸¥à¸·à¸­à¸à¸œà¸¹à¹‰à¸£à¸±à¸šà¸šà¸£à¸´à¸à¸²à¸£à¸à¹ˆà¸­à¸™à¸šà¸±à¸™à¸—à¸¶à¸à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢");am(!0),ao(null);try{let b=!!ax,c=b?`/api/appointments/${encodeURIComponent(ax)}`:"/api/appointments",d=await fetch(c,{method:b?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:a})}),e=await d.json();if(!d.ok||!1===e.success)throw Error(e.error||"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸šà¸±à¸™à¸—à¸¶à¸à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢à¹„à¸”à¹‰");bz({isOpen:!0,type:"success",title:b?"à¹à¸à¹‰à¹„à¸‚à¹€à¸£à¸µà¸¢à¸šà¸£à¹‰à¸­à¸¢":"à¸šà¸±à¸™à¸—à¸¶à¸à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢à¹à¸¥à¹‰à¸§",message:b?"à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸à¸²à¸£à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢à¹„à¸”à¹‰à¸£à¸±à¸šà¸à¸²à¸£à¸­à¸±à¸›à¹€à¸”à¸•à¹ƒà¸™ bjh_appointment":"à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢à¸–à¸¹à¸à¸ªà¹ˆà¸‡à¹„à¸›à¸¢à¸±à¸‡ bjh_appointment à¹€à¸£à¸µà¸¢à¸šà¸£à¹‰à¸­à¸¢"}),bY(),b$()}catch(a){ao(a?.message||"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸šà¸±à¸™à¸—à¸¶à¸à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢à¹„à¸”à¹‰")}finally{am(!1)}};if(console.log("ðŸŽ¨ EditCustomerModal render - isOpen:",a),!a)return null;let cb=a=>{if(!a)return"";let b=new Date(a);return isNaN(b.getTime())?"":b.toISOString().split("T")[0]};return(0,b.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fadeIn",children:[(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-h-[90vh] overflow-hidden w-full max-w-4xl animate-slideUp transform transition-all",children:[(0,b.jsxs)("div",{className:"sticky top-0 bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-500 z-10 shadow-lg",children:[(0,b.jsx)("div",{className:"absolute top-3 right-3",children:(0,b.jsx)("button",{onClick:d,className:"p-2 hover:bg-white hover:bg-opacity-20 rounded-xl transition-all duration-200 group",children:(0,b.jsx)(j.X,{className:"w-5 h-5 text-white group-hover:rotate-90 transition-transform duration-200"})})}),(0,b.jsxs)("div",{className:"flex justify-center items-center gap-1 sm:gap-2 px-4 py-4",children:[(0,b.jsxs)("button",{onClick:()=>l("contact"),className:`flex flex-col sm:flex-row items-center justify-center gap-1 px-3 sm:px-4 py-2 sm:py-2.5 ${"contact"===k?"bg-white/30 shadow-inner":"bg-white/10 hover:bg-white/20"} text-white rounded-xl transition-all duration-200 min-w-[60px] sm:min-w-[80px]`,title:"Contact Information",children:[(0,b.jsx)(t.User,{className:"w-5 h-5"}),(0,b.jsx)("span",{className:"text-xs sm:text-sm font-medium hidden sm:block",children:"Contact"})]}),(0,b.jsxs)("button",{onClick:()=>l("opd"),className:`flex flex-col sm:flex-row items-center justify-center gap-1 px-3 sm:px-4 py-2 sm:py-2.5 ${"opd"===k?"bg-white/30 shadow-inner":"bg-white/10 hover:bg-white/20"} text-white rounded-xl transition-all duration-200 min-w-[60px] sm:min-w-[80px]`,title:"OPD",children:[(0,b.jsx)(p.FileText,{className:"w-5 h-5"}),(0,b.jsx)("span",{className:"text-xs sm:text-sm font-medium hidden sm:block",children:"OPD"})]}),(0,b.jsxs)("button",{onClick:()=>l("consent"),className:`flex flex-col sm:flex-row items-center justify-center gap-1 px-3 sm:px-4 py-2 sm:py-2.5 ${"consent"===k?"bg-white/30 shadow-inner":"bg-white/10 hover:bg-white/20"} text-white rounded-xl transition-all duration-200 min-w-[60px] sm:min-w-[80px]`,title:"Consent",children:[(0,b.jsx)(q,{className:"w-5 h-5"}),(0,b.jsx)("span",{className:"text-xs sm:text-sm font-medium hidden sm:block",children:"Consent"})]}),(0,b.jsxs)("button",{onClick:()=>{l("service"),ag(!0),a4(null),0===aV.length&&bF(),aZ&&bG(aZ)},className:`flex flex-col sm:flex-row items-center justify-center gap-1 px-3 sm:px-4 py-2 sm:py-2.5 ${"service"===k?"bg-white/30 shadow-inner":"bg-white/10 hover:bg-white/20"} text-white rounded-xl transition-all duration-200 min-w-[60px] sm:min-w-[80px] relative`,title:"à¸šà¸£à¸´à¸à¸²à¸£",children:[(0,b.jsx)(r.Briefcase,{className:"w-5 h-5"}),(0,b.jsx)("span",{className:"text-xs sm:text-sm font-medium hidden sm:block",children:"à¸šà¸£à¸´à¸à¸²à¸£"}),a7.length>0&&(0,b.jsx)("span",{className:"absolute -top-1 -right-1 bg-emerald-400 text-white text-xs w-5 h-5 flex items-center justify-center rounded-full",children:a7.length})]}),(0,b.jsxs)("button",{onClick:()=>l("appointment"),className:`flex flex-col sm:flex-row items-center justify-center gap-1 px-3 sm:px-4 py-2 sm:py-2.5 ${"appointment"===k?"bg-white/30 shadow-inner":"bg-white/10 hover:bg-white/20"} text-white rounded-xl transition-all duration-200 min-w-[60px] sm:min-w-[80px]`,title:"à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢",children:[(0,b.jsx)(s.Calendar,{className:"w-5 h-5"}),(0,b.jsx)("span",{className:"text-xs sm:text-sm font-medium hidden sm:block",children:"à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢"})]})]})]}),(0,b.jsxs)("div",{className:"overflow-y-auto",style:{maxHeight:"calc(90vh - 180px)"},children:["contact"===k&&(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-cyan-50 to-blue-50 rounded-xl p-6 border border-cyan-100 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)("div",{className:"w-1 h-6 bg-gradient-to-b from-cyan-500 to-blue-500 rounded-full"}),(0,b.jsx)("h2",{className:"text-lg font-bold bg-gradient-to-r from-cyan-600 to-blue-600 bg-clip-text text-transparent",children:"à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ªà¹ˆà¸§à¸™à¸•à¸±à¸§"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸ªà¸–à¸²à¸™à¸°"}),(0,b.jsxs)("select",{value:h.status||h["à¸ªà¸–à¸²à¸™à¸°"]||"",onChange:a=>bW("status",a.target.value),className:"w-full px-4 py-3 border-2 border-cyan-200 bg-white rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-transparent outline-none cursor-pointer",children:[(0,b.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸à¸ªà¸–à¸²à¸™à¸°"}),u.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))]})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸„à¸³à¸™à¸³à¸«à¸™à¹‰à¸²"}),(0,b.jsxs)("select",{value:h.prefix||"",onChange:a=>bW("prefix",a.target.value),className:"w-full px-4 py-3 border-2 border-cyan-200 bg-white rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-transparent outline-none cursor-pointer",children:[(0,b.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸à¸„à¸³à¸™à¸³à¸«à¸™à¹‰à¸²"}),(0,b.jsx)("option",{value:"à¸™à¸²à¸¢",children:"à¸™à¸²à¸¢"}),(0,b.jsx)("option",{value:"à¸™à¸²à¸‡",children:"à¸™à¸²à¸‡"}),(0,b.jsx)("option",{value:"à¸™à¸²à¸‡à¸ªà¸²à¸§",children:"à¸™à¸²à¸‡à¸ªà¸²à¸§"}),(0,b.jsx)("option",{value:"Mr.",children:"Mr."}),(0,b.jsx)("option",{value:"Mrs.",children:"Mrs."}),(0,b.jsx)("option",{value:"Ms.",children:"Ms."})]})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸Šà¸·à¹ˆà¸­ *"}),(0,b.jsx)("input",{type:"text",value:h.name||h["à¸Šà¸·à¹ˆà¸­"]||"",onChange:a=>bW("name",a.target.value),className:"w-full px-4 py-3 border-2 border-cyan-200 bg-white rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-transparent outline-none",placeholder:"à¸à¸£à¸­à¸à¸Šà¸·à¹ˆà¸­"})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸™à¸²à¸¡à¸ªà¸à¸¸à¸¥"}),(0,b.jsx)("input",{type:"text",value:h.surname||"",onChange:a=>bW("surname",a.target.value),className:"w-full px-4 py-3 border-2 border-cyan-200 bg-white rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-transparent outline-none",placeholder:"à¸à¸£à¸­à¸à¸™à¸²à¸¡à¸ªà¸à¸¸à¸¥"})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸Šà¸·à¹ˆà¸­à¹€à¸¥à¹ˆà¸™"}),(0,b.jsx)("input",{type:"text",value:h.nickname||"",onChange:a=>bW("nickname",a.target.value),className:"w-full px-4 py-3 border-2 border-cyan-200 bg-white rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-transparent outline-none",placeholder:"à¸à¸£à¸­à¸à¸Šà¸·à¹ˆà¸­à¹€à¸¥à¹ˆà¸™"})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¹€à¸žà¸¨"}),(0,b.jsxs)("select",{value:h.gender||"",onChange:a=>bW("gender",a.target.value),className:"w-full px-4 py-3 border-2 border-cyan-200 bg-white rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-transparent outline-none cursor-pointer",children:[(0,b.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸à¹€à¸žà¸¨"}),(0,b.jsx)("option",{value:"à¸Šà¸²à¸¢",children:"à¸Šà¸²à¸¢"}),(0,b.jsx)("option",{value:"à¸«à¸à¸´à¸‡",children:"à¸«à¸à¸´à¸‡"}),(0,b.jsx)("option",{value:"à¸­à¸·à¹ˆà¸™à¹†",children:"à¸­à¸·à¹ˆà¸™à¹†"})]})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸•à¸´à¸”à¸”à¸²à¸§"}),(0,b.jsxs)("button",{type:"button",onClick:()=>bW("star_flag","à¸•à¸´à¸”à¸”à¸²à¸§"===h.star_flag?"":"à¸•à¸´à¸”à¸”à¸²à¸§"),className:"w-full px-4 py-3 border-2 border-cyan-200 bg-white rounded-xl hover:border-cyan-300 transition-all duration-200 flex items-center justify-center gap-2",children:[(0,b.jsx)(o.Star,{className:`w-6 h-6 ${"à¸•à¸´à¸”à¸”à¸²à¸§"===h.star_flag?"fill-yellow-400 text-yellow-400":"text-gray-400"}`}),(0,b.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"à¸•à¸´à¸”à¸”à¸²à¸§"===h.star_flag?"à¸•à¸´à¸”à¸”à¸²à¸§à¹à¸¥à¹‰à¸§":"à¸„à¸¥à¸´à¸à¹€à¸žà¸·à¹ˆà¸­à¸•à¸´à¸”à¸”à¸²à¸§"})]})]})]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 rounded-xl p-6 border border-indigo-100 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)("div",{className:"w-1 h-6 bg-gradient-to-b from-indigo-500 to-purple-500 rounded-full"}),(0,b.jsx)("h2",{className:"text-lg font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸•à¸´à¸”à¸•à¹ˆà¸­"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¹€à¸šà¸­à¸£à¹Œà¹‚à¸—à¸£"}),(0,b.jsx)("input",{type:"tel",value:h.phone||h["à¹€à¸šà¸­à¸£à¹Œà¹‚à¸—à¸£"]||"",onChange:a=>bW("phone",a.target.value),className:"w-full px-4 py-3 border-2 border-indigo-200 bg-white rounded-xl focus:ring-2 focus:ring-indigo-400 focus:border-transparent outline-none",placeholder:"à¸à¸£à¸­à¸à¹€à¸šà¸­à¸£à¹Œà¹‚à¸—à¸£"})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸­à¸µà¹€à¸¡à¸¥"}),(0,b.jsx)("input",{type:"email",value:h.email||"",onChange:a=>bW("email",a.target.value),className:"w-full px-4 py-3 border-2 border-indigo-200 bg-white rounded-xl focus:ring-2 focus:ring-indigo-400 focus:border-transparent outline-none",placeholder:"à¸à¸£à¸­à¸à¸­à¸µà¹€à¸¡à¸¥"})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¹„à¸¥à¸™à¹Œà¹„à¸­à¸”à¸µ"}),(0,b.jsx)("input",{type:"text",value:h.lineid||"",onChange:a=>bW("lineid",a.target.value),className:"w-full px-4 py-3 border-2 border-indigo-200 bg-white rounded-xl focus:ring-2 focus:ring-indigo-400 focus:border-transparent outline-none",placeholder:"à¸à¸£à¸­à¸à¹„à¸¥à¸™à¹Œà¹„à¸­à¸”à¸µ"})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¹€à¸Ÿà¸ªà¸šà¸¸à¹Šà¸„"}),(0,b.jsx)("input",{type:"text",value:h.facebook||"",onChange:a=>bW("facebook",a.target.value),className:"w-full px-4 py-3 border-2 border-indigo-200 bg-white rounded-xl focus:ring-2 focus:ring-indigo-400 focus:border-transparent outline-none",placeholder:"à¸à¸£à¸­à¸à¹€à¸Ÿà¸ªà¸šà¸¸à¹Šà¸„"})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸›à¸£à¸°à¹€à¸—à¸¨"}),(0,b.jsxs)("select",{value:h.country||h["à¸›à¸£à¸°à¹€à¸—à¸¨"]||"",onChange:a=>bW("country",a.target.value),className:"w-full px-4 py-3 border-2 border-indigo-200 bg-white rounded-xl focus:ring-2 focus:ring-indigo-400 focus:border-transparent outline-none cursor-pointer",children:[(0,b.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸à¸›à¸£à¸°à¹€à¸—à¸¨"}),C.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))]})]})]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-emerald-50 to-teal-50 rounded-xl p-6 border border-emerald-100 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)("div",{className:"w-1 h-6 bg-gradient-to-b from-emerald-500 to-teal-500 rounded-full"}),(0,b.jsx)("h2",{className:"text-lg font-bold bg-gradient-to-r from-emerald-600 to-teal-600 bg-clip-text text-transparent",children:"à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸˜à¸¸à¸£à¸à¸´à¸ˆ"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¹à¸«à¸¥à¹ˆà¸‡à¸—à¸µà¹ˆà¸¡à¸²"}),(0,b.jsxs)("select",{value:h.source||h["  à¹à¸«à¸¥à¹ˆà¸‡à¸—à¸µà¹ˆà¸¡à¸²"]||"",onChange:a=>bW("source",a.target.value),className:"w-full px-4 py-3 border-2 border-emerald-200 bg-white rounded-xl focus:ring-2 focus:ring-emerald-400 focus:border-transparent outline-none cursor-pointer",children:[(0,b.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸à¹à¸«à¸¥à¹ˆà¸‡à¸—à¸µà¹ˆà¸¡à¸²"}),w.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))]})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸œà¸¥à¸´à¸•à¸ à¸±à¸“à¸‘à¹Œà¸—à¸µà¹ˆà¸ªà¸™à¹ƒà¸ˆ"}),(0,b.jsxs)("select",{value:h.interested_product||h[" à¸œà¸¥à¸´à¸•à¸ à¸±à¸“à¸‘à¹Œà¸—à¸µà¹ˆà¸ªà¸™à¹ƒà¸ˆ"]||"",onChange:a=>bW("interested_product",a.target.value),className:"w-full px-4 py-3 border-2 border-emerald-200 bg-white rounded-xl focus:ring-2 focus:ring-emerald-400 focus:border-transparent outline-none cursor-pointer",children:[(0,b.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸à¸œà¸¥à¸´à¸•à¸ à¸±à¸“à¸‘à¹Œ"}),z.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))]})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸œà¸¹à¹‰à¸•à¸´à¸”à¸•à¹ˆà¸­"}),(0,b.jsxs)("select",{value:h.contact_staff||h["à¸œà¸¹à¹‰à¸•à¸´à¸”à¸•à¹ˆà¸­"]||"",onChange:a=>bW("contact_staff",a.target.value),className:"w-full px-4 py-3 border-2 border-emerald-200 bg-white rounded-xl focus:ring-2 focus:ring-emerald-400 focus:border-transparent outline-none cursor-pointer",children:[(0,b.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸à¸œà¸¹à¹‰à¸•à¸´à¸”à¸•à¹ˆà¸­"}),Z.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))]})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸¢à¸­à¸”à¸™à¸³à¹€à¸ªà¸™à¸­"}),(0,b.jsx)("input",{type:"number",value:h.proposed_amount||h["à¸¢à¸­à¸”à¸™à¸³à¹€à¸ªà¸™à¸­"]||"",onChange:a=>bW("proposed_amount",a.target.value),className:"w-full px-4 py-3 border-2 border-emerald-200 bg-white rounded-xl focus:ring-2 focus:ring-emerald-400 focus:border-transparent outline-none",placeholder:"à¸à¸£à¸­à¸à¸¢à¸­à¸”à¸™à¸³à¹€à¸ªà¸™à¸­"})]})]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-cyan-50 to-blue-50 rounded-xl p-6 border border-cyan-100 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)("div",{className:"w-1 h-6 bg-gradient-to-b from-cyan-500 to-blue-500 rounded-full"}),(0,b.jsx)("h2",{className:"text-lg font-bold bg-gradient-to-r from-cyan-600 to-blue-600 bg-clip-text text-transparent",children:"à¸§à¸±à¸™à¸—à¸µà¹ˆà¸•à¸´à¸”à¸•à¸²à¸¡"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"group",children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,b.jsx)("span",{children:"ðŸ“…"})," à¸§à¸±à¸™à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸Šà¸·à¹ˆà¸­ à¹€à¸šà¸­à¸£à¹Œ"]}),(0,b.jsx)("input",{type:"date",value:cb(h.got_contact_date||h["à¸§à¸±à¸™à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸Šà¸·à¹ˆà¸­ à¹€à¸šà¸­à¸£à¹Œ "]),onChange:a=>bW("got_contact_date",a.target.value),className:"w-full px-4 py-3 border-2 border-cyan-200 bg-white rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-transparent outline-none cursor-pointer"})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,b.jsx)("span",{children:"ðŸ“…"})," à¸§à¸±à¸™à¸—à¸µà¹ˆà¸•à¸´à¸”à¸•à¸²à¸¡à¸„à¸£à¸±à¹‰à¸‡à¸¥à¹ˆà¸²à¸ªà¸¸à¸”"]}),(0,b.jsx)("input",{type:"date",value:cb(h.last_followup||h["à¸§à¸±à¸™à¸—à¸µà¹ˆà¸•à¸´à¸”à¸•à¸²à¸¡à¸„à¸£à¸±à¹‰à¸‡à¸¥à¹ˆà¸²à¸ªà¸¸à¸”"]),onChange:a=>bW("last_followup",a.target.value),className:"w-full px-4 py-3 border-2 border-cyan-200 bg-white rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-transparent outline-none cursor-pointer"})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,b.jsx)("span",{children:"ðŸ“…"})," à¸§à¸±à¸™à¸—à¸µà¹ˆà¸•à¸´à¸”à¸•à¸²à¸¡à¸„à¸£à¸±à¹‰à¸‡à¸–à¸±à¸”à¹„à¸›"]}),(0,b.jsx)("input",{type:"date",value:cb(h.next_followup||h["à¸§à¸±à¸™à¸—à¸µà¹ˆà¸•à¸´à¸”à¸•à¸²à¸¡à¸„à¸£à¸±à¹‰à¸‡à¸–à¸±à¸”à¹„à¸›"]),onChange:a=>bW("next_followup",a.target.value),className:"w-full px-4 py-3 border-2 border-cyan-200 bg-white rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-transparent outline-none cursor-pointer"})]})]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-violet-50 rounded-xl p-6 border border-purple-100 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)("div",{className:"w-1 h-6 bg-gradient-to-b from-purple-500 to-violet-500 rounded-full"}),(0,b.jsx)("h2",{className:"text-lg font-bold bg-gradient-to-r from-purple-600 to-violet-600 bg-clip-text text-transparent",children:"à¸§à¸±à¸™à¸—à¸µà¹ˆ Consult"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"group",children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,b.jsx)("span",{children:"ðŸ“…"})," à¸§à¸±à¸™à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸™à¸±à¸” consult"]}),(0,b.jsx)("input",{type:"date",value:cb(h.booked_consult_date||h["à¸§à¸±à¸™à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸™à¸±à¸” consult"]),onChange:a=>bW("booked_consult_date",a.target.value),className:"w-full px-4 py-3 border-2 border-purple-200 bg-white rounded-xl focus:ring-2 focus:ring-purple-400 focus:border-transparent outline-none cursor-pointer"})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,b.jsx)("span",{children:"ðŸ“…"})," à¸§à¸±à¸™à¸—à¸µà¹ˆ Consult"]}),(0,b.jsx)("input",{type:"date",value:cb(h.consult_date||h["  à¸§à¸±à¸™à¸—à¸µà¹ˆ Consult"]),onChange:a=>bW("consult_date",a.target.value),className:"w-full px-4 py-3 border-2 border-purple-200 bg-white rounded-xl focus:ring-2 focus:ring-purple-400 focus:border-transparent outline-none cursor-pointer"})]})]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-rose-50 to-pink-50 rounded-xl p-6 border border-rose-100 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)("div",{className:"w-1 h-6 bg-gradient-to-b from-rose-500 to-pink-500 rounded-full"}),(0,b.jsx)("h2",{className:"text-lg font-bold bg-gradient-to-r from-rose-600 to-pink-600 bg-clip-text text-transparent",children:"à¸§à¸±à¸™à¸—à¸µà¹ˆà¸œà¹ˆà¸²à¸•à¸±à¸”"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"group",children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,b.jsx)("span",{children:"ðŸ“…"})," à¸§à¸±à¸™à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸™à¸±à¸”à¸œà¹ˆà¸²à¸•à¸±à¸”"]}),(0,b.jsx)("input",{type:"date",value:cb(h.booked_surgery_date||h["à¸§à¸±à¸™à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸™à¸±à¸”à¸œà¹ˆà¸²à¸•à¸±à¸”"]),onChange:a=>bW("booked_surgery_date",a.target.value),className:"w-full px-4 py-3 border-2 border-rose-200 bg-white rounded-xl focus:ring-2 focus:ring-rose-400 focus:border-transparent outline-none cursor-pointer"})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,b.jsx)("span",{children:"ðŸ“…"})," à¸§à¸±à¸™à¸—à¸µà¹ˆà¸œà¹ˆà¸²à¸•à¸±à¸”"]}),(0,b.jsx)("input",{type:"date",value:cb(h.surgery_date||h["à¸§à¸±à¸™à¸—à¸µà¹ˆà¸œà¹ˆà¸²à¸•à¸±à¸”"]),onChange:a=>bW("surgery_date",a.target.value),className:"w-full px-4 py-3 border-2 border-rose-200 bg-white rounded-xl focus:ring-2 focus:ring-rose-400 focus:border-transparent outline-none cursor-pointer"})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,b.jsx)("span",{children:"â°"})," à¹€à¸§à¸¥à¸²à¸—à¸µà¹ˆà¸™à¸±à¸”"]}),(0,b.jsx)("input",{type:"time",value:(g=h.appointment_time||h["à¹€à¸§à¸¥à¸²à¸—à¸µà¹ˆà¸™à¸±à¸”"])?"string"==typeof g&&g.match(/^\d{2}:\d{2}/)?g.substring(0,5):g:"",onChange:a=>bW("appointment_time",a.target.value),className:"w-full px-4 py-3 border-2 border-rose-200 bg-white rounded-xl focus:ring-2 focus:ring-rose-400 focus:border-transparent outline-none cursor-pointer"})]})]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-amber-50 to-yellow-50 rounded-xl p-6 border border-amber-100 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)("div",{className:"w-1 h-6 bg-gradient-to-b from-amber-500 to-yellow-500 rounded-full"}),(0,b.jsx)("h2",{className:"text-lg font-bold bg-gradient-to-r from-amber-600 to-yellow-600 bg-clip-text text-transparent",children:"à¸«à¸¡à¸²à¸¢à¹€à¸«à¸•à¸¸"})]}),(0,b.jsx)("textarea",{value:h.note||h["à¸«à¸¡à¸²à¸¢à¹€à¸«à¸•à¸¸"]||"",onChange:a=>bW("note",a.target.value),className:"w-full px-4 py-3 border-2 border-amber-200 bg-white rounded-xl focus:ring-2 focus:ring-amber-400 focus:border-transparent outline-none min-h-[120px] resize-none",placeholder:"ðŸ“ à¸žà¸´à¸¡à¸žà¹Œà¸«à¸¡à¸²à¸¢à¹€à¸«à¸•à¸¸..."})]})]}),"opd"===k&&(0,b.jsx)("div",{className:"p-6 space-y-6",children:(0,b.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-100 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)("div",{className:"w-1 h-6 bg-gradient-to-b from-blue-500 to-indigo-500 rounded-full"}),(0,b.jsx)("h2",{className:"text-lg font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ OPD - à¸—à¸µà¹ˆà¸­à¸¢à¸¹à¹ˆ"})]}),aM&&(0,b.jsx)("p",{className:"text-xs text-emerald-600 mb-4",children:"à¸à¸³à¸¥à¸±à¸‡à¹‚à¸«à¸¥à¸”à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”/à¸­à¸³à¹€à¸ à¸­/à¸•à¸³à¸šà¸¥..."}),aO&&(0,b.jsx)("p",{className:"text-xs text-red-600 mb-4",children:aO}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸šà¹‰à¸²à¸™à¹€à¸¥à¸‚à¸—à¸µà¹ˆ"}),(0,b.jsx)("input",{type:"text",value:h.locno||"",onChange:a=>bW("locno",a.target.value),className:"w-full px-4 py-3 border-2 border-blue-200 bg-white rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-transparent outline-none",placeholder:"à¸£à¸°à¸šà¸¸à¸šà¹‰à¸²à¸™à¹€à¸¥à¸‚à¸—à¸µà¹ˆ"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”"}),(0,b.jsxs)("select",{value:aG?String(aG):"",onChange:a=>b6(a.target.value),className:"w-full px-4 py-3 border-2 border-blue-200 bg-white rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-transparent outline-none cursor-pointer",children:[(0,b.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”"}),b3.map(a=>(0,b.jsx)("option",{value:a.id,children:a.label},a.id))]})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸­à¸³à¹€à¸ à¸­ / à¹€à¸‚à¸•"}),(0,b.jsxs)("select",{value:aI?String(aI):"",onChange:a=>b7(a.target.value),disabled:!b4.length,className:"w-full px-4 py-3 border-2 border-blue-200 bg-white rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-transparent outline-none cursor-pointer disabled:bg-gray-100",children:[(0,b.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸à¸­à¸³à¹€à¸ à¸­ / à¹€à¸‚à¸•"}),b4.map(a=>(0,b.jsx)("option",{value:a.id,children:a.label},a.id))]})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸•à¸³à¸šà¸¥ / à¹à¸‚à¸§à¸‡"}),(0,b.jsxs)("select",{value:aK?String(aK):"",onChange:a=>b8(a.target.value),disabled:!b5.length,className:"w-full px-4 py-3 border-2 border-blue-200 bg-white rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-transparent outline-none cursor-pointer disabled:bg-gray-100",children:[(0,b.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸à¸•à¸³à¸šà¸¥ / à¹à¸‚à¸§à¸‡"}),b5.map(a=>(0,b.jsx)("option",{value:a.id,children:a.label},a.id))]})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸£à¸«à¸±à¸ªà¹„à¸›à¸£à¸©à¸“à¸µà¸¢à¹Œ"}),(0,b.jsx)("input",{type:"text",value:h.zipcode||"",readOnly:!0,className:"w-full px-4 py-3 border-2 border-blue-200 bg-gray-100 rounded-xl outline-none text-gray-700",placeholder:"à¸£à¸«à¸±à¸ªà¹„à¸›à¸£à¸©à¸“à¸µà¸¢à¹Œ (à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´)"})]})]})]})]})}),"consent"===k&&(0,b.jsx)("div",{className:"p-6 space-y-6",children:(0,b.jsxs)("div",{className:"bg-gradient-to-br from-emerald-50 to-teal-50 rounded-xl p-6 border border-emerald-100 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)("div",{className:"w-1 h-6 bg-gradient-to-b from-emerald-500 to-teal-500 rounded-full"}),(0,b.jsx)("h2",{className:"text-lg font-bold bg-gradient-to-r from-emerald-600 to-teal-600 bg-clip-text text-transparent",children:"Consent Form"})]}),(0,b.jsx)("div",{className:"flex gap-2 mb-6",children:E.map(a=>(0,b.jsx)("button",{onClick:()=>bp(a.key),className:`px-4 py-2 rounded-lg font-medium transition-all ${bo===a.key?"bg-emerald-500 text-white shadow-md":"bg-white border border-emerald-200 text-emerald-700 hover:bg-emerald-50"}`,children:a.label},a.key))}),bq?(0,b.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,b.jsx)(n.Loader2,{className:"w-8 h-8 animate-spin text-emerald-500"})}):(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸™à¹‰à¸³à¸«à¸™à¸±à¸ (kg)"}),(0,b.jsx)("input",{type:"text",value:bm[bo]?.weight||"",onChange:a=>bn(b=>({...b,[bo]:{...b[bo],weight:a.target.value}})),className:"w-full px-4 py-3 border-2 border-emerald-200 bg-white rounded-xl focus:ring-2 focus:ring-emerald-400 focus:border-transparent outline-none",placeholder:"à¸£à¸°à¸šà¸¸à¸™à¹‰à¸³à¸«à¸™à¸±à¸"})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸ªà¹ˆà¸§à¸™à¸ªà¸¹à¸‡ (cm)"}),(0,b.jsx)("input",{type:"text",value:bm[bo]?.height||"",onChange:a=>bn(b=>({...b,[bo]:{...b[bo],height:a.target.value}})),className:"w-full px-4 py-3 border-2 border-emerald-200 bg-white rounded-xl focus:ring-2 focus:ring-emerald-400 focus:border-transparent outline-none",placeholder:"à¸£à¸°à¸šà¸¸à¸ªà¹ˆà¸§à¸™à¸ªà¸¹à¸‡"})]})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsxs)("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[(0,b.jsx)("input",{type:"checkbox",checked:bm[bo]?.hasChronic||!1,onChange:a=>bn(b=>({...b,[bo]:{...b[bo],hasChronic:a.target.checked}})),className:"w-4 h-4 rounded border-gray-300 text-emerald-500 focus:ring-emerald-400"}),"à¸¡à¸µà¹‚à¸£à¸„à¸›à¸£à¸°à¸ˆà¸³à¸•à¸±à¸§"]}),bm[bo]?.hasChronic&&(0,b.jsx)("input",{type:"text",value:bm[bo]?.chronicDiseaseDetail||"",onChange:a=>bn(b=>({...b,[bo]:{...b[bo],chronicDiseaseDetail:a.target.value}})),className:"w-full px-4 py-3 border-2 border-emerald-200 bg-white rounded-xl focus:ring-2 focus:ring-emerald-400 focus:border-transparent outline-none mt-2",placeholder:"à¸£à¸°à¸šà¸¸à¹‚à¸£à¸„à¸›à¸£à¸°à¸ˆà¸³à¸•à¸±à¸§"})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsxs)("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[(0,b.jsx)("input",{type:"checkbox",checked:bm[bo]?.hasDrugAllergy||!1,onChange:a=>bn(b=>({...b,[bo]:{...b[bo],hasDrugAllergy:a.target.checked}})),className:"w-4 h-4 rounded border-gray-300 text-emerald-500 focus:ring-emerald-400"}),"à¸¡à¸µà¸›à¸£à¸°à¸§à¸±à¸•à¸´à¹à¸žà¹‰à¸¢à¸²"]}),bm[bo]?.hasDrugAllergy&&(0,b.jsx)("input",{type:"text",value:bm[bo]?.drugAllergyDetail||"",onChange:a=>bn(b=>({...b,[bo]:{...b[bo],drugAllergyDetail:a.target.value}})),className:"w-full px-4 py-3 border-2 border-emerald-200 bg-white rounded-xl focus:ring-2 focus:ring-emerald-400 focus:border-transparent outline-none mt-2",placeholder:"à¸£à¸°à¸šà¸¸à¸¢à¸²à¸—à¸µà¹ˆà¹à¸žà¹‰"})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸¢à¸´à¸™à¸¢à¸­à¸¡à¸£à¸±à¸šà¸à¸²à¸£à¸£à¸±à¸à¸©à¸²"}),(0,b.jsxs)("select",{value:bm[bo]?.medicalConsent||"",onChange:a=>bn(b=>({...b,[bo]:{...b[bo],medicalConsent:a.target.value}})),className:"w-full px-4 py-3 border-2 border-emerald-200 bg-white rounded-xl focus:ring-2 focus:ring-emerald-400 focus:border-transparent outline-none cursor-pointer",children:[(0,b.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸"}),G.map(a=>(0,b.jsx)("option",{value:a,children:a},a))]})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸¢à¸­à¸¡à¸£à¸±à¸š PDPA"}),(0,b.jsxs)("select",{value:bm[bo]?.acceptPdpa||"",onChange:a=>bn(b=>({...b,[bo]:{...b[bo],acceptPdpa:a.target.value}})),className:"w-full px-4 py-3 border-2 border-emerald-200 bg-white rounded-xl focus:ring-2 focus:ring-emerald-400 focus:border-transparent outline-none cursor-pointer",children:[(0,b.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸"}),K.map(a=>(0,b.jsx)("option",{value:a,children:a},a))]})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸¢à¸´à¸™à¸¢à¸­à¸¡à¹€à¸œà¸¢à¹à¸žà¸£à¹ˆà¸ªà¸·à¹ˆà¸­"}),(0,b.jsxs)("select",{value:bm[bo]?.acceptMedia||"",onChange:a=>bn(b=>({...b,[bo]:{...b[bo],acceptMedia:a.target.value}})),className:"w-full px-4 py-3 border-2 border-emerald-200 bg-white rounded-xl focus:ring-2 focus:ring-emerald-400 focus:border-transparent outline-none cursor-pointer",children:[(0,b.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸"}),K.map(a=>(0,b.jsx)("option",{value:a,children:a},a))]})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸¥à¸²à¸¢à¹€à¸‹à¹‡à¸™"}),(0,b.jsx)(Y,{value:bm[bo]?.signatureUrl||"",onChange:a=>bn(b=>({...b,[bo]:{...b[bo],signatureUrl:a}}))})]})]})]})}),"service"===k&&(0,b.jsx)("div",{className:"p-6 space-y-6",children:(0,b.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-6 border border-purple-100 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)("div",{className:"w-1 h-6 bg-gradient-to-b from-purple-500 to-pink-500 rounded-full"}),(0,b.jsx)("h2",{className:"text-lg font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"à¸šà¸£à¸´à¸à¸²à¸£"})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸à¸¥à¸¸à¹ˆà¸¡à¸šà¸£à¸´à¸à¸²à¸£"}),(0,b.jsxs)("select",{value:aZ,onChange:a=>a$(a.target.value),disabled:aX,className:"w-full px-4 py-3 border-2 border-purple-200 bg-white rounded-xl focus:ring-2 focus:ring-purple-400 focus:border-transparent outline-none cursor-pointer",children:[(0,b.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸à¸à¸¥à¸¸à¹ˆà¸¡à¸šà¸£à¸´à¸à¸²à¸£"}),aV.map(a=>(0,b.jsx)("option",{value:a.groupcode,children:a.groupname},a.groupcode))]})]}),aZ&&(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸„à¹‰à¸™à¸«à¸²à¸šà¸£à¸´à¸à¸²à¸£"}),(0,b.jsx)("input",{type:"text",value:a5,onChange:a=>a6(a.target.value),className:"w-full px-4 py-3 border-2 border-purple-200 bg-white rounded-xl focus:ring-2 focus:ring-purple-400 focus:border-transparent outline-none",placeholder:"à¸žà¸´à¸¡à¸žà¹Œà¸Šà¸·à¹ˆà¸­à¸šà¸£à¸´à¸à¸²à¸£..."})]}),a7.length>0&&(0,b.jsxs)("div",{className:"bg-purple-100 rounded-xl p-4",children:[(0,b.jsxs)("h3",{className:"font-semibold text-purple-800 mb-2",children:["à¸šà¸£à¸´à¸à¸²à¸£à¸—à¸µà¹ˆà¹€à¸¥à¸·à¸­à¸ (",a7.length,")"]}),(0,b.jsx)("div",{className:"space-y-2",children:a7.map(a=>(0,b.jsxs)("div",{className:"flex justify-between items-center bg-white rounded-lg p-2",children:[(0,b.jsx)("span",{className:"text-sm text-gray-700",children:a.itemname}),(0,b.jsxs)("span",{className:"text-sm font-semibold text-purple-600",children:[M(R(a))," à¸¿"]})]},a.id))})]})]})]})}),"appointment"===k&&(0,b.jsx)("div",{className:"p-6 space-y-6",children:(0,b.jsxs)("div",{className:"bg-gradient-to-br from-orange-50 to-amber-50 rounded-xl p-6 border border-orange-100 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)("div",{className:"w-1 h-6 bg-gradient-to-b from-orange-500 to-amber-500 rounded-full"}),(0,b.jsx)("h2",{className:"text-lg font-bold bg-gradient-to-r from-orange-600 to-amber-600 bg-clip-text text-transparent",children:"à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢"})]}),al?(0,b.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,b.jsx)(n.Loader2,{className:"w-8 h-8 animate-spin text-orange-500"})}):(0,b.jsxs)("div",{className:"space-y-4",children:[W.map((a,c)=>(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"font-semibold text-gray-800",children:a.title}),(0,b.jsx)("div",{className:`grid ${a.columns||"grid-cols-1 md:grid-cols-2"} gap-4`,children:a.fields.map(a=>{let c=T[a];return c?(0,b.jsxs)("div",{className:c.fullWidth?"col-span-full":"",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:c.label}),"textarea"===c.type?(0,b.jsx)("textarea",{value:aj[a]||"",onChange:b=>ak(c=>({...c,[a]:b.target.value})),readOnly:c.readOnly,className:"w-full px-4 py-3 border-2 border-orange-200 bg-white rounded-xl focus:ring-2 focus:ring-orange-400 focus:border-transparent outline-none min-h-[100px] resize-none",placeholder:c.placeholder}):(0,b.jsx)("input",{type:c.type||"text",value:aj[a]||"",onChange:b=>ak(c=>({...c,[a]:b.target.value})),readOnly:c.readOnly,className:`w-full px-4 py-3 border-2 border-orange-200 ${c.readOnly?"bg-gray-100":"bg-white"} rounded-xl focus:ring-2 focus:ring-orange-400 focus:border-transparent outline-none`,placeholder:c.placeholder})]},a):null})})]},c)),ap.length>0&&(0,b.jsxs)("div",{className:"mt-6",children:[(0,b.jsx)("h3",{className:"font-semibold text-gray-800 mb-4",children:"à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢"}),(0,b.jsx)("div",{className:"space-y-2",children:ap.map((a,c)=>(0,b.jsx)("div",{className:"bg-white border border-orange-200 rounded-lg p-3 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>{let b=V(a,c);aw(av===b?null:b)},children:(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-gray-700",children:a.activity||"à¹„à¸¡à¹ˆà¸£à¸°à¸šà¸¸à¸à¸´à¸ˆà¸à¸£à¸£à¸¡"}),(0,b.jsx)("span",{className:"text-xs text-gray-500",children:U(a.start_date)})]})},V(a,c)))})]})]})]})})]}),(0,b.jsxs)("div",{className:"sticky bottom-0 bg-gradient-to-t from-gray-50 to-white border-t border-gray-200 p-4 sm:p-5 flex justify-center gap-4 shadow-lg",children:[(0,b.jsx)("button",{onClick:d,disabled:_,className:"px-6 sm:px-8 py-2.5 sm:py-3 border-2 border-gray-300 rounded-xl text-gray-700 text-sm sm:text-base font-semibold hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"à¸¢à¸à¹€à¸¥à¸´à¸"}),(0,b.jsx)("button",{onClick:()=>b9(),disabled:_,className:"flex items-center gap-2 px-6 sm:px-8 py-2.5 sm:py-3 bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white text-sm sm:text-base font-semibold rounded-xl transition-all duration-200 disabled:opacity-70 disabled:cursor-not-allowed shadow-lg hover:shadow-xl",children:_?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(n.Loader2,{className:"w-4 h-4 animate-spin"}),"à¸à¸³à¸¥à¸±à¸‡à¸šà¸±à¸™à¸—à¸¶à¸..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m.Save,{className:"w-4 h-4"}),"à¸šà¸±à¸™à¸—à¸¶à¸"]})})]})]}),(0,b.jsx)(x,{isOpen:by.isOpen,onClose:()=>bz({...by,isOpen:!1}),type:by.type,title:by.title,message:by.message}),ab&&(0,b.jsxs)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-black/50",onClick:()=>ac(!1)}),(0,b.jsxs)("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-lg max-h-[80vh] overflow-hidden animate-slideUp",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 px-6 py-4 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(p.FileText,{className:"w-6 h-6 text-white"}),(0,b.jsx)("h2",{className:"text-lg font-semibold text-white",children:"à¹€à¸›à¸´à¸” OPD"})]}),(0,b.jsx)("button",{onClick:()=>ac(!1),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:(0,b.jsx)(j.X,{className:"w-5 h-5 text-white"})})]}),(0,b.jsxs)("div",{className:"p-6 overflow-y-auto max-h-[calc(80vh-80px)] space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-2 text-sm text-slate-600",children:[(0,b.jsx)("p",{className:"text-base font-semibold text-slate-800",children:"à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ OPD"}),(0,b.jsx)("p",{className:"text-slate-500",children:"à¹€à¸¥à¸·à¸­à¸à¸•à¸³à¹à¸«à¸™à¹ˆà¸‡à¸—à¸µà¹ˆà¸•à¸±à¹‰à¸‡à¹€à¸žà¸·à¹ˆà¸­à¸šà¸±à¸™à¸—à¸¶à¸à¸¥à¸‡ bjh_master_customers à¸žà¸£à¹‰à¸­à¸¡ LocNo à¹à¸¥à¸° Zipcode à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´"}),aM&&(0,b.jsx)("p",{className:"text-xs text-emerald-600",children:"à¸à¸³à¸¥à¸±à¸‡à¹‚à¸«à¸¥à¸”à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”/à¸­à¸³à¹€à¸ à¸­/à¸•à¸³à¸šà¸¥..."}),aO&&(0,b.jsx)("p",{className:"text-xs text-red-600",children:aO})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸šà¹‰à¸²à¸™à¹€à¸¥à¸‚à¸—à¸µà¹ˆ"}),(0,b.jsx)("input",{type:"text",value:h.locno||"",onChange:a=>bW("locno",a.target.value),className:"w-full px-4 py-3 border-2 border-slate-200 rounded-xl bg-white text-gray-900 placeholder:text-slate-400 focus:border-cyan-400 focus:ring-2 focus:ring-cyan-400 outline-none transition",placeholder:"à¸£à¸°à¸šà¸¸à¸šà¹‰à¸²à¸™à¹€à¸¥à¸‚à¸—à¸µà¹ˆ"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”"}),(0,b.jsxs)("select",{value:aG?String(aG):"",onChange:a=>b6(a.target.value),className:"w-full px-4 py-3 border-2 border-slate-200 rounded-xl bg-white text-gray-900 transition focus:ring-2 focus:ring-cyan-400 focus:border-transparent",children:[(0,b.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”"}),b3.map(a=>(0,b.jsx)("option",{value:a.id,children:a.label},a.id))]})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸­à¸³à¹€à¸ à¸­ / à¹€à¸‚à¸•"}),(0,b.jsxs)("select",{value:aI?String(aI):"",onChange:a=>b7(a.target.value),disabled:!b4.length,className:"w-full px-4 py-3 border-2 border-slate-200 rounded-xl bg-white text-gray-900 transition focus:ring-2 focus:ring-cyan-400 focus:border-transparent disabled:cursor-not-allowed disabled:bg-slate-50",children:[(0,b.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸à¸­à¸³à¹€à¸ à¸­ / à¹€à¸‚à¸•"}),b4.map(a=>(0,b.jsx)("option",{value:a.id,children:a.label},a.id))]})]})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸•à¸³à¸šà¸¥ / à¹à¸‚à¸§à¸‡"}),(0,b.jsxs)("select",{value:aK?String(aK):"",onChange:a=>b8(a.target.value),disabled:!b5.length,className:"w-full px-4 py-3 border-2 border-slate-200 rounded-xl bg-white text-gray-900 transition focus:ring-2 focus:ring-cyan-400 focus:border-transparent disabled:cursor-not-allowed disabled:bg-slate-50",children:[(0,b.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸à¸•à¸³à¸šà¸¥ / à¹à¸‚à¸§à¸‡"}),b5.map(a=>(0,b.jsx)("option",{value:a.id,children:a.label},a.id))]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Zipcode"}),(0,b.jsx)("input",{type:"text",value:h.zipcode||"",readOnly:!0,className:"w-full px-4 py-3 border-2 border-slate-200 rounded-xl bg-slate-100 text-gray-700",placeholder:"à¸ˆà¸°à¸–à¸¹à¸à¸à¸£à¸­à¸à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´"})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Country"}),(0,b.jsx)("input",{type:"text",value:h.country||"Thailand",readOnly:!0,className:"w-full px-4 py-3 border-2 border-slate-200 rounded-xl bg-slate-100 text-gray-700"})]})]})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,b.jsx)("button",{type:"button",onClick:()=>ac(!1),className:"px-4 py-2 border border-slate-300 rounded-xl text-slate-700 font-semibold hover:border-slate-400 transition",children:"à¸›à¸´à¸”"}),(0,b.jsx)("button",{type:"button",onClick:()=>{bW("is_opd",1),b9({autoClose:!1,onSuccess:()=>{ac(!1)}})},disabled:_,className:"px-4 py-2 bg-gradient-to-r from-emerald-500 to-cyan-600 text-white font-semibold rounded-xl shadow-lg hover:from-emerald-600 hover:to-cyan-700 disabled:opacity-60",children:_?"à¸à¸³à¸¥à¸±à¸‡à¸šà¸±à¸™à¸—à¸¶à¸...":"à¸šà¸±à¸™à¸—à¸¶à¸ OPD"})]})]})]})]}),ad&&(0,b.jsxs)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-black/50",onClick:()=>ae(!1)}),(0,b.jsxs)("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-lg max-h-[80vh] overflow-hidden animate-slideUp",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 px-6 py-4 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(q,{className:"w-6 h-6 text-white"}),(0,b.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Consent"})]}),(0,b.jsx)("button",{onClick:()=>ae(!1),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:(0,b.jsx)(j.X,{className:"w-5 h-5 text-white"})})]}),(0,b.jsxs)("div",{className:"p-6 overflow-y-auto max-h-[calc(80vh-80px)] space-y-5",children:[(0,b.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[(0,b.jsxs)("div",{className:"space-y-1 text-center md:text-left",children:[(0,b.jsx)("p",{className:"text-lg font-semibold text-slate-800",children:"à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ Consent"}),(0,b.jsx)("p",{className:"text-sm text-slate-500",children:"à¸šà¸±à¸™à¸—à¸¶à¸à¸™à¹‰à¸³à¸«à¸™à¸±à¸, à¸ªà¹ˆà¸§à¸™à¸ªà¸¹à¸‡ à¹à¸¥à¸°à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸ªà¸¸à¸‚à¸ à¸²à¸žà¹€à¸žà¸·à¹ˆà¸­à¸™à¸³à¹„à¸›à¹ƒà¸Šà¹‰à¹ƒà¸™ Consent Form"})]}),(0,b.jsx)("button",{type:"button",onClick:bN,disabled:bu||bq,className:"rounded-xl bg-gradient-to-r from-purple-600 to-indigo-600 px-5 py-2 text-sm font-semibold text-white shadow-lg transition hover:from-purple-700 hover:to-indigo-700 disabled:opacity-60",children:bu?"à¸à¸³à¸¥à¸±à¸‡à¸šà¸±à¸™à¸—à¸¶à¸":"à¸šà¸±à¸™à¸—à¸¶à¸ Consent"})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[bs&&(0,b.jsx)("p",{className:"text-xs text-red-600",children:bs}),bq&&(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"à¸à¸³à¸¥à¸±à¸‡à¹‚à¸«à¸¥à¸”à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ Consent..."})]}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:E.map(a=>(0,b.jsx)("button",{type:"button",onClick:()=>bp(a.key),className:`rounded-2xl px-4 py-2 text-xs font-semibold transition border shadow-sm ${bo===a.key?"bg-purple-600 text-white border-transparent":"bg-white text-slate-600 border-slate-200 hover:border-slate-300"}`,children:a.label},a.key))}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)("label",{className:"flex flex-col text-xs font-semibold uppercase tracking-wider text-slate-500",children:["à¸™à¹‰à¸³à¸«à¸™à¸±à¸ (à¸à¸.)",(0,b.jsx)("input",{type:"number",value:bU.weight,onChange:a=>bL(bo,{weight:a.target.value}),className:"mt-1 rounded-2xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 focus:border-purple-500 focus:outline-none focus:ring-2 focus:ring-purple-100",placeholder:"à¹€à¸Šà¹ˆà¸™ 60"})]}),(0,b.jsxs)("label",{className:"flex flex-col text-xs font-semibold uppercase tracking-wider text-slate-500",children:["à¸ªà¹ˆà¸§à¸™à¸ªà¸¹à¸‡ (à¸‹à¸¡.)",(0,b.jsx)("input",{type:"number",value:bU.height,onChange:a=>bL(bo,{height:a.target.value}),className:"mt-1 rounded-2xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 focus:border-purple-500 focus:outline-none focus:ring-2 focus:ring-purple-100",placeholder:"à¹€à¸Šà¹ˆà¸™ 170"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-slate-500",children:"à¸¡à¸µà¹‚à¸£à¸„à¸›à¸£à¸°à¸ˆà¸³à¸•à¸±à¸§à¸«à¸£à¸·à¸­à¹„à¸¡à¹ˆ"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:[{label:"à¹„à¸¡à¹ˆà¸¡à¸µ",value:!1},{label:"à¸¡à¸µ",value:!0}].map(a=>(0,b.jsx)("button",{type:"button",onClick:()=>bM(bo,"hasChronic",a.value),className:`rounded-2xl px-3 py-1.5 text-xs font-semibold transition border ${bU.hasChronic===a.value?"bg-indigo-600 text-white border-transparent":"bg-white text-slate-600 border-slate-200 hover:border-slate-300"}`,children:a.label},`chronic-${a.value}`))}),bU.hasChronic&&(0,b.jsx)("textarea",{value:bU.chronicDiseaseDetail,onChange:a=>bL(bo,{chronicDiseaseDetail:a.target.value}),className:"w-full rounded-2xl border border-slate-200 px-3 py-2 text-sm text-slate-700 focus:border-purple-500 focus:outline-none focus:ring-2 focus:ring-purple-100",placeholder:"à¹‚à¸›à¸£à¸”à¸£à¸°à¸šà¸¸à¸Šà¸·à¹ˆà¸­à¹‚à¸£à¸„ / à¸à¸²à¸£à¸£à¸±à¸à¸©à¸²à¸—à¸µà¹ˆà¸à¸³à¸¥à¸±à¸‡à¸£à¸±à¸šà¸­à¸¢à¸¹à¹ˆ",rows:3})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-slate-500",children:"à¸¡à¸µà¸›à¸£à¸°à¸§à¸±à¸•à¸´à¹à¸žà¹‰à¸¢à¸²à¸«à¸£à¸·à¸­à¹„à¸¡à¹ˆ"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:[{label:"à¹„à¸¡à¹ˆà¸¡à¸µ",value:!1},{label:"à¸¡à¸µ",value:!0}].map(a=>(0,b.jsx)("button",{type:"button",onClick:()=>bM(bo,"hasDrugAllergy",a.value),className:`rounded-2xl px-3 py-1.5 text-xs font-semibold transition border ${bU.hasDrugAllergy===a.value?"bg-indigo-600 text-white border-transparent":"bg-white text-slate-600 border-slate-200 hover:border-slate-300"}`,children:a.label},`drug-${a.value}`))}),bU.hasDrugAllergy&&(0,b.jsx)("textarea",{value:bU.drugAllergyDetail,onChange:a=>bL(bo,{drugAllergyDetail:a.target.value}),className:"w-full rounded-2xl border border-slate-200 px-3 py-2 text-sm text-slate-700 focus:border-purple-500 focus:outline-none focus:ring-2 focus:ring-purple-100",placeholder:"à¸£à¸°à¸šà¸¸à¸Šà¸·à¹ˆà¸­à¸¢à¸² / à¸­à¸²à¸à¸²à¸£à¹à¸žà¹‰",rows:3})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("div",{className:"flex items-center justify-between",children:(0,b.jsxs)("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-slate-500",children:["à¸¥à¸²à¸¢à¹€à¸‹à¹‡à¸™ (",E.find(a=>a.key===bo)?.label,")"]})}),(0,b.jsxs)("div",{className:"space-y-3 rounded-2xl border border-slate-200 bg-white/90 p-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500",children:"medical_consent"}),(0,b.jsx)("p",{className:"text-sm font-medium text-slate-800",children:'à¹€à¸žà¸µà¸¢à¸‡à¹€à¸¥à¸·à¸­à¸ "à¸¢à¸´à¸™à¸¢à¸­à¸¡" à¸«à¸£à¸·à¸­ "à¹„à¸¡à¹ˆà¸¢à¸´à¸™à¸¢à¸­à¸¡" à¸à¹ˆà¸­à¸™à¸šà¸±à¸™à¸—à¸¶à¸à¸¥à¸²à¸¢à¹€à¸‹à¹‡à¸™'})]}),(0,b.jsxs)("span",{className:"text-[11px] text-slate-400",children:["à¸ªà¸–à¸²à¸™à¸°: ",bU.medicalConsent||"à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¹€à¸¥à¸·à¸­à¸"]})]}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:G.map(a=>(0,b.jsx)("button",{type:"button",onClick:()=>bL(bo,{medicalConsent:a}),className:`px-4 py-1.5 rounded-2xl text-xs font-semibold transition-colors border shadow-sm ${bU.medicalConsent===a?"bg-purple-600 text-white border-transparent":"bg-white text-purple-700 border-purple-200 hover:border-purple-400"}`,children:a},a))}),(0,b.jsxs)("div",{className:"max-h-36 overflow-y-auto text-xs leading-relaxed text-slate-600 space-y-1",children:[H.map((a,c)=>(0,b.jsx)("p",{className:0===c?"font-semibold text-slate-900":"",children:a},`${a}-${c}`)),(0,b.jsx)("p",{className:"text-[10px] text-slate-400",children:"à¹€à¸¥à¸·à¹ˆà¸­à¸™à¸­à¹ˆà¸²à¸™à¸à¹ˆà¸­à¸™à¸•à¸±à¸”à¸ªà¸´à¸™à¹ƒà¸ˆ à¹à¸¥à¹‰à¸§à¸¥à¸‡à¸¥à¸²à¸¢à¹€à¸‹à¹‡à¸™à¸”à¹‰à¸²à¸™à¸¥à¹ˆà¸²à¸‡"})]})]}),(0,b.jsxs)("div",{className:"space-y-3 rounded-2xl border border-slate-200 bg-white/90 p-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500",children:"accept_pdpa"}),(0,b.jsx)("p",{className:"text-sm font-medium text-slate-800",children:"PDPA â€“ à¸¢à¸´à¸™à¸¢à¸­à¸¡à¹ƒà¸«à¹‰à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ªà¹ˆà¸§à¸™à¸šà¸¸à¸„à¸„à¸¥à¸–à¸¹à¸à¹ƒà¸Šà¹‰à¸•à¸²à¸¡à¸™à¹‚à¸¢à¸šà¸²à¸¢"})]}),(0,b.jsxs)("span",{className:"text-[11px] text-slate-400",children:["à¸ªà¸–à¸²à¸™à¸°: ",bU.acceptPdpa||"à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¹€à¸¥à¸·à¸­à¸"]})]}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:K.map(a=>(0,b.jsx)("button",{type:"button",onClick:()=>bL(bo,{acceptPdpa:a}),className:`px-4 py-1.5 rounded-2xl text-xs font-semibold transition-colors border shadow-sm ${bU.acceptPdpa===a?"bg-purple-600 text-white border-transparent":"bg-white text-purple-700 border-purple-200 hover:border-purple-400"}`,children:a},`pdpa-${a}`))}),(0,b.jsxs)("div",{className:"max-h-36 overflow-y-auto text-xs leading-relaxed text-slate-600 space-y-1",children:[I.map((a,c)=>(0,b.jsx)("p",{className:0===c?"font-semibold text-slate-900":"",children:a},`${a}-${c}`)),(0,b.jsx)("p",{className:"text-[10px] text-slate-400",children:"à¹€à¸¥à¸·à¹ˆà¸­à¸™à¸­à¹ˆà¸²à¸™à¸à¹ˆà¸­à¸™à¸•à¸±à¸”à¸ªà¸´à¸™à¹ƒà¸ˆ"})]})]}),(0,b.jsxs)("div",{className:"space-y-3 rounded-2xl border border-slate-200 bg-white/90 p-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500",children:"accept_media"}),(0,b.jsx)("p",{className:"text-sm font-medium text-slate-800",children:"à¸¢à¸´à¸™à¸¢à¸­à¸¡à¸£à¸±à¸šà¸‚à¹ˆà¸²à¸§à¸ªà¸²à¸£à¸«à¸£à¸·à¸­à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸ à¸²à¸žà¸ªà¸³à¸«à¸£à¸±à¸šà¸‡à¸²à¸™à¸›à¸£à¸°à¸Šà¸²à¸ªà¸±à¸¡à¸žà¸±à¸™à¸˜à¹Œ"})]}),(0,b.jsxs)("span",{className:"text-[11px] text-slate-400",children:["à¸ªà¸–à¸²à¸™à¸°: ",bU.acceptMedia||"à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¹€à¸¥à¸·à¸­à¸"]})]}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:K.map(a=>(0,b.jsx)("button",{type:"button",onClick:()=>bL(bo,{acceptMedia:a}),className:`px-4 py-1.5 rounded-2xl text-xs font-semibold transition-colors border shadow-sm ${bU.acceptMedia===a?"bg-purple-600 text-white border-transparent":"bg-white text-purple-700 border-purple-200 hover:border-purple-400"}`,children:a},`media-${a}`))}),(0,b.jsxs)("div",{className:"max-h-36 overflow-y-auto text-xs leading-relaxed text-slate-600 space-y-1",children:[J.map((a,c)=>(0,b.jsx)("p",{className:0===c?"font-semibold text-slate-900":"",children:a},`${a}-${c}`)),(0,b.jsx)("p",{className:"text-[10px] text-slate-400",children:"à¹€à¸¥à¸·à¹ˆà¸­à¸™à¸­à¹ˆà¸²à¸™à¸à¹ˆà¸­à¸™à¸•à¸±à¸”à¸ªà¸´à¸™à¹ƒà¸ˆ"})]})]}),(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸™à¹‰à¸³à¸«à¸™à¸±à¸ à¸ªà¹ˆà¸§à¸™à¸ªà¸¹à¸‡ à¹à¸¥à¸°à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸ªà¸¸à¸‚à¸ à¸²à¸žà¸—à¸µà¹ˆà¸£à¸°à¸šà¸¸à¸”à¹‰à¸²à¸™à¸šà¸™à¸ˆà¸°à¸–à¸¹à¸à¹à¸™à¸šà¹ƒà¸™ Consent Form à¸žà¸£à¹‰à¸­à¸¡à¸ªà¸±à¸à¸à¸²à¹à¸¥à¸°à¸¥à¸²à¸¢à¹€à¸‹à¹‡à¸™"}),(0,b.jsx)(Y,{value:bU.signatureUrl,onChange:a=>{bL(bo,{signatureUrl:a})}}),bU.signatureUrl&&(0,b.jsxs)("div",{className:"space-y-1 rounded-2xl border border-slate-200 p-3",children:[(0,b.jsx)("p",{className:"text-[10px] uppercase tracking-wider text-slate-400",children:"à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡à¸¥à¸²à¸¢à¹€à¸‹à¹‡à¸™à¸—à¸µà¹ˆà¸šà¸±à¸™à¸—à¸¶à¸à¹„à¸§à¹‰"}),(0,b.jsx)("img",{src:bU.signatureUrl,alt:"Signature preview",className:"h-16 w-full rounded-lg border border-slate-100 object-contain"})]})]})]}),(0,b.jsxs)("div",{className:"flex justify-between border-t px-6 py-4",children:[(0,b.jsx)("div",{children:(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"à¸šà¸±à¸™à¸—à¸¶à¸ Consent à¸ˆà¸°à¸–à¸¹à¸à¹€à¸à¹‡à¸šà¹à¸¢à¸à¸•à¸²à¸¡à¸ªà¹ˆà¸§à¸™ (part) à¸—à¸µà¹ˆà¹€à¸¥à¸·à¸­à¸"})}),(0,b.jsx)("button",{type:"button",onClick:bN,disabled:bu||bq,className:"rounded-xl bg-gradient-to-r from-purple-600 to-indigo-600 px-6 py-2 text-sm font-semibold text-white shadow-lg transition hover:from-purple-700 hover:to-indigo-700 disabled:opacity-60",children:bu?"à¸à¸³à¸¥à¸±à¸‡à¸šà¸±à¸™à¸—à¸¶à¸ Consent...":"à¸šà¸±à¸™à¸—à¸¶à¸ Consent"})]})]})]}),af&&(0,b.jsx)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",children:(0,b.jsxs)("div",{className:"relative w-full max-w-6xl overflow-hidden rounded-3xl bg-white shadow-2xl",onClick:a=>a.stopPropagation(),children:[(0,b.jsxs)("div",{className:"flex items-center justify-between bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 px-8 py-5 text-white",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold",children:"à¸šà¸£à¸´à¸à¸²à¸£ OPD"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-white/80",children:"à¹€à¸¥à¸·à¸­à¸à¸šà¸£à¸´à¸à¸²à¸£à¹à¸¥à¸°à¸à¸³à¸«à¸™à¸” Charge / Discount"})]}),(0,b.jsx)("button",{type:"button",onClick:bI,className:"rounded-full bg-white/20 p-2 transition hover:bg-white/30",children:(0,b.jsx)(j.X,{className:"w-6 h-6"})})]}),(0,b.jsx)("div",{className:"border-b bg-gray-50 px-8 py-4",children:(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,b.jsx)("label",{className:"text-sm font-semibold text-gray-700",children:"à¸à¸¥à¸¸à¹ˆà¸¡à¸šà¸£à¸´à¸à¸²à¸£:"}),(0,b.jsxs)("select",{className:"rounded-xl border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-800 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",value:aZ,onChange:a=>{var b;(a$(b=a.target.value),a6(""),a4(null),b)?bG(b):a0([])},children:[(0,b.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸à¸à¸¥à¸¸à¹ˆà¸¡à¸šà¸£à¸´à¸à¸²à¸£"}),aV.map(a=>(0,b.jsx)("option",{value:a.groupcode,children:a.groupname},a.groupcode))]}),aX&&(0,b.jsx)("span",{className:"text-sm text-gray-500",children:"à¸à¸³à¸¥à¸±à¸‡à¹‚à¸«à¸¥à¸”à¸à¸¥à¸¸à¹ˆà¸¡à¸šà¸£à¸´à¸à¸²à¸£..."}),a7.length>0&&(0,b.jsxs)("span",{className:"rounded-full bg-emerald-100 px-3 py-1 text-sm font-semibold text-emerald-700",children:["à¹€à¸¥à¸·à¸­à¸à¹à¸¥à¹‰à¸§ ",a7.length," à¸£à¸²à¸¢à¸à¸²à¸£"]})]})}),(0,b.jsx)("div",{className:"border-b bg-white/80 px-8 py-3 text-sm text-gray-600",children:bc?(0,b.jsx)("span",{children:"à¸à¸³à¸¥à¸±à¸‡à¹‚à¸«à¸¥à¸”à¸›à¸£à¸°à¸§à¸±à¸•à¸´ b_saleitem..."}):be?(0,b.jsx)("span",{className:"text-red-600",children:be}):0===bT.count?(0,b.jsx)("span",{children:"à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µà¸£à¸²à¸¢à¸à¸²à¸£à¸šà¸±à¸™à¸—à¸¶à¸à¹ƒà¸™ b_saleitem"}):(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,b.jsxs)("span",{children:["à¸šà¸±à¸™à¸—à¸¶à¸à¹à¸¥à¹‰à¸§ ",bT.count," à¸£à¸²à¸¢à¸à¸²à¸£ Â· à¸¢à¸­à¸”à¸£à¸§à¸¡ ",M(bT.total)]}),(0,b.jsx)("button",{type:"button",onClick:()=>{aR&&(bH(aR),bj(!0))},className:"rounded-full border border-slate-200 bg-white px-3 py-1 text-[11px] font-semibold text-slate-600 transition hover:border-slate-300",children:"à¸”à¸¹à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”"})]})}),(0,b.jsxs)("div",{className:"grid max-h-[65vh] grid-cols-1 gap-0 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"flex flex-col border-r border-gray-200 bg-gradient-to-br from-blue-50 to-indigo-50 max-h-[65vh]",children:[(0,b.jsxs)("div",{className:"border-b bg-white/80 px-6 py-4",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:"ðŸ“ à¸šà¸£à¸´à¸à¸²à¸£à¸—à¸µà¹ˆà¹€à¸¥à¸·à¸­à¸"}),(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:[a7.length," à¸£à¸²à¸¢à¸à¸²à¸£",bR&&` \xb7 ${bR.groupname}`]})]}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto p-4",children:0===a7.length?(0,b.jsxs)("div",{className:"flex h-full flex-col items-center justify-center text-center",children:[(0,b.jsx)("div",{className:"mb-3 text-5xl",children:"ðŸ“‚"}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µà¸šà¸£à¸´à¸à¸²à¸£à¸—à¸µà¹ˆà¹€à¸¥à¸·à¸­à¸"}),(0,b.jsx)("p",{className:"text-xs text-gray-400",children:"à¹€à¸¥à¸·à¸­à¸à¸ˆà¸²à¸à¸£à¸²à¸¢à¸à¸²à¸£à¸—à¸²à¸‡à¸‚à¸§à¸²à¸¡à¸·à¸­"})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"space-y-3",children:a7.map(a=>(0,b.jsxs)("div",{className:"rounded-2xl border border-white bg-white p-4 shadow-md transition hover:shadow-lg",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"font-semibold text-gray-800",children:a.itemname}),(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:["à¸£à¸«à¸±à¸ª ",a.itemcode," Â· à¸£à¸²à¸„à¸² ",M(a.salesprice)]})]}),(0,b.jsx)("button",{type:"button",onClick:()=>{var b;return b=a.id,void a8(a=>a.filter(a=>a.id!==b))},className:"ml-2 rounded-full bg-red-100 p-1.5 text-red-600 transition hover:bg-red-200",children:(0,b.jsx)(j.X,{className:"w-4 h-4"})})]}),(0,b.jsxs)("div",{className:"mt-3 grid grid-cols-2 gap-3",children:[(0,b.jsxs)("div",{className:"rounded-xl bg-emerald-50 p-3",children:[(0,b.jsx)("p",{className:"mb-1 text-xs font-semibold uppercase tracking-wide text-emerald-700",children:"Charge"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("input",{type:"text",placeholder:"à¸šà¸²à¸—",value:a.chargePrice,onChange:b=>{var c,d;return c=a.id,d=b.target.value,void bQ(c,a=>{let b=d.trim(),c=Number(b),e=b.length>0&&Number.isFinite(c)&&a.salesprice>0?N(c/a.salesprice*100):"";return{...a,chargePrice:d,chargePercent:e}})},className:"w-full rounded-lg border border-emerald-200 bg-white px-2 py-1.5 text-sm focus:border-emerald-400 focus:outline-none"}),(0,b.jsx)("input",{type:"text",placeholder:"%",value:a.chargePercent,onChange:b=>{var c,d;return c=a.id,d=b.target.value,void bQ(c,a=>{let b=d.trim(),c=Number(b),e=b.length>0&&Number.isFinite(c)&&a.salesprice>0?N(a.salesprice*c/100):"";return{...a,chargePrice:e,chargePercent:d}})},className:"w-16 rounded-lg border border-emerald-200 bg-white px-2 py-1.5 text-center text-sm focus:border-emerald-400 focus:outline-none"})]})]}),(0,b.jsxs)("div",{className:"rounded-xl bg-rose-50 p-3",children:[(0,b.jsx)("p",{className:"mb-1 text-xs font-semibold uppercase tracking-wide text-rose-700",children:"Discount"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("input",{type:"text",placeholder:"à¸šà¸²à¸—",value:a.discountPrice,onChange:b=>{var c,d;return c=a.id,d=b.target.value,void bQ(c,a=>{let b=d.trim(),c=Number(b),e=b.length>0&&Number.isFinite(c)&&a.salesprice>0?N(c/a.salesprice*100):"";return{...a,discountPrice:d,discountPercent:e}})},className:"w-full rounded-lg border border-rose-200 bg-white px-2 py-1.5 text-sm focus:border-rose-400 focus:outline-none"}),(0,b.jsx)("input",{type:"text",placeholder:"%",value:a.discountPercent,onChange:b=>{var c,d;return c=a.id,d=b.target.value,void bQ(c,a=>{let b=d.trim(),c=Number(b),e=b.length>0&&Number.isFinite(c)&&a.salesprice>0?N(a.salesprice*c/100):"";return{...a,discountPrice:e,discountPercent:d}})},className:"w-16 rounded-lg border border-rose-200 bg-white px-2 py-1.5 text-center text-sm focus:border-rose-400 focus:outline-none"})]})]})]}),(0,b.jsxs)("div",{className:"mt-3 flex items-center justify-between rounded-2xl border border-indigo-100 bg-indigo-50/40 px-3 py-2 text-sm font-semibold text-indigo-600",children:[(0,b.jsx)("span",{children:"à¸¢à¸­à¸”à¸ªà¸¸à¸—à¸˜à¸´"}),(0,b.jsx)("span",{children:M(R(a))})]})]},a.id))}),(0,b.jsxs)("div",{className:"mt-4 rounded-2xl border border-dashed border-indigo-200 bg-white/80 px-4 py-3 text-sm text-gray-600 shadow-inner",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs font-semibold uppercase tracking-wide text-gray-500",children:[(0,b.jsx)("span",{children:"à¸ªà¸£à¸¸à¸›à¸¢à¸­à¸”"}),(0,b.jsxs)("span",{children:[a7.length," à¸£à¸²à¸¢à¸à¸²à¸£"]})]}),(0,b.jsxs)("div",{className:"mt-2 space-y-1",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{children:"à¸£à¸§à¸¡à¸£à¸²à¸„à¸²à¸žà¸·à¹‰à¸™à¸à¸²à¸™"}),(0,b.jsx)("span",{className:"font-semibold text-gray-700",children:M(bS.baseTotal)})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{children:"à¸£à¸§à¸¡à¸„à¹ˆà¸² Charge"}),(0,b.jsx)("span",{className:"font-semibold text-gray-700",children:M(bS.chargeTotal)})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{children:"à¸£à¸§à¸¡à¸ªà¹ˆà¸§à¸™à¸¥à¸”"}),(0,b.jsx)("span",{className:"font-semibold text-gray-700",children:M(bS.discountTotal)})]}),(0,b.jsxs)("div",{className:"flex justify-between text-base font-semibold text-indigo-600",children:[(0,b.jsx)("span",{children:"à¸¢à¸­à¸”à¸ªà¸¸à¸—à¸˜à¸´à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”"}),(0,b.jsx)("span",{children:M(bS.netTotal)})]})]})]})]})})]}),(0,b.jsxs)("div",{className:"flex flex-col bg-white max-h-[65vh]",children:[(0,b.jsxs)("div",{className:"border-b px-6 py-4",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:"ðŸ“œ à¸£à¸²à¸¢à¸à¸²à¸£à¸šà¸£à¸´à¸à¸²à¸£"}),bR&&(0,b.jsx)("p",{className:"text-xs text-gray-500",children:bR.groupname})]}),(0,b.jsx)("div",{className:"px-6 py-3",children:(0,b.jsx)("div",{className:"relative",children:(0,b.jsx)("input",{type:"text",placeholder:"ðŸ” à¸„à¹‰à¸™à¸«à¸²à¸šà¸£à¸´à¸à¸²à¸£...",value:a5,onChange:a=>a6(a.target.value),className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-2.5 text-sm focus:border-indigo-400 focus:bg-white focus:outline-none focus:ring-2 focus:ring-indigo-100"})})}),(0,b.jsxs)("div",{className:"flex-1 overflow-y-auto px-6 pb-4",children:[a1&&(0,b.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,b.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-indigo-200 border-t-indigo-600"})}),a3&&(0,b.jsx)("p",{className:"py-4 text-center text-sm text-red-600",children:a3}),!a1&&!a3&&0===bV.length&&(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[(0,b.jsx)("div",{className:"mb-2 text-4xl",children:"ðŸ’­"}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:aZ?"à¹„à¸¡à¹ˆà¸žà¸šà¸£à¸²à¸¢à¸à¸²à¸£à¸šà¸£à¸´à¸à¸²à¸£":"à¹€à¸¥à¸·à¸­à¸à¸à¸¥à¸¸à¹ˆà¸¡à¸šà¸£à¸´à¸à¸²à¸£à¸à¹ˆà¸­à¸™"})]}),(0,b.jsx)("div",{className:"space-y-2",children:bV.map(a=>{let c=a7.some(b=>b.itemcode===a.itemcode);return(0,b.jsxs)("div",{className:`flex items-center justify-between rounded-xl border px-4 py-3 transition ${c?"border-emerald-200 bg-emerald-50":"border-gray-100 bg-gray-50 hover:border-indigo-200 hover:bg-indigo-50"}`,children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-gray-800",children:a.itemname}),(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:["à¸£à¸²à¸„à¸² ",M(a.saleprice)]})]}),(0,b.jsx)("button",{type:"button",onClick:()=>{a8(b=>b.some(b=>b.itemcode===a.itemcode)?b:[...b,{id:`${a.itemcode}-${Date.now()}`,itemcode:a.itemcode,itemname:a.itemname,salesprice:Q(a.saleprice),chargePrice:"",chargePercent:"",discountPrice:"",discountPercent:"",saleType:"20"}])},disabled:c,className:`rounded-full px-4 py-1.5 text-xs font-semibold transition ${c?"bg-emerald-200 text-emerald-700":"bg-gradient-to-r from-blue-500 to-indigo-500 text-white shadow hover:shadow-md"}`,children:c?"âœ“ à¹€à¸¥à¸·à¸­à¸à¹à¸¥à¹‰à¸§":"à¹€à¸žà¸´à¹ˆà¸¡"})]},a.itemcode)})})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between border-t bg-gray-50 px-8 py-4",children:[(0,b.jsxs)("p",{className:"text-sm text-gray-600",children:["à¹€à¸¥à¸·à¸­à¸à¹à¸¥à¹‰à¸§ ",(0,b.jsx)("span",{className:"font-bold text-indigo-600",children:a7.length})," à¸£à¸²à¸¢à¸à¸²à¸£",(0,b.jsx)("span",{className:"mx-2 hidden text-xs text-gray-400 md:inline",children:"Â·"}),(0,b.jsx)("span",{className:"mr-1",children:"à¸¢à¸­à¸”à¸ªà¸¸à¸—à¸˜à¸´"}),(0,b.jsx)("span",{className:"font-bold text-indigo-600",children:M(bS.netTotal)})]}),(0,b.jsx)("button",{type:"button",onClick:bP,disabled:bg||0===a7.length,className:"rounded-xl bg-gradient-to-r from-indigo-600 to-purple-600 px-6 py-2.5 font-semibold text-white shadow-lg transition hover:from-indigo-700 hover:to-purple-700 disabled:opacity-60 disabled:cursor-not-allowed",children:bg?"à¸à¸³à¸¥à¸±à¸‡à¸šà¸±à¸™à¸—à¸¶à¸à¸šà¸£à¸´à¸à¸²à¸£...":"à¹€à¸ªà¸£à¹‡à¸ˆà¸ªà¸´à¹‰à¸™"})]})]})}),bi&&(0,b.jsxs)("div",{className:"fixed inset-0 z-[65] flex items-center justify-center p-4",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-slate-900/60",onClick:bJ}),(0,b.jsxs)("div",{className:"relative z-10 w-full max-w-2xl rounded-2xl bg-white p-6 shadow-2xl",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between border-b pb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-lg font-semibold text-slate-800",children:"à¸›à¸£à¸°à¸§à¸±à¸•à¸´ b_saleitem"}),(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"à¹à¸ªà¸”à¸‡à¸£à¸²à¸¢à¸à¸²à¸£à¸£à¸§à¸¡à¸—à¸µà¹ˆà¹€à¸à¹‡à¸šà¹„à¸§à¹‰à¸ªà¸³à¸«à¸£à¸±à¸šà¸¥à¸¹à¸à¸„à¹‰à¸²à¸™à¸µà¹‰"})]}),(0,b.jsx)("button",{type:"button",onClick:bJ,className:"rounded-full p-2 text-slate-600 transition hover:bg-slate-100",children:(0,b.jsx)(j.X,{className:"h-4 w-4"})})]}),(0,b.jsx)("div",{className:"mt-4 space-y-3 max-h-[55vh] overflow-y-auto",children:0===ba.length?(0,b.jsx)("p",{className:"text-sm text-slate-500",children:"à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µà¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸à¸²à¸£à¸šà¸±à¸™à¸—à¸¶à¸à¹ƒà¸™à¸«à¸™à¹‰à¸²à¸•à¹ˆà¸²à¸‡à¸™à¸µà¹‰"}):(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"grid grid-cols-[120px_120px_1fr_96px] items-center gap-2 text-[11px] font-semibold uppercase text-slate-500",children:[(0,b.jsx)("span",{children:"à¸§à¸±à¸™à¸—à¸µà¹ˆ"}),(0,b.jsx)("span",{children:"à¹€à¸¥à¸‚à¸—à¸µà¹ˆà¹ƒà¸šà¹€à¸ªà¸£à¹‡à¸ˆ"}),(0,b.jsx)("span",{children:"à¸£à¸²à¸¢à¸à¸²à¸£"}),(0,b.jsx)("span",{className:"text-right",children:"à¸¢à¸­à¸”à¸ªà¸¸à¸—à¸˜à¸´"})]}),(0,b.jsx)("div",{className:"space-y-1",children:ba.map((a,c)=>(0,b.jsxs)("div",{className:"grid grid-cols-[120px_120px_1fr_96px] items-center gap-2 rounded-xl border border-slate-100 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:[(0,b.jsx)("span",{className:"text-[13px] font-medium text-slate-600",children:a.sale_date||"-"}),(0,b.jsx)("span",{className:"text-[13px] font-medium text-slate-600",children:a.receipt_no||"-"}),(0,b.jsx)("span",{className:"truncate",title:a.item_name,children:a.item_name||"-"}),(0,b.jsx)("span",{className:"text-right font-semibold text-slate-800",children:M(P(a.amount))})]},`${a.sale_date}-${a.receipt_no}-${c}`))})]})}),(0,b.jsx)("div",{className:"mt-5 flex justify-end",children:(0,b.jsx)("button",{type:"button",onClick:bJ,className:"rounded-xl border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 transition hover:bg-slate-50",children:"à¸›à¸´à¸”"})})]})]}),ah&&(0,b.jsxs)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-black/50",onClick:()=>ai(!1)}),(0,b.jsxs)("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-lg max-h-[80vh] overflow-hidden animate-slideUp",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 px-6 py-4 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(s.Calendar,{className:"w-6 h-6 text-white"}),(0,b.jsx)("h2",{className:"text-lg font-semibold text-white",children:"à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢"})]}),(0,b.jsx)("button",{onClick:()=>ai(!1),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:(0,b.jsx)(j.X,{className:"w-5 h-5 text-white"})})]}),(0,b.jsxs)("div",{className:"p-6 overflow-y-auto max-h-[calc(80vh-80px)] space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-2 text-sm text-slate-600",children:[(0,b.jsx)("p",{className:"text-base font-semibold text-slate-800",children:"à¸•à¸²à¸£à¸²à¸‡à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢"}),(0,b.jsx)("p",{className:"text-slate-500",children:"à¸à¸£à¸­à¸à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹€à¸žà¸·à¹ˆà¸­à¸ªà¸£à¹‰à¸²à¸‡à¹€à¸£à¸à¸„à¸­à¸£à¹Œà¸”à¹ƒà¸™à¸•à¸²à¸£à¸²à¸‡ `bjh_appointment` à¸žà¸£à¹‰à¸­à¸¡à¸œà¸¹à¸à¸à¸±à¸šà¸¥à¸¹à¸à¸„à¹‰à¸²à¸£à¸²à¸¢à¸™à¸µà¹‰"})]}),(0,b.jsxs)("div",{className:"space-y-3 rounded-2xl border border-slate-200 bg-slate-50 p-4",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"text-sm font-semibold text-slate-800",children:["à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢ (",ap.length,")"]}),(0,b.jsx)("p",{className:"text-[11px] text-slate-500",children:"à¹à¸ªà¸”à¸‡à¸£à¸²à¸¢à¸à¸²à¸£à¸¥à¹ˆà¸²à¸ªà¸¸à¸”à¸ˆà¸²à¸ `id_all` à¹€à¸”à¸µà¸¢à¸§à¸à¸±à¸™"})]}),(0,b.jsx)("button",{type:"button",onClick:bZ,className:"rounded-full border border-slate-300 px-3 py-1 text-xs font-semibold text-slate-600 hover:border-slate-400",children:"à¹€à¸žà¸´à¹ˆà¸¡à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢à¹ƒà¸«à¸¡à¹ˆ"})]}),ar?(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"à¸à¸³à¸¥à¸±à¸‡à¹‚à¸«à¸¥à¸”à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢..."}):at?(0,b.jsx)("p",{className:"text-xs text-rose-600",children:at}):0===ap.length?(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µà¸šà¸±à¸™à¸—à¸¶à¸à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢à¹ƒà¸™à¸£à¸°à¸šà¸š"}):(0,b.jsx)("div",{className:"space-y-2",children:ap.map((a,c)=>{let d=V(a,c),e=U(a.start_date),f=U(a.end_date),g=a.record_no?`Record No. ${a.record_no}`:a.appoint_code||"à¹„à¸¡à¹ˆà¸£à¸°à¸šà¸¸à¸£à¸«à¸±à¸ª",h=a.activity?String(a.activity):null,i=a.note?String(a.note):null;return(0,b.jsx)("div",{className:`rounded-2xl border bg-white px-3 py-3 shadow-sm transition ${av===d?"border-teal-300 ring-1 ring-teal-200":"border-slate-200"}`,children:(0,b.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-sm font-semibold text-slate-800",children:g}),(0,b.jsxs)("p",{className:"text-[11px] text-slate-500",children:["à¸§à¸±à¸™à¸™à¸±à¸” ",e," Â· à¸„à¸£à¸šà¸à¸³à¸«à¸™à¸” ",f]}),h&&(0,b.jsxs)("p",{className:"text-[11px] text-slate-500",children:["à¸à¸´à¸ˆà¸à¸£à¸£à¸¡: ",h]}),i&&(0,b.jsxs)("p",{className:"text-[11px] text-slate-500",children:["à¸«à¸¡à¸²à¸¢à¹€à¸«à¸•à¸¸: ",i]})]}),(0,b.jsx)("div",{className:"flex flex-col gap-2",children:(0,b.jsx)("button",{type:"button",disabled:!a.appoint_code,title:a.appoint_code?"à¹à¸à¹‰à¹„à¸‚à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢à¸™à¸µà¹‰":"à¸£à¸«à¸±à¸ªà¸™à¸±à¸”à¸«à¸¡à¸²à¸¢à¹„à¸¡à¹ˆà¸žà¸£à¹‰à¸­à¸¡",onClick:()=>b_(a,d),className:`rounded-full px-3 py-1 text-xs font-semibold transition ${a.appoint_code?"border border-slate-300 text-slate-600 hover:border-slate-400":"border border-slate-200 text-slate-400 cursor-not-allowed"}`,children:"à¹à¸à¹‰à¹„à¸‚à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢"})})]})},d)})})]}),W.map(a=>(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("p",{className:"text-sm font-semibold text-slate-700",children:a.title}),(0,b.jsx)("div",{className:`grid ${a.columns||"grid-cols-1 md:grid-cols-2"} gap-4`,children:a.fields.map(a=>{let c=T[a];if(!c)return null;let d=aj[a]||"",e="textarea"===c.type,f="date"===c.type?"date":"datetime-local"===c.type?"datetime-local":"tel"===c.type?"tel":"text";return(0,b.jsxs)("div",{className:`group ${c.fullWidth?"md:col-span-2":""}`,children:[(0,b.jsx)("label",{className:"block text-xs font-semibold uppercase tracking-wider text-slate-500 mb-1",children:c.label}),e?(0,b.jsx)("textarea",{rows:4,value:d,onChange:b=>bX(a,b.target.value),placeholder:c.placeholder,className:"w-full rounded-2xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 focus:border-slate-400 focus:outline-none focus:ring-2 focus:ring-cyan-100"}):(0,b.jsx)("input",{type:f,value:d,onChange:b=>bX(a,b.target.value),placeholder:c.placeholder,readOnly:c.readOnly,disabled:c.readOnly,className:`w-full px-4 py-3 border-2 rounded-2xl transition focus:border-cyan-400 focus:ring-2 focus:ring-cyan-100 outline-none text-gray-900 ${c.readOnly?"bg-slate-100 border-slate-200":"border-slate-200 bg-white"} disabled:cursor-not-allowed`})]},a)})})]},a.title)),an&&(0,b.jsx)("p",{className:"text-sm text-red-600",children:an}),(0,b.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,b.jsx)("button",{type:"button",onClick:()=>ai(!1),className:"px-5 py-2 border border-slate-300 rounded-xl text-slate-700 font-semibold hover:border-slate-400 transition",children:"à¸›à¸´à¸”"}),(0,b.jsx)("button",{type:"button",onClick:ca,disabled:al,className:"px-5 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl font-semibold shadow-lg transition hover:from-blue-700 hover:to-indigo-700 disabled:opacity-70 disabled:cursor-not-allowed",children:al?"à¸à¸³à¸¥à¸±à¸‡à¸šà¸±à¸™à¸—à¸¶à¸...":"à¸šà¸±à¸™à¸—à¸¶à¸à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢"})]})]})]})]})]})},$="https://raw.githubusercontent.com/kongvut/thai-province-data/refs/heads/master/api/latest",_=({isOpen:a,onClose:d,onSuccess:e})=>{let[f,g]=(0,c.useState)("contact"),[h,i]=(0,c.useState)(!1),[k,l]=(0,c.useState)({isOpen:!1,type:"success",title:"",message:""}),[u,v]=(0,c.useState)({status:"",prefix:"",name:"",surname:"",nickname:"",gender:"",star_flag:"",phone:"",email:"",lineid:"",facebook:"",country:"",source:"",interested_product:"",contact_staff:"",proposed_amount:"",got_contact_date:"",last_followup:"",next_followup:"",consult_date:"",booked_consult_date:"",surgery_date:"",booked_surgery_date:"",appointment_time:"",note:""}),[w,y]=(0,c.useState)({locno:"",province:"",amphur:"",tumbon:"",zipcode:""}),[z,A]=(0,c.useState)({weight:"",height:"",hasChronic:!1,chronicDiseaseDetail:"",hasDrugAllergy:!1,drugAllergyDetail:"",medicalConsent:"",acceptPdpa:"",acceptMedia:""}),[B,C]=(0,c.useState)([]),[D,E]=(0,c.useState)([]),[F,G]=(0,c.useState)([]),[H,I]=(0,c.useState)([]),[J,K]=(0,c.useState)([]),[L,M]=(0,c.useState)([]),[N,O]=(0,c.useState)([]),[P,Q]=(0,c.useState)([]),[R,S]=(0,c.useState)(null),[T,U]=(0,c.useState)(null),[V,W]=(0,c.useState)(null),[X,Y]=(0,c.useState)(!1),Z=[{value:"à¸•à¸´à¸”à¸•à¸²à¸¡à¸•à¹ˆà¸­à¹€à¸™à¸·à¹ˆà¸­à¸‡",label:"à¸•à¸´à¸”à¸•à¸²à¸¡à¸•à¹ˆà¸­à¹€à¸™à¸·à¹ˆà¸­à¸‡",color:"#FFD700"},{value:"à¸›à¸´à¸”à¸à¸²à¸£à¸‚à¸²à¸¢",label:"à¸›à¸´à¸”à¸à¸²à¸£à¸‚à¸²à¸¢",color:"#90EE90"},{value:"à¸¢à¸à¹€à¸¥à¸´à¸",label:"à¸¢à¸à¹€à¸¥à¸´à¸",color:"#FFB6C1"},{value:"à¸£à¸­à¸•à¸­à¸šà¸à¸¥à¸±à¸š",label:"à¸£à¸­à¸•à¸­à¸šà¸à¸¥à¸±à¸š",color:"#87CEEB"},{value:"à¹„à¸”à¹‰à¸™à¸±à¸” Consult",label:"à¹„à¸”à¹‰à¸™à¸±à¸” Consult",color:"#FFA500"},{value:"à¹„à¸”à¹‰à¸™à¸±à¸”à¸œà¹ˆà¸²à¸•à¸±à¸”",label:"à¹„à¸”à¹‰à¸™à¸±à¸”à¸œà¹ˆà¸²à¸•à¸±à¸”",color:"#FF6347"},{value:"à¸œà¹ˆà¸²à¸•à¸±à¸”à¹à¸¥à¹‰à¸§",label:"à¸œà¹ˆà¸²à¸•à¸±à¸”à¹à¸¥à¹‰à¸§",color:"#32CD32"}],_=[{value:"Facebook",label:"Facebook"},{value:"Instagram",label:"Instagram"},{value:"Google Ads",label:"Google Ads"},{value:"Line",label:"Line"},{value:"Walk-in",label:"Walk-in"},{value:"Referral",label:"Referral"}],aa=[{value:"à¸•à¸µà¸•à¸±à¸§à¹„à¸¥à¹ˆà¸•à¸±à¸§",label:"à¸•à¸µà¸•à¸±à¸§à¹„à¸¥à¹ˆà¸•à¸±à¸§"},{value:"Sub brow lift",label:"Sub brow lift"},{value:"à¹à¸à¹‰à¸•à¸²à¸«à¸¡à¸·à¹ˆà¸­à¸•à¸­à¸™à¹à¸¥à¸°à¹à¸à¹‰à¸§",label:"à¹à¸à¹‰à¸•à¸²à¸«à¸¡à¸·à¹ˆà¸­à¸•à¸­à¸™à¹à¸¥à¸°à¹à¸à¹‰à¸§"},{value:"à¸•à¸²à¸ªà¸­à¸‡à¸Šà¸±à¹‰à¸™",label:"à¸•à¸²à¸ªà¸­à¸‡à¸Šà¸±à¹‰à¸™"},{value:"à¹€à¸ªà¸£à¸´à¸¡à¸ˆà¸¡à¸¹à¸",label:"à¹€à¸ªà¸£à¸´à¸¡à¸ˆà¸¡à¸¹à¸"},{value:"à¹à¸à¹‰à¸ˆà¸¡à¸¹à¸",label:"à¹à¸à¹‰à¸ˆà¸¡à¸¹à¸"},{value:"à¹€à¸ªà¸£à¸´à¸¡à¸•à¸²à¸‚à¸²à¸§",label:"à¹€à¸ªà¸£à¸´à¸¡à¸•à¸²à¸‚à¸²à¸§"},{value:"à¸¥à¸´à¸Ÿà¸«à¸™à¹‰à¸²",label:"à¸¥à¸´à¸Ÿà¸«à¸™à¹‰à¸²"},{value:"Skin",label:"Skin"}],ab=[{value:"à¹„à¸—à¸¢",label:"à¹„à¸—à¸¢"},{value:"à¸ˆà¸µà¸™",label:"à¸ˆà¸µà¸™"},{value:"à¸à¸µà¹ˆà¸›à¸¸à¹ˆà¸™",label:"à¸à¸µà¹ˆà¸›à¸¸à¹ˆà¸™"},{value:"à¹€à¸à¸²à¸«à¸¥à¸µ",label:"à¹€à¸à¸²à¸«à¸¥à¸µ"},{value:"à¸ªà¸´à¸‡à¸„à¹‚à¸›à¸£à¹Œ",label:"à¸ªà¸´à¸‡à¸„à¹‚à¸›à¸£à¹Œ"},{value:"à¸¡à¸²à¹€à¸¥à¹€à¸‹à¸µà¸¢",label:"à¸¡à¸²à¹€à¸¥à¹€à¸‹à¸µà¸¢"},{value:"à¸­à¸´à¸™à¹‚à¸”à¸™à¸µà¹€à¸‹à¸µà¸¢",label:"à¸­à¸´à¸™à¹‚à¸”à¸™à¸µà¹€à¸‹à¸µà¸¢"},{value:"à¹€à¸§à¸µà¸¢à¸”à¸™à¸²à¸¡",label:"à¹€à¸§à¸µà¸¢à¸”à¸™à¸²à¸¡"},{value:"à¸Ÿà¸´à¸¥à¸´à¸›à¸›à¸´à¸™à¸ªà¹Œ",label:"à¸Ÿà¸´à¸¥à¸´à¸›à¸›à¸´à¸™à¸ªà¹Œ"},{value:"à¸žà¸¡à¹ˆà¸²",label:"à¸žà¸¡à¹ˆà¸²"},{value:"à¸­à¸·à¹ˆà¸™à¹†",label:"à¸­à¸·à¹ˆà¸™à¹†"}],ac=[{value:"à¹„à¸¡à¹ˆà¸£à¸°à¸šà¸¸",label:"à¹„à¸¡à¹ˆà¸£à¸°à¸šà¸¸"}];(0,c.useEffect)(()=>{if(!a)return;let b=async()=>{try{let a=await fetch("/api/source-options"),b=await a.json();b.success&&b.data?E(b.data):E(_)}catch(a){console.error("Failed to fetch source options:",a),E(_)}},c=async()=>{try{let a=await fetch("/api/product-options"),b=await a.json();b.success&&b.data?G(b.data):G(aa)}catch(a){console.error("Failed to fetch product options:",a),G(aa)}},d=async()=>{try{let a=await fetch("/api/country-options"),b=await a.json();b.success&&b.data?I(b.data):I(ab)}catch(a){console.error("Failed to fetch country options:",a),I(ab)}},e=async()=>{try{let a=await fetch("/api/n-staff"),b=await a.json();b.success&&b.data?K(b.data.map(a=>({value:a.nickname,label:a.nickname}))):K(ac)}catch(a){console.error("Failed to fetch contact person options:",a),K(ac)}};(async()=>{try{let a=await fetch("/api/status-options"),b=await a.json();b.success&&b.data?C(b.data):C(Z)}catch(a){console.error("Failed to fetch status options:",a),C(Z)}})(),b(),c(),d(),e()},[a]),(0,c.useEffect)(()=>{a&&(async()=>{Y(!0);try{let[a,b,c]=await Promise.all([fetch(`${$}/province.json`),fetch(`${$}/district.json`),fetch(`${$}/sub_district.json`)]);if(a.ok){let b=await a.json();M(b)}if(b.ok){let a=await b.json();O(a)}if(c.ok){let a=await c.json();Q(a)}}catch(a){console.error("Failed to fetch Thai address data:",a)}finally{Y(!1)}})()},[a]);let ad=R?N.filter(a=>a.province_id===R):[],ae=T?P.filter(a=>a.district_id===T):[],af=async()=>{let a=[];if(u.name.trim()||a.push("à¸Šà¸·à¹ˆà¸­"),u.status||a.push("à¸ªà¸–à¸²à¸™à¸°"),u.phone.trim()||a.push("à¹€à¸šà¸­à¸£à¹Œà¹‚à¸—à¸£"),u.gender||a.push("à¹€à¸žà¸¨"),u.source||a.push("à¹à¸«à¸¥à¹ˆà¸‡à¸—à¸µà¹ˆà¸¡à¸²"),u.interested_product||a.push("à¸œà¸¥à¸´à¸•à¸ à¸±à¸“à¸‘à¹Œà¸—à¸µà¹ˆà¸ªà¸™à¹ƒà¸ˆ"),a.length>0)return void l({isOpen:!0,type:"error",title:"à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹„à¸¡à¹ˆà¸„à¸£à¸š",message:`à¸à¸£à¸¸à¸“à¸²à¸à¸£à¸­à¸à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸—à¸µà¹ˆà¸ˆà¸³à¹€à¸›à¹‡à¸™: ${a.join(", ")}`});i(!0);try{let a={prefix:u.prefix,name:u.name,surname:u.surname,nickname:u.nickname,gender:u.gender,star_flag:+("à¸•à¸´à¸”à¸”à¸²à¸§"===u.star_flag),status:u.status,phone:u.phone,email:u.email,lineid:u.lineid,facebook:u.facebook,country:u.country,source:u.source,interested_product:u.interested_product,contact_staff:u.contact_staff,proposed_amount:u.proposed_amount||null,got_contact_date:u.got_contact_date||null,last_followup:u.last_followup||null,next_followup:u.next_followup||null,consult_date:u.consult_date||null,booked_consult_date:u.booked_consult_date||null,surgery_date:u.surgery_date||null,booked_surgery_date:u.booked_surgery_date||null,appointment_time:u.appointment_time||null,note:u.note,locno:w.locno,province:w.province,amphur:w.amphur,tumbon:w.tumbon,zipcode:w.zipcode},b=await fetch("/api/customer-add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!b.ok){let a=await b.json();throw Error(a.error||"Failed to save customer")}l({isOpen:!0,type:"success",title:"à¸ªà¸³à¹€à¸£à¹‡à¸ˆ",message:"à¸šà¸±à¸™à¸—à¸¶à¸à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸¥à¸¹à¸à¸„à¹‰à¸²à¹€à¸£à¸µà¸¢à¸šà¸£à¹‰à¸­à¸¢à¹à¸¥à¹‰à¸§"}),v({status:"",prefix:"",name:"",surname:"",nickname:"",gender:"",star_flag:"",phone:"",email:"",lineid:"",facebook:"",country:"",source:"",interested_product:"",contact_staff:"",proposed_amount:"",got_contact_date:"",last_followup:"",next_followup:"",consult_date:"",booked_consult_date:"",surgery_date:"",booked_surgery_date:"",appointment_time:"",note:""}),y({locno:"",province:"",amphur:"",tumbon:"",zipcode:""}),g("contact"),setTimeout(()=>{e()},1500)}catch(a){l({isOpen:!0,type:"error",title:"à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”",message:a.message||"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸šà¸±à¸™à¸—à¸¶à¸à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹„à¸”à¹‰"})}finally{i(!1)}};if(!a)return null;let ag=[{id:"contact",label:"Contact Information",icon:t.User},{id:"opd",label:"OPD",icon:p.FileText},{id:"consent",label:"Consent",icon:q},{id:"service",label:"à¸šà¸£à¸´à¸à¸²à¸£",icon:r.Briefcase},{id:"appointment",label:"à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢",icon:s.Calendar}];return(0,b.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fadeIn",children:[(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-h-[90vh] overflow-hidden w-full max-w-4xl animate-slideUp transform transition-all",children:[(0,b.jsxs)("div",{className:"sticky top-0 bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-500 z-10 shadow-lg",children:[(0,b.jsx)("div",{className:"absolute top-3 right-3",children:(0,b.jsx)("button",{onClick:d,className:"p-2 hover:bg-white hover:bg-opacity-20 rounded-xl transition-all duration-200 group",children:(0,b.jsx)(j.X,{className:"w-5 h-5 text-white group-hover:rotate-90 transition-transform duration-200"})})}),(0,b.jsx)("div",{className:"flex justify-center items-center gap-1 sm:gap-2 px-4 py-4",children:ag.map(a=>(0,b.jsxs)("button",{onClick:()=>g(a.id),className:`flex flex-col sm:flex-row items-center justify-center gap-1 px-3 sm:px-4 py-2 sm:py-2.5 ${f===a.id?"bg-white/30 shadow-inner":"bg-white/10 hover:bg-white/20"} text-white rounded-xl transition-all duration-200 min-w-[60px] sm:min-w-[80px]`,title:a.label,children:[(0,b.jsx)(a.icon,{className:"w-5 h-5"}),(0,b.jsx)("span",{className:"text-xs sm:text-sm font-medium hidden sm:block",children:a.label})]},a.id))})]}),(0,b.jsx)("div",{className:"overflow-y-auto",style:{maxHeight:"calc(90vh - 180px)"},children:(0,b.jsxs)("div",{className:"p-6 space-y-6",children:["contact"===f&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-cyan-50 to-blue-50 rounded-xl p-6 border border-cyan-100 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)("div",{className:"w-1 h-6 bg-gradient-to-b from-cyan-500 to-blue-500 rounded-full"}),(0,b.jsx)("h2",{className:"text-lg font-bold bg-gradient-to-r from-cyan-600 to-blue-600 bg-clip-text text-transparent",children:"à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ªà¹ˆà¸§à¸™à¸•à¸±à¸§"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{className:"group",children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["à¸ªà¸–à¸²à¸™à¸° ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsxs)("select",{value:u.status,onChange:a=>v(b=>({...b,status:a.target.value})),className:`w-full pl-4 pr-8 py-3 border-2 ${!u.status?"border-red-300":"border-cyan-200"} bg-white rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-transparent outline-none cursor-pointer`,children:[(0,b.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸à¸ªà¸–à¸²à¸™à¸°"}),B.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))]})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸„à¸³à¸™à¸³à¸«à¸™à¹‰à¸²"}),(0,b.jsxs)("select",{value:u.prefix,onChange:a=>v(b=>({...b,prefix:a.target.value})),className:"w-full pl-4 pr-8 py-3 border-2 border-cyan-200 bg-white rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-transparent outline-none cursor-pointer",children:[(0,b.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸à¸„à¸³à¸™à¸³à¸«à¸™à¹‰à¸²"}),(0,b.jsx)("option",{value:"à¸™à¸²à¸¢",children:"à¸™à¸²à¸¢"}),(0,b.jsx)("option",{value:"à¸™à¸²à¸‡",children:"à¸™à¸²à¸‡"}),(0,b.jsx)("option",{value:"à¸™à¸²à¸‡à¸ªà¸²à¸§",children:"à¸™à¸²à¸‡à¸ªà¸²à¸§"}),(0,b.jsx)("option",{value:"Mr.",children:"Mr."}),(0,b.jsx)("option",{value:"Mrs.",children:"Mrs."}),(0,b.jsx)("option",{value:"Ms.",children:"Ms."})]})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["à¸Šà¸·à¹ˆà¸­ ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"text",value:u.name,onChange:a=>v(b=>({...b,name:a.target.value})),className:`w-full px-4 py-3 border-2 ${!u.name.trim()?"border-red-300":"border-cyan-200"} bg-white rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-transparent outline-none`,placeholder:"à¸à¸£à¸­à¸à¸Šà¸·à¹ˆà¸­"})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸™à¸²à¸¡à¸ªà¸à¸¸à¸¥"}),(0,b.jsx)("input",{type:"text",value:u.surname,onChange:a=>v(b=>({...b,surname:a.target.value})),className:"w-full px-4 py-3 border-2 border-cyan-200 bg-white rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-transparent outline-none",placeholder:"à¸à¸£à¸­à¸à¸™à¸²à¸¡à¸ªà¸à¸¸à¸¥"})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸Šà¸·à¹ˆà¸­à¹€à¸¥à¹ˆà¸™"}),(0,b.jsx)("input",{type:"text",value:u.nickname,onChange:a=>v(b=>({...b,nickname:a.target.value})),className:"w-full px-4 py-3 border-2 border-cyan-200 bg-white rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-transparent outline-none",placeholder:"à¸à¸£à¸­à¸à¸Šà¸·à¹ˆà¸­à¹€à¸¥à¹ˆà¸™"})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["à¹€à¸žà¸¨ ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsxs)("select",{value:u.gender,onChange:a=>v(b=>({...b,gender:a.target.value})),className:`w-full pl-4 pr-8 py-3 border-2 ${!u.gender?"border-red-300":"border-cyan-200"} bg-white rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-transparent outline-none cursor-pointer`,children:[(0,b.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸à¹€à¸žà¸¨"}),(0,b.jsx)("option",{value:"à¸Šà¸²à¸¢",children:"à¸Šà¸²à¸¢"}),(0,b.jsx)("option",{value:"à¸«à¸à¸´à¸‡",children:"à¸«à¸à¸´à¸‡"}),(0,b.jsx)("option",{value:"à¸­à¸·à¹ˆà¸™à¹†",children:"à¸­à¸·à¹ˆà¸™à¹†"})]})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸•à¸´à¸”à¸”à¸²à¸§"}),(0,b.jsxs)("button",{type:"button",onClick:()=>v(a=>({...a,star_flag:"à¸•à¸´à¸”à¸”à¸²à¸§"===a.star_flag?"":"à¸•à¸´à¸”à¸”à¸²à¸§"})),className:"w-full px-4 py-3 border-2 border-cyan-200 bg-white rounded-xl hover:border-cyan-300 transition-all duration-200 flex items-center justify-center gap-2",children:[(0,b.jsx)(o.Star,{className:`w-6 h-6 ${"à¸•à¸´à¸”à¸”à¸²à¸§"===u.star_flag?"fill-yellow-400 text-yellow-400":"text-gray-400"}`}),(0,b.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"à¸•à¸´à¸”à¸”à¸²à¸§"===u.star_flag?"à¸•à¸´à¸”à¸”à¸²à¸§à¹à¸¥à¹‰à¸§":"à¸„à¸¥à¸´à¸à¹€à¸žà¸·à¹ˆà¸­à¸•à¸´à¸”à¸”à¸²à¸§"})]})]})]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 rounded-xl p-6 border border-indigo-100 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)("div",{className:"w-1 h-6 bg-gradient-to-b from-indigo-500 to-purple-500 rounded-full"}),(0,b.jsx)("h2",{className:"text-lg font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸•à¸´à¸”à¸•à¹ˆà¸­"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"group",children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["à¹€à¸šà¸­à¸£à¹Œà¹‚à¸—à¸£ ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"tel",value:u.phone,onChange:a=>v(b=>({...b,phone:a.target.value})),className:`w-full px-4 py-3 border-2 ${!u.phone.trim()?"border-red-300":"border-indigo-200"} bg-white rounded-xl focus:ring-2 focus:ring-indigo-400 focus:border-transparent outline-none`,placeholder:"à¸à¸£à¸­à¸à¹€à¸šà¸­à¸£à¹Œà¹‚à¸—à¸£"})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸­à¸µà¹€à¸¡à¸¥"}),(0,b.jsx)("input",{type:"email",value:u.email,onChange:a=>v(b=>({...b,email:a.target.value})),className:"w-full px-4 py-3 border-2 border-indigo-200 bg-white rounded-xl focus:ring-2 focus:ring-indigo-400 focus:border-transparent outline-none",placeholder:"à¸à¸£à¸­à¸à¸­à¸µà¹€à¸¡à¸¥"})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¹„à¸¥à¸™à¹Œà¹„à¸­à¸”à¸µ"}),(0,b.jsx)("input",{type:"text",value:u.lineid,onChange:a=>v(b=>({...b,lineid:a.target.value})),className:"w-full px-4 py-3 border-2 border-indigo-200 bg-white rounded-xl focus:ring-2 focus:ring-indigo-400 focus:border-transparent outline-none",placeholder:"à¸à¸£à¸­à¸à¹„à¸¥à¸™à¹Œà¹„à¸­à¸”à¸µ"})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¹€à¸Ÿà¸ªà¸šà¸¸à¹Šà¸„"}),(0,b.jsx)("input",{type:"text",value:u.facebook,onChange:a=>v(b=>({...b,facebook:a.target.value})),className:"w-full px-4 py-3 border-2 border-indigo-200 bg-white rounded-xl focus:ring-2 focus:ring-indigo-400 focus:border-transparent outline-none",placeholder:"à¸à¸£à¸­à¸à¹€à¸Ÿà¸ªà¸šà¸¸à¹Šà¸„"})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸›à¸£à¸°à¹€à¸—à¸¨"}),(0,b.jsxs)("select",{value:u.country,onChange:a=>v(b=>({...b,country:a.target.value})),className:"w-full pl-4 pr-8 py-3 border-2 border-indigo-200 bg-white rounded-xl focus:ring-2 focus:ring-indigo-400 focus:border-transparent outline-none cursor-pointer",children:[(0,b.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸à¸›à¸£à¸°à¹€à¸—à¸¨"}),H.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))]})]})]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-emerald-50 to-teal-50 rounded-xl p-6 border border-emerald-100 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)("div",{className:"w-1 h-6 bg-gradient-to-b from-emerald-500 to-teal-500 rounded-full"}),(0,b.jsx)("h2",{className:"text-lg font-bold bg-gradient-to-r from-emerald-600 to-teal-600 bg-clip-text text-transparent",children:"à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸˜à¸¸à¸£à¸à¸´à¸ˆ"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{className:"group",children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["à¹à¸«à¸¥à¹ˆà¸‡à¸—à¸µà¹ˆà¸¡à¸² ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsxs)("select",{value:u.source,onChange:a=>v(b=>({...b,source:a.target.value})),className:`w-full pl-4 pr-8 py-3 border-2 ${!u.source?"border-red-300":"border-emerald-200"} bg-white rounded-xl focus:ring-2 focus:ring-emerald-400 focus:border-transparent outline-none cursor-pointer`,children:[(0,b.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸à¹à¸«à¸¥à¹ˆà¸‡à¸—à¸µà¹ˆà¸¡à¸²"}),D.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))]})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["à¸œà¸¥à¸´à¸•à¸ à¸±à¸“à¸‘à¹Œà¸—à¸µà¹ˆà¸ªà¸™à¹ƒà¸ˆ ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsxs)("select",{value:u.interested_product,onChange:a=>v(b=>({...b,interested_product:a.target.value})),className:`w-full pl-4 pr-8 py-3 border-2 ${!u.interested_product?"border-red-300":"border-emerald-200"} bg-white rounded-xl focus:ring-2 focus:ring-emerald-400 focus:border-transparent outline-none cursor-pointer`,children:[(0,b.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸à¸œà¸¥à¸´à¸•à¸ à¸±à¸“à¸‘à¹Œ"}),F.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))]})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸œà¸¹à¹‰à¸•à¸´à¸”à¸•à¹ˆà¸­"}),(0,b.jsxs)("select",{value:u.contact_staff,onChange:a=>v(b=>({...b,contact_staff:a.target.value})),className:"w-full pl-4 pr-8 py-3 border-2 border-emerald-200 bg-white rounded-xl focus:ring-2 focus:ring-emerald-400 focus:border-transparent outline-none cursor-pointer",children:[(0,b.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸à¸œà¸¹à¹‰à¸•à¸´à¸”à¸•à¹ˆà¸­"}),J.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))]})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸¢à¸­à¸”à¸™à¸³à¹€à¸ªà¸™à¸­"}),(0,b.jsx)("input",{type:"number",value:u.proposed_amount,onChange:a=>v(b=>({...b,proposed_amount:a.target.value})),className:"w-full px-4 py-3 border-2 border-emerald-200 bg-white rounded-xl focus:ring-2 focus:ring-emerald-400 focus:border-transparent outline-none",placeholder:"à¸à¸£à¸­à¸à¸¢à¸­à¸”à¸™à¸³à¹€à¸ªà¸™à¸­"})]})]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-cyan-50 to-blue-50 rounded-xl p-6 border border-cyan-100 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)("div",{className:"w-1 h-6 bg-gradient-to-b from-cyan-500 to-blue-500 rounded-full"}),(0,b.jsx)("h2",{className:"text-lg font-bold bg-gradient-to-r from-cyan-600 to-blue-600 bg-clip-text text-transparent",children:"à¸§à¸±à¸™à¸—à¸µà¹ˆà¸•à¸´à¸”à¸•à¸²à¸¡"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"group",children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,b.jsx)("span",{children:"ðŸ“…"})," à¸§à¸±à¸™à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸Šà¸·à¹ˆà¸­ à¹€à¸šà¸­à¸£à¹Œ"]}),(0,b.jsx)("input",{type:"date",value:u.got_contact_date,onChange:a=>v(b=>({...b,got_contact_date:a.target.value})),className:"w-full px-4 py-3 border-2 border-cyan-200 bg-white rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-transparent outline-none cursor-pointer"})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,b.jsx)("span",{children:"ðŸ“…"})," à¸§à¸±à¸™à¸—à¸µà¹ˆà¸•à¸´à¸”à¸•à¸²à¸¡à¸„à¸£à¸±à¹‰à¸‡à¸¥à¹ˆà¸²à¸ªà¸¸à¸”"]}),(0,b.jsx)("input",{type:"date",value:u.last_followup,onChange:a=>v(b=>({...b,last_followup:a.target.value})),className:"w-full px-4 py-3 border-2 border-cyan-200 bg-white rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-transparent outline-none cursor-pointer"})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,b.jsx)("span",{children:"ðŸ“…"})," à¸§à¸±à¸™à¸—à¸µà¹ˆà¸•à¸´à¸”à¸•à¸²à¸¡à¸„à¸£à¸±à¹‰à¸‡à¸–à¸±à¸”à¹„à¸›"]}),(0,b.jsx)("input",{type:"date",value:u.next_followup,onChange:a=>v(b=>({...b,next_followup:a.target.value})),className:"w-full px-4 py-3 border-2 border-cyan-200 bg-white rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-transparent outline-none cursor-pointer"})]})]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-violet-50 rounded-xl p-6 border border-purple-100 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)("div",{className:"w-1 h-6 bg-gradient-to-b from-purple-500 to-violet-500 rounded-full"}),(0,b.jsx)("h2",{className:"text-lg font-bold bg-gradient-to-r from-purple-600 to-violet-600 bg-clip-text text-transparent",children:"à¸§à¸±à¸™à¸—à¸µà¹ˆ Consult"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"group",children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,b.jsx)("span",{children:"ðŸ“…"})," à¸§à¸±à¸™à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸™à¸±à¸” consult"]}),(0,b.jsx)("input",{type:"date",value:u.booked_consult_date,onChange:a=>v(b=>({...b,booked_consult_date:a.target.value})),className:"w-full px-4 py-3 border-2 border-purple-200 bg-white rounded-xl focus:ring-2 focus:ring-purple-400 focus:border-transparent outline-none cursor-pointer"})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,b.jsx)("span",{children:"ðŸ“…"})," à¸§à¸±à¸™à¸—à¸µà¹ˆ Consult"]}),(0,b.jsx)("input",{type:"date",value:u.consult_date,onChange:a=>v(b=>({...b,consult_date:a.target.value})),className:"w-full px-4 py-3 border-2 border-purple-200 bg-white rounded-xl focus:ring-2 focus:ring-purple-400 focus:border-transparent outline-none cursor-pointer"})]})]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-rose-50 to-pink-50 rounded-xl p-6 border border-rose-100 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)("div",{className:"w-1 h-6 bg-gradient-to-b from-rose-500 to-pink-500 rounded-full"}),(0,b.jsx)("h2",{className:"text-lg font-bold bg-gradient-to-r from-rose-600 to-pink-600 bg-clip-text text-transparent",children:"à¸§à¸±à¸™à¸—à¸µà¹ˆà¸œà¹ˆà¸²à¸•à¸±à¸”"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"group",children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,b.jsx)("span",{children:"ðŸ“…"})," à¸§à¸±à¸™à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸™à¸±à¸”à¸œà¹ˆà¸²à¸•à¸±à¸”"]}),(0,b.jsx)("input",{type:"date",value:u.booked_surgery_date,onChange:a=>v(b=>({...b,booked_surgery_date:a.target.value})),className:"w-full px-4 py-3 border-2 border-rose-200 bg-white rounded-xl focus:ring-2 focus:ring-rose-400 focus:border-transparent outline-none cursor-pointer"})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,b.jsx)("span",{children:"ðŸ“…"})," à¸§à¸±à¸™à¸—à¸µà¹ˆà¸œà¹ˆà¸²à¸•à¸±à¸”"]}),(0,b.jsx)("input",{type:"date",value:u.surgery_date,onChange:a=>v(b=>({...b,surgery_date:a.target.value})),className:"w-full px-4 py-3 border-2 border-rose-200 bg-white rounded-xl focus:ring-2 focus:ring-rose-400 focus:border-transparent outline-none cursor-pointer"})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,b.jsx)("span",{children:"â°"})," à¹€à¸§à¸¥à¸²à¸—à¸µà¹ˆà¸™à¸±à¸”"]}),(0,b.jsx)("input",{type:"time",value:u.appointment_time,onChange:a=>v(b=>({...b,appointment_time:a.target.value})),className:"w-full px-4 py-3 border-2 border-rose-200 bg-white rounded-xl focus:ring-2 focus:ring-rose-400 focus:border-transparent outline-none cursor-pointer"})]})]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-amber-50 to-yellow-50 rounded-xl p-6 border border-amber-100 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)("div",{className:"w-1 h-6 bg-gradient-to-b from-amber-500 to-yellow-500 rounded-full"}),(0,b.jsx)("h2",{className:"text-lg font-bold bg-gradient-to-r from-amber-600 to-yellow-600 bg-clip-text text-transparent",children:"à¸«à¸¡à¸²à¸¢à¹€à¸«à¸•à¸¸"})]}),(0,b.jsx)("textarea",{value:u.note,onChange:a=>v(b=>({...b,note:a.target.value})),className:"w-full px-4 py-3 border-2 border-amber-200 bg-white rounded-xl focus:ring-2 focus:ring-amber-400 focus:border-transparent outline-none min-h-[120px] resize-none",placeholder:"ðŸ“ à¸žà¸´à¸¡à¸žà¹Œà¸«à¸¡à¸²à¸¢à¹€à¸«à¸•à¸¸..."})]})]}),"opd"===f&&(0,b.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-100 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)("div",{className:"w-1 h-6 bg-gradient-to-b from-blue-500 to-indigo-500 rounded-full"}),(0,b.jsx)("h2",{className:"text-lg font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ OPD - à¸—à¸µà¹ˆà¸­à¸¢à¸¹à¹ˆ"})]}),X&&(0,b.jsx)("p",{className:"text-xs text-emerald-600 mb-4",children:"à¸à¸³à¸¥à¸±à¸‡à¹‚à¸«à¸¥à¸”à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”/à¸­à¸³à¹€à¸ à¸­/à¸•à¸³à¸šà¸¥..."}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸šà¹‰à¸²à¸™à¹€à¸¥à¸‚à¸—à¸µà¹ˆ"}),(0,b.jsx)("input",{type:"text",value:w.locno,onChange:a=>y(b=>({...b,locno:a.target.value})),className:"w-full px-4 py-3 border-2 border-blue-200 bg-white rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-transparent outline-none",placeholder:"à¸£à¸°à¸šà¸¸à¸šà¹‰à¸²à¸™à¹€à¸¥à¸‚à¸—à¸µà¹ˆ"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”"}),(0,b.jsxs)("select",{value:R?String(R):"",onChange:a=>{var b;let c,d;return S(c=(b=a.target.value)?parseInt(b):null),U(null),W(null),d=L.find(a=>a.id===c),void y(a=>({...a,province:d?.name_th||"",amphur:"",tumbon:"",zipcode:""}))},className:"w-full pl-4 pr-8 py-3 border-2 border-blue-200 bg-white rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-transparent outline-none cursor-pointer",children:[(0,b.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”"}),L.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name_th},a.id))]})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸­à¸³à¹€à¸ à¸­ / à¹€à¸‚à¸•"}),(0,b.jsxs)("select",{value:T?String(T):"",onChange:a=>{var b;let c,d;return U(c=(b=a.target.value)?parseInt(b):null),W(null),d=N.find(a=>a.id===c),void y(a=>({...a,amphur:d?.name_th||"",tumbon:"",zipcode:""}))},disabled:!ad.length,className:"w-full pl-4 pr-8 py-3 border-2 border-blue-200 bg-white rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-transparent outline-none cursor-pointer disabled:bg-gray-100",children:[(0,b.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸à¸­à¸³à¹€à¸ à¸­ / à¹€à¸‚à¸•"}),ad.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name_th},a.id))]})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸•à¸³à¸šà¸¥ / à¹à¸‚à¸§à¸‡"}),(0,b.jsxs)("select",{value:V?String(V):"",onChange:a=>{var b;let c,d;return W(c=(b=a.target.value)?parseInt(b):null),d=P.find(a=>a.id===c),void y(a=>({...a,tumbon:d?.name_th||"",zipcode:d?.zip_code?.toString()||""}))},disabled:!ae.length,className:"w-full pl-4 pr-8 py-3 border-2 border-blue-200 bg-white rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-transparent outline-none cursor-pointer disabled:bg-gray-100",children:[(0,b.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸à¸•à¸³à¸šà¸¥ / à¹à¸‚à¸§à¸‡"}),ae.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name_th},a.id))]})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸£à¸«à¸±à¸ªà¹„à¸›à¸£à¸©à¸“à¸µà¸¢à¹Œ"}),(0,b.jsx)("input",{type:"text",value:w.zipcode,readOnly:!0,className:"w-full px-4 py-3 border-2 border-blue-200 bg-gray-100 rounded-xl outline-none text-gray-700",placeholder:"à¸£à¸«à¸±à¸ªà¹„à¸›à¸£à¸©à¸“à¸µà¸¢à¹Œ (à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´)"})]})]})]})]}),"consent"===f&&(0,b.jsxs)("div",{className:"bg-gradient-to-br from-emerald-50 to-teal-50 rounded-xl p-6 border border-emerald-100 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)("div",{className:"w-1 h-6 bg-gradient-to-b from-emerald-500 to-teal-500 rounded-full"}),(0,b.jsx)("h2",{className:"text-lg font-bold bg-gradient-to-r from-emerald-600 to-teal-600 bg-clip-text text-transparent",children:"Consent Form"})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸™à¹‰à¸³à¸«à¸™à¸±à¸ (kg)"}),(0,b.jsx)("input",{type:"text",value:z.weight,onChange:a=>A(b=>({...b,weight:a.target.value})),className:"w-full px-4 py-3 border-2 border-emerald-200 bg-white rounded-xl focus:ring-2 focus:ring-emerald-400 focus:border-transparent outline-none",placeholder:"à¸£à¸°à¸šà¸¸à¸™à¹‰à¸³à¸«à¸™à¸±à¸"})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸ªà¹ˆà¸§à¸™à¸ªà¸¹à¸‡ (cm)"}),(0,b.jsx)("input",{type:"text",value:z.height,onChange:a=>A(b=>({...b,height:a.target.value})),className:"w-full px-4 py-3 border-2 border-emerald-200 bg-white rounded-xl focus:ring-2 focus:ring-emerald-400 focus:border-transparent outline-none",placeholder:"à¸£à¸°à¸šà¸¸à¸ªà¹ˆà¸§à¸™à¸ªà¸¹à¸‡"})]})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsxs)("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[(0,b.jsx)("input",{type:"checkbox",checked:z.hasChronic,onChange:a=>A(b=>({...b,hasChronic:a.target.checked})),className:"w-4 h-4 rounded border-gray-300 text-emerald-500 focus:ring-emerald-400"}),"à¸¡à¸µà¹‚à¸£à¸„à¸›à¸£à¸°à¸ˆà¸³à¸•à¸±à¸§"]}),z.hasChronic&&(0,b.jsx)("input",{type:"text",value:z.chronicDiseaseDetail,onChange:a=>A(b=>({...b,chronicDiseaseDetail:a.target.value})),className:"w-full px-4 py-3 border-2 border-emerald-200 bg-white rounded-xl focus:ring-2 focus:ring-emerald-400 focus:border-transparent outline-none mt-2",placeholder:"à¸£à¸°à¸šà¸¸à¹‚à¸£à¸„à¸›à¸£à¸°à¸ˆà¸³à¸•à¸±à¸§"})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsxs)("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[(0,b.jsx)("input",{type:"checkbox",checked:z.hasDrugAllergy,onChange:a=>A(b=>({...b,hasDrugAllergy:a.target.checked})),className:"w-4 h-4 rounded border-gray-300 text-emerald-500 focus:ring-emerald-400"}),"à¸¡à¸µà¸›à¸£à¸°à¸§à¸±à¸•à¸´à¹à¸žà¹‰à¸¢à¸²"]}),z.hasDrugAllergy&&(0,b.jsx)("input",{type:"text",value:z.drugAllergyDetail,onChange:a=>A(b=>({...b,drugAllergyDetail:a.target.value})),className:"w-full px-4 py-3 border-2 border-emerald-200 bg-white rounded-xl focus:ring-2 focus:ring-emerald-400 focus:border-transparent outline-none mt-2",placeholder:"à¸£à¸°à¸šà¸¸à¸¢à¸²à¸—à¸µà¹ˆà¹à¸žà¹‰"})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸¢à¸´à¸™à¸¢à¸­à¸¡à¸£à¸±à¸šà¸à¸²à¸£à¸£à¸±à¸à¸©à¸²"}),(0,b.jsxs)("select",{value:z.medicalConsent,onChange:a=>A(b=>({...b,medicalConsent:a.target.value})),className:"w-full px-4 py-3 border-2 border-emerald-200 bg-white rounded-xl focus:ring-2 focus:ring-emerald-400 focus:border-transparent outline-none cursor-pointer",children:[(0,b.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸"}),(0,b.jsx)("option",{value:"à¸¢à¸´à¸™à¸¢à¸­à¸¡",children:"à¸¢à¸´à¸™à¸¢à¸­à¸¡"}),(0,b.jsx)("option",{value:"à¹„à¸¡à¹ˆà¸¢à¸´à¸™à¸¢à¸­à¸¡",children:"à¹„à¸¡à¹ˆà¸¢à¸´à¸™à¸¢à¸­à¸¡"})]})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸¢à¸­à¸¡à¸£à¸±à¸š PDPA"}),(0,b.jsxs)("select",{value:z.acceptPdpa,onChange:a=>A(b=>({...b,acceptPdpa:a.target.value})),className:"w-full px-4 py-3 border-2 border-emerald-200 bg-white rounded-xl focus:ring-2 focus:ring-emerald-400 focus:border-transparent outline-none cursor-pointer",children:[(0,b.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸"}),(0,b.jsx)("option",{value:"à¸¢à¸­à¸¡à¸£à¸±à¸š",children:"à¸¢à¸­à¸¡à¸£à¸±à¸š"}),(0,b.jsx)("option",{value:"à¹„à¸¡à¹ˆà¸¢à¸­à¸¡à¸£à¸±à¸š",children:"à¹„à¸¡à¹ˆà¸¢à¸­à¸¡à¸£à¸±à¸š"})]})]}),(0,b.jsxs)("div",{className:"group",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"à¸¢à¸´à¸™à¸¢à¸­à¸¡à¹€à¸œà¸¢à¹à¸žà¸£à¹ˆà¸ªà¸·à¹ˆà¸­"}),(0,b.jsxs)("select",{value:z.acceptMedia,onChange:a=>A(b=>({...b,acceptMedia:a.target.value})),className:"w-full px-4 py-3 border-2 border-emerald-200 bg-white rounded-xl focus:ring-2 focus:ring-emerald-400 focus:border-transparent outline-none cursor-pointer",children:[(0,b.jsx)("option",{value:"",children:"à¹€à¸¥à¸·à¸­à¸"}),(0,b.jsx)("option",{value:"à¸¢à¸­à¸¡à¸£à¸±à¸š",children:"à¸¢à¸­à¸¡à¸£à¸±à¸š"}),(0,b.jsx)("option",{value:"à¹„à¸¡à¹ˆà¸¢à¸­à¸¡à¸£à¸±à¸š",children:"à¹„à¸¡à¹ˆà¸¢à¸­à¸¡à¸£à¸±à¸š"})]})]})]})]}),"service"===f&&(0,b.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-6 border border-purple-100 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)("div",{className:"w-1 h-6 bg-gradient-to-b from-purple-500 to-pink-500 rounded-full"}),(0,b.jsx)("h2",{className:"text-lg font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"à¸šà¸£à¸´à¸à¸²à¸£"})]}),(0,b.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,b.jsx)(r.Briefcase,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),(0,b.jsx)("p",{className:"text-lg font-medium",children:"à¸à¸£à¸¸à¸“à¸²à¸šà¸±à¸™à¸—à¸¶à¸à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸¥à¸¹à¸à¸„à¹‰à¸²à¸à¹ˆà¸­à¸™"}),(0,b.jsx)("p",{className:"text-sm mt-2",children:"à¸«à¸¥à¸±à¸‡à¸ˆà¸²à¸à¸šà¸±à¸™à¸—à¸¶à¸à¹à¸¥à¹‰à¸§ à¸ªà¸²à¸¡à¸²à¸£à¸–à¹€à¸žà¸´à¹ˆà¸¡à¸šà¸£à¸´à¸à¸²à¸£à¹„à¸”à¹‰à¹ƒà¸™à¸«à¸™à¹‰à¸²à¹à¸à¹‰à¹„à¸‚à¸‚à¹‰à¸­à¸¡à¸¹à¸¥"})]})]}),"appointment"===f&&(0,b.jsxs)("div",{className:"bg-gradient-to-br from-orange-50 to-amber-50 rounded-xl p-6 border border-orange-100 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)("div",{className:"w-1 h-6 bg-gradient-to-b from-orange-500 to-amber-500 rounded-full"}),(0,b.jsx)("h2",{className:"text-lg font-bold bg-gradient-to-r from-orange-600 to-amber-600 bg-clip-text text-transparent",children:"à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢"})]}),(0,b.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,b.jsx)(s.Calendar,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),(0,b.jsx)("p",{className:"text-lg font-medium",children:"à¸à¸£à¸¸à¸“à¸²à¸šà¸±à¸™à¸—à¸¶à¸à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸¥à¸¹à¸à¸„à¹‰à¸²à¸à¹ˆà¸­à¸™"}),(0,b.jsx)("p",{className:"text-sm mt-2",children:"à¸«à¸¥à¸±à¸‡à¸ˆà¸²à¸à¸šà¸±à¸™à¸—à¸¶à¸à¹à¸¥à¹‰à¸§ à¸ªà¸²à¸¡à¸²à¸£à¸–à¹€à¸žà¸´à¹ˆà¸¡à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢à¹„à¸”à¹‰à¹ƒà¸™à¸«à¸™à¹‰à¸²à¹à¸à¹‰à¹„à¸‚à¸‚à¹‰à¸­à¸¡à¸¹à¸¥"})]})]})]})}),(0,b.jsxs)("div",{className:"sticky bottom-0 bg-gradient-to-t from-gray-50 to-white border-t border-gray-200 p-4 sm:p-5 flex justify-center gap-4 shadow-lg",children:[(0,b.jsx)("button",{onClick:d,disabled:h,className:"px-6 sm:px-8 py-2.5 sm:py-3 border-2 border-gray-300 rounded-xl text-gray-700 text-sm sm:text-base font-semibold hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 disabled:opacity-50",children:"à¸¢à¸à¹€à¸¥à¸´à¸"}),(0,b.jsx)("button",{onClick:af,disabled:h,className:"flex items-center gap-2 px-6 sm:px-8 py-2.5 sm:py-3 bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white text-sm sm:text-base font-semibold rounded-xl transition-all duration-200 disabled:opacity-70 shadow-lg hover:shadow-xl",children:h?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(n.Loader2,{className:"w-4 h-4 animate-spin"}),"à¸à¸³à¸¥à¸±à¸‡à¸šà¸±à¸™à¸—à¸¶à¸..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m.Save,{className:"w-4 h-4"}),"à¸šà¸±à¸™à¸—à¸¶à¸"]})})]})]}),(0,b.jsx)(x,{isOpen:k.isOpen,onClose:()=>l(a=>({...a,isOpen:!1})),type:k.type,title:k.title,message:k.message})]})};Object.entries({id:"id",id_all:"id_all",status:"à¸ªà¸–à¸²à¸™à¸°",source:"à¹à¸«à¸¥à¹ˆà¸‡à¸—à¸µà¹ˆà¸¡à¸²",interested_product:"à¸œà¸¥à¸´à¸•à¸ à¸±à¸“à¸‘à¹Œà¸—à¸µà¹ˆà¸ªà¸™à¹ƒà¸ˆ",doctor:"à¸«à¸¡à¸­",contact_staff:"à¸œà¸¹à¹‰à¸•à¸´à¸”à¸•à¹ˆà¸­",customer_name:"à¸Šà¸·à¹ˆà¸­",phone:"à¹€à¸šà¸­à¸£à¹Œà¹‚à¸—à¸£",note:"à¸«à¸¡à¸²à¸¢à¹€à¸«à¸•à¸¸",last_followup:"à¸§à¸±à¸™à¸—à¸µà¹ˆà¸•à¸´à¸”à¸•à¸²à¸¡à¸„à¸£à¸±à¹‰à¸‡à¸¥à¹ˆà¸²à¸ªà¸¸à¸”",next_followup:"à¸§à¸±à¸™à¸—à¸µà¹ˆà¸•à¸´à¸”à¸•à¸²à¸¡à¸„à¸£à¸±à¹‰à¸‡à¸–à¸±à¸”à¹„à¸›",consult_date:"à¸§à¸±à¸™à¸—à¸µà¹ˆ Consult",surgery_date:"à¸§à¸±à¸™à¸—à¸µà¹ˆà¸œà¹ˆà¸²à¸•à¸±à¸”",appointment_time:"à¹€à¸§à¸¥à¸²à¸—à¸µà¹ˆà¸™à¸±à¸”",got_contact_date:"à¸§à¸±à¸™à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸Šà¸·à¹ˆà¸­ à¹€à¸šà¸­à¸£à¹Œ",booked_consult_date:"à¸§à¸±à¸™à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸™à¸±à¸” consult",booked_surgery_date:"à¸§à¸±à¸™à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸™à¸±à¸”à¸œà¹ˆà¸²à¸•à¸±à¸”",proposed_amount:"à¸¢à¸­à¸”à¸™à¸³à¹€à¸ªà¸™à¸­",customer_code:"à¸£à¸«à¸±à¸ªà¸¥à¸¹à¸à¸„à¹‰à¸²",star_flag:"à¸•à¸´à¸”à¸”à¸²à¸§",country:"à¸›à¸£à¸°à¹€à¸—à¸¨",car_call_time:"à¹€à¸§à¸¥à¸²à¹ƒà¸«à¹‰à¹€à¸£à¸µà¸¢à¸à¸£à¸–",lat:"Lat",long:"Long",photo_note:"à¸£à¸¹à¸›",gender:"à¹€à¸žà¸¨",age:"à¸­à¸²à¸¢à¸¸",occupation:"à¸­à¸²à¸Šà¸µà¸ž",from_province:"à¸¡à¸²à¸ˆà¸²à¸à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”",travel_method:"à¸ˆà¸°à¹€à¸”à¸´à¸™à¸—à¸²à¸‡à¸¡à¸²à¸£à¸ž.à¸¢à¸±à¸‡à¹„à¸‡",contact_prefer_date:"à¸§à¸±à¸™à¸—à¸µà¹ˆà¸ªà¸°à¸”à¸§à¸à¹ƒà¸«à¹‰à¸•à¸´à¸”à¸•à¹ˆà¸­",contact_prefer_time:"à¸Šà¹ˆà¸§à¸‡à¹€à¸§à¸¥à¸²à¸—à¸µà¹ˆà¸ªà¸°à¸”à¸§à¸à¹ƒà¸«à¹‰à¸•à¸´à¸”à¸•à¹ˆà¸­",free_program:"à¹‚à¸„à¸£à¸‡à¸à¸²à¸£à¸Ÿà¸£à¸µ",event_id:"Event ID",html_link:"htmlLink",ical_uid:"iCalUID",log:"Log",doc_calendar:"Doc Calendar",doc_event_id:"Doc Event ID",doc_html_link:"Doc htmlLink",doc_ical_uid:"Doc iCalUID",line_note:"line",line_doctor_note:"line à¸«à¸¡à¸­",ivr:"IVR",transfer_to:"TRANSFER_TO",status_call:"status_call",created_at:"created_at",updated_at:"updated_at"}).reduce((a,[b,c])=>(a[c]=b,a),{});let aa=`
  .custom-scrollbar::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }
  .custom-scrollbar::-webkit-scrollbar-track {
    background: rgba(219, 234, 254, 0.5);
    border-radius: 10px;
  }
  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: linear-gradient(to bottom, #3b82f6, #06b6d4);
    border-radius: 10px;
  }
  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(to bottom, #0284c7, #0891b2);
  }
  .custom-scrollbar-horizontal::-webkit-scrollbar {
    height: 8px;
    width: 8px;
  }
  .custom-scrollbar-horizontal::-webkit-scrollbar-track {
    background: rgba(219, 234, 254, 0.5);
    border-radius: 10px;
  }
  .custom-scrollbar-horizontal::-webkit-scrollbar-thumb {
    background: linear-gradient(to right, #3b82f6, #06b6d4);
    border-radius: 10px;
  }
  .custom-scrollbar-horizontal::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(to right, #0284c7, #0891b2);
  }
`,ab=()=>{let a=(0,d.useRouter)(),f=(0,d.useSearchParams)().get("type"),[m,n]=(0,c.useState)([]),[o,p]=(0,c.useState)(null),[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)(null),[u,v]=(0,c.useState)(""),[w,x]=(0,c.useState)(""),[y,z]=(0,c.useState)("all"),[A,B]=(0,c.useState)(!1),[C,D]=(0,c.useState)("all"),[E,F]=(0,c.useState)(!1),[G,H]=(0,c.useState)("all"),[I,J]=(0,c.useState)(!1),[K,L]=(0,c.useState)("all"),[M,N]=(0,c.useState)(!1),[O,P]=(0,c.useState)(!1),[Q,R]=(0,c.useState)(""),[S,T]=(0,c.useState)(!1),[U,V]=(0,c.useState)(""),[W,X]=(0,c.useState)(!1),[Y,$]=(0,c.useState)(""),[ab,ac]=(0,c.useState)(!1),[ad,ae]=(0,c.useState)(""),[af,ag]=(0,c.useState)(!1),[ah,ai]=(0,c.useState)(""),[aj,ak]=(0,c.useState)(!1),[al,am]=(0,c.useState)(""),[an,ao]=(0,c.useState)(!1),[ap,aq]=(0,c.useState)(""),[ar,as]=(0,c.useState)(null),[at,au]=(0,c.useState)("asc"),[av,aw]=(0,c.useState)(1),[ax,ay]=(0,c.useState)(500),[az,aA]=(0,c.useState)(null),[aB,aC]=(0,c.useState)(null),[aD,aE]=(0,c.useState)(!1),[aF,aG]=(0,c.useState)(null),[aH,aI]=(0,c.useState)(!1),[aJ,aK]=(0,c.useState)([]),[aL,aM]=(0,c.useState)(!1),[aN,aO]=(0,c.useState)(!1),[aP,aQ]=(0,c.useState)([]),[aR,aS]=(0,c.useState)([]),[aT,aU]=(0,c.useState)(!1),[aV,aW]=(0,c.useState)(500),aX=(0,c.useRef)([]),aY=async()=>{try{r(!0);let b=await fetch("/api/customer-data"),c=await b.json();if(!c.success||!c.columns||!c.data||0===c.data.length)return;let d=c.columns,e=c.data,g=[{tableNumber:1,headers:d,rowCount:e.length,data:e}];if(g&&g.length>0){var a;let b,d=g.map(a=>{let b=a.headers.map(a=>a.trim()),c=a.data.map(a=>{let b={};return Object.entries(a).forEach(([a,c])=>{b[a.trim()]=c}),b});return{...a,headers:b,data:c,rowCount:c.length}}),e=["à¸œà¸¹à¹‰à¸•à¸´à¸”à¸•à¹ˆà¸­","à¸ªà¸–à¸²à¸™à¸°","à¸œà¸¥à¸´à¸•à¸ à¸±à¸“à¸‘à¹Œà¸—à¸µà¹ˆà¸ªà¸™à¹ƒà¸ˆ","à¸Šà¸·à¹ˆà¸­","à¹€à¸šà¸­à¸£à¹Œà¹‚à¸—à¸£","à¹€à¸žà¸¨","à¹à¸«à¸¥à¹ˆà¸‡à¸—à¸µà¹ˆà¸¡à¸²","à¸«à¸¡à¸²à¸¢à¹€à¸«à¸•à¸¸","à¸§à¸±à¸™à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸Šà¸·à¹ˆà¸­ à¹€à¸šà¸­à¸£à¹Œ","à¸§à¸±à¸™à¸—à¸µà¹ˆà¸•à¸´à¸”à¸•à¸²à¸¡à¸„à¸£à¸±à¹‰à¸‡à¸¥à¹ˆà¸²à¸ªà¸¸à¸”","à¸§à¸±à¸™à¸—à¸µà¹ˆà¸•à¸´à¸”à¸•à¸²à¸¡à¸„à¸£à¸±à¹‰à¸‡à¸–à¸±à¸”à¹„à¸›","à¸§à¸±à¸™à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸™à¸±à¸” consult","à¸§à¸±à¸™à¸—à¸µà¹ˆ Consult","à¸§à¸±à¸™à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸™à¸±à¸”à¸œà¹ˆà¸²à¸•à¸±à¸”","à¸§à¸±à¸™à¸—à¸µà¹ˆà¸œà¹ˆà¸²à¸•à¸±à¸”","à¹€à¸§à¸¥à¸²à¸—à¸µà¹ˆà¸™à¸±à¸”","à¸«à¸¡à¸­","à¸¢à¸­à¸”à¸™à¸³à¹€à¸ªà¸™à¸­","à¸£à¸«à¸±à¸ªà¸¥à¸¹à¸à¸„à¹‰à¸²","à¸•à¸´à¸”à¸”à¸²à¸§","à¸›à¸£à¸°à¹€à¸—à¸¨","à¹€à¸§à¸¥à¸²à¹ƒà¸«à¹‰à¹€à¸£à¸µà¸¢à¸à¸£à¸–","Lat","Long","id"],h=["à¸ªà¸–à¸²à¸™à¸°","à¸œà¸¥à¸´à¸•à¸ à¸±à¸“à¸‘à¹Œà¸—à¸µà¹ˆà¸ªà¸™à¹ƒà¸ˆ","à¸Šà¸·à¹ˆà¸­","à¹€à¸šà¸­à¸£à¹Œà¹‚à¸—à¸£","à¹à¸«à¸¥à¹ˆà¸‡à¸—à¸µà¹ˆà¸¡à¸²","à¹€à¸žà¸¨"],i=new Set,j=[];e.forEach(a=>{h.includes(a)&&!i.has(a)&&(i.add(a),j.push(a))}),e.forEach(a=>{i.has(a)||d.forEach(b=>{b.headers.includes(a)&&!i.has(a)&&(i.add(a),j.push(a))})}),d.forEach(a=>{a.headers.forEach(a=>{i.has(a)||(i.add(a),j.push(a))})});let k=j.filter(a=>!["à¸£à¸¹à¸›","à¸­à¸²à¸¢à¸¸","à¸£à¸«à¸±à¸ªà¸¥à¸¹à¸à¸„à¹‰à¸²","à¸­à¸²à¸Šà¸µà¸ž","à¸¡à¸²à¸ˆà¸²à¸à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”","à¸ˆà¸°à¹€à¸”à¸´à¸™à¸—à¸²à¸‡à¸¡à¸²à¸£à¸ž.à¸¢à¸±à¸‡à¹„à¸‡","Event ID","htmlLink","iCalUID","Log","Doc Calendar","Doc Event ID","Doc htmlLink","Doc iCalUID","line","line à¸«à¸¡à¸­","IVR","TRANSFER_TO","status_call"].includes(a)&&(!!h.includes(a)||d.some(b=>b.data.some(b=>void 0!==b[a]&&null!==b[a]&&""!==b[a])))),l=[];d.forEach(a=>{l.push(...a.data)});let m=l;"existing"===f?m=l.filter(a=>{let b=a.cn;return b&&""!==b.toString().trim()}):"new"===f&&(m=l.filter(a=>{let b=a.cn;return!b||""===b.toString().trim()}));let o=m.filter(a=>k.some(b=>{let c=a[b];return null!=c&&""!==c})),q={tableNumber:1,headers:k,rowCount:o.length,data:o};n([q]);let r=(a=c.data,b=null,a.forEach(a=>{if(a.updated_at){let c=new Date(a.updated_at);if(!Number.isNaN(c.getTime())){let a=c.toISOString();(!b||a>b)&&(b=a)}}}),b);r&&p(r)}else n([])}catch(a){}finally{r(!1)}},aZ=async()=>{try{let a=await fetch("/api/status-options"),b=await a.json();b.success&&b.data?aQ(b.data):(console.error("Failed to fetch status options:",b.error),aQ([{value:"all",label:"à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”",color:"bg-gray-200 text-gray-800"}]))}catch(a){console.error("Error fetching status options:",a),aQ([{value:"all",label:"à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”",color:"bg-gray-200 text-gray-800"}])}},a$=async()=>{try{let a=await fetch("/api/table-size-options"),b=await a.json();b.success&&b.data?aS(b.data):console.error("Failed to fetch table size options:",b.error)}catch(a){console.error("Error fetching table size options:",a)}},a_=(0,c.useCallback)(async()=>{if(o&&0!==aX.current.length)try{let a=await fetch(`/api/customer-updates?since=${encodeURIComponent(o)}`),b=await a.json();if(!a.ok||!1===b.success||!Array.isArray(b.data)||0===b.data.length)return;let c=aX.current[0];if(!c)return;let d=new Map;c.data.forEach(a=>{void 0!==a.id&&null!==a.id&&d.set(a.id,a)}),b.data.forEach(a=>{if(void 0===a.id||null===a.id)return;let b=d.get(a.id);d.set(a.id,b?{...b,...a}:a)});let e=Array.from(d.values()),f=[...c.headers];(b.columns||[]).forEach(a=>{f.includes(a)||f.push(a)}),n([{...c,headers:f,data:e,rowCount:e.length}]),b.latestUpdatedAt&&p(b.latestUpdatedAt)}catch(a){console.error("Error fetching realtime updates:",a)}},[o]);(0,c.useEffect)(()=>{aX.current=m},[m]),(0,c.useEffect)(()=>{(()=>{let a=localStorage.getItem("user");if(!a){window.location.href="/login";return}t(JSON.parse(a))})(),aY(),aZ(),a$()},[]),(0,c.useEffect)(()=>{if(!o||0===m.length)return;a_();let a=setInterval(a_,8e3);return()=>clearInterval(a)},[o,a_,m.length]),(0,c.useEffect)(()=>{let a=setTimeout(()=>{(u.length>=3||0===u.length)&&x(u)},300);return()=>clearTimeout(a)},[u]),(0,c.useEffect)(()=>{let a=a=>{a.target.closest(".filter-toolbar")||bb()};return document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[]);let a0=async a=>{try{let b=await fetch("/api/customer-data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"update",data:a})}),c=await b.json();c.success?(aE(!1),await aY()):console.error(`à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”: ${c.error}`)}catch(a){console.error("à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”à¹ƒà¸™à¸à¸²à¸£à¸šà¸±à¸™à¸—à¸¶à¸à¸‚à¹‰à¸­à¸¡à¸¹à¸¥")}},a1=async()=>{if(0===aJ.length)return void alert("à¸à¸£à¸¸à¸“à¸²à¹€à¸¥à¸·à¸­à¸à¸£à¸²à¸¢à¸à¸²à¸£à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸¥à¸š");if(confirm(`à¸„à¸¸à¸“à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸¥à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥ ${aJ.length} à¸£à¸²à¸¢à¸à¸²à¸£à¹ƒà¸Šà¹ˆà¸«à¸£à¸·à¸­à¹„à¸¡à¹ˆ?

ID à¸—à¸µà¹ˆà¸ˆà¸°à¸¥à¸š: ${aJ.join(", ")}

à¸à¸²à¸£à¸”à¸³à¹€à¸™à¸´à¸™à¸à¸²à¸£à¸™à¸µà¹‰à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸¢à¹‰à¸­à¸™à¸à¸¥à¸±à¸šà¹„à¸”à¹‰`))try{aM(!0);let a=await fetch("/api/customer-data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"deleteMultiple",data:{ids:aJ}})}),b=await a.json();b.success?(alert(`à¸¥à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ªà¸³à¹€à¸£à¹‡à¸ˆ ${b.deletedCount} à¸£à¸²à¸¢à¸à¸²à¸£`),aK([]),await aY()):alert(`à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”: ${b.error}`)}catch(a){console.error("à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”à¹ƒà¸™à¸à¸²à¸£à¸¥à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥:",a),alert("à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”à¹ƒà¸™à¸à¸²à¸£à¸¥à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥")}finally{aM(!1)}},a2=()=>{aJ.length===a4.length?aK([]):aK(a4.map(a=>a.id).filter(a=>null!=a))},a3=a=>{aK(b=>b.includes(a)?b.filter(b=>b!==a):[...b,a])},a4=(0,c.useMemo)(()=>{if(0===m.length)return[];let a=w.length>=3?w:"";if(!("all"!==C||"all"!==G||"all"!==K||Q||U||Y||ad||ah||al||ap||a))return[];let b=[...m[0].data];if(s&&"superadmin"!==s.role_tag&&"admin"!==s.role_tag){let a=m[0].headers.findIndex(a=>a.toLowerCase().includes("à¸œà¸¹à¹‰à¸•à¸´à¸”à¸•à¹ˆà¸­")||a.toLowerCase().includes("contact")||a.toLowerCase().includes("à¸•à¸´à¸”à¸•à¹ˆà¸­"));if(-1!==a){let c=m[0].headers[a];b=b.filter(a=>{let b=a[c];return b&&String(b).trim()===s.name})}}if("all"!==C){let a=m[0].headers.findIndex(a=>a.toLowerCase().includes("à¸ªà¸–à¸²à¸™à¸°")||a.toLowerCase().includes("status"));if(-1!==a){let c=m[0].headers[a];b=b.filter(a=>{let b=a[c];return b&&String(b).trim()===C})}}if("all"!==G){let a=m[0].headers.findIndex(a=>a.toLowerCase().includes("à¸œà¸¥à¸´à¸•à¸ à¸±à¸“à¸‘à¹Œ")||a.toLowerCase().includes("product")||a.toLowerCase().includes("à¸ªà¸™à¹ƒà¸ˆ"));if(-1!==a){let c=m[0].headers[a];b=b.filter(a=>{let b=a[c];return!!b&&String(b).split(/[,\n]+/).map(a=>a.trim()).some(a=>a===G)})}}if("all"!==K){let a=m[0].headers.findIndex(a=>a.toLowerCase().includes("à¸œà¸¹à¹‰à¸•à¸´à¸”à¸•à¹ˆà¸­")||a.toLowerCase().includes("contact")||a.toLowerCase().includes("à¸•à¸´à¸”à¸•à¹ˆà¸­"));if(-1!==a){let c=m[0].headers[a];b=b.filter(a=>{let b=a[c];return b&&String(b).trim()===K})}}let c=(a,c)=>{if(!c)return;let d=m[0].headers.findIndex(b=>b.trim()===a);if(-1!==d){let a=m[0].headers[d];b=b.filter(b=>{let d=b[a];if(!d)return!1;let e=String(d).trim(),f=null,g=e.match(/(\d{1,2})\/(\d{1,2})\/(\d{4})/);if(g){let[,a,b,c]=g;f=new Date(parseInt(c),parseInt(b)-1,parseInt(a))}else e.match(/\d{4}-\d{2}-\d{2}/)&&(f=new Date(e));if(!f||isNaN(f.getTime()))return!1;let h=new Date(c);return h.setHours(0,0,0,0),f.setHours(0,0,0,0),f.getTime()===h.getTime()})}};return c("à¸§à¸±à¸™à¸—à¸µà¹ˆà¸•à¸´à¸”à¸•à¸²à¸¡à¸„à¸£à¸±à¹‰à¸‡à¸¥à¹ˆà¸²à¸ªà¸¸à¸”",Q),c("à¸§à¸±à¸™à¸—à¸µà¹ˆà¸•à¸´à¸”à¸•à¸²à¸¡à¸„à¸£à¸±à¹‰à¸‡à¸–à¸±à¸”à¹„à¸›",U),c("à¸§à¸±à¸™à¸—à¸µà¹ˆ Consult",Y),c("à¸§à¸±à¸™à¸—à¸µà¹ˆà¸œà¹ˆà¸²à¸•à¸±à¸”",ad),c("à¸§à¸±à¸™à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸Šà¸·à¹ˆà¸­ à¹€à¸šà¸­à¸£à¹Œ",ah),c("à¸§à¸±à¸™à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸™à¸±à¸” Consult",al),c("à¸§à¸±à¸™à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸™à¸±à¸”à¸œà¹ˆà¸²à¸•à¸±à¸”",ap),a&&(b=b.filter(b=>{if("all"===y)return m[0].headers.some(c=>{let d=b[c];return d&&String(d).toLowerCase().includes(a.toLowerCase())});{let c=b[y];return c&&String(c).toLowerCase().includes(a.toLowerCase())}})),ar&&b.sort((a,b)=>{let c=a[ar]||"",d=b[ar]||"",e=String(c).toLowerCase(),f=String(d).toLowerCase();return e<f?"asc"===at?-1:1:e>f?"asc"===at?1:-1:0}),b},[m,w,y,ar,at,C,G,K,Q,s,U,Y,ad,ah,al,ap]),a5=(0,c.useMemo)(()=>{let a=w.length>=3;return"all"!==C||"all"!==G||"all"!==K||Q||U||Y||ad||ah||al||ap||a},[C,G,K,Q,U,Y,ad,ah,al,ap,w]),a6=u.length>0&&u.length<3,a7=["à¸ªà¸–à¸²à¸™à¸°","à¸Šà¸·à¹ˆà¸­","à¹€à¸šà¸­à¸£à¹Œà¹‚à¸—à¸£","à¸œà¸¥à¸´à¸•à¸ à¸±à¸“à¸‘à¹Œà¸—à¸µà¹ˆà¸ªà¸™à¹ƒà¸ˆ"],a8=(0,c.useMemo)(()=>a5&&m.length>0?a7.filter(a=>m[0].headers.includes(a)):m.length>0?m[0].headers:[],[a5,m]),a9=(0,c.useMemo)(()=>{let a=(av-1)*ax;return a4.slice(a,a+ax)},[a4,av,ax]),ba=Math.ceil(a4.length/ax),bb=()=>{B(!1),F(!1),J(!1),N(!1),P(!1),T(!1),X(!1),ac(!1),ag(!1),ak(!1),ao(!1),aU(!1)},bc=[{value:"all",label:"à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”"},{value:"à¸ªà¸²",label:"à¸ªà¸²"},{value:"à¹€à¸ˆ",label:"à¹€à¸ˆ"},{value:"à¸žà¸´à¸”à¸¢à¸²",label:"à¸žà¸´à¸”à¸¢à¸²"},{value:"à¸§à¹ˆà¸²à¸™",label:"à¸§à¹ˆà¸²à¸™"},{value:"à¸ˆà¸µà¸™",label:"à¸ˆà¸µà¸™"},{value:"à¸¡à¸¸à¸",label:"à¸¡à¸¸à¸"},{value:"à¸•à¸±à¹‰à¸‡à¹‚à¸­à¹‹",label:"à¸•à¸±à¹‰à¸‡à¹‚à¸­à¹‹"}],bd=[{value:"all",label:"à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”"},{value:"à¸•à¸µà¸•à¸±à¸§à¹„à¸¥à¹ˆà¸•à¸±à¸§",label:"à¸•à¸µà¸•à¸±à¸§à¹„à¸¥à¹ˆà¸•à¸±à¸§"},{value:"Sub brow lift",label:"Sub brow lift"},{value:"à¹à¸à¹‰à¸•à¸²à¸«à¸¡à¸·à¹ˆà¸­à¸•à¸­à¸™à¹à¸¥à¸°à¹à¸à¹‰à¸§",label:"à¹à¸à¹‰à¸•à¸²à¸«à¸¡à¸·à¹ˆà¸­à¸•à¸­à¸™à¹à¸¥à¸°à¹à¸à¹‰à¸§"},{value:"à¸•à¸²à¸ªà¸­à¸‡à¸Šà¸±à¹‰à¸™",label:"à¸•à¸²à¸ªà¸­à¸‡à¸Šà¸±à¹‰à¸™"},{value:"à¹€à¸ªà¸£à¸´à¸¡à¸ˆà¸¡à¸¹à¸",label:"à¹€à¸ªà¸£à¸´à¸¡à¸ˆà¸¡à¸¹à¸"},{value:"à¹à¸à¹‰à¸ˆà¸¡à¸¹à¸",label:"à¹à¸à¹‰à¸ˆà¸¡à¸¹à¸"},{value:"à¹€à¸ªà¸£à¹‡à¸ˆà¸•à¸²à¸‚à¸²à¸§",label:"à¹€à¸ªà¸£à¹‡à¸ˆà¸•à¸²à¸‚à¸²à¸§"},{value:"à¸¥à¸´à¸‡à¸«à¸™à¹‰à¸²",label:"à¸¥à¸´à¸‡à¸«à¸™à¹‰à¸²"},{value:"Skin",label:"Skin"},{value:"à¸•à¸·à¹ˆà¸­",label:"à¸•à¸·à¹ˆà¸­"}];return((0,c.useEffect)(()=>{aw(1)},[u,y,C,G,K,Q,U,Y,ad,ah,al,ap]),q)?(0,b.jsx)("div",{className:"w-full h-screen flex items-center justify-center bg-white",children:(0,b.jsx)("div",{className:"text-gray-600",children:"à¸à¸³à¸¥à¸±à¸‡à¹‚à¸«à¸¥à¸”à¸‚à¹‰à¸­à¸¡à¸¹à¸¥..."})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("style",{children:aa}),(0,b.jsxs)("div",{className:"w-full min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 p-3 flex flex-col",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,b.jsx)("button",{onClick:()=>a.push("/customer-selection"),className:"flex items-center justify-center w-11 h-11 bg-white hover:bg-slate-50 text-slate-600 rounded-xl transition-all shadow-sm border border-slate-200 active:scale-95",children:(0,b.jsx)(l.ArrowLeft,{className:"w-5 h-5"})}),(0,b.jsx)("div",{className:"flex-1 text-center",children:(0,b.jsx)("h1",{className:"text-lg font-semibold text-slate-700",children:"existing"===f?"à¸¥à¸¹à¸à¸„à¹‰à¸²à¹€à¸à¹ˆà¸²":"new"===f?"à¸¥à¸¹à¸à¸„à¹‰à¸²à¹ƒà¸«à¸¡à¹ˆ":"à¸¥à¸¹à¸à¸„à¹‰à¸²à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”"})}),(0,b.jsx)("button",{onClick:()=>aI(!0),className:"flex items-center justify-center w-11 h-11 bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white rounded-xl transition-all shadow-md active:scale-95",children:(0,b.jsx)(k.Plus,{className:"w-6 h-6"})})]}),(0,b.jsx)("div",{className:"mb-3",children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(e.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,b.jsx)("input",{type:"text",placeholder:"à¸„à¹‰à¸™à¸«à¸²à¸¥à¸¹à¸à¸„à¹‰à¸² (à¸žà¸´à¸¡à¸žà¹Œà¸­à¸¢à¹ˆà¸²à¸‡à¸™à¹‰à¸­à¸¢ 3 à¸•à¸±à¸§à¸­à¸±à¸à¸©à¸£)...",value:u,onChange:a=>v(a.target.value),className:`w-full pl-10 pr-4 py-3 bg-white border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm text-sm ${a6?"border-yellow-400":"border-slate-200"}`}),a6&&(0,b.jsxs)("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-xs text-yellow-600",children:["+",3-u.length]})]})}),(0,b.jsx)("div",{className:"flex md:hidden items-center gap-2 mb-3",children:(0,b.jsxs)("button",{onClick:()=>aO(!0),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl transition-all text-sm font-medium ${a5?"bg-blue-500 text-white shadow-md":"bg-white text-slate-600 border border-slate-200 shadow-sm"}`,children:[(0,b.jsx)(i,{className:"w-5 h-5"}),(0,b.jsx)("span",{children:"à¸•à¸±à¸§à¸à¸£à¸­à¸‡"}),a5&&(0,b.jsx)("span",{className:"bg-white text-blue-500 px-2 py-0.5 rounded-full text-xs font-bold",children:["all"!==C,"all"!==G,"all"!==K,Q,U,Y,ad,ah,al,ap,u].filter(Boolean).length})]})}),aJ.length>0&&(0,b.jsx)("div",{className:"mb-3 md:hidden",children:(0,b.jsxs)("button",{onClick:a1,disabled:aL,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-rose-500 text-white rounded-xl text-sm font-medium hover:bg-rose-600 disabled:opacity-50 shadow-md",children:[(0,b.jsx)(j.X,{className:"w-4 h-4"}),aL?"à¸à¸³à¸¥à¸±à¸‡à¸¥à¸š...":`à¸¥à¸šà¸£à¸²à¸¢à¸à¸²à¸£à¸—à¸µà¹ˆà¹€à¸¥à¸·à¸­à¸ (${aJ.length})`]})}),aN&&(0,b.jsxs)("div",{className:"fixed inset-0 z-50 md:hidden",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-black/50 transition-opacity",onClick:()=>aO(!1)}),(0,b.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-white rounded-t-3xl max-h-[85vh] overflow-hidden animate-slide-up",children:[(0,b.jsx)("div",{className:"flex justify-center py-3",children:(0,b.jsx)("div",{className:"w-10 h-1 bg-slate-300 rounded-full"})}),(0,b.jsxs)("div",{className:"flex items-center justify-between px-4 pb-3 border-b border-slate-100",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-slate-800",children:"à¸•à¸±à¸§à¸à¸£à¸­à¸‡"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>{D("all"),H("all"),L("all"),R(""),V(""),$(""),ae(""),ai(""),am(""),aq("")},className:"px-3 py-1.5 text-sm text-rose-500 hover:bg-rose-50 rounded-lg",children:"à¸¥à¹‰à¸²à¸‡à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”"}),(0,b.jsx)("button",{onClick:()=>aO(!1),className:"p-2 hover:bg-slate-100 rounded-full",children:(0,b.jsx)(j.X,{className:"w-5 h-5 text-slate-500"})})]})]}),(0,b.jsxs)("div",{className:"overflow-y-auto max-h-[calc(85vh-120px)] px-4 py-4",children:[(0,b.jsxs)("div",{className:"mb-5",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"à¸ªà¸–à¸²à¸™à¸°"}),(0,b.jsxs)("select",{value:C,onChange:a=>D(a.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,b.jsx)("option",{value:"all",children:"à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”"}),aP.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))]})]}),(0,b.jsxs)("div",{className:"mb-5",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"à¸ªà¸´à¸™à¸„à¹‰à¸²"}),(0,b.jsx)("select",{value:G,onChange:a=>H(a.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:bd.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))})]}),s&&("superadmin"===s.role_tag||"admin"===s.role_tag)&&(0,b.jsxs)("div",{className:"mb-5",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"à¸œà¸¹à¹‰à¸•à¸´à¸”à¸•à¹ˆà¸­"}),(0,b.jsx)("select",{value:K,onChange:a=>L(a.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:bc.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))})]}),(0,b.jsxs)("div",{className:"mb-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-3",children:"à¸à¸£à¸­à¸‡à¸•à¸²à¸¡à¸§à¸±à¸™à¸—à¸µà¹ˆ"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:"text-xs text-slate-500 w-24 shrink-0",children:"à¸•à¸´à¸”à¸•à¸²à¸¡-à¸¥à¹ˆà¸²à¸ªà¸¸à¸”"}),(0,b.jsx)("input",{type:"date",value:Q,onChange:a=>R(a.target.value),className:"flex-1 px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),Q&&(0,b.jsx)("button",{onClick:()=>R(""),className:"p-1 text-rose-500",children:(0,b.jsx)(j.X,{className:"w-4 h-4"})})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:"text-xs text-slate-500 w-24 shrink-0",children:"à¸•à¸´à¸”à¸•à¸²à¸¡-à¸–à¸±à¸”à¹„à¸›"}),(0,b.jsx)("input",{type:"date",value:U,onChange:a=>V(a.target.value),className:"flex-1 px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),U&&(0,b.jsx)("button",{onClick:()=>V(""),className:"p-1 text-rose-500",children:(0,b.jsx)(j.X,{className:"w-4 h-4"})})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:"text-xs text-slate-500 w-24 shrink-0",children:"à¸§à¸±à¸™ Consult"}),(0,b.jsx)("input",{type:"date",value:Y,onChange:a=>$(a.target.value),className:"flex-1 px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),Y&&(0,b.jsx)("button",{onClick:()=>$(""),className:"p-1 text-rose-500",children:(0,b.jsx)(j.X,{className:"w-4 h-4"})})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:"text-xs text-slate-500 w-24 shrink-0",children:"à¸§à¸±à¸™à¸œà¹ˆà¸²à¸•à¸±à¸”"}),(0,b.jsx)("input",{type:"date",value:ad,onChange:a=>ae(a.target.value),className:"flex-1 px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),ad&&(0,b.jsx)("button",{onClick:()=>ae(""),className:"p-1 text-rose-500",children:(0,b.jsx)(j.X,{className:"w-4 h-4"})})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:"text-xs text-slate-500 w-24 shrink-0",children:"à¸§à¸±à¸™à¹„à¸”à¹‰à¸Šà¸·à¹ˆà¸­"}),(0,b.jsx)("input",{type:"date",value:ah,onChange:a=>ai(a.target.value),className:"flex-1 px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),ah&&(0,b.jsx)("button",{onClick:()=>ai(""),className:"p-1 text-rose-500",children:(0,b.jsx)(j.X,{className:"w-4 h-4"})})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:"text-xs text-slate-500 w-24 shrink-0",children:"à¹„à¸”à¹‰à¸™à¸±à¸” Consult"}),(0,b.jsx)("input",{type:"date",value:al,onChange:a=>am(a.target.value),className:"flex-1 px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),al&&(0,b.jsx)("button",{onClick:()=>am(""),className:"p-1 text-rose-500",children:(0,b.jsx)(j.X,{className:"w-4 h-4"})})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:"text-xs text-slate-500 w-24 shrink-0",children:"à¹„à¸”à¹‰à¸™à¸±à¸”à¸œà¹ˆà¸²à¸•à¸±à¸”"}),(0,b.jsx)("input",{type:"date",value:ap,onChange:a=>aq(a.target.value),className:"flex-1 px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),ap&&(0,b.jsx)("button",{onClick:()=>aq(""),className:"p-1 text-rose-500",children:(0,b.jsx)(j.X,{className:"w-4 h-4"})})]})]})]})]}),(0,b.jsx)("div",{className:"px-4 py-4 border-t border-slate-100 bg-white",children:(0,b.jsx)("button",{onClick:()=>aO(!1),className:"w-full py-3 bg-blue-500 text-white rounded-xl font-medium hover:bg-blue-600 transition-colors",children:"à¹à¸ªà¸”à¸‡à¸œà¸¥à¸¥à¸±à¸žà¸˜à¹Œ"})})]})]}),(0,b.jsxs)("div",{className:"hidden md:block bg-white rounded-xl shadow-sm border border-slate-200 p-4 mb-4",children:[(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-3 mb-3 filter-toolbar",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("button",{onClick:()=>{bb(),F(!E)},className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-all text-sm font-medium border ${"all"!==C?"bg-cyan-50 border-cyan-300 text-cyan-700":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:[(0,b.jsx)("span",{children:"à¸ªà¸–à¸²à¸™à¸°"}),(0,b.jsx)(h.ChevronDown,{className:`w-4 h-4 transition-transform ${E?"rotate-180":""}`})]}),E&&(0,b.jsx)("div",{className:"absolute top-full left-0 mt-2 bg-white border border-slate-200 rounded-xl shadow-lg z-50 min-w-[200px] overflow-hidden",children:(0,b.jsx)("div",{className:"max-h-64 overflow-y-auto",children:aP.map(a=>(0,b.jsxs)("button",{onClick:()=>{D(a.value),F(!1)},className:`w-full text-left px-4 py-2.5 transition-all text-sm ${C===a.value?"bg-cyan-50 text-cyan-700 font-medium":"text-slate-600 hover:bg-slate-50"}`,children:[C===a.value&&"âœ“ ",a.label]},a.value))})})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("button",{onClick:()=>{bb(),J(!I)},className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-all text-sm font-medium border ${"all"!==G?"bg-indigo-50 border-indigo-300 text-indigo-700":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:[(0,b.jsx)("span",{children:"à¸ªà¸´à¸™à¸„à¹‰à¸²"}),(0,b.jsx)(h.ChevronDown,{className:`w-4 h-4 transition-transform ${I?"rotate-180":""}`})]}),I&&(0,b.jsx)("div",{className:"absolute top-full left-0 mt-2 bg-white border border-slate-200 rounded-xl shadow-lg z-50 min-w-[200px] overflow-hidden",children:(0,b.jsx)("div",{className:"max-h-64 overflow-y-auto",children:bd.map(a=>(0,b.jsxs)("button",{onClick:()=>{H(a.value),J(!1)},className:`w-full text-left px-4 py-2.5 transition-all text-sm ${G===a.value?"bg-indigo-50 text-indigo-700 font-medium":"text-slate-600 hover:bg-slate-50"}`,children:[G===a.value&&"âœ“ ",a.label]},a.value))})})]}),s&&("superadmin"===s.role_tag||"admin"===s.role_tag)&&(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("button",{onClick:()=>{bb(),N(!M)},className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-all text-sm font-medium border ${"all"!==K?"bg-rose-50 border-rose-300 text-rose-700":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:[(0,b.jsx)("span",{children:"à¸œà¸¹à¹‰à¸•à¸´à¸”à¸•à¹ˆà¸­"}),(0,b.jsx)(h.ChevronDown,{className:`w-4 h-4 transition-transform ${M?"rotate-180":""}`})]}),M&&(0,b.jsx)("div",{className:"absolute top-full left-0 mt-2 bg-white border border-slate-200 rounded-xl shadow-lg z-50 min-w-[180px] overflow-hidden",children:(0,b.jsx)("div",{className:"max-h-64 overflow-y-auto",children:bc.map(a=>(0,b.jsxs)("button",{onClick:()=>{L(a.value),N(!1)},className:`w-full text-left px-4 py-2.5 transition-all text-sm ${K===a.value?"bg-rose-50 text-rose-700 font-medium":"text-slate-600 hover:bg-slate-50"}`,children:[K===a.value&&"âœ“ ",a.label]},a.value))})})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("button",{onClick:()=>{bb(),P(!O)},className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-all text-sm font-medium border ${Q?"bg-emerald-50 border-emerald-300 text-emerald-700":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:[(0,b.jsx)("span",{children:"à¸•à¸´à¸”à¸•à¸²à¸¡-à¸¥à¹ˆà¸²à¸ªà¸¸à¸”"}),(0,b.jsx)(h.ChevronDown,{className:`w-4 h-4 transition-transform ${O?"rotate-180":""}`})]}),O&&(0,b.jsxs)("div",{className:"absolute top-full left-0 mt-2 bg-white border border-slate-200 rounded-xl shadow-lg z-50 p-3 w-64",children:[(0,b.jsx)("input",{type:"date",value:Q,onChange:a=>R(a.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent text-sm"}),Q&&(0,b.jsx)("button",{onClick:()=>R(""),className:"mt-2 w-full px-3 py-2 text-sm text-rose-600 hover:bg-rose-50 rounded-lg",children:"à¸¥à¹‰à¸²à¸‡à¸•à¸±à¸§à¸à¸£à¸­à¸‡"})]})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("button",{onClick:()=>{bb(),T(!S)},className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-all text-sm font-medium border ${U?"bg-violet-50 border-violet-300 text-violet-700":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:[(0,b.jsx)("span",{children:"à¸•à¸´à¸”à¸•à¸²à¸¡-à¸–à¸±à¸”à¹„à¸›"}),(0,b.jsx)(h.ChevronDown,{className:`w-4 h-4 transition-transform ${S?"rotate-180":""}`})]}),S&&(0,b.jsxs)("div",{className:"absolute top-full left-0 mt-2 bg-white border border-slate-200 rounded-xl shadow-lg z-50 p-3 w-64",children:[(0,b.jsx)("input",{type:"date",value:U,onChange:a=>V(a.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent text-sm"}),U&&(0,b.jsx)("button",{onClick:()=>V(""),className:"mt-2 w-full px-3 py-2 text-sm text-rose-600 hover:bg-rose-50 rounded-lg",children:"à¸¥à¹‰à¸²à¸‡à¸•à¸±à¸§à¸à¸£à¸­à¸‡"})]})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("button",{onClick:()=>{bb(),X(!W)},className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-all text-sm font-medium border ${Y?"bg-fuchsia-50 border-fuchsia-300 text-fuchsia-700":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:[(0,b.jsx)("span",{children:"Consult"}),(0,b.jsx)(h.ChevronDown,{className:`w-4 h-4 transition-transform ${W?"rotate-180":""}`})]}),W&&(0,b.jsxs)("div",{className:"absolute top-full left-0 mt-2 bg-white border border-slate-200 rounded-xl shadow-lg z-50 p-3 w-64",children:[(0,b.jsx)("input",{type:"date",value:Y,onChange:a=>$(a.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-fuchsia-500 focus:border-transparent text-sm"}),Y&&(0,b.jsx)("button",{onClick:()=>$(""),className:"mt-2 w-full px-3 py-2 text-sm text-rose-600 hover:bg-rose-50 rounded-lg",children:"à¸¥à¹‰à¸²à¸‡à¸•à¸±à¸§à¸à¸£à¸­à¸‡"})]})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("button",{onClick:()=>{bb(),ac(!ab)},className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-all text-sm font-medium border ${ad?"bg-orange-50 border-orange-300 text-orange-700":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:[(0,b.jsx)("span",{children:"à¸œà¹ˆà¸²à¸•à¸±à¸”"}),(0,b.jsx)(h.ChevronDown,{className:`w-4 h-4 transition-transform ${ab?"rotate-180":""}`})]}),ab&&(0,b.jsxs)("div",{className:"absolute top-full left-0 mt-2 bg-white border border-slate-200 rounded-xl shadow-lg z-50 p-3 w-64",children:[(0,b.jsx)("input",{type:"date",value:ad,onChange:a=>ae(a.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm"}),ad&&(0,b.jsx)("button",{onClick:()=>ae(""),className:"mt-2 w-full px-3 py-2 text-sm text-rose-600 hover:bg-rose-50 rounded-lg",children:"à¸¥à¹‰à¸²à¸‡à¸•à¸±à¸§à¸à¸£à¸­à¸‡"})]})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("button",{onClick:()=>{bb(),ag(!af)},className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-all text-sm font-medium border ${ah?"bg-teal-50 border-teal-300 text-teal-700":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:[(0,b.jsx)("span",{children:"à¸§à¸±à¸™à¹„à¸”à¹‰à¸Šà¸·à¹ˆà¸­"}),(0,b.jsx)(h.ChevronDown,{className:`w-4 h-4 transition-transform ${af?"rotate-180":""}`})]}),af&&(0,b.jsxs)("div",{className:"absolute top-full left-0 mt-2 bg-white border border-slate-200 rounded-xl shadow-lg z-50 p-3 w-64",children:[(0,b.jsx)("input",{type:"date",value:ah,onChange:a=>ai(a.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent text-sm"}),ah&&(0,b.jsx)("button",{onClick:()=>ai(""),className:"mt-2 w-full px-3 py-2 text-sm text-rose-600 hover:bg-rose-50 rounded-lg",children:"à¸¥à¹‰à¸²à¸‡à¸•à¸±à¸§à¸à¸£à¸­à¸‡"})]})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("button",{onClick:()=>{bb(),ak(!aj)},className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-all text-sm font-medium border ${al?"bg-sky-50 border-sky-300 text-sky-700":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:[(0,b.jsx)("span",{children:"à¹„à¸”à¹‰à¸™à¸±à¸” Consult"}),(0,b.jsx)(h.ChevronDown,{className:`w-4 h-4 transition-transform ${aj?"rotate-180":""}`})]}),aj&&(0,b.jsxs)("div",{className:"absolute top-full left-0 mt-2 bg-white border border-slate-200 rounded-xl shadow-lg z-50 p-3 w-64",children:[(0,b.jsx)("input",{type:"date",value:al,onChange:a=>am(a.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent text-sm"}),al&&(0,b.jsx)("button",{onClick:()=>am(""),className:"mt-2 w-full px-3 py-2 text-sm text-rose-600 hover:bg-rose-50 rounded-lg",children:"à¸¥à¹‰à¸²à¸‡à¸•à¸±à¸§à¸à¸£à¸­à¸‡"})]})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("button",{onClick:()=>{bb(),ao(!an)},className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-all text-sm font-medium border ${ap?"bg-amber-50 border-amber-300 text-amber-700":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:[(0,b.jsx)("span",{children:"à¹„à¸”à¹‰à¸™à¸±à¸”à¸œà¹ˆà¸²à¸•à¸±à¸”"}),(0,b.jsx)(h.ChevronDown,{className:`w-4 h-4 transition-transform ${an?"rotate-180":""}`})]}),an&&(0,b.jsxs)("div",{className:"absolute top-full left-0 mt-2 bg-white border border-slate-200 rounded-xl shadow-lg z-50 p-3 w-64",children:[(0,b.jsx)("input",{type:"date",value:ap,onChange:a=>aq(a.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent text-sm"}),ap&&(0,b.jsx)("button",{onClick:()=>aq(""),className:"mt-2 w-full px-3 py-2 text-sm text-rose-600 hover:bg-rose-50 rounded-lg",children:"à¸¥à¹‰à¸²à¸‡à¸•à¸±à¸§à¸à¸£à¸­à¸‡"})]})]}),a5&&(0,b.jsx)("button",{onClick:()=>{D("all"),H("all"),L("all"),R(""),V(""),$(""),ae(""),ai(""),am(""),aq("")},className:"px-4 py-2 bg-rose-500 text-white rounded-lg text-sm font-medium hover:bg-rose-600",children:"à¸¥à¹‰à¸²à¸‡à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”"})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center pt-3 border-t border-slate-100",children:[(0,b.jsxs)("span",{className:"text-sm text-slate-600",children:[(0,b.jsx)("span",{className:"font-medium",children:a4.length})," à¸£à¸²à¸¢à¸à¸²à¸£"]}),aJ.length>0&&(0,b.jsxs)("button",{onClick:a1,disabled:aL,className:"flex items-center gap-2 px-4 py-2 bg-rose-500 text-white rounded-lg text-sm font-medium hover:bg-rose-600 disabled:opacity-50",children:[(0,b.jsx)(j.X,{className:"w-4 h-4"}),aL?"à¸à¸³à¸¥à¸±à¸‡à¸¥à¸š...":`à¸¥à¸šà¸£à¸²à¸¢à¸à¸²à¸£à¸—à¸µà¹ˆà¹€à¸¥à¸·à¸­à¸ (${aJ.length})`]})]})]}),a5&&m.length>0&&ba>1&&(0,b.jsxs)("div",{className:"flex md:hidden justify-center items-center gap-1 mb-3",children:[(0,b.jsx)("button",{onClick:()=>aw(av-1),disabled:1===av,className:"px-3 py-2 bg-white border border-slate-200 rounded-lg text-sm disabled:opacity-50 shadow-sm",children:"â†"}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[Array.from({length:Math.min(5,ba)},(a,c)=>{let d;return d=ba<=5||av<=3?c+1:av>=ba-2?ba-4+c:av-2+c,(0,b.jsx)("button",{onClick:()=>aw(d),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all ${d===av?"bg-blue-500 text-white shadow-md":"bg-white border border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:d},d)}),ba>5&&av<ba-2&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"text-slate-400",children:"..."}),(0,b.jsx)("button",{onClick:()=>aw(ba),className:"px-3 py-2 bg-white border border-slate-200 rounded-lg text-sm text-slate-600 hover:bg-slate-50",children:ba})]})]}),(0,b.jsx)("button",{onClick:()=>aw(av+1),disabled:av===ba,className:"px-3 py-2 bg-white border border-slate-200 rounded-lg text-sm disabled:opacity-50 shadow-sm",children:"â†’"})]}),m.length>0&&ba>1&&(0,b.jsxs)("div",{className:"hidden md:flex justify-center items-center gap-1 mb-3",children:[(0,b.jsx)("button",{onClick:()=>aw(av-1),disabled:1===av,className:"px-3 py-2 bg-white border border-slate-200 rounded-lg text-sm disabled:opacity-50 shadow-sm",children:"â†"}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[Array.from({length:Math.min(5,ba)},(a,c)=>{let d;return d=ba<=5||av<=3?c+1:av>=ba-2?ba-4+c:av-2+c,(0,b.jsx)("button",{onClick:()=>aw(d),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all ${d===av?"bg-blue-500 text-white shadow-md":"bg-white border border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:d},d)}),ba>5&&av<ba-2&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"text-slate-400",children:"..."}),(0,b.jsx)("button",{onClick:()=>aw(ba),className:"px-3 py-2 bg-white border border-slate-200 rounded-lg text-sm text-slate-600 hover:bg-slate-50",children:ba})]})]}),(0,b.jsx)("button",{onClick:()=>aw(av+1),disabled:av===ba,className:"px-3 py-2 bg-white border border-slate-200 rounded-lg text-sm disabled:opacity-50 shadow-sm",children:"â†’"})]}),!a5&&(0,b.jsxs)("div",{className:"md:hidden flex-1 flex flex-col items-center justify-center py-16",children:[(0,b.jsx)(i,{className:"w-16 h-16 text-slate-300 mb-4"}),a6?(0,b.jsxs)("p",{className:"text-slate-500 text-center text-sm",children:["à¸žà¸´à¸¡à¸žà¹Œà¸­à¸µà¸ ",3-u.length," à¸•à¸±à¸§à¸­à¸±à¸à¸©à¸£à¹€à¸žà¸·à¹ˆà¸­à¸„à¹‰à¸™à¸«à¸²"]}):(0,b.jsx)("p",{className:"text-slate-500 text-center text-sm",children:"à¸à¸£à¸¸à¸“à¸²à¹€à¸¥à¸·à¸­à¸à¸•à¸±à¸§à¸à¸£à¸­à¸‡à¸«à¸£à¸·à¸­à¸žà¸´à¸¡à¸žà¹Œà¸­à¸¢à¹ˆà¸²à¸‡à¸™à¹‰à¸­à¸¢ 3 à¸•à¸±à¸§à¸­à¸±à¸à¸©à¸£à¹€à¸žà¸·à¹ˆà¸­à¸„à¹‰à¸™à¸«à¸²"}),(0,b.jsx)("button",{onClick:()=>aO(!0),className:"mt-4 px-6 py-2 bg-blue-500 text-white rounded-xl text-sm font-medium hover:bg-blue-600 transition-colors",children:"à¹€à¸¥à¸·à¸­à¸à¸•à¸±à¸§à¸à¸£à¸­à¸‡"})]}),a5&&m.length>0&&(0,b.jsxs)("div",{className:"md:hidden bg-white rounded-lg shadow-md overflow-hidden mb-4",children:[(0,b.jsx)("div",{className:"overflow-x-auto custom-scrollbar-horizontal",style:{overflowY:"hidden",height:"12px"},onScroll:a=>{let b=a.currentTarget,c=b.nextElementSibling;c&&(c.scrollLeft=b.scrollLeft)},children:(0,b.jsx)("div",{style:{width:150*m[0].headers.length+"px",height:"1px"}})}),(0,b.jsx)("div",{className:"overflow-x-auto overflow-y-auto custom-scrollbar",style:{maxHeight:`calc(100vh + ${aV}px)`,position:"relative"},onScroll:a=>{let b=a.currentTarget,c=b.previousElementSibling;c&&(c.scrollLeft=b.scrollLeft)},children:(0,b.jsxs)("table",{className:"w-full border-collapse text-sm table-auto",style:{position:"relative",zIndex:1},children:[(0,b.jsx)("thead",{className:"sticky top-0 z-30 bg-yellow-300",children:(0,b.jsxs)("tr",{className:"bg-yellow-300 border border-gray-400",children:[(0,b.jsx)("th",{className:"px-3 py-2 text-center font-bold text-gray-900 border-r border-gray-400",children:(0,b.jsx)("input",{type:"checkbox",checked:aJ.length===a4.length&&a4.length>0,onChange:a2,className:"w-4 h-4 cursor-pointer",title:"à¹€à¸¥à¸·à¸­à¸à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”"})}),a8.map((a,c)=>{let d={à¸§à¸±à¸™à¸—à¸µà¹ˆà¸•à¸´à¸”à¸•à¸²à¸¡à¸„à¸£à¸±à¹‰à¸‡à¸¥à¹ˆà¸²à¸ªà¸¸à¸”:"bg-gradient-to-r from-emerald-300 to-emerald-400",à¸§à¸±à¸™à¸—à¸µà¹ˆà¸•à¸´à¸”à¸•à¸²à¸¡à¸„à¸£à¸±à¹‰à¸‡à¸–à¸±à¸”à¹„à¸›:"bg-gradient-to-r from-emerald-300 to-emerald-400","à¸§à¸±à¸™à¸—à¸µà¹ˆ Consult":"bg-gradient-to-r from-fuchsia-300 to-fuchsia-400",à¸§à¸±à¸™à¸—à¸µà¹ˆà¸œà¹ˆà¸²à¸•à¸±à¸”:"bg-gradient-to-r from-orange-300 to-orange-400",à¹€à¸§à¸¥à¸²à¸—à¸µà¹ˆà¸™à¸±à¸”:"bg-gradient-to-r from-orange-300 to-orange-400","à¸§à¸±à¸™à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸Šà¸·à¹ˆà¸­ à¹€à¸šà¸­à¸£à¹Œ":"bg-gradient-to-r from-blue-300 to-blue-400","à¸§à¸±à¸™à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸™à¸±à¸” consult":"bg-gradient-to-r from-fuchsia-300 to-fuchsia-400",à¸§à¸±à¸™à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸™à¸±à¸”à¸œà¹ˆà¸²à¸•à¸±à¸”:"bg-gradient-to-r from-orange-300 to-orange-400"},e=d[a]||"bg-yellow-300",f=d[a]?"hover:opacity-90":"hover:bg-yellow-400";return(0,b.jsx)("th",{onClick:()=>{ar===a?au("asc"===at?"desc":"asc"):(as(a),au("asc"))},className:`px-3 py-2 text-center text-xs font-bold text-gray-900 border-r border-gray-400 whitespace-nowrap cursor-pointer ${f} transition-all ${e}`,style:{fontSize:"11px"},children:(0,b.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,b.jsx)("span",{children:a}),ar===a&&("asc"===at?(0,b.jsx)(g,{className:"w-3 h-3"}):(0,b.jsx)(h.ChevronDown,{className:"w-3 h-3"}))]})},c)}),a5&&(0,b.jsx)("th",{className:"px-3 py-2 text-center text-xs font-bold text-gray-900 border-r border-gray-400 whitespace-nowrap bg-blue-300",style:{fontSize:"11px"},children:"à¸”à¸¹à¹€à¸žà¸´à¹ˆà¸¡à¹€à¸•à¸´à¸¡"})]})}),(0,b.jsxs)("tbody",{children:[(console.log("ðŸ“Š Rendering tbody with",a9.length,"rows"),null),a9.map((a,c)=>{let d=((av-1)*ax+c)%4,e=a.id,f=aJ.includes(e),g="bg-white";return 1===d?g="bg-pink-200":3===d&&(g="bg-purple-200"),f&&(g="bg-blue-100"),(0,b.jsxs)("tr",{onClick:()=>{aG(a),aE(!0)},className:`border border-gray-300 transition-all duration-200 group ${g} hover:bg-blue-50 cursor-pointer`,children:[(0,b.jsx)("td",{className:"px-3 py-2 border-r border-gray-300 text-center",onClick:a=>a.stopPropagation(),children:(0,b.jsx)("input",{type:"checkbox",checked:f,onChange:()=>a3(e),className:"w-4 h-4 cursor-pointer"})}),a8.map((c,d)=>{let e=a[c],f=null!=e&&""!==e,g=(a=>{if(!a)return"";let b=String(a);if(b.includes("T")&&b.includes("Z"))try{return b.split("T")[0]}catch(a){}return b})(e),h="à¸«à¸¡à¸²à¸¢à¹€à¸«à¸•à¸¸"===c,i={à¸§à¸±à¸™à¸—à¸µà¹ˆà¸•à¸´à¸”à¸•à¸²à¸¡à¸„à¸£à¸±à¹‰à¸‡à¸¥à¹ˆà¸²à¸ªà¸¸à¸”:"bg-gradient-to-r from-emerald-100 to-emerald-200",à¸§à¸±à¸™à¸—à¸µà¹ˆà¸•à¸´à¸”à¸•à¸²à¸¡à¸„à¸£à¸±à¹‰à¸‡à¸–à¸±à¸”à¹„à¸›:"bg-gradient-to-r from-emerald-100 to-emerald-200","à¸§à¸±à¸™à¸—à¸µà¹ˆ Consult":"bg-gradient-to-r from-fuchsia-100 to-fuchsia-200",à¸§à¸±à¸™à¸—à¸µà¹ˆà¸œà¹ˆà¸²à¸•à¸±à¸”:"bg-gradient-to-r from-orange-100 to-orange-200",à¹€à¸§à¸¥à¸²à¸—à¸µà¹ˆà¸™à¸±à¸”:"bg-gradient-to-r from-orange-100 to-orange-200","à¸§à¸±à¸™à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸Šà¸·à¹ˆà¸­ à¹€à¸šà¸­à¸£à¹Œ":"bg-gradient-to-r from-blue-100 to-blue-200","à¸§à¸±à¸™à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸™à¸±à¸” consult":"bg-gradient-to-r from-fuchsia-100 to-fuchsia-200",à¸§à¸±à¸™à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸™à¸±à¸”à¸œà¹ˆà¸²à¸•à¸±à¸”:"bg-gradient-to-r from-orange-100 to-orange-200"},j=i[c]||"",k=!!i[c];return(0,b.jsx)("td",{className:`px-3 py-2 text-xs text-gray-900 border-r border-gray-300 text-center align-middle ${h?"":"whitespace-nowrap"} ${j}`,style:{fontSize:"11px",minWidth:h?"450px":k?"80px":void 0,maxWidth:h?"450px":k?"80px":void 0},children:f?(0,b.jsx)("span",{className:h?"block text-left whitespace-pre-wrap break-words":"block",children:g}):(0,b.jsx)("span",{className:"text-gray-400 block",children:"-"})},d)}),a5&&(0,b.jsx)("td",{className:"px-3 py-2 text-center border-r border-gray-300",onClick:a=>a.stopPropagation(),children:(0,b.jsx)("button",{onClick:()=>{aG(a),aE(!0)},className:"px-3 py-1.5 bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white text-xs font-medium rounded-lg transition-all duration-200 shadow-sm hover:shadow-md",children:"à¸”à¸¹à¹€à¸žà¸´à¹ˆà¸¡à¹€à¸•à¸´à¸¡"})})]},c)})]})]})})]}),!a5&&m.length>0&&(0,b.jsxs)("div",{className:"hidden md:flex flex-col items-center justify-center py-16 bg-white rounded-xl shadow-sm border border-slate-200",children:[(0,b.jsx)(i,{className:"w-16 h-16 text-slate-300 mb-4"}),a6?(0,b.jsxs)("p",{className:"text-slate-500 text-center text-sm",children:["à¸žà¸´à¸¡à¸žà¹Œà¸­à¸µà¸ ",3-u.length," à¸•à¸±à¸§à¸­à¸±à¸à¸©à¸£à¹€à¸žà¸·à¹ˆà¸­à¸„à¹‰à¸™à¸«à¸²"]}):(0,b.jsx)("p",{className:"text-slate-500 text-center text-sm",children:"à¸à¸£à¸¸à¸“à¸²à¹€à¸¥à¸·à¸­à¸à¸•à¸±à¸§à¸à¸£à¸­à¸‡à¸«à¸£à¸·à¸­à¸žà¸´à¸¡à¸žà¹Œà¸­à¸¢à¹ˆà¸²à¸‡à¸™à¹‰à¸­à¸¢ 3 à¸•à¸±à¸§à¸­à¸±à¸à¸©à¸£à¹€à¸žà¸·à¹ˆà¸­à¸„à¹‰à¸™à¸«à¸²"})]}),a5&&m.length>0&&(0,b.jsxs)("div",{className:"hidden md:block bg-white rounded-lg shadow-md overflow-hidden mb-4",children:[(0,b.jsx)("div",{className:"overflow-x-auto custom-scrollbar-horizontal",style:{overflowY:"hidden",height:"12px"},onScroll:a=>{let b=a.currentTarget,c=b.nextElementSibling;c&&(c.scrollLeft=b.scrollLeft)},children:(0,b.jsx)("div",{style:{width:150*m[0].headers.length+"px",height:"1px"}})}),(0,b.jsx)("div",{className:"overflow-x-auto overflow-y-auto custom-scrollbar",style:{maxHeight:`calc(100vh + ${aV}px)`,position:"relative"},onScroll:a=>{let b=a.currentTarget,c=b.previousElementSibling;c&&(c.scrollLeft=b.scrollLeft)},children:(0,b.jsxs)("table",{className:"w-full border-collapse text-sm table-auto",style:{position:"relative",zIndex:1},children:[(0,b.jsx)("thead",{className:"sticky top-0 z-30 bg-yellow-300",children:(0,b.jsxs)("tr",{className:"bg-yellow-300 border border-gray-400",children:[(0,b.jsx)("th",{className:"px-3 py-2 text-center font-bold text-gray-900 border-r border-gray-400",children:(0,b.jsx)("input",{type:"checkbox",checked:aJ.length===a4.length&&a4.length>0,onChange:a2,className:"w-4 h-4 cursor-pointer",title:"à¹€à¸¥à¸·à¸­à¸à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”"})}),a8.map((a,c)=>(0,b.jsx)("th",{className:"px-3 py-2 text-center font-bold text-gray-900 whitespace-nowrap border-r border-gray-400",children:a},c)),(0,b.jsx)("th",{className:"px-3 py-2 text-center font-bold text-gray-900 whitespace-nowrap border-r border-gray-400 bg-blue-300",children:"à¸”à¸¹à¹€à¸žà¸´à¹ˆà¸¡à¹€à¸•à¸´à¸¡"})]})}),(0,b.jsx)("tbody",{children:a9.map((a,c)=>{let d=a["à¹„à¸­à¸”à¸µ"]||a.id||c,e=aJ.includes(d);return(0,b.jsxs)("tr",{className:`border-b border-gray-200 ${e?"bg-blue-50":c%2==0?"bg-white":"bg-gray-50"} hover:bg-blue-100 transition-colors`,children:[(0,b.jsx)("td",{className:"px-3 py-2 text-center border-r border-gray-200",onClick:a=>a.stopPropagation(),children:(0,b.jsx)("input",{type:"checkbox",checked:e,onChange:()=>a3(d),className:"w-4 h-4 cursor-pointer"})}),a8.map((c,d)=>{let e=a[c],f=null!=e&&""!==e,g=f?String(e):"-";return(0,b.jsx)("td",{className:"px-3 py-2 text-center border-r border-gray-200 whitespace-nowrap",style:{fontSize:"11px"},children:f?g:(0,b.jsx)("span",{className:"text-gray-400",children:"-"})},d)}),(0,b.jsx)("td",{className:"px-3 py-2 text-center border-r border-gray-200",children:(0,b.jsx)("button",{onClick:()=>{aG(a),aE(!0)},className:"px-3 py-1.5 bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white text-xs font-medium rounded-lg transition-all duration-200 shadow-sm hover:shadow-md",children:"à¸”à¸¹à¹€à¸žà¸´à¹ˆà¸¡à¹€à¸•à¸´à¸¡"})})]},c)})})]})})]})]}),(0,b.jsx)(Z,{isOpen:aD,onClose:()=>aE(!1),customerData:aF||{},onSave:a0}),(0,b.jsx)(_,{isOpen:aH,onClose:()=>aI(!1),onSuccess:()=>{aI(!1),aY()}})]})};function ac(){return(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)("div",{className:"w-full min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 flex items-center justify-center",children:(0,b.jsx)("div",{className:"text-slate-500",children:"à¸à¸³à¸¥à¸±à¸‡à¹‚à¸«à¸¥à¸”..."})}),children:(0,b.jsx)(ab,{})})}a.s(["default",()=>ac],635595)}];

//# sourceMappingURL=src_app_%28fullscreen%29_customer-all-data_page_tsx_587b4e2e._.js.map