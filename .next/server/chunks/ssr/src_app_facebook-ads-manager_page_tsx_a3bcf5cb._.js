module.exports=[354381,a=>{"use strict";var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=a.i(187924),w=a.i(572131),x=a.i(50944);(b=l||(l={})).CONNECTED="connected",b.AUTHORIZATION_EXPIRED="authorization_expired",b.NOT_AUTHORIZED="not_authorized",b.UNKNOWN="unknown";var y=l;class z extends Error{constructor(a,b,c){super(a),this.code=b,this.type=c}}(c=m||(m={})).GET="get",c.POST="post",c.DELETE="delete",(d=n||(n={})).UI="ui",d.API="api",d.LOGIN="login",d.LOGOUT="logout",d.GET_LOGIN_STATUS="getLoginStatus",d.GET_AUTH_RESPONSE="getAuthResponse";let A={domain:"connect.facebook.net",version:"v23.0",cookie:!1,status:!1,xfbml:!1,language:"en_US",frictionlessRequests:!1,debug:!1,chatSupport:!1,autoLogAppEvents:!0,lazy:!1};class B{constructor(a){if(!a.appId)throw Error("You need to set appId");this.options={...A,...a},this.options.lazy||this.init()}getAppId(){return this.options.appId}getFB(){return window.FB}async init(){return this.loadingPromise||(this.loadingPromise=new Promise(a=>{let{domain:b,language:c,debug:d,chatSupport:e,...f}=this.options;if(window.fbAsyncInit=()=>{window.FB.init({appId:f.appId,version:f.version,cookie:f.cookie,status:f.status,xfbml:f.xfbml,frictionlessRequests:f.frictionlessRequests}),a(this)},window.document.getElementById("facebook-jssdk"))return a(this);let g=window.document.createElement("script");g.id="facebook-jssdk",g.async=!0,g.defer=!0,g.crossOrigin="anonymous",g.src=`https://${b}/${c}/sdk${e?"/xfbml.customerchat":""}${d?"/debug":""}.js`,window.document.body.appendChild(g)})),this.loadingPromise}async process(a,b=[],c=[]){await this.init();let d=this.getFB();return new Promise((e,f)=>{d[a](...b,b=>{if(b)if(b&&"object"==typeof b&&"error"in b){let{code:a,type:c,message:d}=b.error;f(new z(d,a,c))}else e(b);else a!==n.UI&&f(Error("Response is undefined"))},...c)})}async ui(a){return this.process(n.UI,[a])}async api(a,b=m.GET,c={}){return this.process(n.API,[a,b,c])}async login(a){let{scope:b,authType:c=[],returnScopes:d,rerequest:e,reauthorize:f}=a,g={scope:b};return d&&(g.return_scopes=!0),e&&c.push("rerequest"),f&&c.push("reauthenticate"),c.length&&(g.auth_type=c.join(",")),this.process(n.LOGIN,[],[g])}async logout(){return this.process(n.LOGOUT)}async getLoginStatus(){return this.process(n.GET_LOGIN_STATUS)}async getAuthResponse(){return this.process(n.GET_AUTH_RESPONSE)}async getTokenDetail(a){if((null==a?void 0:a.status)===y.CONNECTED)return a.authResponse;let b=await this.getLoginStatus();if(b.status===y.CONNECTED)return b.authResponse;throw Error("Token is undefined")}async getProfile(a){return this.api("/me",m.GET,a)}async getTokenDetailWithProfile(a,b){let c=await this.getTokenDetail(b);return{profile:await this.getProfile(a),tokenDetail:c}}async getToken(){return(await this.getTokenDetail()).accessToken}async getUserId(){return(await this.getTokenDetail()).userID}async sendInvite(a,b){return this.ui({to:a,method:"apprequests",...b})}async postAction(a,b,c,d,e=!1){let f=`/me/${a}:${b}?${c}=${encodeURIComponent(d)}`;return!0===e&&(f+="&no_feed_story=true"),this.api(f,m.POST)}async getPermissions(){return(await this.api("/me/permissions")).data}async hasPermissions(a){let b=await this.getPermissions();return a.filter(a=>!!b.find(b=>{let{permission:c,status:d}=b;return"granted"===d&&c===a})).length===a.length}async subscribe(a,b){return await this.init(),this.getFB().Event.subscribe(a,b),()=>this.unsubscribe(a,b)}async unsubscribe(a,b){await this.init(),this.getFB().Event.unsubscribe(a,b)}async parse(a){await this.init(),void 0===a?this.getFB().XFBML.parse():this.getFB().XFBML.parse(a)}async getRequests(){return this.api("/me/apprequests")}async removeRequest(a){return this.api(a,m.DELETE)}async setAutoGrow(){await this.init(),this.getFB().Canvas.setAutoGrow()}async paySimple(a,b=1){return this.ui({method:"pay",action:"purchaseitem",product:a,quantity:b})}async pay(a,b){return this.ui({method:"pay",action:"purchaseitem",product:a,...b})}getLocale(){return this.options.language||"en_US"}async changeLocale(a){this.options.language=a;let b=window.document.getElementById("facebook-jssdk");b&&b.remove(),window.FB&&delete window.FB,this.loadingPromise=void 0,await this.init(),await this.parseAll()}async parseAll(){await this.init();let a=this.getFB();a&&a.XFBML&&a.XFBML.parse&&a.XFBML.parse()}}var C=(0,w.createContext)(void 0);let D={autoConfig:!0,debug:!1,advancedMatching:{}};class E{constructor(a){if(!a.pixelId)throw Error("You need to set pixelId");this.options={...D,...a},this.options.debug||(this.options.debug=!1)}warn(...a){this.options.debug&&console.warn("[react-facebook-pixel]",...a)}log(...a){this.options.debug&&console.info("[react-facebook-pixel]",...a)}loadPixelScript(){return new Promise(a=>{if(window.fbq)return void a();let b=document.createElement("script");b.async=!0,b.src="https://connect.facebook.net/en_US/fbevents.js",b.onload=()=>{window.fbq||(window.fbq=function(){window.fbq.callMethod?window.fbq.callMethod.apply(window.fbq,arguments):window.fbq.queue.push(arguments)}),window._fbq||(window._fbq=window.fbq),window.fbq.push=window.fbq,window.fbq.loaded=!0,window.fbq.version="2.0",window.fbq.queue=[],a()},b.onerror=()=>{this.warn("Failed to load Facebook Pixel script"),a()},document.head.appendChild(b)})}async init(){return this.loadingPromise||(this.loadingPromise=this.loadPixelScript().then(()=>{let{pixelId:a,autoConfig:b,advancedMatching:c}=this.options;return!1===b&&window.fbq("set","autoConfig",!1,a),window.fbq("init",a,c),this.log("Pixel initialized successfully"),this})),this.loadingPromise}async pageView(){await this.init(),window.fbq("track","PageView"),this.log("Called fbq('track', 'PageView')")}async track(a,b){await this.init(),window.fbq("track",a,b),this.log(`Called fbq('track', '${a}')`),b&&this.log("with data:",b)}async trackSingle(a,b,c){await this.init(),window.fbq("trackSingle",a,b,c),this.log(`Called fbq('trackSingle', '${a}', '${b}')`),c&&this.log("with data:",c)}async trackCustom(a,b){await this.init(),window.fbq("trackCustom",a,b),this.log(`Called fbq('trackCustom', '${a}')`),b&&this.log("with data:",b)}async trackSingleCustom(a,b,c){await this.init(),window.fbq("trackSingleCustom",a,b,c),this.log(`Called fbq('trackSingleCustom', '${a}', '${b}')`),c&&this.log("with data:",c)}async grantConsent(){await this.init(),window.fbq("consent","grant"),this.log("Called fbq('consent', 'grant')")}async revokeConsent(){await this.init(),window.fbq("consent","revoke"),this.log("Called fbq('consent', 'revoke')")}async fbq(...a){await this.init(),window.fbq(...a),this.log(`Called fbq('${a.slice(0,2).join("', '")}')`),a[2]&&this.log("with data:",a[2])}isInitialized(){return!!this.loadingPromise}getOptions(){return{...this.options}}}let F=(0,w.createContext)(void 0);function G(a){let{children:b,lazy:c=!1,...d}=a,[e,f]=(0,w.useState)(!0),[g,h]=(0,w.useState)(),i=(0,w.useRef)(),j=(0,w.useRef)();async function k(){return j.current||(j.current=(async()=>{try{if(i.current)return;f(!0),h(void 0),i.current=new E(d),await i.current.init()}catch(a){h(a)}finally{f(!1)}})()),j.current}async function l(){var a;await k(),await (null==(a=i.current)?void 0:a.pageView())}async function m(a,b){var c;await k(),await (null==(c=i.current)?void 0:c.track(a,b))}async function n(a,b){var c;await k(),await (null==(c=i.current)?void 0:c.trackCustom(a,b))}async function o(){var a;await k(),await (null==(a=i.current)?void 0:a.grantConsent())}async function p(){var a;await k(),await (null==(a=i.current)?void 0:a.revokeConsent())}async function q(...a){var b;await k(),await (null==(b=i.current)?void 0:b.fbq(...a))}(0,w.useEffect)(()=>{c||k()},[c]);let r={isLoading:e,error:g,init:k,pixel:i.current,pageView:l,track:m,trackCustom:n,grantConsent:o,revokeConsent:p,fbq:q};return w.default.createElement(F.Provider,{value:r},b)}function H(a){let{children:b,pixel:c,...d}=a,[e,f]=(0,w.useState)(!0),[g,h]=(0,w.useState)(!1),[i,j]=(0,w.useState)(),[k,l]=(0,w.useState)(d.language||"en_US"),m=(0,w.useRef)(),n=(0,w.useRef)();async function o(){return n.current||(n.current=(async()=>{try{if(m.current)return m.current;return h(!1),f(!0),m.current=new B(d),await m.current.init(),h(!0),m.current}catch(a){j(a)}finally{f(!1)}return m.current})()),n.current}async function p(a){let b=await o();b&&await b.parse(a)}async function q(a){if(!m.current)return void l(a);try{f(!0),j(void 0),await m.current.changeLocale(a),l(a)}catch(a){j(a)}finally{f(!1)}}(0,w.useEffect)(()=>{let{lazy:a}=d;a||o()},[d.lazy]),(0,w.useEffect)(()=>{let a=d.language||"en_US";a!==k&&q(a)},[d.language,k]);let r={isLoading:e,error:i,init:o,api:g?m.current:void 0,parse:p,locale:k,setLocale:q},s=w.default.createElement(C.Provider,{value:r},b);return c?w.default.createElement(G,{...c},s):s}var I=(0,w.memo)((0,w.forwardRef)(function(a,b){let{as:c="div",children:d,className:e,style:f,data:g}=a,{parse:h}=function(a={}){let{lazy:b=!1}=a,c=(0,w.useContext)(C);if(!c)throw Error("useFacebook must be used within a FacebookProvider");return(0,w.useEffect)(()=>{b||c.init()},[b,c.init]),c}(),[i,j]=(0,w.useState)(null),k=(0,w.useCallback)(a=>{j(a),b&&("function"==typeof b?b(a):b&&(b.current=a))},[b]),l=(0,w.useMemo)(()=>{let a=`fb-parser-${c}-${e}`;if(!g)return a;for(let b in g)void 0!==g[b]&&(a+=`-${b}:${g[b]||""}`);return a},[g,d,c,e]);return(0,w.useEffect)(()=>{i&&h(i)},[i,h,l]),w.default.createElement(c,{key:l,style:f,ref:k},w.default.createElement(c,{className:e,...g},d))}));function J(){return"https://www.facebook.com"}(0,w.memo)((0,w.forwardRef)(function(a,b){let{className:c="",href:d=J(),layout:e,colorScheme:f,action:g,showFaces:h,share:i,width:j,size:k,kidDirectedSite:l,referral:m,lazy:n,...o}=a,p=(0,w.useMemo)(()=>({"data-ref":m,"data-href":d,"data-layout":e,"data-colorscheme":f,"data-action":g,"data-show-faces":h?"true":"false","data-share":i?"true":"false","data-width":null==j?void 0:j.toString(),"data-size":k,"data-lazy":n?"true":"false","data-kid-directed-site":l?"true":"false"}),[m,d,e,f,g,h,i,j,k,l,n]);return w.default.createElement(I,{className:`fb-like ${c}`,data:p,...o,ref:b})})),(0,w.memo)((0,w.forwardRef)(function(a,b){let{className:c="",style:d,href:e=J(),tabs:f,hideCover:g,width:h,height:i,showFacepile:j,hideCTA:k,smallHeader:l,adaptContainerWidth:m,lazy:n,...o}=a,p=(0,w.useMemo)(()=>({"data-tabs":f,"data-hide-cover":g?"true":"false","data-show-facepile":j?"true":"false","data-hide-cta":k?"true":"false","data-href":e,"data-small-header":l?"true":"false","data-adapt-container-width":m?"true":"false","data-height":null==i?void 0:i.toString(),"data-width":null==h?void 0:h.toString(),"data-lazy":n?"true":"false"}),[e,f,g,h,i,j,k,l,m,n]);return w.default.createElement(I,{className:`fb-page ${c}`,style:d,data:p,...o,ref:b})}));var K=(0,w.memo)((0,w.forwardRef)(function(a,b){let{className:c="",href:d,width:e,showText:f,lazy:g,...h}=a,i=(0,w.useMemo)(()=>({"data-href":d,"data-width":null==e?void 0:e.toString(),"data-lazy":g?"true":"false","data-show-text":f?"true":"false"}),[d,e,g,f]);return w.default.createElement(I,{className:`fb-post ${c}`,data:i,...h,ref:b})}));if((0,w.memo)((0,w.forwardRef)(function(a,b){let{className:c="",href:d,width:e,showText:f,allowFullScreen:g,autoPlay:h,lazy:i,showCaptions:j,...k}=a,l=(0,w.useMemo)(()=>({"data-href":d,"data-width":null==e?void 0:e.toString(),"data-show-text":f?"true":"false","data-show-captions":j?"true":"false","data-autoplay":h?"true":"false","data-lazy":i?"true":"false","data-allowfullscreen":g?"true":"false"}),[d,e,f,j,h,i,g]);return w.default.createElement(I,{className:`fb-video ${c}`,data:l,...k,ref:b})})),(0,w.memo)((0,w.forwardRef)(function(a,b){let{className:c="",colorScheme:d,href:e=J(),numPosts:f,orderBy:g,width:h,mobile:i,lazy:j,...k}=a,l=(0,w.useMemo)(()=>({"data-colorscheme":d,"data-numposts":null==f?void 0:f.toString(),"data-href":e,"data-order-by":g,"data-width":null==h?void 0:h.toString(),"data-skin":d,"data-mobile":i?"true":"false","data-lazy":j?"true":"false"}),[d,e,f,g,h,i,j]);return w.default.createElement(I,{className:`fb-comments ${c}`,data:l,...k,ref:b})})),(0,w.memo)((0,w.forwardRef)(function(a,b){let{className:c="",href:d=J(),...e}=a,f=(0,w.useMemo)(()=>({"data-href":d}),[d]);return w.default.createElement(I,{as:"span",className:`fb-comments-count ${c}`,data:f,...e,ref:b})})),(0,w.memo)((0,w.forwardRef)(function(a,b){let{className:c="",href:d=J(),lazy:e,layout:f,size:g,...h}=a,i=(0,w.useMemo)(()=>({"data-href":d,"data-lazy":e?"true":"false","data-size":g,"data-layout":f}),[d,e,g,f]);return w.default.createElement(I,{className:`fb-share-button ${c}`,data:i,...h,ref:b})})),(e=o||(o={})).SMALL="small",e.LARGE="large",(f=p||(p={})).STANDARD="standard",f.BUTTON_COUNT="button_count",f.BUTTON="button",f.BOX_COUNT="box_count",(g=q||(q={})).LIGHT="light",g.DARK="dark",(h=r||(r={})).LIKE="like",h.RECOMMEND="recommend",(i=s||(s={})).SOCIAL="social",i.REVERSE_TIME="reverse_time",i.TIME="time",(j=t||(t={})).SMALL="small",j.MEDIUM="medium",j.STANDARD="standard",j.LARGE="large",j.XLARGE="xlarge",(k=u||(u={})).BLUE="blue",k.WHITE="white","undefined"!=typeof document){let a=document.createElement("style");a.textContent=`
    header, footer, nav.navbar, .layout-grid > :not(main) {
      display: none !important;
    }
    body {
      padding: 0 !important;
      margin: 0 !important;
      overflow-x: hidden !important;
    }
    main, .layout-grid {
      padding: 0 !important;
      margin: 0 !important;
    }
    /* Mobile Responsive Styles */
    @media (max-width: 640px) {
      .min-h-screen {
        min-height: 100vh !important;
      }
    }
    @media (max-width: 768px) {
      /* Make tables scrollable on mobile */
      .overflow-x-auto {
        overflow-x: auto !important;
        -webkit-overflow-scrolling: touch !important;
      }
    }
    .modal-overlay {
      backdrop-filter: blur(8px);
      animation: fadeIn 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    .video-modal-container {
      animation: slideUp 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    @keyframes slideUp {
      from { 
        opacity: 0;
        transform: translateY(30px) scale(0.95);
      }
      to { 
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }
    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }
    @keyframes shimmer {
      0% { background-position: -1000px 0; }
      100% { background-position: 1000px 0; }
    }
    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.8; }
    }
    @keyframes slideInFromLeft {
      from { 
        opacity: 0;
        transform: translateX(-30px);
      }
      to { 
        opacity: 1;
        transform: translateX(0);
      }
    }
    @keyframes slideInFromRight {
      from { 
        opacity: 0;
        transform: translateX(30px);
      }
      to { 
        opacity: 1;
        transform: translateX(0);
      }
    }
    .animate-slide-in-left {
      animation: slideInFromLeft 0.5s ease-out;
    }
    .animate-slide-in-right {
      animation: slideInFromRight 0.5s ease-out;
    }
    .glass-effect {
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
    }
    .gradient-border {
      position: relative;
      background: linear-gradient(white, white) padding-box,
                  linear-gradient(135deg, #667eea 0%, #764ba2 100%) border-box;
      border: 2px solid transparent;
    }
  `,document.head.appendChild(a)}function L(){var a;let b,c,d,e,f,g,h,i,j,k,l,m,n,o=(0,x.useRouter)(),[p,q]=(0,w.useState)([]),[r,s]=(0,w.useState)(!0),[t,u]=(0,w.useState)(null),[y,z]=(0,w.useState)("ads"),[A,B]=(0,w.useState)("today"),[C,D]=(0,w.useState)(""),[E,F]=(0,w.useState)(""),[G,I]=(0,w.useState)(!1),[J,L]=(0,w.useState)(1),[M,N]=(0,w.useState)(0),[O,P]=(0,w.useState)(!1),[Q,R]=(0,w.useState)(0),[S,T]=(0,w.useState)(!1),[U,V]=(0,w.useState)(0),[W,X]=(0,w.useState)(!1),[Y,Z]=(0,w.useState)({total:0,datesWithData:0}),[$,_]=(0,w.useState)(!1),[aa,ab]=(0,w.useState)("facebook"),[ac,ad]=(0,w.useState)(new Map),[ae,af]=(0,w.useState)(!1),[ag,ah]=(0,w.useState)(null),[ai,aj]=(0,w.useState)(!1),[ak,al]=(0,w.useState)("leads"),[am,an]=(0,w.useState)([]),[ao,ap]=(0,w.useState)(!1),[aq,ar]=(0,w.useState)({}),[as,at]=(0,w.useState)(!1),[au,av]=(0,w.useState)(new Map),[aw,ax]=(0,w.useState)(!1),[ay,az]=(0,w.useState)(20),[aA,aB]=(0,w.useState)([]),[aC,aD]=(0,w.useState)(!1),[aE,aF]=(0,w.useState)(new Set(["MOF","BOF"])),[aG,aH]=(0,w.useState)("leads"),[aI,aJ]=(0,w.useState)(20),[aK,aL]=(0,w.useState)(null),[aM,aN]=(0,w.useState)(!1),[aO,aP]=(0,w.useState)([]),[aQ,aR]=(0,w.useState)(!1),[aS,aT]=(0,w.useState)(null),[aU,aV]=(0,w.useState)({totalSpend:0,totalImpressions:0,totalClicks:0,totalAds:0,avgCtr:0,avgCpc:0,avgCpm:0,total_messaging_first_reply:0,total_messaging_connection:0}),[aW,aX]=(0,w.useState)("spend"),[aY,aZ]=(0,w.useState)(20),[a$,a_]=(0,w.useState)(0),[a0,a1]=(0,w.useState)(!1),[a2,a3]=(0,w.useState)(0),[a4,a5]=(0,w.useState)("THB"),a6=(0,w.useCallback)(a=>p.filter(b=>b.adset_id===a),[p]),a7=(0,w.useCallback)(a=>{let b=p.filter(b=>b.adset_id===a),c=0;return b.forEach(a=>{c+=au.get(a.ad_id)||0}),c},[p,au]);(0,w.useEffect)(()=>{},[ai,ag]);let a8=(0,w.useCallback)(async a=>{af(!0);try{let b=new Map;for(let c of a)try{let a=await fetch(`/api/facebook-ads-creative?ad_id=${c}`),d=await a.json();d.success&&d.data&&b.set(c,d.data)}catch(a){}ad(new Map(b))}catch(a){}finally{af(!1)}},[]),a9=(0,w.useCallback)(async a=>{try{let b;ax(!0);let c=a.join(","),d=new Date,e=d.toISOString().split("T")[0];if("custom"===A&&C&&E)b=C,e=E;else{let a;switch(A){case"today":default:b=e;break;case"yesterday":let c=new Date(d);c.setDate(c.getDate()-1),b=e=c.toISOString().split("T")[0];break;case"last_7d":(a=new Date(d)).setDate(a.getDate()-7),b=a.toISOString().split("T")[0];break;case"last_14d":(a=new Date(d)).setDate(a.getDate()-14),b=a.toISOString().split("T")[0];break;case"last_30d":(a=new Date(d)).setDate(a.getDate()-30),b=a.toISOString().split("T")[0];break;case"this_month":b=(a=new Date(d.getFullYear(),d.getMonth(),1)).toISOString().split("T")[0];break;case"last_month":a=new Date(d.getFullYear(),d.getMonth()-1,1);let f=new Date(d.getFullYear(),d.getMonth(),0);b=a.toISOString().split("T")[0],e=f.toISOString().split("T")[0]}}let f=await fetch(`/api/facebook-ads-phone-leads-sql?ad_ids=${c}&date_start=${b}&date_end=${e}`),g=await f.json();if(g.success&&g.data){let a=new Map;Object.keys(g.data).forEach(b=>{a.set(b,g.data[b])}),av(new Map(a))}}catch(a){av(new Map)}finally{ax(!1)}},[A,C,E]),ba=(0,w.useCallback)(async(a=!1,b=0)=>{try{a||s(!0),u(null);let c="campaigns"===y?"campaign":"adsets"===y?"adset":"ad",d=`https://believable-ambition-production.up.railway.app/api/facebook-ads-campaigns?level=${c}`,e=JSON.stringify([{field:"action_type",operator:"IN",value:["onsite_conversion.messaging_first_reply","onsite_conversion.total_messaging_connection"]}]);if(d+=`&filtering=${encodeURIComponent(e)}&action_breakdowns=action_type`,"custom"===A&&C&&E){let a=JSON.stringify({since:C,until:E});d+=`&time_range=${encodeURIComponent(a)}`}else d+=`&date_preset=${A}`;let f=await fetch(d),g=await f.json();if(403===f.status&&g.error?.includes("Application request limit reached")){let c=Math.min(3e4*Math.pow(2,b),12e4);u(`‚è≥ API Rate Limit - ‡∏à‡∏∞‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÉ‡∏ô‡∏≠‡∏µ‡∏Å ${c/1e3} ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ... (‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà ${b+1})`),setTimeout(()=>{b<3?ba(a,b+1):(u("‚ùå API Rate Limit - ‡πÄ‡∏Å‡∏¥‡∏ô‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á"),s(!1))},c);return}if(!f.ok||!g.success)throw Error(g.error||"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ");let h=new Map;g.data.forEach(a=>{let b=a.ad_id||a.adset_id||a.campaign_id;if(h.has(b)){let c=h.get(b);a.actions&&(c.actions||(c.actions=[]),a.actions.forEach(a=>{let b=c.actions.find(b=>b.action_type===a.action_type);b?b.value=String(parseInt(b.value||"0")+parseInt(a.value||"0")):c.actions.push({...a})})),a.conversions&&(c.conversions||(c.conversions=[]),a.conversions.forEach(a=>{let b=c.conversions.find(b=>b.action_type===a.action_type);b?b.value=String(parseInt(b.value||"0")+parseInt(a.value||"0")):c.conversions.push({...a})}))}else h.set(b,{...a})});let i=Array.from(h.values());q(i);let j=i.filter(a=>a.ad_id).map(a=>a.ad_id);j.length>0&&(a8(j),a9(j))}catch(a){u(a instanceof Error?a.message:"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î")}finally{a||s(!1)}},[A,y,C,E,a8,a9]),bb=(0,w.useCallback)(async()=>{try{P(!0);let a="https://believable-ambition-production.up.railway.app/api/google-sheets-data";if("custom"===A&&C&&E){let b=JSON.stringify({since:C,until:E});a+=`?time_range=${encodeURIComponent(b)}`}else a+=`?date_preset=${A}`;let b=await fetch(a),c=await b.json();b.ok&&c.success?N(c.total||0):N(0)}catch(a){N(0)}finally{P(!1)}},[A,C,E]),bc=(0,w.useCallback)(async()=>{try{T(!0);let a="https://believable-ambition-production.up.railway.app/api/google-ads";if("custom"===A&&C&&E)a+=`?startDate=${C}&endDate=${E}`;else{let b=new Date,c="",d=b.toISOString().split("T")[0];switch(A){case"today":default:c=d;break;case"yesterday":let e=new Date(b);e.setDate(e.getDate()-1),c=d=e.toISOString().split("T")[0];break;case"last_7d":let f=new Date(b);f.setDate(f.getDate()-7),c=f.toISOString().split("T")[0];break;case"last_30d":let g=new Date(b);g.setDate(g.getDate()-30),c=g.toISOString().split("T")[0];break;case"this_month":c=new Date(b.getFullYear(),b.getMonth(),1).toISOString().split("T")[0];break;case"last_month":let h=new Date(b.getFullYear(),b.getMonth()-1,1),i=new Date(b.getFullYear(),b.getMonth(),0);c=h.toISOString().split("T")[0],d=i.toISOString().split("T")[0]}a+=`?startDate=${c}&endDate=${d}`}let b=await fetch(a),c=await b.json();if(!b.ok||c.error)R(0);else{let a=c.summary?.totalClicks||0;R(a)}}catch(a){R(0)}finally{T(!1)}},[A,C,E]),bd=(0,w.useCallback)(async()=>{try{X(!0);let a=await fetch("/api/facebook-ads-balance"),b=await a.json();a.ok&&b.success?V(b.data.available_balance||0):V(0)}catch(a){V(0)}finally{X(!1)}},[]),be=(0,w.useCallback)(async()=>{try{let a;_(!0);let b=new Date,c=b.toISOString().split("T")[0];if("custom"===A&&C&&E)a=C,c=E;else{let d;switch(A){case"today":default:a=c;break;case"yesterday":let e=new Date(b);e.setDate(e.getDate()-1),a=c=e.toISOString().split("T")[0];break;case"last_7d":(d=new Date(b)).setDate(d.getDate()-7),a=d.toISOString().split("T")[0];break;case"last_14d":(d=new Date(b)).setDate(d.getDate()-14),a=d.toISOString().split("T")[0];break;case"last_30d":(d=new Date(b)).setDate(d.getDate()-30),a=d.toISOString().split("T")[0];break;case"this_month":a=(d=new Date(b.getFullYear(),b.getMonth(),1)).toISOString().split("T")[0];break;case"last_month":d=new Date(b.getFullYear(),b.getMonth()-1,1);let f=new Date(b.getFullYear(),b.getMonth(),0);a=d.toISOString().split("T")[0],c=f.toISOString().split("T")[0]}}let d=await fetch("/api/phone-count"),e=await d.json();if(d.ok&&e.success){let b=0,d=0;Object.keys(e.data||{}).forEach(f=>{f>=a&&f<=c&&(b+=e.data[f],d++)}),Z({total:b,datesWithData:d})}else Z({total:0,datesWithData:0})}catch(a){Z({total:0,datesWithData:0})}finally{_(!1)}},[A,C,E]),bf=(0,w.useCallback)(async()=>{try{at(!0);let a=await fetch("/api/facebook-ads-phone-leads"),b=await a.json();b.success&&b.data?ar(b.data):ar({})}catch(a){ar({})}finally{at(!1)}},[]),bg=(0,w.useCallback)(async()=>{try{ap(!0);let a=await fetch("https://believable-ambition-production.up.railway.app/api/facebook-ads-campaigns?level=ad&date_preset=last_30d&time_increment=1"),b=await a.json();a.ok&&b.success?(an(b.data||[]),bf()):an([])}catch(a){an([])}finally{ap(!1)}},[bf]),bh=(0,w.useCallback)(async()=>{try{aD(!0);let a="https://believable-ambition-production.up.railway.app/api/facebook-ads-campaigns?level=adset";if("custom"===A&&C&&E){let b=JSON.stringify({since:C,until:E});a+=`&time_range=${encodeURIComponent(b)}`}else a+=`&date_preset=${A}`;let b=await fetch(a),c=await b.json();if(b.ok&&c.success){let a=new Map;c.data.forEach(b=>{let c=b.adset_id;if(a.has(c)){let d=a.get(c);b.actions&&(d.actions||(d.actions=[]),b.actions.forEach(a=>{let b=d.actions.find(b=>b.action_type===a.action_type);b?b.value=String(parseInt(b.value||"0")+parseInt(a.value||"0")):d.actions.push({...a})}))}else a.set(c,{...b})}),aB(Array.from(a.values()))}else aB([])}catch(a){aB([])}finally{aD(!1)}},[A,C,E]),bi=(0,w.useCallback)(async()=>{try{aR(!0),aT(null);let a=new URLSearchParams;a.append("ad_account_id","act_869492750129928"),a.append("level","ad");let b=JSON.stringify([{field:"action_type",operator:"IN",value:["onsite_conversion.messaging_first_reply","onsite_conversion.total_messaging_connection"]}]);if(a.append("filtering",b),a.append("action_breakdowns","action_type"),"custom"===A&&C&&E){let b=JSON.stringify({since:C,until:E});a.append("time_range",b)}else a.append("date_preset",A);let c=await fetch(`https://believable-ambition-production.up.railway.app/api/facebook-ads-campaigns?${a.toString()}`),d=await c.json();c.ok&&d.success?(aP(d.data||[]),aV({totalSpend:d.summary?.total_spend||0,totalImpressions:d.summary?.total_impressions||0,totalClicks:d.summary?.total_clicks||0,totalAds:d.data?.length||0,avgCtr:d.summary?.total_impressions>0?d.summary?.total_clicks/d.summary?.total_impressions*100:0,avgCpc:d.summary?.total_clicks>0?d.summary?.total_spend/d.summary?.total_clicks:0,avgCpm:d.summary?.total_impressions>0?d.summary?.total_spend/d.summary?.total_impressions*1e3:0,total_messaging_first_reply:d.summary?.total_messaging_first_reply||0,total_messaging_connection:d.summary?.total_messaging_connection||0})):(aT(d.error||"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Page 2 ‡πÑ‡∏î‡πâ"),aP([]),aV({totalSpend:0,totalImpressions:0,totalClicks:0,totalAds:0,avgCtr:0,avgCpc:0,avgCpm:0,total_messaging_first_reply:0,total_messaging_connection:0}))}catch(a){aT(a instanceof Error?a.message:"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î"),aP([])}finally{aR(!1)}},[A,C,E]),bj=(0,w.useCallback)(async()=>{try{a1(!0);let a=await fetch("/api/facebook-ads-balance-page2"),b=await a.json();a.ok&&b.success?(a_(b.data.available_balance||b.data.balance||0),a3(b.data.amount_spent||0),a5(b.data.currency||"THB")):(a_(0),a3(0))}catch(a){a_(0),a3(0)}finally{a1(!1)}},[]);(0,w.useEffect)(()=>{(async()=>{try{await Promise.all([ba(),bb(),bc(),bd(),be(),bg(),bh(),bi(),bj()])}catch(a){u("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•"),s(!1)}})();let a=setInterval(()=>{Promise.all([ba(!0),bb(),bc(),bd(),be(),bg(),bh(),bi(),bj()])},12e4);return()=>{clearInterval(a)}},[ba,bb,bc,bd,be,bg,bh,bi,bj]),(0,w.useEffect)(()=>{},[ac]);let bk=a=>{let b="string"==typeof a?parseFloat(a):a;return isNaN(b)?"‚Äî":b.toLocaleString("th-TH",{maximumFractionDigits:2})},bl=a=>{let b="string"==typeof a?parseFloat(a):a;return isNaN(b)?"‚Äî":`‡∏ø${b.toLocaleString("th-TH",{minimumFractionDigits:2,maximumFractionDigits:2})}`},bm=(a,b)=>{if(!a)return 0;let c=a.find(a=>a.action_type===b);return c?parseInt(c.value||"0"):0},bn=()=>{let a=0;return p.forEach(b=>{if(b.actions){let c=b.actions.find(a=>"onsite_conversion.messaging_first_reply"===a.action_type);if(c){let b=parseInt(c.value||"0");a+=b}}}),a},bo=()=>{let a=0;return p.forEach(b=>{if(b.actions){let c=b.actions.find(a=>"onsite_conversion.total_messaging_connection"===a.action_type);if(c){let b=parseInt(c.value||"0");a+=b}}}),a},bp=a=>{if(B(a),"custom"===a){let a=new Date().toISOString().split("T")[0];C||D(a),E||F(a),I(!0)}else I(!1)},bq=(0,w.useCallback)(()=>p,[p,A]);return r?(0,v.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 flex items-center justify-center",children:(0,v.jsxs)("div",{className:"text-center",children:[(0,v.jsx)("div",{className:"inline-block animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600 mb-6"}),(0,v.jsx)("p",{className:"text-gray-700 text-xl font-semibold",children:"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•..."}),(0,v.jsx)("p",{className:"text-gray-500 text-sm mt-2",children:"‡πÇ‡∏õ‡∏£‡∏î‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà"})]})}):t?(0,v.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,v.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-2xl w-full",children:[(0,v.jsx)("div",{className:"text-red-500 text-5xl mb-4 text-center",children:"‚ö†Ô∏è"}),(0,v.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4 text-center",children:"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î"}),(0,v.jsx)("p",{className:"text-gray-600 mb-6 text-center",children:t}),(0,v.jsx)("div",{className:"flex gap-3",children:(0,v.jsx)("button",{onClick:()=>{u(null),s(!0),ba(!1)},className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded transition-colors",children:"‡∏•‡∏≠‡∏á‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á"})})]})}):(0,v.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50",children:[(0,v.jsx)("div",{className:"bg-white border-b border-gray-200 px-3 sm:px-6 py-3",children:(0,v.jsxs)("button",{onClick:()=>o.push("/home"),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-lg transition-all shadow-md hover:shadow-lg font-medium text-sm",children:[(0,v.jsx)("span",{className:"text-lg",children:"‚Üê"}),(0,v.jsx)("span",{children:"‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å"})]})}),(0,v.jsx)("div",{className:"bg-white shadow-md border-b border-gray-200",children:(0,v.jsxs)("div",{className:"px-3 sm:px-6 py-3",children:[(0,v.jsxs)("div",{className:"hidden md:flex items-center space-x-2",children:[(0,v.jsx)("button",{className:"px-3 sm:px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium text-xs sm:text-sm",children:"üìä ‡∏ä‡πà‡∏≠‡∏á‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°"}),(0,v.jsx)("button",{onClick:()=>bp("today"),className:`px-3 sm:px-6 py-2 rounded-lg transition-colors font-medium text-xs sm:text-sm ${"today"===A?"bg-blue-500 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ"}),(0,v.jsx)("button",{onClick:()=>bp("yesterday"),className:`px-6 py-2 rounded-lg transition-colors font-medium text-sm ${"yesterday"===A?"bg-blue-500 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ß‡∏≤‡∏ô"}),(0,v.jsx)("button",{onClick:()=>bp("last_7d"),className:`px-6 py-2 rounded-lg transition-colors font-medium text-sm ${"last_7d"===A?"bg-blue-500 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"7 ‡∏ß‡∏±‡∏ô"}),(0,v.jsx)("button",{onClick:()=>bp("last_30d"),className:`px-6 py-2 rounded-lg transition-colors font-medium text-sm ${"last_30d"===A?"bg-blue-500 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"30 ‡∏ß‡∏±‡∏ô"}),(0,v.jsx)("button",{onClick:()=>bp("this_month"),className:`px-6 py-2 rounded-lg transition-colors font-medium text-sm ${"this_month"===A?"bg-blue-500 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ô‡∏µ‡πâ"}),(0,v.jsx)("button",{onClick:()=>bp("custom"),className:`px-6 py-2 rounded-lg transition-colors font-medium text-sm ${"custom"===A?"bg-blue-500 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"üóìÔ∏è ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏≠‡∏á"}),"custom"===A&&C&&E&&(0,v.jsxs)("span",{className:"text-xs text-gray-600 bg-blue-50 px-3 py-2 rounded-lg border border-blue-200 font-medium ml-2",children:[C," ‡∏ñ‡∏∂‡∏á ",E]}),(0,v.jsx)("div",{className:"flex-1"}),(0,v.jsxs)("div",{className:"flex items-center gap-2 border-l border-gray-300 pl-4 ml-2",children:[(0,v.jsx)("button",{onClick:()=>L(1),className:`px-4 py-2 rounded-lg transition-colors font-medium text-sm ${1===J?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Page 1"}),(0,v.jsx)("button",{onClick:()=>L(2),className:`px-4 py-2 rounded-lg transition-colors font-medium text-sm ${2===J?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Page 2"}),(0,v.jsx)("button",{onClick:()=>L(3),className:`px-4 py-2 rounded-lg transition-colors font-medium text-sm ${3===J?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Page 3"}),(0,v.jsx)("button",{onClick:()=>L(4),className:`px-4 py-2 rounded-lg transition-colors font-medium text-sm ${4===J?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Page 4"})]})]}),(0,v.jsxs)("div",{className:"md:hidden space-y-3",children:[(0,v.jsxs)("div",{className:"flex items-center gap-2",children:[(0,v.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:"üìÖ"}),(0,v.jsxs)("select",{value:A,onChange:a=>bp(a.target.value),className:"flex-1 px-4 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-700 font-medium text-sm",children:[(0,v.jsx)("option",{value:"today",children:"‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ"}),(0,v.jsx)("option",{value:"yesterday",children:"‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ß‡∏≤‡∏ô"}),(0,v.jsx)("option",{value:"last_7d",children:"7 ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏°‡∏≤"}),(0,v.jsx)("option",{value:"last_14d",children:"14 ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏°‡∏≤"}),(0,v.jsx)("option",{value:"last_30d",children:"30 ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏°‡∏≤"}),(0,v.jsx)("option",{value:"this_month",children:"‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ô‡∏µ‡πâ"}),(0,v.jsx)("option",{value:"custom",children:"üóìÔ∏è ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏≠‡∏á‡πÄ‡∏≠‡∏á"})]})]}),"custom"===A&&C&&E&&(0,v.jsxs)("div",{className:"text-xs text-gray-600 bg-blue-50 px-3 py-2 rounded-lg border border-blue-200 font-medium",children:[C," ‡∏ñ‡∏∂‡∏á ",E]}),(0,v.jsxs)("div",{className:"flex items-center gap-2",children:[(0,v.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:"üìÑ"}),(0,v.jsxs)("select",{value:J,onChange:a=>L(Number(a.target.value)),className:"flex-1 px-4 py-2 border-2 border-purple-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white text-gray-700 font-medium text-sm",children:[(0,v.jsx)("option",{value:1,children:"Page 1"}),(0,v.jsx)("option",{value:2,children:"Page 2"}),(0,v.jsx)("option",{value:3,children:"Page 3"}),(0,v.jsx)("option",{value:4,children:"Page 4"})]})]})]})]})}),G&&(0,v.jsx)("div",{className:"modal-overlay fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:a=>{a.target===a.currentTarget&&I(!1)},children:(0,v.jsxs)("div",{className:"date-picker-container bg-white rounded-2xl shadow-2xl p-8 max-w-3xl w-full",onClick:a=>a.stopPropagation(),children:[(0,v.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,v.jsx)("h3",{className:"text-2xl font-bold text-gray-800",children:"‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡πà‡∏ß‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà"}),(0,v.jsx)("button",{onClick:()=>I(!1),className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full p-2 transition-all text-2xl w-10 h-10 flex items-center justify-center",children:"‚úï"})]}),(0,v.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{className:"block text-base font-bold text-gray-700 mb-4",children:"üìÖ ‡∏à‡∏≤‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà"}),(0,v.jsx)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-xl border-2 border-blue-300 shadow-md",children:(0,v.jsx)("input",{type:"date",value:C||new Date().toISOString().split("T")[0],onChange:a=>D(a.target.value),className:"w-full px-5 py-4 border-2 border-gray-300 rounded-xl text-lg font-medium focus:outline-none focus:ring-4 focus:ring-blue-300 focus:border-blue-500"})})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{className:"block text-base font-bold text-gray-700 mb-4",children:"üìÖ ‡∏ñ‡∏∂‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà"}),(0,v.jsx)("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 p-6 rounded-xl border-2 border-orange-300 shadow-md",children:(0,v.jsx)("input",{type:"date",value:E||new Date().toISOString().split("T")[0],onChange:a=>F(a.target.value),className:"w-full px-5 py-4 border-2 border-gray-300 rounded-xl text-lg font-medium focus:outline-none focus:ring-4 focus:ring-orange-300 focus:border-orange-500"})})]})]}),(0,v.jsxs)("div",{className:"flex space-x-4 justify-end",children:[(0,v.jsx)("button",{onClick:()=>I(!1),className:"px-10 py-4 text-base border-2 border-gray-300 rounded-xl hover:bg-gray-100 transition-colors font-semibold text-gray-700",children:"‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å"}),(0,v.jsx)("button",{onClick:()=>{C&&E&&(I(!1),setTimeout(()=>{B("custom")},0))},className:"px-10 py-4 text-base bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all font-semibold",children:"‚úì ‡∏ï‡∏Å‡∏•‡∏á"})]})]})}),ai&&ag&&(0,v.jsx)("div",{className:"modal-overlay fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",style:{position:"fixed",top:0,left:0,right:0,bottom:0,width:"100vw",height:"100vh",margin:0,padding:"1rem"},onClick:a=>{a.target===a.currentTarget&&(aj(!1),ah(null))},children:(0,v.jsxs)("div",{className:"video-modal-container bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",onClick:a=>a.stopPropagation(),children:[(0,v.jsxs)("div",{className:"sticky top-0 bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 px-6 py-4 flex items-center justify-between z-10 rounded-t-2xl",children:[(0,v.jsxs)("div",{className:"flex-1",children:[(0,v.jsxs)("h3",{className:"text-xl font-bold text-white truncate",children:["üéØ ",ag.ad_name]}),(0,v.jsxs)("div",{className:"flex flex-col sm:flex-row sm:gap-4 mt-1",children:[(0,v.jsxs)("p",{className:"text-sm text-white/80",children:["üìÅ Campaign: ",ag.campaign_name]}),(0,v.jsxs)("p",{className:"text-sm text-white/80",children:["üìÇ Ad Set: ",ag.adset_name||"‚Äî"]})]})]}),(0,v.jsx)("button",{onClick:()=>{aj(!1),ah(null)},className:"text-white hover:text-gray-200 hover:bg-white/20 rounded-full p-2 transition-all text-2xl w-10 h-10 flex items-center justify-center ml-4",children:"‚úï"})]}),(0,v.jsxs)("div",{className:"p-6",children:[(0,v.jsx)("div",{className:"mb-6",children:(()=>{let a=ac.get(ag.ad_id),b=a?.effective_object_story_id,c=a?.object_story_spec?.video_data?.video_id||a?.video_id,d=a?.thumbnail_url||a?.object_story_spec?.video_data?.image_url||a?.image_url;if(b){let a=`https://www.facebook.com/${b.replace("_","/posts/")}`;return(0,v.jsxs)("div",{className:"space-y-4",children:[(0,v.jsx)("div",{className:"bg-white rounded-xl overflow-hidden shadow-lg",children:(0,v.jsx)(H,{appId:"1086145253509335",children:(0,v.jsx)(K,{href:a,width:"100%",showText:!0})})}),(0,v.jsx)("div",{className:"flex justify-center",children:(0,v.jsxs)("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 px-8 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-medium shadow-lg",children:[(0,v.jsx)("span",{children:"üì±"}),(0,v.jsx)("span",{children:"‡πÄ‡∏õ‡∏¥‡∏î‡∏î‡∏π‡πÇ‡∏û‡∏™‡∏ï‡πå‡πÄ‡∏ï‡πá‡∏°‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡πÉ‡∏ô Facebook"})]})})]})}let e=c?`/images/video/${c}.mp4`:null,f=a?.video_source;return c?(0,v.jsxs)("div",{className:"space-y-4",children:[(0,v.jsx)("div",{className:"rounded-xl overflow-hidden bg-black shadow-lg",children:(0,v.jsxs)("video",{controls:!0,autoPlay:!0,className:"w-full h-auto max-h-[60vh]",poster:d,onError:a=>{console.log("‚ùå [Video Error] Local video not found, trying Facebook source");let b=a.target;if(f&&b.src!==f)b.src=f;else{b.style.display="none";let a=b.parentElement;a&&d&&(a.innerHTML=`
                                    <div class="relative">
                                      <img src="${d}" alt="Video thumbnail" class="w-full h-auto" />
                                      <div class="absolute inset-0 flex items-center justify-center bg-black bg-opacity-40">
                                        <span class="text-white text-4xl">‚ö†Ô∏è ‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏•‡πà‡∏ô‡πÑ‡∏î‡πâ</span>
                                      </div>
                                    </div>
                                  `)}},children:[(0,v.jsx)("source",{src:e||f||"",type:"video/mp4"}),"‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠"]})}),(0,v.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,v.jsxs)("a",{href:`https://www.facebook.com/reel/${c}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-medium shadow-lg text-sm sm:text-base",children:[(0,v.jsx)("span",{children:"üé¨"}),(0,v.jsx)("span",{children:"‡∏î‡∏π‡πÄ‡∏õ‡πá‡∏ô Reel"})]}),(0,v.jsxs)("a",{href:`https://www.facebook.com/watch/?v=${c}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 px-6 py-3 bg-gray-700 hover:bg-gray-800 text-white rounded-lg transition-colors font-medium shadow-lg text-sm sm:text-base",children:[(0,v.jsx)("span",{children:"‚ñ∂Ô∏è"}),(0,v.jsx)("span",{children:"‡∏î‡∏π‡πÄ‡∏õ‡πá‡∏ô Video"})]})]})]}):d?(0,v.jsx)("div",{className:"rounded-xl overflow-hidden bg-gray-100 shadow-lg",children:(0,v.jsx)("img",{src:d,alt:ag.ad_name,className:"w-full h-auto",onError:a=>{a.target.style.display="none"}})}):(0,v.jsx)("div",{className:"aspect-video bg-gray-200 rounded-xl flex items-center justify-center",children:(0,v.jsxs)("div",{className:"text-center",children:[(0,v.jsx)("span",{className:"text-6xl mb-4 block",children:"üé¨"}),(0,v.jsx)("p",{className:"text-gray-600",children:"‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û"})]})})})()}),(0,v.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[(0,v.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,v.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"üí∞ Spent"}),(0,v.jsx)("div",{className:"text-xl font-bold text-blue-700",children:bl(ag.spend)})]}),(0,v.jsxs)("div",{className:"bg-green-50 rounded-lg p-4",children:[(0,v.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"üí¨ New Inbox"}),(0,v.jsx)("div",{className:"text-xl font-bold text-green-700",children:bm(ag.actions,"onsite_conversion.messaging_first_reply")})]}),(0,v.jsxs)("div",{className:"bg-teal-50 rounded-lg p-4",children:[(0,v.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"üì® Total Inbox"}),(0,v.jsx)("div",{className:"text-xl font-bold text-teal-700",children:bm(ag.actions,"onsite_conversion.total_messaging_connection")})]}),(0,v.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4",children:[(0,v.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"üìû ‡∏ä‡∏∑‡πà‡∏≠ - ‡πÄ‡∏ö‡∏≠‡∏£‡πå"}),(0,v.jsx)("div",{className:"text-xl font-bold text-purple-700",children:au.get(ag.ad_id)||0})]})]}),(0,v.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[(0,v.jsxs)("div",{className:"bg-orange-50 rounded-lg p-4 text-center",children:[(0,v.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"üìä CTR"}),(0,v.jsx)("div",{className:"text-2xl font-bold text-orange-700",children:isNaN(b="string"==typeof(a=ag.ctr)?parseFloat(a):a)?"‚Äî":`${b.toLocaleString("th-TH",{minimumFractionDigits:2,maximumFractionDigits:2})}%`}),(0,v.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Click-Through Rate"})]}),(0,v.jsxs)("div",{className:"bg-pink-50 rounded-lg p-4 text-center",children:[(0,v.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"üíµ CPM"}),(0,v.jsx)("div",{className:"text-2xl font-bold text-pink-700",children:bl(ag.cpm)}),(0,v.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Cost per 1,000 Impressions"})]}),(0,v.jsxs)("div",{className:"bg-indigo-50 rounded-lg p-4 text-center",children:[(0,v.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"üñ±Ô∏è CPC"}),(0,v.jsx)("div",{className:"text-2xl font-bold text-indigo-700",children:bl(ag.cpc)}),(0,v.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Cost per Click"})]})]}),(0,v.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,v.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,v.jsx)("h4",{className:"font-semibold text-gray-800 mb-3",children:"üìà Performance Details"}),(0,v.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,v.jsxs)("div",{className:"flex justify-between",children:[(0,v.jsx)("span",{className:"text-gray-600",children:"Impressions:"}),(0,v.jsx)("span",{className:"font-medium",children:bk(ag.impressions)})]}),(0,v.jsxs)("div",{className:"flex justify-between",children:[(0,v.jsx)("span",{className:"text-gray-600",children:"Clicks:"}),(0,v.jsx)("span",{className:"font-medium",children:bk(ag.clicks)})]}),ag.reach&&(0,v.jsxs)("div",{className:"flex justify-between",children:[(0,v.jsx)("span",{className:"text-gray-600",children:"Reach:"}),(0,v.jsx)("span",{className:"font-medium",children:bk(ag.reach)})]}),(0,v.jsxs)("div",{className:"flex justify-between",children:[(0,v.jsx)("span",{className:"text-gray-600",children:"ThruPlay:"}),(0,v.jsx)("span",{className:"font-medium",children:(c=ag.actions?.find(a=>"video_view"===a.action_type))?bk(c.value):"‚Äî"})]}),(0,v.jsxs)("div",{className:"flex justify-between",children:[(0,v.jsx)("span",{className:"text-gray-600",children:"Cost per Inbox:"}),(0,v.jsx)("span",{className:"font-medium",children:(d=ag.cost_per_action_type?.find(a=>"onsite_conversion.total_messaging_connection"===a.action_type))?bl(d.value):"‚Äî"})]})]})]}),(0,v.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,v.jsx)("h4",{className:"font-semibold text-gray-800 mb-3",children:"üìã Campaign & Ad Set Info"}),(0,v.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,v.jsxs)("div",{className:"flex justify-between",children:[(0,v.jsx)("span",{className:"text-gray-600",children:"Campaign:"}),(0,v.jsx)("span",{className:"font-medium text-right max-w-[180px] truncate",title:ag.campaign_name,children:ag.campaign_name})]}),(0,v.jsxs)("div",{className:"flex justify-between",children:[(0,v.jsx)("span",{className:"text-gray-600",children:"Ad Set:"}),(0,v.jsx)("span",{className:"font-medium text-right max-w-[180px] truncate",title:ag.adset_name,children:ag.adset_name||"‚Äî"})]}),(0,v.jsxs)("div",{className:"flex justify-between",children:[(0,v.jsx)("span",{className:"text-gray-600",children:"Ad ID:"}),(0,v.jsx)("span",{className:"font-medium text-xs",children:ag.ad_id})]}),(0,v.jsxs)("div",{className:"flex justify-between",children:[(0,v.jsx)("span",{className:"text-gray-600",children:"Date Range:"}),(0,v.jsx)("span",{className:"font-medium",children:ag.date_start})]})]})]})]})]})]})}),aM&&aK&&(0,v.jsx)("div",{className:"modal-overlay fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",style:{position:"fixed",top:0,left:0,right:0,bottom:0,width:"100vw",height:"100vh",margin:0,padding:"1rem"},onClick:a=>{a.target===a.currentTarget&&(aN(!1),aL(null))},children:(0,v.jsxs)("div",{className:"video-modal-container bg-white rounded-2xl shadow-2xl max-w-5xl w-full max-h-[90vh] overflow-y-auto",onClick:a=>a.stopPropagation(),children:[(0,v.jsxs)("div",{className:"sticky top-0 bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 px-6 py-4 flex items-center justify-between z-10 rounded-t-2xl",children:[(0,v.jsxs)("div",{className:"flex-1",children:[(0,v.jsxs)("h3",{className:"text-xl font-bold text-white truncate",children:["üìä ",aK.adset_name]}),(0,v.jsxs)("p",{className:"text-sm text-white/80 mt-1",children:["Campaign: ",aK.campaign_name]})]}),(0,v.jsx)("button",{onClick:()=>{aN(!1),aL(null)},className:"text-white hover:text-gray-200 hover:bg-white/20 rounded-full p-2 transition-all text-2xl w-10 h-10 flex items-center justify-center ml-4",children:"‚úï"})]}),(0,v.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,v.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[(0,v.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,v.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß"}),(0,v.jsx)("div",{className:"text-xl font-bold text-blue-700",children:bl(aK.spend)})]}),(0,v.jsxs)("div",{className:"bg-green-50 rounded-lg p-4",children:[(0,v.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"New Inbox"}),(0,v.jsx)("div",{className:"text-xl font-bold text-green-700",children:bm(aK.actions,"onsite_conversion.messaging_first_reply")})]}),(0,v.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4",children:[(0,v.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"Total Inbox"}),(0,v.jsx)("div",{className:"text-xl font-bold text-purple-700",children:bm(aK.actions,"onsite_conversion.total_messaging_connection")})]}),(0,v.jsxs)("div",{className:"bg-cyan-50 rounded-lg p-4",children:[(0,v.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"ThruPlay"}),(0,v.jsx)("div",{className:"text-xl font-bold text-cyan-700",children:(e=aK.actions?.find(a=>"video_view"===a.action_type))?bk(e.value):"‚Äî"})]}),(0,v.jsxs)("div",{className:"bg-orange-50 rounded-lg p-4",children:[(0,v.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô/Inbox"}),(0,v.jsx)("div",{className:"text-xl font-bold text-orange-700",children:(f=parseFloat(aK.spend||"0"),(g=bm(aK.actions,"onsite_conversion.total_messaging_connection"))>0?bl(f/g):"‚Äî")})]})]})}),(0,v.jsxs)("div",{className:"p-6",children:[(0,v.jsxs)("h4",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2",children:["üéØ Ads ‡πÉ‡∏ô Ad Set ‡∏ô‡∏µ‡πâ",(0,v.jsxs)("span",{className:"bg-purple-100 text-purple-700 text-sm px-2 py-1 rounded-full",children:[a6(aK.adset_id).length," ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£"]})]}),0===a6(aK.adset_id).length?(0,v.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,v.jsx)("div",{className:"text-4xl mb-2",children:"üí≠"}),(0,v.jsx)("p",{children:"‡πÑ‡∏°‡πà‡∏û‡∏ö Ads ‡πÉ‡∏ô Ad Set ‡∏ô‡∏µ‡πâ"})]}):(0,v.jsx)("div",{className:"overflow-x-auto",children:(0,v.jsxs)("table",{className:"w-full",children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{className:"border-b-2 border-gray-200 bg-gray-50",children:[(0,v.jsx)("th",{className:"text-center py-3 px-2 font-semibold text-gray-700 text-sm",children:"#"}),(0,v.jsx)("th",{className:"text-left py-3 px-2 font-semibold text-gray-700 text-sm",children:"‡∏£‡∏π‡∏õ"}),(0,v.jsx)("th",{className:"text-left py-3 px-2 font-semibold text-gray-700 text-sm",children:"‡∏ä‡∏∑‡πà‡∏≠ Ad"}),(0,v.jsx)("th",{className:"text-center py-3 px-2 font-semibold text-gray-700 text-sm",children:"‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß"}),(0,v.jsx)("th",{className:"text-center py-3 px-2 font-semibold text-gray-700 text-sm",children:"New Inbox"}),(0,v.jsx)("th",{className:"text-center py-3 px-2 font-semibold text-gray-700 text-sm",children:"Total Inbox"}),(0,v.jsx)("th",{className:"text-center py-3 px-2 font-semibold text-gray-700 text-sm",children:"‡∏ä‡∏∑‡πà‡∏≠-‡πÄ‡∏ö‡∏≠‡∏£‡πå"}),(0,v.jsx)("th",{className:"text-center py-3 px-2 font-semibold text-gray-700 text-sm",children:"ThruPlay"}),(0,v.jsx)("th",{className:"text-center py-3 px-2 font-semibold text-gray-700 text-sm",children:"‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô/Inbox"})]})}),(0,v.jsx)("tbody",{children:a6(aK.adset_id).sort((a,b)=>{let c=bm(a.actions,"onsite_conversion.total_messaging_connection");return bm(b.actions,"onsite_conversion.total_messaging_connection")-c}).map((a,b)=>{let c,d=ac.get(a.ad_id),e=d?.thumbnail_url||d?.image_url||d?.object_story_spec?.video_data?.image_url,f=parseFloat(a.spend||"0"),g=bm(a.actions,"onsite_conversion.total_messaging_connection"),h=g>0?f/g:0,i=au.get(a.ad_id)||0;return(0,v.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>{ah(a),aj(!0)},children:[(0,v.jsx)("td",{className:"py-3 px-2 text-center text-gray-600 font-medium",children:b+1}),(0,v.jsx)("td",{className:"py-3 px-2",children:e?(0,v.jsx)("img",{src:e,alt:"Ad thumbnail",className:"w-12 h-12 object-cover rounded-lg shadow-sm"}):(0,v.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center text-gray-400",children:"üñºÔ∏è"})}),(0,v.jsx)("td",{className:"py-3 px-2",children:(0,v.jsx)("div",{className:"text-gray-700 font-medium text-sm max-w-[200px] truncate",title:a.ad_name,children:a.ad_name||"‚Äî"})}),(0,v.jsx)("td",{className:"py-3 px-2 text-center text-gray-700 font-semibold",children:bl(a.spend)}),(0,v.jsx)("td",{className:"py-3 px-2 text-center font-semibold text-green-600",children:bm(a.actions,"onsite_conversion.messaging_first_reply")}),(0,v.jsx)("td",{className:"py-3 px-2 text-center font-semibold text-blue-600",children:bm(a.actions,"onsite_conversion.total_messaging_connection")}),(0,v.jsx)("td",{className:"py-3 px-2 text-center font-semibold text-purple-600",children:i}),(0,v.jsx)("td",{className:"py-3 px-2 text-center font-semibold text-cyan-600",children:(c=a.actions?.find(a=>"video_view"===a.action_type))?bk(c.value):"‚Äî"}),(0,v.jsx)("td",{className:"py-3 px-2 text-center text-gray-700",children:h>0?bl(h):"‚Äî"})]},a.ad_id)})})]})})]})]})}),(0,v.jsxs)("div",{className:"px-3 sm:px-6 py-3 sm:py-6",children:[1===J&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4",children:[(0,v.jsxs)("div",{className:"flex flex-col",children:[(0,v.jsx)("div",{className:"bg-gradient-to-br from-blue-500 via-blue-600 to-blue-700 rounded-2xl sm:rounded-3xl p-4 sm:p-8 text-white shadow-2xl",children:(0,v.jsxs)("div",{className:"grid grid-cols-2 gap-2 sm:gap-4",children:[(0,v.jsxs)("div",{className:"text-center",children:[(0,v.jsx)("div",{className:"text-xs sm:text-base font-semibold opacity-90 mb-1 sm:mb-2",children:"üíµ ‡πÄ‡∏á‡∏¥‡∏ô‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠"}),(0,v.jsx)("div",{className:"text-xl sm:text-3xl font-bold",children:W?(0,v.jsx)("span",{className:"text-2xl",children:"‚è≥"}):`‡∏ø${U.toLocaleString("th-TH",{minimumFractionDigits:2,maximumFractionDigits:2})}`})]}),(0,v.jsxs)("div",{className:"text-center",children:[(0,v.jsx)("div",{className:"text-xs sm:text-base font-semibold opacity-90 mb-1 sm:mb-2",children:"üí∞ ‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏£‡∏ß‡∏°"}),(0,v.jsx)("div",{className:"text-xl sm:text-3xl font-bold",children:bl(p.reduce((a,b)=>a+parseFloat(b.spend||"0"),0))})]})]})}),(0,v.jsx)("div",{className:"bg-white rounded-b-2xl sm:rounded-b-3xl shadow-2xl overflow-hidden border border-gray-100 border-t-0 flex-1 mt-0",children:(0,v.jsx)("div",{className:"overflow-y-auto max-h-[120px]",children:(0,v.jsxs)("table",{className:"w-full min-w-max text-xs",children:[(0,v.jsx)("thead",{className:"bg-blue-50 sticky top-0",children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà"}),(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß"})]})}),(0,v.jsx)("tbody",{children:ao?(0,v.jsx)("tr",{children:(0,v.jsx)("td",{colSpan:2,className:"px-2 py-4 text-center text-xs",children:"‚è≥"})}):(h=new Map,am.forEach(a=>{let b=a.date_start,c=h.get(b)||{spend:0};c.spend+=parseFloat(a.spend||"0"),h.set(b,c)}),Array.from(h.keys()).sort((a,b)=>new Date(b).getTime()-new Date(a).getTime()).slice(1,31).map(a=>{let b=h.get(a);return(0,v.jsxs)("tr",{className:"hover:bg-blue-50 border-b",children:[(0,v.jsx)("td",{className:"px-2 py-2 text-center text-xs text-gray-900",children:new Date(a).toLocaleDateString("th-TH",{month:"short",day:"numeric"})}),(0,v.jsx)("td",{className:"px-2 py-2 text-center text-xs font-semibold text-blue-600",children:bl(b.spend)})]},a)}))})]})})})]}),(0,v.jsxs)("div",{className:"flex flex-col",children:[(0,v.jsx)("div",{className:"bg-gradient-to-br from-teal-500 via-teal-600 to-cyan-600 rounded-2xl sm:rounded-3xl p-4 sm:p-8 text-white shadow-2xl",children:(0,v.jsxs)("div",{className:"grid grid-cols-2 gap-2 sm:gap-4",children:[(0,v.jsxs)("div",{className:"text-center",children:[(0,v.jsx)("div",{className:"text-xs sm:text-base font-semibold opacity-90 mb-1 sm:mb-3",children:"New Inbox"}),(0,v.jsx)("div",{className:"text-xl sm:text-4xl font-bold",children:bn()})]}),(0,v.jsxs)("div",{className:"text-center",children:[(0,v.jsx)("div",{className:"text-xs sm:text-base font-semibold opacity-90 mb-1 sm:mb-3",children:"Total Inbox"}),(0,v.jsx)("div",{className:"text-xl sm:text-4xl font-bold",children:bo()})]})]})}),(0,v.jsx)("div",{className:"bg-white rounded-b-2xl sm:rounded-b-3xl shadow-2xl overflow-hidden border border-gray-100 border-t-0 flex-1 mt-0",children:(0,v.jsx)("div",{className:"overflow-y-auto max-h-[120px]",children:(0,v.jsxs)("table",{className:"w-full min-w-max text-xs",children:[(0,v.jsx)("thead",{className:"bg-teal-50 sticky top-0",children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà"}),(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"New Inbox"}),(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"Total Inbox"})]})}),(0,v.jsx)("tbody",{children:ao?(0,v.jsx)("tr",{children:(0,v.jsx)("td",{colSpan:3,className:"px-2 py-4 text-center text-xs",children:"‚è≥"})}):(i=new Map,am.forEach(a=>{let b=a.date_start,c=i.get(b)||{newInbox:0,totalInbox:0};c.newInbox+=bm(a.actions,"onsite_conversion.messaging_first_reply"),c.totalInbox+=bm(a.actions,"onsite_conversion.total_messaging_connection"),i.set(b,c)}),Array.from(i.keys()).sort((a,b)=>new Date(b).getTime()-new Date(a).getTime()).slice(1,31).map(a=>{let b=i.get(a);return(0,v.jsxs)("tr",{className:"hover:bg-teal-50 border-b",children:[(0,v.jsx)("td",{className:"px-2 py-2 text-center text-xs text-gray-900",children:new Date(a).toLocaleDateString("th-TH",{month:"short",day:"numeric"})}),(0,v.jsx)("td",{className:"px-2 py-2 text-center text-xs font-semibold text-green-600",children:b.newInbox}),(0,v.jsx)("td",{className:"px-2 py-2 text-center text-xs font-semibold text-teal-600",children:b.totalInbox})]},a)}))})]})})})]}),(0,v.jsxs)("div",{className:"flex flex-col",children:[(0,v.jsxs)("div",{className:"bg-gradient-to-br from-purple-500 via-purple-600 to-indigo-600 rounded-2xl sm:rounded-3xl p-4 sm:p-8 text-white shadow-2xl text-center",children:[(0,v.jsx)("div",{className:"text-base sm:text-xl font-semibold mb-2 sm:mb-3 opacity-90",children:"üìû ‡∏ä‡∏∑‡πà‡∏≠ - ‡πÄ‡∏ö‡∏≠‡∏£‡πå"}),(0,v.jsx)("div",{className:"text-2xl sm:text-4xl font-bold",children:$?(0,v.jsx)("span",{className:"text-3xl",children:"‚è≥"}):(0,v.jsx)("div",{children:Y.total.toLocaleString()})})]}),(0,v.jsx)("div",{className:"bg-white rounded-b-2xl sm:rounded-b-3xl shadow-2xl overflow-hidden border border-gray-100 border-t-0 flex-1 mt-0",children:(0,v.jsx)("div",{className:"overflow-y-auto max-h-[120px]",children:(0,v.jsxs)("table",{className:"w-full min-w-max text-xs",children:[(0,v.jsx)("thead",{className:"bg-purple-50 sticky top-0",children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà"}),(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"‡πÄ‡∏ö‡∏≠‡∏£‡πå"})]})}),(0,v.jsx)("tbody",{children:as?(0,v.jsx)("tr",{children:(0,v.jsx)("td",{colSpan:2,className:"px-2 py-4 text-center text-xs",children:"‚è≥"})}):Object.entries(aq).sort(([a],[b])=>new Date(b).getTime()-new Date(a).getTime()).slice(1).map(([a,b])=>(0,v.jsxs)("tr",{className:"hover:bg-purple-50 border-b",children:[(0,v.jsx)("td",{className:"px-2 py-2 text-center text-xs text-gray-900",children:new Date(a).toLocaleDateString("th-TH",{month:"short",day:"numeric"})}),(0,v.jsx)("td",{className:"px-2 py-2 text-center text-xs font-semibold text-purple-600",children:b})]},a))})]})})})]})]}),(0,v.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mt-4 sm:mt-8",children:[(0,v.jsxs)("div",{className:"bg-white rounded-2xl sm:rounded-3xl shadow-2xl p-4 sm:p-8 border border-gray-100",children:[(0,v.jsx)("div",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 px-4 sm:px-8 py-4 sm:py-6 -m-4 sm:-m-8 mb-4 sm:mb-8 relative overflow-hidden rounded-t-2xl sm:rounded-t-3xl",children:(0,v.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-10 transition-opacity duration-500"})}),(0,v.jsxs)("div",{className:"flex flex-col gap-3 mb-3 sm:mb-4",children:[(0,v.jsxs)("h2",{className:"text-lg sm:text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent flex items-center gap-2",children:["üèÜ TOP ","all"===ay?"‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î":ay," Ads"," ",(0,v.jsx)("span",{className:"bg-gradient-to-r from-yellow-400 via-orange-400 to-red-500 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-full text-base sm:text-xl font-bold shadow-xl",children:"‡∏ô‡∏±‡∏Å‡πÄ‡∏ï‡∏∞‡∏¢‡∏≠‡∏î‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°"})]}),(0,v.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 w-full",children:[(0,v.jsxs)("div",{className:"flex gap-2 flex-1",children:[(0,v.jsxs)("button",{onClick:()=>al("leads"),className:`flex-1 sm:flex-none px-3 sm:px-4 py-2 rounded-lg font-medium text-xs sm:text-sm transition-all ${"leads"===ak?"bg-purple-600 text-white shadow-lg":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[(0,v.jsx)("span",{className:"hidden sm:inline",children:"üí¨ Total Inbox (‡∏°‡∏≤‡∏Å ‚Üí ‡∏ô‡πâ‡∏≠‡∏¢)"}),(0,v.jsx)("span",{className:"sm:hidden",children:"üí¨ Inbox"})]}),(0,v.jsxs)("button",{onClick:()=>al("phone"),className:`flex-1 sm:flex-none px-3 sm:px-4 py-2 rounded-lg font-medium text-xs sm:text-sm transition-all ${"phone"===ak?"bg-purple-600 text-white shadow-lg":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[(0,v.jsx)("span",{className:"hidden sm:inline",children:"üìû ‡∏ä‡∏∑‡πà‡∏≠ - ‡πÄ‡∏ö‡∏≠‡∏£‡πå (‡∏°‡∏≤‡∏Å ‚Üí ‡∏ô‡πâ‡∏≠‡∏¢)"}),(0,v.jsx)("span",{className:"sm:hidden",children:"üìû ‡πÄ‡∏ö‡∏≠‡∏£‡πå"})]}),(0,v.jsxs)("button",{onClick:()=>al("cost"),className:`flex-1 sm:flex-none px-3 sm:px-4 py-2 rounded-lg font-medium text-xs sm:text-sm transition-all ${"cost"===ak?"bg-purple-600 text-white shadow-lg":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[(0,v.jsx)("span",{className:"hidden sm:inline",children:"üí∞ ‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô (‡∏ô‡πâ‡∏≠‡∏¢ ‚Üí ‡∏°‡∏≤‡∏Å)"}),(0,v.jsx)("span",{className:"sm:hidden",children:"üí∞ Cost"})]}),(0,v.jsxs)("button",{onClick:()=>al("thruplay"),className:`flex-1 sm:flex-none px-3 sm:px-4 py-2 rounded-lg font-medium text-xs sm:text-sm transition-all ${"thruplay"===ak?"bg-purple-600 text-white shadow-lg":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[(0,v.jsx)("span",{className:"hidden sm:inline",children:"üé¨ ThruPlay (‡∏°‡∏≤‡∏Å ‚Üí ‡∏ô‡πâ‡∏≠‡∏¢)"}),(0,v.jsx)("span",{className:"sm:hidden",children:"üé¨ ThruPlay"})]})]}),(0,v.jsxs)("select",{value:ay,onChange:a=>{let b=a.target.value;az("all"===b?"all":Number(b))},className:"flex-1 sm:flex-none sm:min-w-[140px] px-3 py-2 rounded-lg font-medium text-xs sm:text-sm bg-gradient-to-r from-yellow-400 to-orange-400 text-gray-800 hover:from-yellow-500 hover:to-orange-500 transition-all border-2 border-yellow-500 shadow-lg cursor-pointer",children:[(0,v.jsx)("option",{value:5,children:"‚≠ê Top 5"}),(0,v.jsx)("option",{value:10,children:"‚≠ê Top 10"}),(0,v.jsx)("option",{value:15,children:"‚≠ê Top 15"}),(0,v.jsx)("option",{value:20,children:"‚≠ê Top 20"}),(0,v.jsx)("option",{value:30,children:"‚≠ê Top 30"}),(0,v.jsx)("option",{value:"all",children:"‚≠ê Top ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î"})]})]})]}),(0,v.jsxs)("div",{className:"overflow-x-auto",children:[ae&&0===ac.size&&(0,v.jsx)("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-3 mb-4 rounded",children:(0,v.jsx)("p",{className:"text-blue-700 text-sm font-medium",children:"‚è≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÇ‡∏Ü‡∏©‡∏ì‡∏≤..."})}),(0,v.jsxs)("table",{className:"w-full",children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{className:"border-b-2 border-gradient-to-r from-blue-200 via-purple-200 to-pink-200",children:[(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"#"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"Ad Image"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"New Inbox"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"Total Inbox"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"‡∏ä‡∏∑‡πà‡∏≠ - ‡πÄ‡∏ö‡∏≠‡∏£‡πå"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"ThruPlay"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô Inbox"})]})}),(0,v.jsx)("tbody",{children:bq().sort((a,b)=>{if("leads"===ak){let c=bm(a.actions,"onsite_conversion.total_messaging_connection");return bm(b.actions,"onsite_conversion.total_messaging_connection")-c}if("phone"===ak){let c=au.get(a.ad_id)||0;return(au.get(b.ad_id)||0)-c}if("thruplay"===ak){let c=a.actions?.find(a=>"video_view"===a.action_type),d=b.actions?.find(a=>"video_view"===a.action_type),e=c?parseFloat(c.value):0;return(d?parseFloat(d.value):0)-e}{let c=a.cost_per_action_type?.find(a=>"onsite_conversion.total_messaging_connection"===a.action_type),d=b.cost_per_action_type?.find(a=>"onsite_conversion.total_messaging_connection"===a.action_type);return(c?parseFloat(c.value):1/0)-(d?parseFloat(d.value):1/0)}}).slice(0,"all"===ay?void 0:ay).map((a,b)=>{let c,d,e,f,g,h=ac.get(a.ad_id);return console.log(`üñºÔ∏è [Render TOP ${b+1}] Ad:`,a.ad_id,a.ad_name?.substring(0,30),"| Creative:",h?{id:h.id,has_thumbnail:!!h.thumbnail_url,has_image:!!h.image_url,thumbnail_preview:h.thumbnail_url?.substring(0,60)}:"NO CREATIVE DATA"),console.log("üì¶ [Render] adCreatives Map:","size=",ac.size,"| Has this ad?",ac.has(a.ad_id),"| All ad IDs in map:",Array.from(ac.keys())),(0,v.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gradient-to-r hover:from-blue-50 hover:via-purple-50 hover:to-pink-50 transition-all duration-300 hover:shadow-md",children:[(0,v.jsx)("td",{className:"py-2 px-1 text-center",children:(0,v.jsx)("div",{className:"text-gray-700 font-bold text-lg",children:b+1})}),(0,v.jsx)("td",{className:"py-2 px-1 text-center",children:(0,v.jsx)("div",{className:"relative group cursor-pointer flex justify-center items-center",onClick:()=>{ah(a),aj(!0)},children:(c=h?.object_story_spec?.video_data?.video_id||h?.video_id,d=h?.thumbnail_url||h?.image_url,e=c?`/images/video/${c}.mp4`:null,c&&e?(0,v.jsxs)("div",{className:"w-20 h-20 flex-shrink-0 relative overflow-hidden rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[(0,v.jsx)("video",{src:e,className:"w-full h-full object-cover",muted:!0,loop:!0,playsInline:!0,autoPlay:!0,onLoadedMetadata:a=>{let b=a.currentTarget;b.currentTime=0,b.addEventListener("timeupdate",()=>{b.currentTime>=3&&(b.currentTime=0)})},onError:a=>{let b=a.currentTarget;b.style.display="none";let c=b.parentElement;if(c&&d){let a=document.createElement("img");a.src=d,a.className="w-full h-full object-cover",a.alt="Ad preview",c.appendChild(a)}}}),(0,v.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-20 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,v.jsx)("span",{className:"text-white text-2xl drop-shadow-lg",children:"‚ñ∂Ô∏è"})})]}):d?(0,v.jsxs)("div",{className:"w-20 h-20 flex-shrink-0 relative",children:[(0,v.jsx)("img",{src:d,alt:"Ad preview",className:"w-full h-full object-cover rounded-lg shadow-sm cursor-pointer hover:shadow-md transition-shadow",onError:a=>{a.currentTarget.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='80' height='80'%3E%3Crect width='80' height='80' fill='%23e5e7eb'/%3E%3Ctext x='50%25' y='50%25' text-anchor='middle' dy='.3em' fill='%239ca3af' font-size='12'%3ENo Image%3C/text%3E%3C/svg%3E"}}),c&&(0,v.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30 rounded-lg",children:(0,v.jsx)("span",{className:"text-white text-2xl",children:"‚ñ∂Ô∏è"})})]}):(0,v.jsx)("div",{className:"w-20 h-20 bg-gray-100 rounded-lg flex items-center justify-center",children:(0,v.jsx)("span",{className:"text-gray-400 text-xs",children:"üì∑"})}))})}),(0,v.jsx)("td",{className:"py-2 px-1 text-center text-gray-700 font-semibold text-xl",children:bl(a.spend)}),(0,v.jsx)("td",{className:"py-2 px-1 text-center font-semibold text-green-700 text-xl",children:bm(a.actions,"onsite_conversion.messaging_first_reply")}),(0,v.jsx)("td",{className:"py-2 px-1 text-center font-semibold text-blue-700 text-xl",children:bm(a.actions,"onsite_conversion.total_messaging_connection")}),(0,v.jsx)("td",{className:"py-2 px-1 text-center font-semibold text-purple-700 text-xl",children:aw?(0,v.jsx)("span",{className:"text-sm",children:"‚è≥"}):au.get(a.ad_id)||0}),(0,v.jsx)("td",{className:"py-2 px-1 text-center text-gray-700 text-xl",children:(f=a.actions?.find(a=>"video_view"===a.action_type))?bk(f.value):"‚Äî"}),(0,v.jsx)("td",{className:"py-2 px-1 text-center text-gray-700 text-xl",children:(g=a.cost_per_action_type?.find(a=>"onsite_conversion.total_messaging_connection"===a.action_type))?bl(g.value):"‚Äî"})]},a.ad_id)})},`tbody-${ac.size}-${Date.now()}`)]},`table-${ac.size}`)]})]}),(0,v.jsxs)("div",{className:"bg-white rounded-2xl sm:rounded-3xl shadow-2xl p-4 sm:p-8 border border-gray-100",children:[(0,v.jsx)("div",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 px-4 sm:px-8 py-4 sm:py-6 -m-4 sm:-m-8 mb-4 sm:mb-8 relative overflow-hidden rounded-t-2xl sm:rounded-t-3xl",children:(0,v.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-10 transition-opacity duration-500"})}),(0,v.jsxs)("div",{className:"flex flex-col gap-3 mb-3 sm:mb-4",children:[(0,v.jsxs)("h2",{className:"text-lg sm:text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent flex items-center gap-2",children:["üèÜ TOP ","all"===aI?"‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î":aI," Ad Set"," ",(0,v.jsx)("span",{className:"bg-gradient-to-r from-yellow-400 via-orange-400 to-red-500 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-full text-base sm:text-xl font-bold shadow-xl",children:"‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏¢‡∏≠‡∏î‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°"})]}),(0,v.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 w-full",children:[(0,v.jsxs)("div",{className:"flex gap-2 flex-1",children:[(0,v.jsxs)("button",{onClick:()=>aH("leads"),className:`flex-1 sm:flex-none px-3 sm:px-4 py-2 rounded-lg font-medium text-xs sm:text-sm transition-all ${"leads"===aG?"bg-purple-600 text-white shadow-lg":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[(0,v.jsx)("span",{className:"hidden sm:inline",children:"üí¨ Total Inbox (‡∏°‡∏≤‡∏Å ‚Üí ‡∏ô‡πâ‡∏≠‡∏¢)"}),(0,v.jsx)("span",{className:"sm:hidden",children:"üí¨ Inbox"})]}),(0,v.jsxs)("button",{onClick:()=>aH("phone"),className:`flex-1 sm:flex-none px-3 sm:px-4 py-2 rounded-lg font-medium text-xs sm:text-sm transition-all ${"phone"===aG?"bg-purple-600 text-white shadow-lg":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[(0,v.jsx)("span",{className:"hidden sm:inline",children:"üìû ‡∏ä‡∏∑‡πà‡∏≠ - ‡πÄ‡∏ö‡∏≠‡∏£‡πå (‡∏°‡∏≤‡∏Å ‚Üí ‡∏ô‡πâ‡∏≠‡∏¢)"}),(0,v.jsx)("span",{className:"sm:hidden",children:"üìû ‡πÄ‡∏ö‡∏≠‡∏£‡πå"})]}),(0,v.jsxs)("button",{onClick:()=>aH("thruplay"),className:`flex-1 sm:flex-none px-3 sm:px-4 py-2 rounded-lg font-medium text-xs sm:text-sm transition-all ${"thruplay"===aG?"bg-purple-600 text-white shadow-lg":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[(0,v.jsx)("span",{className:"hidden sm:inline",children:"üé¨ ThruPlay (‡∏°‡∏≤‡∏Å ‚Üí ‡∏ô‡πâ‡∏≠‡∏¢)"}),(0,v.jsx)("span",{className:"sm:hidden",children:"üé¨ ThruPlay"})]})]}),(0,v.jsxs)("select",{value:aI,onChange:a=>{let b=a.target.value;aJ("all"===b?"all":Number(b))},className:"flex-1 sm:flex-none sm:min-w-[140px] px-3 py-2 rounded-lg font-medium text-xs sm:text-sm bg-gradient-to-r from-yellow-400 to-orange-400 text-gray-800 hover:from-yellow-500 hover:to-orange-500 transition-all border-2 border-yellow-500 shadow-lg cursor-pointer",children:[(0,v.jsx)("option",{value:5,children:"‚≠ê Top 5"}),(0,v.jsx)("option",{value:10,children:"‚≠ê Top 10"}),(0,v.jsx)("option",{value:15,children:"‚≠ê Top 15"}),(0,v.jsx)("option",{value:20,children:"‚≠ê Top 20"}),(0,v.jsx)("option",{value:30,children:"‚≠ê Top 30"}),(0,v.jsx)("option",{value:"all",children:"‚≠ê Top ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î"})]})]}),(0,v.jsxs)("div",{className:"flex gap-2",children:[(0,v.jsx)("button",{onClick:()=>{let a=new Set(aE);a.has("TOF")?a.delete("TOF"):a.add("TOF"),aF(a)},className:`px-3 sm:px-4 py-2 rounded-lg font-medium text-xs sm:text-sm transition-all ${aE.has("TOF")?"bg-blue-600 text-white shadow-lg":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"TOF"}),(0,v.jsx)("button",{onClick:()=>{let a=new Set(aE);a.has("MOF")?a.delete("MOF"):a.add("MOF"),aF(a)},className:`px-3 sm:px-4 py-2 rounded-lg font-medium text-xs sm:text-sm transition-all ${aE.has("MOF")?"bg-green-600 text-white shadow-lg":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"MOF"}),(0,v.jsx)("button",{onClick:()=>{let a=new Set(aE);a.has("BOF")?a.delete("BOF"):a.add("BOF"),aF(a)},className:`px-3 sm:px-4 py-2 rounded-lg font-medium text-xs sm:text-sm transition-all ${aE.has("BOF")?"bg-orange-600 text-white shadow-lg":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"BOF"})]})]}),(0,v.jsxs)("div",{className:"overflow-x-auto",children:[aC&&0===aA.length&&(0,v.jsx)("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-3 mb-4 rounded",children:(0,v.jsx)("p",{className:"text-blue-700 text-sm font-medium",children:"‚è≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Ad Set..."})}),(0,v.jsxs)("table",{className:"w-full",children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{className:"border-b-2 border-gradient-to-r from-blue-200 via-purple-200 to-pink-200",children:[(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"#"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"Ad Set"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"New Inbox"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"Total Inbox"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"‡∏ä‡∏∑‡πà‡∏≠ - ‡πÄ‡∏ö‡∏≠‡∏£‡πå"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"ThruPlay"})]})}),(0,v.jsx)("tbody",{children:aA.filter(a=>{if(0===aE.size)return!0;let b=(a.campaign_name||"").substring(0,3).toUpperCase();return aE.has(b)}).sort((a,b)=>{if("leads"===aG){let c=bm(a.actions,"onsite_conversion.total_messaging_connection");return bm(b.actions,"onsite_conversion.total_messaging_connection")-c}if("phone"===aG){let c=a7(a.adset_id);return a7(b.adset_id)-c}{let c=a.actions?.find(a=>"video_view"===a.action_type),d=b.actions?.find(a=>"video_view"===a.action_type),e=c?parseFloat(c.value):0;return(d?parseFloat(d.value):0)-e}}).slice(0,"all"===aI?void 0:aI).map((a,b)=>{let c;return parseFloat(a.spend||"0"),bm(a.actions,"onsite_conversion.total_messaging_connection"),(0,v.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gradient-to-r hover:from-blue-50 hover:via-purple-50 hover:to-pink-50 transition-all duration-300 hover:shadow-md cursor-pointer",onClick:()=>{aL(a),aN(!0)},children:[(0,v.jsx)("td",{className:"py-2 px-1 text-center",children:(0,v.jsx)("div",{className:"text-gray-700 font-bold text-lg",children:b+1})}),(0,v.jsx)("td",{className:"py-2 px-1 text-center",children:(0,v.jsx)("div",{className:"text-gray-700 font-medium text-sm max-w-[150px] truncate mx-auto hover:text-purple-600",title:a.adset_name,children:a.adset_name||"‚Äî"})}),(0,v.jsx)("td",{className:"py-2 px-1 text-center text-gray-700 font-semibold text-xl",children:bl(a.spend)}),(0,v.jsx)("td",{className:"py-2 px-1 text-center font-semibold text-green-700 text-xl",children:bm(a.actions,"onsite_conversion.messaging_first_reply")}),(0,v.jsx)("td",{className:"py-2 px-1 text-center font-semibold text-blue-700 text-xl",children:bm(a.actions,"onsite_conversion.total_messaging_connection")}),(0,v.jsx)("td",{className:"py-2 px-1 text-center font-semibold text-purple-700 text-xl",children:aw?(0,v.jsx)("span",{className:"text-sm",children:"‚è≥"}):a7(a.adset_id)}),(0,v.jsx)("td",{className:"py-2 px-1 text-center text-gray-700 text-xl",children:(c=a.actions?.find(a=>"video_view"===a.action_type))?bk(c.value):"‚Äî"})]},a.adset_id)})},`tbody2-${aA.length}-${Date.now()}`)]},`table2-${aA.length}`)]})]})]})]}),2===J&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4",children:[(0,v.jsxs)("div",{className:"flex flex-col",children:[(0,v.jsx)("div",{className:"bg-gradient-to-br from-blue-500 via-blue-600 to-blue-700 rounded-2xl sm:rounded-3xl p-4 sm:p-8 text-white shadow-2xl",children:(0,v.jsxs)("div",{className:"grid grid-cols-2 gap-2 sm:gap-4",children:[(0,v.jsxs)("div",{className:"text-center",children:[(0,v.jsx)("div",{className:"text-xs sm:text-base font-semibold opacity-90 mb-1 sm:mb-2",children:"üíµ ‡πÄ‡∏á‡∏¥‡∏ô‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠"}),(0,v.jsx)("div",{className:"text-xl sm:text-3xl font-bold",children:a0?(0,v.jsx)("span",{className:"text-2xl",children:"‚è≥"}):`‡∏ø${a$.toLocaleString("th-TH",{minimumFractionDigits:2,maximumFractionDigits:2})}`})]}),(0,v.jsxs)("div",{className:"text-center",children:[(0,v.jsx)("div",{className:"text-xs sm:text-base font-semibold opacity-90 mb-1 sm:mb-2",children:"üí∞ ‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏£‡∏ß‡∏°"}),(0,v.jsx)("div",{className:"text-xl sm:text-3xl font-bold",children:aQ?(0,v.jsx)("span",{className:"text-2xl",children:"‚è≥"}):bl(aU.totalSpend)})]})]})}),(0,v.jsx)("div",{className:"bg-white rounded-b-2xl sm:rounded-b-3xl shadow-2xl overflow-hidden border border-gray-100 border-t-0 flex-1 mt-0",children:(0,v.jsx)("div",{className:"overflow-y-auto max-h-[120px]",children:(0,v.jsxs)("table",{className:"w-full min-w-max text-xs",children:[(0,v.jsx)("thead",{className:"bg-blue-50 sticky top-0",children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà"}),(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß"})]})}),(0,v.jsx)("tbody",{children:aQ?(0,v.jsx)("tr",{children:(0,v.jsx)("td",{colSpan:2,className:"px-2 py-4 text-center text-xs",children:"‚è≥"})}):(0,v.jsx)("tr",{children:(0,v.jsx)("td",{colSpan:2,className:"px-2 py-4 text-center text-xs text-gray-400",children:"‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô"})})})]})})})]}),(0,v.jsxs)("div",{className:"flex flex-col",children:[(0,v.jsx)("div",{className:"bg-gradient-to-br from-teal-500 via-teal-600 to-cyan-600 rounded-2xl sm:rounded-3xl p-4 sm:p-8 text-white shadow-2xl",children:(0,v.jsxs)("div",{className:"grid grid-cols-2 gap-2 sm:gap-4",children:[(0,v.jsxs)("div",{className:"text-center",children:[(0,v.jsx)("div",{className:"text-xs sm:text-base font-semibold opacity-90 mb-1 sm:mb-3",children:"New Inbox"}),(0,v.jsx)("div",{className:"text-xl sm:text-4xl font-bold",children:aQ?(0,v.jsx)("span",{className:"text-2xl",children:"‚è≥"}):bk(aU.total_messaging_first_reply||0)})]}),(0,v.jsxs)("div",{className:"text-center",children:[(0,v.jsx)("div",{className:"text-xs sm:text-base font-semibold opacity-90 mb-1 sm:mb-3",children:"Total Inbox"}),(0,v.jsx)("div",{className:"text-xl sm:text-4xl font-bold",children:aQ?(0,v.jsx)("span",{className:"text-2xl",children:"‚è≥"}):bk(aU.total_messaging_connection||0)})]})]})}),(0,v.jsx)("div",{className:"bg-white rounded-b-2xl sm:rounded-b-3xl shadow-2xl overflow-hidden border border-gray-100 border-t-0 flex-1 mt-0",children:(0,v.jsx)("div",{className:"overflow-y-auto max-h-[120px]",children:(0,v.jsxs)("table",{className:"w-full min-w-max text-xs",children:[(0,v.jsx)("thead",{className:"bg-teal-50 sticky top-0",children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà"}),(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"New Inbox"}),(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"Total Inbox"})]})}),(0,v.jsx)("tbody",{children:aQ?(0,v.jsx)("tr",{children:(0,v.jsx)("td",{colSpan:3,className:"px-2 py-4 text-center text-xs",children:"‚è≥"})}):(0,v.jsx)("tr",{children:(0,v.jsx)("td",{colSpan:3,className:"px-2 py-4 text-center text-xs text-gray-400",children:"‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Inbox"})})})]})})})]}),(0,v.jsxs)("div",{className:"flex flex-col",children:[(0,v.jsxs)("div",{className:"bg-gradient-to-br from-purple-500 via-purple-600 to-indigo-600 rounded-2xl sm:rounded-3xl p-4 sm:p-8 text-white shadow-2xl text-center",children:[(0,v.jsx)("div",{className:"text-base sm:text-xl font-semibold mb-2 sm:mb-3 opacity-90",children:"üìû ‡∏ä‡∏∑‡πà‡∏≠ - ‡πÄ‡∏ö‡∏≠‡∏£‡πå"}),(0,v.jsx)("div",{className:"text-2xl sm:text-4xl font-bold",children:aQ?(0,v.jsx)("span",{className:"text-3xl",children:"‚è≥"}):"‚Äî"})]}),(0,v.jsx)("div",{className:"bg-white rounded-b-2xl sm:rounded-b-3xl shadow-2xl overflow-hidden border border-gray-100 border-t-0 flex-1 mt-0",children:(0,v.jsx)("div",{className:"overflow-y-auto max-h-[120px]",children:(0,v.jsxs)("table",{className:"w-full min-w-max text-xs",children:[(0,v.jsx)("thead",{className:"bg-purple-50 sticky top-0",children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà"}),(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"‡πÄ‡∏ö‡∏≠‡∏£‡πå"})]})}),(0,v.jsx)("tbody",{children:aQ?(0,v.jsx)("tr",{children:(0,v.jsx)("td",{colSpan:2,className:"px-2 py-4 text-center text-xs",children:"‚è≥"})}):(0,v.jsx)("tr",{children:(0,v.jsx)("td",{colSpan:2,className:"px-2 py-4 text-center text-xs text-gray-400",children:"‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£"})})})]})})})]})]}),(0,v.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mt-4 sm:mt-8",children:[(0,v.jsxs)("div",{className:"bg-white rounded-2xl sm:rounded-3xl shadow-2xl p-4 sm:p-8 border border-gray-100",children:[(0,v.jsx)("div",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 px-4 sm:px-8 py-4 sm:py-6 -m-4 sm:-m-8 mb-4 sm:mb-8 relative overflow-hidden rounded-t-2xl sm:rounded-t-3xl",children:(0,v.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-10 transition-opacity duration-500"})}),(0,v.jsxs)("div",{className:"flex flex-col gap-3 mb-3 sm:mb-4",children:[(0,v.jsxs)("h2",{className:"text-lg sm:text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent flex items-center gap-2",children:["üèÜ TOP ","all"===aY?"‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î":aY," Ads"," ",(0,v.jsx)("span",{className:"bg-gradient-to-r from-yellow-400 via-orange-400 to-red-500 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-full text-base sm:text-xl font-bold shadow-xl",children:"‡∏ô‡∏±‡∏Å‡πÄ‡∏ï‡∏∞‡∏¢‡∏≠‡∏î‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°"})]}),(0,v.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 w-full",children:[(0,v.jsxs)("div",{className:"flex gap-2 flex-1",children:[(0,v.jsxs)("button",{onClick:()=>aX("spend"),className:`flex-1 sm:flex-none px-3 sm:px-4 py-2 rounded-lg font-medium text-xs sm:text-sm transition-all ${"spend"===aW?"bg-purple-600 text-white shadow-lg":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[(0,v.jsx)("span",{className:"hidden sm:inline",children:"üí∞ Spend (‡∏°‡∏≤‡∏Å ‚Üí ‡∏ô‡πâ‡∏≠‡∏¢)"}),(0,v.jsx)("span",{className:"sm:hidden",children:"üí∞ Spend"})]}),(0,v.jsxs)("button",{onClick:()=>aX("clicks"),className:`flex-1 sm:flex-none px-3 sm:px-4 py-2 rounded-lg font-medium text-xs sm:text-sm transition-all ${"clicks"===aW?"bg-purple-600 text-white shadow-lg":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[(0,v.jsx)("span",{className:"hidden sm:inline",children:"üñ±Ô∏è Clicks (‡∏°‡∏≤‡∏Å ‚Üí ‡∏ô‡πâ‡∏≠‡∏¢)"}),(0,v.jsx)("span",{className:"sm:hidden",children:"üñ±Ô∏è Clicks"})]}),(0,v.jsxs)("button",{onClick:()=>aX("ctr"),className:`flex-1 sm:flex-none px-3 sm:px-4 py-2 rounded-lg font-medium text-xs sm:text-sm transition-all ${"ctr"===aW?"bg-purple-600 text-white shadow-lg":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[(0,v.jsx)("span",{className:"hidden sm:inline",children:"üìà CTR (‡∏°‡∏≤‡∏Å ‚Üí ‡∏ô‡πâ‡∏≠‡∏¢)"}),(0,v.jsx)("span",{className:"sm:hidden",children:"üìà CTR"})]}),(0,v.jsxs)("button",{onClick:()=>aX("impressions"),className:`flex-1 sm:flex-none px-3 sm:px-4 py-2 rounded-lg font-medium text-xs sm:text-sm transition-all ${"impressions"===aW?"bg-purple-600 text-white shadow-lg":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[(0,v.jsx)("span",{className:"hidden sm:inline",children:"üëÅÔ∏è Impressions (‡∏°‡∏≤‡∏Å ‚Üí ‡∏ô‡πâ‡∏≠‡∏¢)"}),(0,v.jsx)("span",{className:"sm:hidden",children:"üëÅÔ∏è Impr"})]})]}),(0,v.jsxs)("select",{value:aY,onChange:a=>{let b=a.target.value;aZ("all"===b?"all":Number(b))},className:"flex-1 sm:flex-none sm:min-w-[140px] px-3 py-2 rounded-lg font-medium text-xs sm:text-sm bg-gradient-to-r from-yellow-400 to-orange-400 text-gray-800 hover:from-yellow-500 hover:to-orange-500 transition-all border-2 border-yellow-500 shadow-lg cursor-pointer",children:[(0,v.jsx)("option",{value:5,children:"‚≠ê Top 5"}),(0,v.jsx)("option",{value:10,children:"‚≠ê Top 10"}),(0,v.jsx)("option",{value:15,children:"‚≠ê Top 15"}),(0,v.jsx)("option",{value:20,children:"‚≠ê Top 20"}),(0,v.jsx)("option",{value:30,children:"‚≠ê Top 30"}),(0,v.jsx)("option",{value:"all",children:"‚≠ê Top ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î"})]})]})]}),(0,v.jsxs)("div",{className:"overflow-x-auto",children:[aQ&&0===aO.length&&(0,v.jsx)("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-3 mb-4 rounded",children:(0,v.jsx)("p",{className:"text-blue-700 text-sm font-medium",children:"‚è≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•..."})}),aS&&(0,v.jsx)("div",{className:"bg-red-50 border-l-4 border-red-500 p-3 mb-4 rounded",children:(0,v.jsxs)("p",{className:"text-red-700 text-sm font-medium",children:["‚ùå ",aS]})}),(0,v.jsxs)("table",{className:"w-full",children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{className:"border-b-2 border-gradient-to-r from-blue-200 via-purple-200 to-pink-200",children:[(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"#"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"Ad Image"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"New Inbox"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"Total Inbox"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"‡∏ä‡∏∑‡πà‡∏≠ - ‡πÄ‡∏ö‡∏≠‡∏£‡πå"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"ThruPlay"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô Inbox"})]})}),(0,v.jsx)("tbody",{children:aO.sort((a,b)=>{switch(aW){case"spend":default:return parseFloat(b.spend||"0")-parseFloat(a.spend||"0");case"clicks":return parseInt(b.clicks||"0")-parseInt(a.clicks||"0");case"impressions":return parseInt(b.impressions||"0")-parseInt(a.impressions||"0");case"ctr":return parseFloat(b.ctr||"0")-parseFloat(a.ctr||"0");case"cpc":return parseFloat(b.cpc||"0")-parseFloat(a.cpc||"0");case"cpm":return parseFloat(b.cpm||"0")-parseFloat(a.cpm||"0")}}).slice(0,"all"===aY?void 0:aY).map((a,b)=>{let c,d,e,f,g;return(0,v.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gradient-to-r hover:from-blue-50 hover:via-purple-50 hover:to-pink-50 transition-all duration-300 hover:shadow-md",children:[(0,v.jsx)("td",{className:"py-2 px-1 text-center",children:(0,v.jsx)("div",{className:"text-gray-700 font-bold text-lg",children:b+1})}),(0,v.jsx)("td",{className:"py-2 px-1 text-center",children:(0,v.jsx)("div",{className:"relative group cursor-pointer flex justify-center items-center",children:(0,v.jsx)("div",{className:"w-20 h-20 bg-gray-100 rounded-lg flex items-center justify-center",children:(0,v.jsx)("span",{className:"text-gray-400 text-xs",children:"üì∑"})})})}),(0,v.jsx)("td",{className:"py-2 px-1 text-center text-gray-700 font-semibold text-xl",children:bl(a.spend)}),(0,v.jsx)("td",{className:"py-2 px-1 text-center font-semibold text-green-700 text-xl",children:(c=a.actions?.find(a=>"onsite_conversion.messaging_first_reply"===a.action_type))?bk(c.value):"‚Äî"}),(0,v.jsx)("td",{className:"py-2 px-1 text-center font-semibold text-blue-700 text-xl",children:(d=a.actions?.find(a=>"onsite_conversion.total_messaging_connection"===a.action_type))?bk(d.value):"‚Äî"}),(0,v.jsx)("td",{className:"py-2 px-1 text-center font-semibold text-purple-700 text-xl",children:"‚Äî"}),(0,v.jsx)("td",{className:"py-2 px-1 text-center text-gray-700 text-xl",children:"‚Äî"}),(0,v.jsx)("td",{className:"py-2 px-1 text-center text-gray-700 text-xl",children:(e=a.actions?.find(a=>"onsite_conversion.total_messaging_connection"===a.action_type),f=parseFloat(a.spend||"0"),(g=parseInt(e?.value||"0"))>0?bl(f/g):"‚Äî")})]},a.ad_id)})})]},`page2-table-${aO.length}`)]})]}),(0,v.jsxs)("div",{className:"bg-white rounded-2xl sm:rounded-3xl shadow-2xl p-4 sm:p-8 border border-gray-100",children:[(0,v.jsx)("div",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 px-4 sm:px-8 py-4 sm:py-6 -m-4 sm:-m-8 mb-4 sm:mb-8 relative overflow-hidden rounded-t-2xl sm:rounded-t-3xl",children:(0,v.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-10 transition-opacity duration-500"})}),(0,v.jsxs)("div",{className:"flex flex-col gap-3 mb-3 sm:mb-4",children:[(0,v.jsxs)("h2",{className:"text-lg sm:text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent flex items-center gap-2",children:["üèÜ TOP ","all"===aY?"‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î":aY," Ad Set"," ",(0,v.jsx)("span",{className:"bg-gradient-to-r from-yellow-400 via-orange-400 to-red-500 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-full text-base sm:text-xl font-bold shadow-xl",children:"‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏¢‡∏≠‡∏î‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°"})]}),(0,v.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 w-full",children:[(0,v.jsxs)("div",{className:"flex gap-2 flex-1",children:[(0,v.jsxs)("button",{onClick:()=>aX("spend"),className:`flex-1 sm:flex-none px-3 sm:px-4 py-2 rounded-lg font-medium text-xs sm:text-sm transition-all ${"spend"===aW?"bg-purple-600 text-white shadow-lg":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[(0,v.jsx)("span",{className:"hidden sm:inline",children:"üí∞ Spend (‡∏°‡∏≤‡∏Å ‚Üí ‡∏ô‡πâ‡∏≠‡∏¢)"}),(0,v.jsx)("span",{className:"sm:hidden",children:"üí∞ Spend"})]}),(0,v.jsxs)("button",{onClick:()=>aX("clicks"),className:`flex-1 sm:flex-none px-3 sm:px-4 py-2 rounded-lg font-medium text-xs sm:text-sm transition-all ${"clicks"===aW?"bg-purple-600 text-white shadow-lg":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[(0,v.jsx)("span",{className:"hidden sm:inline",children:"üñ±Ô∏è Clicks (‡∏°‡∏≤‡∏Å ‚Üí ‡∏ô‡πâ‡∏≠‡∏¢)"}),(0,v.jsx)("span",{className:"sm:hidden",children:"üñ±Ô∏è Clicks"})]}),(0,v.jsxs)("button",{onClick:()=>aX("impressions"),className:`flex-1 sm:flex-none px-3 sm:px-4 py-2 rounded-lg font-medium text-xs sm:text-sm transition-all ${"impressions"===aW?"bg-purple-600 text-white shadow-lg":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[(0,v.jsx)("span",{className:"hidden sm:inline",children:"üëÅÔ∏è Impressions (‡∏°‡∏≤‡∏Å ‚Üí ‡∏ô‡πâ‡∏≠‡∏¢)"}),(0,v.jsx)("span",{className:"sm:hidden",children:"üëÅÔ∏è Impr"})]})]}),(0,v.jsxs)("select",{value:aY,onChange:a=>{let b=a.target.value;aZ("all"===b?"all":Number(b))},className:"flex-1 sm:flex-none sm:min-w-[140px] px-3 py-2 rounded-lg font-medium text-xs sm:text-sm bg-gradient-to-r from-yellow-400 to-orange-400 text-gray-800 hover:from-yellow-500 hover:to-orange-500 transition-all border-2 border-yellow-500 shadow-lg cursor-pointer",children:[(0,v.jsx)("option",{value:5,children:"‚≠ê Top 5"}),(0,v.jsx)("option",{value:10,children:"‚≠ê Top 10"}),(0,v.jsx)("option",{value:15,children:"‚≠ê Top 15"}),(0,v.jsx)("option",{value:20,children:"‚≠ê Top 20"}),(0,v.jsx)("option",{value:30,children:"‚≠ê Top 30"}),(0,v.jsx)("option",{value:"all",children:"‚≠ê Top ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î"})]})]})]}),(0,v.jsxs)("div",{className:"overflow-x-auto",children:[aQ&&(0,v.jsx)("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-3 mb-4 rounded",children:(0,v.jsx)("p",{className:"text-blue-700 text-sm font-medium",children:"‚è≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Ad Set..."})}),(0,v.jsxs)("table",{className:"w-full",children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{className:"border-b-2 border-gradient-to-r from-blue-200 via-purple-200 to-pink-200",children:[(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"#"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"Ad Set"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"New Inbox"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"Total Inbox"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"‡∏ä‡∏∑‡πà‡∏≠ - ‡πÄ‡∏ö‡∏≠‡∏£‡πå"}),(0,v.jsx)("th",{className:"text-center py-2 px-1 font-semibold text-gray-700 text-sm",children:"ThruPlay"})]})}),(0,v.jsx)("tbody",{children:(j=new Map,aO.forEach(a=>{let b=j.get(a.adset_id)||{adset_id:a.adset_id,adset_name:a.adset_name,campaign_name:a.campaign_name,spend:0,clicks:0,impressions:0,newInbox:0,totalInbox:0};if(b.spend+=parseFloat(a.spend||"0"),b.clicks+=parseInt(a.clicks||"0"),b.impressions+=parseInt(a.impressions||"0"),a.actions){let c=a.actions.find(a=>"onsite_conversion.messaging_first_reply"===a.action_type),d=a.actions.find(a=>"onsite_conversion.total_messaging_connection"===a.action_type);b.newInbox+=parseInt(c?.value||"0"),b.totalInbox+=parseInt(d?.value||"0")}j.set(a.adset_id,b)}),Array.from(j.values()).sort((a,b)=>{switch(aW){case"spend":default:return b.spend-a.spend;case"clicks":return b.clicks-a.clicks;case"impressions":return b.impressions-a.impressions}}).slice(0,"all"===aY?void 0:aY).map((a,b)=>(0,v.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gradient-to-r hover:from-blue-50 hover:via-purple-50 hover:to-pink-50 transition-all duration-300 hover:shadow-md cursor-pointer",children:[(0,v.jsx)("td",{className:"py-2 px-1 text-center",children:(0,v.jsx)("div",{className:"text-gray-700 font-bold text-lg",children:b+1})}),(0,v.jsx)("td",{className:"py-2 px-1 text-center",children:(0,v.jsx)("div",{className:"text-gray-700 font-medium text-sm max-w-[150px] truncate mx-auto hover:text-purple-600",title:a.adset_name,children:a.adset_name||"‚Äî"})}),(0,v.jsx)("td",{className:"py-2 px-1 text-center text-gray-700 font-semibold text-xl",children:bl(a.spend)}),(0,v.jsx)("td",{className:"py-2 px-1 text-center font-semibold text-green-700 text-xl",children:a.newInbox>0?bk(a.newInbox):"‚Äî"}),(0,v.jsx)("td",{className:"py-2 px-1 text-center font-semibold text-blue-700 text-xl",children:a.totalInbox>0?bk(a.totalInbox):"‚Äî"}),(0,v.jsx)("td",{className:"py-2 px-1 text-center font-semibold text-purple-700 text-xl",children:"‚Äî"}),(0,v.jsx)("td",{className:"py-2 px-1 text-center text-gray-700 text-xl",children:"‚Äî"})]},a.adset_id)))})]},`page2-adset-table-${aO.length}`)]})]})]})]}),3===J&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4",children:[(0,v.jsxs)("div",{className:"flex flex-col",children:[(0,v.jsx)("div",{className:"bg-gradient-to-br from-blue-500 via-blue-600 to-blue-700 rounded-2xl sm:rounded-3xl p-4 sm:p-8 text-white shadow-2xl",children:(0,v.jsxs)("div",{className:"grid grid-cols-2 gap-2 sm:gap-4",children:[(0,v.jsxs)("div",{className:"text-center",children:[(0,v.jsx)("div",{className:"text-xs sm:text-base font-semibold opacity-90 mb-1 sm:mb-2",children:"üíµ ‡πÄ‡∏á‡∏¥‡∏ô‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠ (Page 3)"}),(0,v.jsx)("div",{className:"text-xl sm:text-3xl font-bold",children:W?(0,v.jsx)("span",{className:"text-2xl",children:"‚è≥"}):`‡∏ø${U.toLocaleString("th-TH",{minimumFractionDigits:2,maximumFractionDigits:2})}`})]}),(0,v.jsxs)("div",{className:"text-center",children:[(0,v.jsx)("div",{className:"text-xs sm:text-base font-semibold opacity-90 mb-1 sm:mb-2",children:"üí∞ ‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏£‡∏ß‡∏°"}),(0,v.jsx)("div",{className:"text-xl sm:text-3xl font-bold",children:bl(p.reduce((a,b)=>a+parseFloat(b.spend||"0"),0))})]})]})}),(0,v.jsx)("div",{className:"bg-white rounded-b-2xl sm:rounded-b-3xl shadow-2xl overflow-hidden border border-gray-100 border-t-0 flex-1 mt-0",children:(0,v.jsx)("div",{className:"overflow-y-auto max-h-[120px]",children:(0,v.jsxs)("table",{className:"w-full min-w-max text-xs",children:[(0,v.jsx)("thead",{className:"bg-blue-50 sticky top-0",children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà"}),(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß"})]})}),(0,v.jsx)("tbody",{children:ao?(0,v.jsx)("tr",{children:(0,v.jsx)("td",{colSpan:2,className:"px-2 py-4 text-center text-xs",children:"‚è≥"})}):(k=new Map,am.forEach(a=>{let b=a.date_start,c=k.get(b)||{spend:0};c.spend+=parseFloat(a.spend||"0"),k.set(b,c)}),Array.from(k.keys()).sort((a,b)=>new Date(b).getTime()-new Date(a).getTime()).slice(1,31).map(a=>{let b=k.get(a);return(0,v.jsxs)("tr",{className:"hover:bg-blue-50 border-b",children:[(0,v.jsx)("td",{className:"px-2 py-2 text-center text-xs text-gray-900",children:new Date(a).toLocaleDateString("th-TH",{month:"short",day:"numeric"})}),(0,v.jsx)("td",{className:"px-2 py-2 text-center text-xs font-semibold text-blue-600",children:bl(b.spend)})]},a)}))})]})})})]}),(0,v.jsxs)("div",{className:"flex flex-col",children:[(0,v.jsx)("div",{className:"bg-gradient-to-br from-teal-500 via-teal-600 to-cyan-600 rounded-2xl sm:rounded-3xl p-4 sm:p-8 text-white shadow-2xl",children:(0,v.jsxs)("div",{className:"grid grid-cols-2 gap-2 sm:gap-4",children:[(0,v.jsxs)("div",{className:"text-center",children:[(0,v.jsx)("div",{className:"text-xs sm:text-base font-semibold opacity-90 mb-1 sm:mb-3",children:"New Inbox"}),(0,v.jsx)("div",{className:"text-xl sm:text-4xl font-bold",children:bn()})]}),(0,v.jsxs)("div",{className:"text-center",children:[(0,v.jsx)("div",{className:"text-xs sm:text-base font-semibold opacity-90 mb-1 sm:mb-3",children:"Total Inbox"}),(0,v.jsx)("div",{className:"text-xl sm:text-4xl font-bold",children:bo()})]})]})}),(0,v.jsx)("div",{className:"bg-white rounded-b-2xl sm:rounded-b-3xl shadow-2xl overflow-hidden border border-gray-100 border-t-0 flex-1 mt-0",children:(0,v.jsx)("div",{className:"overflow-y-auto max-h-[120px]",children:(0,v.jsxs)("table",{className:"w-full min-w-max text-xs",children:[(0,v.jsx)("thead",{className:"bg-teal-50 sticky top-0",children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà"}),(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"New Inbox"}),(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"Total Inbox"})]})}),(0,v.jsx)("tbody",{children:ao?(0,v.jsx)("tr",{children:(0,v.jsx)("td",{colSpan:3,className:"px-2 py-4 text-center text-xs",children:"‚è≥"})}):(l=new Map,am.forEach(a=>{let b=a.date_start,c=l.get(b)||{newInbox:0,totalInbox:0};c.newInbox+=bm(a.actions,"onsite_conversion.messaging_first_reply"),c.totalInbox+=bm(a.actions,"onsite_conversion.total_messaging_connection"),l.set(b,c)}),Array.from(l.keys()).sort((a,b)=>new Date(b).getTime()-new Date(a).getTime()).slice(1,31).map(a=>{let b=l.get(a);return(0,v.jsxs)("tr",{className:"hover:bg-teal-50 border-b",children:[(0,v.jsx)("td",{className:"px-2 py-2 text-center text-xs text-gray-900",children:new Date(a).toLocaleDateString("th-TH",{month:"short",day:"numeric"})}),(0,v.jsx)("td",{className:"px-2 py-2 text-center text-xs font-semibold text-green-600",children:b.newInbox}),(0,v.jsx)("td",{className:"px-2 py-2 text-center text-xs font-semibold text-teal-600",children:b.totalInbox})]},a)}))})]})})})]}),(0,v.jsxs)("div",{className:"flex flex-col",children:[(0,v.jsxs)("div",{className:"bg-gradient-to-br from-purple-500 via-purple-600 to-indigo-600 rounded-2xl sm:rounded-3xl p-4 sm:p-8 text-white shadow-2xl text-center",children:[(0,v.jsx)("div",{className:"text-base sm:text-xl font-semibold mb-2 sm:mb-3 opacity-90",children:"üìû ‡∏ä‡∏∑‡πà‡∏≠ - ‡πÄ‡∏ö‡∏≠‡∏£‡πå"}),(0,v.jsx)("div",{className:"text-2xl sm:text-4xl font-bold",children:$?(0,v.jsx)("span",{className:"text-3xl",children:"‚è≥"}):(0,v.jsx)("div",{children:Y.total.toLocaleString()})})]}),(0,v.jsx)("div",{className:"bg-white rounded-b-2xl sm:rounded-b-3xl shadow-2xl overflow-hidden border border-gray-100 border-t-0 flex-1 mt-0",children:(0,v.jsx)("div",{className:"overflow-y-auto max-h-[120px]",children:(0,v.jsxs)("table",{className:"w-full min-w-max text-xs",children:[(0,v.jsx)("thead",{className:"bg-purple-50 sticky top-0",children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà"}),(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"‡πÄ‡∏ö‡∏≠‡∏£‡πå"})]})}),(0,v.jsx)("tbody",{children:as?(0,v.jsx)("tr",{children:(0,v.jsx)("td",{colSpan:2,className:"px-2 py-4 text-center text-xs",children:"‚è≥"})}):Object.entries(aq).sort(([a],[b])=>new Date(b).getTime()-new Date(a).getTime()).slice(1).map(([a,b])=>(0,v.jsxs)("tr",{className:"hover:bg-purple-50 border-b",children:[(0,v.jsx)("td",{className:"px-2 py-2 text-center text-xs text-gray-900",children:new Date(a).toLocaleDateString("th-TH",{month:"short",day:"numeric"})}),(0,v.jsx)("td",{className:"px-2 py-2 text-center text-xs font-semibold text-purple-600",children:b})]},a))})]})})})]})]}),(0,v.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mt-4 sm:mt-8",children:[(0,v.jsxs)("div",{className:"bg-white rounded-2xl sm:rounded-3xl shadow-2xl p-4 sm:p-8 border border-gray-100",children:[(0,v.jsx)("div",{className:"bg-gradient-to-r from-green-600 via-emerald-600 to-teal-600 px-4 sm:px-8 py-4 sm:py-6 -m-4 sm:-m-8 mb-4 sm:mb-8 relative overflow-hidden rounded-t-2xl sm:rounded-t-3xl",children:(0,v.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-10 transition-opacity duration-500"})}),(0,v.jsxs)("div",{className:"flex flex-col gap-3 mb-3 sm:mb-4",children:[(0,v.jsx)("h2",{className:"text-lg sm:text-2xl font-bold bg-gradient-to-r from-green-600 to-teal-600 bg-clip-text text-transparent flex items-center gap-2",children:"üåê Page 3 - Campaign Overview"}),(0,v.jsx)("p",{className:"text-gray-600 text-sm",children:"Page 3 content area - Same structure as Page 1"})]}),(0,v.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,v.jsx)("div",{className:"text-6xl mb-4",children:"üéØ"}),(0,v.jsx)("p",{className:"text-lg",children:"Page 3 specific content will be displayed here"})]})]}),(0,v.jsxs)("div",{className:"bg-white rounded-2xl sm:rounded-3xl shadow-2xl p-4 sm:p-8 border border-gray-100",children:[(0,v.jsx)("div",{className:"bg-gradient-to-r from-green-600 via-emerald-600 to-teal-600 px-4 sm:px-8 py-4 sm:py-6 -m-4 sm:-m-8 mb-4 sm:mb-8 relative overflow-hidden rounded-t-2xl sm:rounded-t-3xl",children:(0,v.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-10 transition-opacity duration-500"})}),(0,v.jsxs)("div",{className:"flex flex-col gap-3 mb-3 sm:mb-4",children:[(0,v.jsx)("h2",{className:"text-lg sm:text-2xl font-bold bg-gradient-to-r from-green-600 to-teal-600 bg-clip-text text-transparent flex items-center gap-2",children:"üìä Page 3 - Performance Metrics"}),(0,v.jsx)("p",{className:"text-gray-600 text-sm",children:"Page 3 metrics area"})]}),(0,v.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,v.jsx)("div",{className:"text-6xl mb-4",children:"üìâ"}),(0,v.jsx)("p",{className:"text-lg",children:"Page 3 metrics will be displayed here"})]})]})]})]}),4===J&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4",children:[(0,v.jsxs)("div",{className:"flex flex-col",children:[(0,v.jsx)("div",{className:"bg-gradient-to-br from-blue-500 via-blue-600 to-blue-700 rounded-2xl sm:rounded-3xl p-4 sm:p-8 text-white shadow-2xl",children:(0,v.jsxs)("div",{className:"grid grid-cols-2 gap-2 sm:gap-4",children:[(0,v.jsxs)("div",{className:"text-center",children:[(0,v.jsx)("div",{className:"text-xs sm:text-base font-semibold opacity-90 mb-1 sm:mb-2",children:"üíµ ‡πÄ‡∏á‡∏¥‡∏ô‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠ (Page 4)"}),(0,v.jsx)("div",{className:"text-xl sm:text-3xl font-bold",children:W?(0,v.jsx)("span",{className:"text-2xl",children:"‚è≥"}):`‡∏ø${U.toLocaleString("th-TH",{minimumFractionDigits:2,maximumFractionDigits:2})}`})]}),(0,v.jsxs)("div",{className:"text-center",children:[(0,v.jsx)("div",{className:"text-xs sm:text-base font-semibold opacity-90 mb-1 sm:mb-2",children:"üí∞ ‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏£‡∏ß‡∏°"}),(0,v.jsx)("div",{className:"text-xl sm:text-3xl font-bold",children:bl(p.reduce((a,b)=>a+parseFloat(b.spend||"0"),0))})]})]})}),(0,v.jsx)("div",{className:"bg-white rounded-b-2xl sm:rounded-b-3xl shadow-2xl overflow-hidden border border-gray-100 border-t-0 flex-1 mt-0",children:(0,v.jsx)("div",{className:"overflow-y-auto max-h-[120px]",children:(0,v.jsxs)("table",{className:"w-full min-w-max text-xs",children:[(0,v.jsx)("thead",{className:"bg-blue-50 sticky top-0",children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà"}),(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß"})]})}),(0,v.jsx)("tbody",{children:ao?(0,v.jsx)("tr",{children:(0,v.jsx)("td",{colSpan:2,className:"px-2 py-4 text-center text-xs",children:"‚è≥"})}):(m=new Map,am.forEach(a=>{let b=a.date_start,c=m.get(b)||{spend:0};c.spend+=parseFloat(a.spend||"0"),m.set(b,c)}),Array.from(m.keys()).sort((a,b)=>new Date(b).getTime()-new Date(a).getTime()).slice(1,31).map(a=>{let b=m.get(a);return(0,v.jsxs)("tr",{className:"hover:bg-blue-50 border-b",children:[(0,v.jsx)("td",{className:"px-2 py-2 text-center text-xs text-gray-900",children:new Date(a).toLocaleDateString("th-TH",{month:"short",day:"numeric"})}),(0,v.jsx)("td",{className:"px-2 py-2 text-center text-xs font-semibold text-blue-600",children:bl(b.spend)})]},a)}))})]})})})]}),(0,v.jsxs)("div",{className:"flex flex-col",children:[(0,v.jsx)("div",{className:"bg-gradient-to-br from-teal-500 via-teal-600 to-cyan-600 rounded-2xl sm:rounded-3xl p-4 sm:p-8 text-white shadow-2xl",children:(0,v.jsxs)("div",{className:"grid grid-cols-2 gap-2 sm:gap-4",children:[(0,v.jsxs)("div",{className:"text-center",children:[(0,v.jsx)("div",{className:"text-xs sm:text-base font-semibold opacity-90 mb-1 sm:mb-3",children:"New Inbox"}),(0,v.jsx)("div",{className:"text-xl sm:text-4xl font-bold",children:bn()})]}),(0,v.jsxs)("div",{className:"text-center",children:[(0,v.jsx)("div",{className:"text-xs sm:text-base font-semibold opacity-90 mb-1 sm:mb-3",children:"Total Inbox"}),(0,v.jsx)("div",{className:"text-xl sm:text-4xl font-bold",children:bo()})]})]})}),(0,v.jsx)("div",{className:"bg-white rounded-b-2xl sm:rounded-b-3xl shadow-2xl overflow-hidden border border-gray-100 border-t-0 flex-1 mt-0",children:(0,v.jsx)("div",{className:"overflow-y-auto max-h-[120px]",children:(0,v.jsxs)("table",{className:"w-full min-w-max text-xs",children:[(0,v.jsx)("thead",{className:"bg-teal-50 sticky top-0",children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà"}),(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"New Inbox"}),(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"Total Inbox"})]})}),(0,v.jsx)("tbody",{children:ao?(0,v.jsx)("tr",{children:(0,v.jsx)("td",{colSpan:3,className:"px-2 py-4 text-center text-xs",children:"‚è≥"})}):(n=new Map,am.forEach(a=>{let b=a.date_start,c=n.get(b)||{newInbox:0,totalInbox:0};c.newInbox+=bm(a.actions,"onsite_conversion.messaging_first_reply"),c.totalInbox+=bm(a.actions,"onsite_conversion.total_messaging_connection"),n.set(b,c)}),Array.from(n.keys()).sort((a,b)=>new Date(b).getTime()-new Date(a).getTime()).slice(1,31).map(a=>{let b=n.get(a);return(0,v.jsxs)("tr",{className:"hover:bg-teal-50 border-b",children:[(0,v.jsx)("td",{className:"px-2 py-2 text-center text-xs text-gray-900",children:new Date(a).toLocaleDateString("th-TH",{month:"short",day:"numeric"})}),(0,v.jsx)("td",{className:"px-2 py-2 text-center text-xs font-semibold text-green-600",children:b.newInbox}),(0,v.jsx)("td",{className:"px-2 py-2 text-center text-xs font-semibold text-teal-600",children:b.totalInbox})]},a)}))})]})})})]}),(0,v.jsxs)("div",{className:"flex flex-col",children:[(0,v.jsxs)("div",{className:"bg-gradient-to-br from-purple-500 via-purple-600 to-indigo-600 rounded-2xl sm:rounded-3xl p-4 sm:p-8 text-white shadow-2xl text-center",children:[(0,v.jsx)("div",{className:"text-base sm:text-xl font-semibold mb-2 sm:mb-3 opacity-90",children:"üìû ‡∏ä‡∏∑‡πà‡∏≠ - ‡πÄ‡∏ö‡∏≠‡∏£‡πå"}),(0,v.jsx)("div",{className:"text-2xl sm:text-4xl font-bold",children:$?(0,v.jsx)("span",{className:"text-3xl",children:"‚è≥"}):(0,v.jsx)("div",{children:Y.total.toLocaleString()})})]}),(0,v.jsx)("div",{className:"bg-white rounded-b-2xl sm:rounded-b-3xl shadow-2xl overflow-hidden border border-gray-100 border-t-0 flex-1 mt-0",children:(0,v.jsx)("div",{className:"overflow-y-auto max-h-[120px]",children:(0,v.jsxs)("table",{className:"w-full min-w-max text-xs",children:[(0,v.jsx)("thead",{className:"bg-purple-50 sticky top-0",children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà"}),(0,v.jsx)("th",{className:"px-2 py-2 text-center font-semibold text-gray-700 border-b text-xs whitespace-nowrap",children:"‡πÄ‡∏ö‡∏≠‡∏£‡πå"})]})}),(0,v.jsx)("tbody",{children:as?(0,v.jsx)("tr",{children:(0,v.jsx)("td",{colSpan:2,className:"px-2 py-4 text-center text-xs",children:"‚è≥"})}):Object.entries(aq).sort(([a],[b])=>new Date(b).getTime()-new Date(a).getTime()).slice(1).map(([a,b])=>(0,v.jsxs)("tr",{className:"hover:bg-purple-50 border-b",children:[(0,v.jsx)("td",{className:"px-2 py-2 text-center text-xs text-gray-900",children:new Date(a).toLocaleDateString("th-TH",{month:"short",day:"numeric"})}),(0,v.jsx)("td",{className:"px-2 py-2 text-center text-xs font-semibold text-purple-600",children:b})]},a))})]})})})]})]}),(0,v.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mt-4 sm:mt-8",children:[(0,v.jsxs)("div",{className:"bg-white rounded-2xl sm:rounded-3xl shadow-2xl p-4 sm:p-8 border border-gray-100",children:[(0,v.jsx)("div",{className:"bg-gradient-to-r from-orange-600 via-red-600 to-pink-600 px-4 sm:px-8 py-4 sm:py-6 -m-4 sm:-m-8 mb-4 sm:mb-8 relative overflow-hidden rounded-t-2xl sm:rounded-t-3xl",children:(0,v.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-10 transition-opacity duration-500"})}),(0,v.jsxs)("div",{className:"flex flex-col gap-3 mb-3 sm:mb-4",children:[(0,v.jsx)("h2",{className:"text-lg sm:text-2xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent flex items-center gap-2",children:"‚öôÔ∏è Page 4 - Settings & Configuration"}),(0,v.jsx)("p",{className:"text-gray-600 text-sm",children:"Page 4 content area - Same structure as Page 1"})]}),(0,v.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,v.jsx)("div",{className:"text-6xl mb-4",children:"üîß"}),(0,v.jsx)("p",{className:"text-lg",children:"Page 4 specific content will be displayed here"})]})]}),(0,v.jsxs)("div",{className:"bg-white rounded-2xl sm:rounded-3xl shadow-2xl p-4 sm:p-8 border border-gray-100",children:[(0,v.jsx)("div",{className:"bg-gradient-to-r from-orange-600 via-red-600 to-pink-600 px-4 sm:px-8 py-4 sm:py-6 -m-4 sm:-m-8 mb-4 sm:mb-8 relative overflow-hidden rounded-t-2xl sm:rounded-t-3xl",children:(0,v.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-10 transition-opacity duration-500"})}),(0,v.jsxs)("div",{className:"flex flex-col gap-3 mb-3 sm:mb-4",children:[(0,v.jsx)("h2",{className:"text-lg sm:text-2xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent flex items-center gap-2",children:"üìù Page 4 - Additional Info"}),(0,v.jsx)("p",{className:"text-gray-600 text-sm",children:"Page 4 additional area"})]}),(0,v.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,v.jsx)("div",{className:"text-6xl mb-4",children:"üìã"}),(0,v.jsx)("p",{className:"text-lg",children:"Page 4 additional content will be displayed here"})]})]})]})]})]})]})}a.s(["default",()=>L],354381)}];

//# sourceMappingURL=src_app_facebook-ads-manager_page_tsx_a3bcf5cb._.js.map