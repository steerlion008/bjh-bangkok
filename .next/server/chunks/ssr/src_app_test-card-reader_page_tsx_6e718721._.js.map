{"version":3,"sources":["../../../../src/app/test-card-reader/page.tsx"],"sourcesContent":["/// <reference lib=\"dom\" />\r\n\"use client\";\r\n\r\nimport { useCallback, useEffect, useRef, useState } from \"react\";\r\n\r\ntype USBEndpoint = {\r\n    endpointNumber: number;\r\n    direction: \"in\" | \"out\";\r\n    type: \"bulk\" | \"interrupt\" | \"isochronous\";\r\n};\r\n\r\ntype USBAlternate = {\r\n    interfaceClass: number;\r\n    endpoints?: USBEndpoint[];\r\n};\r\n\r\ntype USBInterface = {\r\n    interfaceNumber: number;\r\n    alternates: USBAlternate[];\r\n};\r\n\r\ntype USBConfiguration = {\r\n    configurationValue: number;\r\n    interfaces: USBInterface[];\r\n};\r\n\r\ntype USBDevice = {\r\n    vendorId?: number;\r\n    productId?: number;\r\n    serialNumber?: string;\r\n    productName?: string;\r\n    manufacturerName?: string;\r\n    opened?: boolean;\r\n    configuration?: USBConfiguration;\r\n    configurations?: USBConfiguration[];\r\n    open: () => Promise<void>;\r\n    selectConfiguration: (value: number) => Promise<void>;\r\n    claimInterface: (iface: number) => Promise<void>;\r\n    releaseInterface: (iface: number) => Promise<void>;\r\n    close: () => Promise<void>;\r\n    transferOut: (endpoint: number, data: Uint8Array) => Promise<{ status: string }>;\r\n    transferIn: (endpoint: number, length: number) => Promise<USBInTransferResult>;\r\n};\r\n\r\ntype USBDeviceFilter = {\r\n    vendorId?: number;\r\n    productId?: number;\r\n    classCode?: number;\r\n    subclassCode?: number;\r\n    protocolCode?: number;\r\n};\r\n\r\ntype USBInTransferResult = {\r\n    status: string;\r\n    data?: DataView;\r\n};\r\n\r\ntype USB = {\r\n    requestDevice: (options: { filters?: USBDeviceFilter[] }) => Promise<USBDevice>;\r\n    getDevices: () => Promise<USBDevice[]>;\r\n    addEventListener: (event: \"connect\" | \"disconnect\", listener: EventListener) => void;\r\n    removeEventListener: (event: \"connect\" | \"disconnect\", listener: EventListener) => void;\r\n};\r\n\r\ntype HIDDeviceCollection = {\r\n    usagePage?: number;\r\n};\r\n\r\ntype HIDDevice = {\r\n    vendorId?: number;\r\n    productId?: number;\r\n    productName?: string;\r\n    collections?: HIDDeviceCollection[];\r\n};\r\n\r\ntype HIDDeviceFilter = {\r\n    vendorId?: number;\r\n    productId?: number;\r\n    usagePage?: number;\r\n    usage?: number;\r\n};\r\n\r\ntype HID = {\r\n    getDevices: () => Promise<HIDDevice[]>;\r\n    requestDevice: (options: { filters?: HIDDeviceFilter[] }) => Promise<HIDDevice[]>;\r\n    addEventListener: (event: \"connect\" | \"disconnect\", listener: EventListener) => void;\r\n    removeEventListener: (event: \"connect\" | \"disconnect\", listener: EventListener) => void;\r\n};\r\n\r\ntype ReaderDevice = {\r\n    id: string;\r\n    label: string;\r\n    kind: \"USB\" | \"HID\";\r\n    info: string;\r\n};\r\n\r\ntype CardInfo = {\r\n    idNumber: string;\r\n    fullName: string;\r\n    fullNameEn: string;\r\n    sex: string;\r\n    birthDate: string;\r\n    age: string;\r\n    issueDate: string;\r\n    expiryDate: string;\r\n    address: string;\r\n    cardStatus: string;\r\n    statusCode: string;\r\n    readerName: string;\r\n};\r\n\r\nconst SMART_CARD_FILTERS: USBDeviceFilter[] = [\r\n    { vendorId: 0x058f, productId: 0x9540 }, // Alcorlink USB Smart Card Reader\r\n    { classCode: 0x0b },                     // เผื่อ generic CCID ตัวอื่นในอนาคต\r\n];\r\n\r\nconst HID_SMART_CARD_FILTERS: HIDDeviceFilter[] = [{ usagePage: 0x0b }];\r\n\r\nconst toHex = (value?: number) =>\r\n    value != null ? `0x${value.toString(16).padStart(4, \"0\").toUpperCase()}` : \"n/a\";\r\n\r\nconst mapUsbDevice = (device: USBDevice): ReaderDevice => ({\r\n    id: `${device.vendorId ?? 0}-${device.productId ?? 0}-${device.serialNumber ?? \"0\"}`,\r\n    label: device.productName ?? \"เครื่องอ่าน USB\",\r\n    kind: \"USB\",\r\n    info: `VID ${toHex(device.vendorId)} · PID ${toHex(device.productId)}${device.manufacturerName ? ` · ${device.manufacturerName}` : \"\"\r\n        }`,\r\n});\r\n\r\nconst mapHidDevice = (device: HIDDevice): ReaderDevice => {\r\n    const usagePage = device.collections?.[0]?.usagePage;\r\n    return {\r\n        id: `${device.vendorId ?? 0}-${device.productId ?? 0}-${usagePage ?? 0}-${device.productName ?? \"HID\"}`,\r\n        label: device.productName ?? \"HID เครื่องอ่าน\",\r\n        kind: \"HID\",\r\n        info: `VID ${toHex(device.vendorId)} · PID ${toHex(device.productId)}${usagePage ? ` · usage ${usagePage}` : \"\"\r\n            }`,\r\n    };\r\n};\r\n\r\nconst hexToBytes = (value: string) => {\r\n    const cleaned = value.replace(/[^0-9a-f]/gi, \"\");\r\n    if (!cleaned) return new Uint8Array();\r\n    if (cleaned.length % 2) {\r\n        throw new Error(\"ค่าที่ได้รับต้องมีจำนวนคู่ของตัวอักษร HEX\");\r\n    }\r\n    const bytes = new Uint8Array(cleaned.length / 2);\r\n    for (let i = 0; i < cleaned.length; i += 2) {\r\n        bytes[i / 2] = parseInt(cleaned.slice(i, i + 2), 16);\r\n    }\r\n    return bytes;\r\n};\r\n\r\nconst bytesToHex = (data: Uint8Array) =>\r\n    Array.from(data).map((byte) => byte.toString(16).padStart(2, \"0\")).join(\" \");\r\n\r\nconst buildPowerOnBlock = (sequence: number) => {\r\n    const buffer = new Uint8Array(10);\r\n    buffer[0] = 0x62; // PC_to_RDR_IccPowerOn\r\n    buffer[6] = sequence & 0xff;\r\n    return buffer;\r\n};\r\n\r\nconst buildXfrBlock = (sequence: number, payload: Uint8Array) => {\r\n    const buffer = new Uint8Array(10 + payload.length);\r\n    buffer[0] = 0x6f; // PC_to_RDR_XfrBlock\r\n    let offset = 2;\r\n    buffer[offset++] = payload.length & 0xff;\r\n    buffer[offset++] = (payload.length >> 8) & 0xff;\r\n    buffer[offset++] = (payload.length >> 16) & 0xff;\r\n    buffer[offset++] = (payload.length >> 24) & 0xff;\r\n    buffer[6] = sequence & 0xff;\r\n    buffer[7] = 0; // bBWI\r\n    buffer[8] = 0; // wLevelParameter LSB\r\n    buffer[9] = 0; // wLevelParameter MSB\r\n    buffer.set(payload, 10);\r\n    return buffer;\r\n};\r\n\r\nconst parseCcidResponse = (result: USBInTransferResult) => {\r\n    if (result.status !== \"ok\" || !result.data) {\r\n        throw new Error(`การอ่านข้อมูลล้มเหลว (status: ${result.status})`);\r\n    }\r\n    const view = result.data;\r\n    const length = view.getUint32(3, true);\r\n    const payloadOffset = view.byteOffset + 10;\r\n    const available = Math.max(0, view.byteLength - 10);\r\n    const payload = new Uint8Array(view.buffer, payloadOffset, Math.min(length, available));\r\n    return { messageType: view.getUint8(0), slot: view.getUint8(1), sequence: view.getUint8(2), payload };\r\n};\r\n\r\ndeclare global {\r\n    interface Navigator {\r\n        usb?: USB;\r\n        hid?: HID;\r\n    }\r\n}\r\n\r\nexport default function TestCardReaderPage() {\r\n    const [devices, setDevices] = useState<ReaderDevice[]>([]);\r\n    const [statusLabel, setStatusLabel] = useState(\"รอการตรวจสอบอุปกรณ์\");\r\n    const [eventLog, setEventLog] = useState<string[]>([]);\r\n    const [supports, setSupports] = useState<{ usb: boolean; hid: boolean }>({ usb: false, hid: false });\r\n    const [isMobileBrowser, setIsMobileBrowser] = useState(false);\r\n    const [selectedUsbDevice, setSelectedUsbDevice] = useState<USBDevice | null>(null);\r\n    const [selectedInterface, setSelectedInterface] = useState<number | null>(null);\r\n    const [outEndpoint, setOutEndpoint] = useState<number | null>(null);\r\n    const [inEndpoint, setInEndpoint] = useState<number | null>(null);\r\n    const [deviceBusy, setDeviceBusy] = useState(false);\r\n    const [atrValue, setAtrValue] = useState<string | null>(null);\r\n    const [cardLog, setCardLog] = useState<string[]>([]);\r\n    const [apduInput, setApduInput] = useState(\"00A4040007A000000054480001\");\r\n    const [cardInfo, setCardInfo] = useState<CardInfo>({\r\n        idNumber: \"\",\r\n        fullName: \"\",\r\n        fullNameEn: \"\",\r\n        sex: \"\",\r\n        birthDate: \"\",\r\n        age: \"\",\r\n        issueDate: \"\",\r\n        expiryDate: \"\",\r\n        address: \"\",\r\n        cardStatus: \"\",\r\n        statusCode: \"\",\r\n        readerName: \"\",\r\n    });\r\n    const sequenceRef = useRef(0);\r\n\r\n    const logMessage = useCallback((message: string) => {\r\n        setEventLog((prev) => [message, ...prev].slice(0, 6));\r\n    }, []);\r\n\r\n    const logCardEvent = useCallback(\r\n        (message: string) => {\r\n            setCardLog((prev) => [message, ...prev].slice(0, 6));\r\n            logMessage(message);\r\n        },\r\n        [logMessage]\r\n    );\r\n\r\n    const updateDeviceList = useCallback(async () => {\r\n        if (typeof navigator === \"undefined\") return;\r\n        const usbApi = navigator.usb;\r\n        const hidApi = navigator.hid;\r\n        const collected: ReaderDevice[] = [];\r\n\r\n        if (usbApi) {\r\n            try {\r\n                const usbDevices = await usbApi.getDevices();\r\n                collected.push(...usbDevices.map(mapUsbDevice));\r\n            } catch (error) {\r\n                logMessage(`ไม่สามารถอ่านอุปกรณ์ USB: ${error instanceof Error ? error.message : \"ไม่รู้จัก\"}`);\r\n            }\r\n        }\r\n\r\n        if (hidApi) {\r\n            try {\r\n                const hidDevices = await hidApi.getDevices();\r\n                collected.push(...hidDevices.map(mapHidDevice));\r\n            } catch (error) {\r\n                logMessage(`ไม่สามารถอ่านอุปกรณ์ HID: ${error instanceof Error ? error.message : \"ไม่รู้จัก\"}`);\r\n            }\r\n        }\r\n\r\n        setDevices(collected);\r\n        const stamp = new Date().toLocaleTimeString(\"th-TH\", {\r\n            hour: \"2-digit\",\r\n            minute: \"2-digit\",\r\n            second: \"2-digit\",\r\n        });\r\n        setStatusLabel(collected.length ? `พบ ${collected.length} อุปกรณ์ · อัปเดตล่าสุด ${stamp}` : \"ยังไม่พบเครื่องอ่านบัตรที่เชื่อมต่อ\");\r\n    }, [logMessage]);\r\n\r\n    const tearDownDevice = useCallback(async () => {\r\n        if (!selectedUsbDevice) return;\r\n        try {\r\n            if (selectedInterface !== null) {\r\n                await selectedUsbDevice.releaseInterface(selectedInterface);\r\n            }\r\n        } catch {\r\n            // ignore\r\n        }\r\n        try {\r\n            await selectedUsbDevice.close();\r\n        } catch {\r\n            // ignore\r\n        }\r\n        setSelectedUsbDevice(null);\r\n        setSelectedInterface(null);\r\n        setOutEndpoint(null);\r\n        setInEndpoint(null);\r\n        sequenceRef.current = 0;\r\n        setAtrValue(null);\r\n    }, [selectedInterface, selectedUsbDevice]);\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            void tearDownDevice();\r\n        };\r\n    }, [tearDownDevice]);\r\n\r\n    const prepareUsbDevice = useCallback(\r\n        async (device: USBDevice) => {\r\n            await tearDownDevice();\r\n\r\n            if (!device.opened) {\r\n                await device.open();\r\n            }\r\n\r\n            if (!device.configuration) {\r\n                const desired = device.configurations?.[0]?.configurationValue ?? 1;\r\n                await device.selectConfiguration(desired);\r\n            }\r\n\r\n            const configuration = device.configuration;\r\n            if (!configuration) {\r\n                throw new Error(\"ไม่พบ configuration ของเครื่องอ่าน\");\r\n            }\r\n\r\n            const ccidInterface = configuration.interfaces.find((iface) =>\r\n                iface.alternates.some((alt) => alt.interfaceClass === 0x0b)\r\n            );\r\n\r\n            const alternate = ccidInterface?.alternates.find((alt) => alt.interfaceClass === 0x0b);\r\n            const outEp = alternate?.endpoints?.find((ep) => ep.direction === \"out\" && ep.type === \"bulk\");\r\n            const inEp = alternate?.endpoints?.find((ep) => ep.direction === \"in\" && ep.type === \"bulk\");\r\n\r\n            if (!ccidInterface || !outEp || !inEp) {\r\n                console.error(\"CCID interfaces:\", configuration.interfaces);\r\n                throw new Error(\"ไม่พบ interface/endpoint ที่รองรับ CCID\");\r\n            }\r\n\r\n            await device.claimInterface(ccidInterface.interfaceNumber);\r\n\r\n            setSelectedUsbDevice(device);\r\n            setSelectedInterface(ccidInterface.interfaceNumber);\r\n            setOutEndpoint(outEp.endpointNumber);\r\n            setInEndpoint(inEp.endpointNumber);\r\n            setStatusLabel(\"อุปกรณ์พร้อมอ่านบัตร\");\r\n            sequenceRef.current = 0;\r\n            setAtrValue(null);\r\n            setCardLog([]);\r\n\r\n            logMessage(\r\n                `เตรียมอุปกรณ์เรียบร้อย (iface=${ccidInterface.interfaceNumber}, OUT=${outEp.endpointNumber}, IN=${inEp.endpointNumber})`\r\n            );\r\n        },\r\n        [tearDownDevice, logMessage]\r\n    );\r\n\r\n\r\n    useEffect(() => {\r\n        if (typeof navigator === \"undefined\") return;\r\n        const nav = navigator;\r\n        setSupports({ usb: !!nav.usb, hid: !!nav.hid });\r\n        updateDeviceList();\r\n        const refresh = () => updateDeviceList();\r\n        nav.usb?.addEventListener(\"connect\", refresh);\r\n        nav.usb?.addEventListener(\"disconnect\", refresh);\r\n        nav.hid?.addEventListener(\"connect\", refresh);\r\n        nav.hid?.addEventListener(\"disconnect\", refresh);\r\n        return () => {\r\n            nav.usb?.removeEventListener(\"connect\", refresh);\r\n            nav.usb?.removeEventListener(\"disconnect\", refresh);\r\n            nav.hid?.removeEventListener(\"connect\", refresh);\r\n            nav.hid?.removeEventListener(\"disconnect\", refresh);\r\n        };\r\n    }, [updateDeviceList]);\r\n\r\n    useEffect(() => {\r\n        if (typeof navigator === \"undefined\") return;\r\n        const mobilePattern = /Mobi|Android|iPhone|iPad|Tablet/i;\r\n        setIsMobileBrowser(mobilePattern.test(navigator.userAgent));\r\n    }, []);\r\n\r\n    const readAtr = useCallback(async () => {\r\n        if (!selectedUsbDevice || outEndpoint === null || inEndpoint === null) {\r\n            logCardEvent(\"ยังไม่มีเครื่องอ่าน USB ที่พร้อมอ่านบัตร\");\r\n            return;\r\n        }\r\n        setDeviceBusy(true);\r\n        try {\r\n            const sequence = sequenceRef.current;\r\n            const block = buildPowerOnBlock(sequence);\r\n            sequenceRef.current = (sequence + 1) & 0xff;\r\n            const transfer = await selectedUsbDevice.transferOut(outEndpoint, block);\r\n            if (transfer.status !== \"ok\") {\r\n                throw new Error(`ส่งคำสั่ง Power On ล้มเหลว (status=${transfer.status})`);\r\n            }\r\n            const incoming = await selectedUsbDevice.transferIn(inEndpoint, 512);\r\n            const parsed = parseCcidResponse(incoming);\r\n            if (parsed.messageType !== 0x80) {\r\n                throw new Error(`ไม่พบ ATR (messageType=${parsed.messageType})`);\r\n            }\r\n            const atrHex = bytesToHex(parsed.payload);\r\n            setAtrValue(atrHex);\r\n            logCardEvent(`ATR: ${atrHex}`);\r\n        } catch (error) {\r\n            logCardEvent(`อ่าน ATR ไม่สำเร็จ: ${error instanceof Error ? error.message : \"ไม่รู้จัก\"}`);\r\n        } finally {\r\n            setDeviceBusy(false);\r\n        }\r\n    }, [inEndpoint, logCardEvent, outEndpoint, selectedUsbDevice]);\r\n\r\n    const sendApdu = useCallback(async () => {\r\n        if (!selectedUsbDevice || outEndpoint === null || inEndpoint === null) {\r\n            logCardEvent(\"เลือกเครื่องอ่านแล้ว Power On ก่อนส่งคำสั่ง APDU\");\r\n            return;\r\n        }\r\n        setDeviceBusy(true);\r\n        try {\r\n            const payload = hexToBytes(apduInput);\r\n            const sequence = sequenceRef.current;\r\n            const block = buildXfrBlock(sequence, payload);\r\n            sequenceRef.current = (sequence + 1) & 0xff;\r\n            const transfer = await selectedUsbDevice.transferOut(outEndpoint, block);\r\n            if (transfer.status !== \"ok\") {\r\n                throw new Error(`ส่งคำสั่ง APDU ล้มเหลว (status=${transfer.status})`);\r\n            }\r\n            const incoming = await selectedUsbDevice.transferIn(inEndpoint, 512);\r\n            const parsed = parseCcidResponse(incoming);\r\n            const responseHex = bytesToHex(parsed.payload);\r\n            logCardEvent(`APDU → ${responseHex}`);\r\n        } catch (error) {\r\n            logCardEvent(`APDU ผิดพลาด: ${error instanceof Error ? error.message : \"ไม่รู้จัก\"}`);\r\n        } finally {\r\n            setDeviceBusy(false);\r\n        }\r\n    }, [apduInput, inEndpoint, logCardEvent, outEndpoint, selectedUsbDevice]);\r\n\r\n    const handleUsbScan = useCallback(async () => {\r\n        if (typeof navigator === \"undefined\" || !supports.usb) {\r\n            const message = \"เบราว์เซอร์นี้ไม่รองรับ WebUSB\";\r\n            setStatusLabel(message);\r\n            logMessage(message);\r\n            return;\r\n        }\r\n        setDeviceBusy(true);\r\n        try {\r\n            const usbInterface = navigator.usb;\r\n            if (!usbInterface) {\r\n                const message = \"WebUSB ยังไม่พร้อมใช้งาน\";\r\n                setStatusLabel(message);\r\n                logMessage(message);\r\n                return;\r\n            }\r\n            const device = await usbInterface.requestDevice({ filters: SMART_CARD_FILTERS });\r\n            logMessage(`เลือก USB: ${device.productName ?? \"ไม่ระบุชื่อ\"}`);\r\n            setStatusLabel(\"อุปกรณ์พร้อมอ่านบัตร\");\r\n            await updateDeviceList();\r\n            await prepareUsbDevice(device);\r\n        } catch (error) {\r\n            const reason = error instanceof Error ? error.message : \"ยกเลิกการเลือกอุปกรณ์\";\r\n            logMessage(`WebUSB: ${reason}`);\r\n            setStatusLabel(reason.includes(\"cancel\") ? \"การสแกนถูกยกเลิก\" : \"ไม่พบอุปกรณ์\");\r\n        } finally {\r\n            setDeviceBusy(false);\r\n        }\r\n    }, [logMessage, prepareUsbDevice, supports.usb, updateDeviceList]);\r\n\r\n    const handleHidScan = useCallback(async () => {\r\n        if (typeof navigator === \"undefined\" || !supports.hid) {\r\n            const message = \"เบราว์เซอร์นี้ไม่รองรับ WebHID\";\r\n            setStatusLabel(message);\r\n            logMessage(message);\r\n            return;\r\n        }\r\n        try {\r\n            const devices = await navigator.hid?.requestDevice({ filters: HID_SMART_CARD_FILTERS });\r\n            if (devices && devices.length) {\r\n                logMessage(`เลือก HID: ${devices[0].productName ?? \"ไม่ระบุชื่อ\"}`);\r\n                setStatusLabel(\"อุปกรณ์ HID พร้อมใช้งาน\");\r\n            }\r\n            await updateDeviceList();\r\n        } catch (error) {\r\n            const reason = error instanceof Error ? error.message : \"ยกเลิกการเลือกอุปกรณ์\";\r\n            logMessage(`WebHID: ${reason}`);\r\n            setStatusLabel(reason.includes(\"cancel\") ? \"การสแกนถูกยกเลิก\" : \"ไม่พบอุปกรณ์\");\r\n        }\r\n    }, [logMessage, supports.hid, updateDeviceList]);\r\n\r\n    const cardActionsDisabled = !selectedUsbDevice || outEndpoint === null || inEndpoint === null || deviceBusy || !supports.usb;\r\n\r\n    return (\r\n        <main className=\"container py-5\">\r\n            <div className=\"row justify-content-center\">\r\n                <div className=\"col-12 col-xl-10\">\r\n                    <div className=\"rounded-4 border bg-white shadow-sm p-4 p-lg-5\">\r\n                        <div className=\"text-center mb-5\">\r\n                            <p className=\"text-uppercase fw-semibold text-secondary mb-1\">Test</p>\r\n                            <h1 className=\"h2 fw-bold\">ทดสอบเครื่องอ่านบัตรประชาชน</h1>\r\n                            <p className=\"text-muted mb-0\">\r\n                                หน้าเดียวกันนี้ตรวจสอบ WebUSB/WebHID และส่งคำสั่ง CCID เพื่อให้สามารถต่อยอดการอ่านบัตรได้ทั้งบน PC และอุปกรณ์มือถือ\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div className=\"row g-4\">\r\n                            <div className=\"col-lg-5\">\r\n                                <div className=\"card border-0 shadow-sm h-100\">\r\n                                    <div className=\"card-body\">\r\n                                        <h2 className=\"h5\">สถานะการเชื่อมต่อ</h2>\r\n                                        <p className=\"fs-5 fw-semibold text-primary mb-2\">{statusLabel}</p>\r\n\r\n                                        <div className=\"mb-3\">\r\n                                            <div className=\"d-flex justify-content-between\">\r\n                                                <span className=\"fw-semibold\">WebUSB (PC)</span>\r\n                                                <span className={supports.usb ? \"text-success\" : \"text-secondary\"}>\r\n                                                    {supports.usb ? \"รองรับ\" : \"ไม่รองรับ\"}\r\n                                                </span>\r\n                                            </div>\r\n                                            <div className=\"d-flex justify-content-between\">\r\n                                                <span className=\"fw-semibold\">WebHID (มือถือ/บางเบราว์เซอร์)</span>\r\n                                                <span className={supports.hid ? \"text-success\" : \"text-secondary\"}>\r\n                                                    {supports.hid ? \"รองรับ\" : \"ไม่รองรับ\"}\r\n                                                </span>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div className=\"d-grid gap-2 mb-3\">\r\n                                            <button type=\"button\" className=\"btn btn-primary\" onClick={handleUsbScan} disabled={!supports.usb || deviceBusy}>\r\n                                                สแกนเครื่องอ่าน USB (PC)\r\n                                            </button>\r\n                                            <button type=\"button\" className=\"btn btn-outline-primary\" onClick={handleHidScan} disabled={!supports.hid}>\r\n                                                สแกนเครื่องอ่าน HID (Android/เบราว์เซอร์ที่รองรับ)\r\n                                            </button>\r\n                                        </div>\r\n\r\n                                        <div className=\"small text-muted mb-3\">\r\n                                            {supports.usb || supports.hid ? (\r\n                                                \"หากไม่มีเครื่องอ่านให้เสียบสาย USB แล้วแตะปุ่มสแกนอีกครั้ง\"\r\n                                            ) : (\r\n                                                \"แนะนำให้เปิดด้วย Chrome/Edge บนพีซี หรือ Chrome บน Android เพื่อใช้งาน\"\r\n                                            )}\r\n                                        </div>\r\n\r\n                                        <div className=\"mt-4\">\r\n                                            <h3 className=\"h6 text-uppercase text-muted\">กิจกรรมล่าสุด</h3>\r\n                                            <ul className=\"list-unstyled mb-0 small\">\r\n                                                {eventLog.length ? (\r\n                                                    eventLog.map((entry, index) => (\r\n                                                        <li key={entry + index} className=\"py-1 border-bottom border-secondary border-opacity-25\">\r\n                                                            {entry}\r\n                                                        </li>\r\n                                                    ))\r\n                                                ) : (\r\n                                                    <li className=\"text-muted\">รอการดำเนินการจากผู้ใช้</li>\r\n                                                )}\r\n                                            </ul>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"col-lg-7\">\r\n                                <div className=\"border rounded-4 shadow-sm h-100 p-4\">\r\n                                    <div className=\"d-flex justify-content-between align-items-baseline mb-3\">\r\n                                        <div>\r\n                                            <h2 className=\"h5 mb-2\">อุปกรณ์ที่ระบบสามารถมองเห็น</h2>\r\n                                            <p className=\"text-muted small mb-0\">\r\n                                                รีเฟรชรายการหากต่อเครื่องอ่านใหม่ หรือรู้สึกว่ายังไม่มีอุปกรณ์แสดง\r\n                                            </p>\r\n                                        </div>\r\n                                        <button type=\"button\" className=\"btn btn-sm btn-outline-secondary\" onClick={updateDeviceList}>\r\n                                            รีเฟรช\r\n                                        </button>\r\n                                    </div>\r\n\r\n                                    {devices.length ? (\r\n                                        <div className=\"list-group list-group-flush\">\r\n                                            {devices.map((device) => (\r\n                                                <div key={device.id} className=\"list-group-item bg-transparent border-0 px-0 py-3\">\r\n                                                    <div className=\"d-flex justify-content-between align-items-start\">\r\n                                                        <span className=\"fw-semibold\">{device.label}</span>\r\n                                                        <span className=\"badge bg-secondary bg-opacity-10 text-dark\">{device.kind}</span>\r\n                                                    </div>\r\n                                                    <p className=\"mb-0 small text-muted\">{device.info}</p>\r\n                                                </div>\r\n                                            ))}\r\n                                        </div>\r\n                                    ) : (\r\n                                        <p className=\"text-muted mb-0\">\r\n                                            ยังไม่พบเครื่องอ่านที่เชื่อมต่อ อย่าลืมเสียบสายและแตะปุ่มสแกนด้านซ้าย\r\n                                        </p>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"mt-4\">\r\n                            <div className=\"border rounded-4 shadow-sm p-4\">\r\n                                <div className=\"row g-4\">\r\n                                    <div className=\"col-lg-8\">\r\n                                        <div className=\"d-flex align-items-center justify-content-between mb-2\">\r\n                                            <div>\r\n                                                <p className=\"text-uppercase small fw-semibold text-muted mb-1\">เลขประจำตัวประชาชน</p>\r\n                                                <h1 className=\"h3 mb-0\">{cardInfo.idNumber}</h1>\r\n                                            </div>\r\n                                            <span className=\"badge bg-success bg-opacity-15 text-success\">{cardInfo.cardStatus}</span>\r\n                                        </div>\r\n                                        <div className=\"d-flex gap-4 flex-wrap mb-3\">\r\n                                            <div>\r\n                                                <p className=\"small text-uppercase text-muted mb-1\">ชื่อ-นามสกุล</p>\r\n                                                <p className=\"fw-semibold mb-0\">{cardInfo.fullName}</p>\r\n                                                <p className=\"text-muted small mb-0\">{cardInfo.fullNameEn}</p>\r\n                                            </div>\r\n                                            <div>\r\n                                                <p className=\"small text-uppercase text-muted mb-1\">เพศ</p>\r\n                                                <p className=\"mb-0\">{cardInfo.sex}</p>\r\n                                            </div>\r\n                                            <div>\r\n                                                <p className=\"small text-uppercase text-muted mb-1\">วันเกิด</p>\r\n                                                <p className=\"mb-0\">{cardInfo.birthDate} · {cardInfo.age}</p>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"row row-cols-1 row-cols-md-2 g-3\">\r\n                                            <div>\r\n                                                <p className=\"small text-uppercase text-muted mb-1\">วันที่ออกบัตร</p>\r\n                                                <p className=\"mb-0 fw-semibold\">{cardInfo.issueDate}</p>\r\n                                            </div>\r\n                                            <div>\r\n                                                <p className=\"small text-uppercase text-muted mb-1\">วันหมดอายุ</p>\r\n                                                <p className=\"mb-0 fw-semibold\">{cardInfo.expiryDate}</p>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"mt-3\">\r\n                                            <p className=\"small text-uppercase text-muted mb-1\">ที่อยู่ตามบัตร</p>\r\n                                            <p className=\"mb-0\">{cardInfo.address}</p>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"col-lg-4\">\r\n                                        <div className=\"border rounded-4 p-3 h-100 d-flex flex-column justify-content-between\">\r\n                                            <div>\r\n                                                <div className=\"ratio ratio-1x1 rounded mb-2\" style={{ backgroundColor: \"#f5f5f5\" }}>\r\n                                                    <div className=\"d-flex justify-content-center align-items-center h-100 text-muted\">ภาพถ่าย</div>\r\n                                                </div>\r\n                                                <p className=\"text-uppercase small text-muted mb-1\">เลขที่บัตรประชาชน</p>\r\n                                                <p className=\"fs-5 fw-semibold mb-1\">{cardInfo.statusCode}</p>\r\n                                                <p className=\"small text-muted mb-0\">{cardInfo.readerName}</p>\r\n                                            </div>\r\n                                            <div className=\"mt-3\">\r\n                                                <p className=\"small text-uppercase text-muted mb-1\">ระบบบันทึก</p>\r\n                                                <div className=\"bg-dark text-white rounded-3 px-3 py-2 small\">\r\n                                                    FAST ID STATUS\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"mt-3\">\r\n                                    <div className=\"small text-uppercase text-muted mb-2\">System Logs</div>\r\n                                    <div className=\"bg-light border rounded-3 p-3\" style={{ minHeight: 140 }}>\r\n                                        {cardLog.length ? (\r\n                                            <ul className=\"list-unstyled mb-0 small\">\r\n                                                {cardLog.map((entry, index) => (\r\n                                                    <li key={entry + index} className=\"pb-2 border-bottom border-secondary border-opacity-25\">\r\n                                                        {entry}\r\n                                                    </li>\r\n                                                ))}\r\n                                            </ul>\r\n                                        ) : (\r\n                                            <p className=\"small text-muted mb-0\">ยังไม่พบข้อมูลบันทึก</p>\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"mt-5\">\r\n                            <div className=\"border rounded-4 shadow-sm p-4\">\r\n                                <div className=\"d-flex flex-column flex-lg-row gap-3 align-items-start\">\r\n                                    <div className=\"flex-fill\">\r\n                                        <h2 className=\"h5\">อ่านบัตรประชาชน</h2>\r\n                                        <p className=\"text-muted small mb-2\">\r\n                                            ส่งคำสั่ง CCID โดยตรงผ่าน WebUSB เพื่อดึง ATR และส่ง APDU (อ่านข้อมูลบัตรต่อจากนี้ได้ง่ายขึ้น)\r\n                                        </p>\r\n                                        <div className=\"d-flex gap-2 flex-wrap mb-3\">\r\n                                            <button className=\"btn btn-outline-success\" onClick={readAtr} disabled={cardActionsDisabled}>\r\n                                                เปิดบัตร (Power On)\r\n                                            </button>\r\n                                            <button className=\"btn btn-success\" onClick={sendApdu} disabled={cardActionsDisabled}>\r\n                                                ส่ง APDU\r\n                                            </button>\r\n                                        </div>\r\n                                        <div className=\"mb-2\">\r\n                                            <label className=\"form-label small text-muted mb-1\">คำสั่ง APDU (HEX)</label>\r\n                                            <input\r\n                                                className=\"form-control form-control-sm\"\r\n                                                value={apduInput}\r\n                                                onChange={(event) => setApduInput(event.target.value)}\r\n                                                placeholder=\"ตัวอย่าง: 00A4040007A000000054480001\"\r\n                                            />\r\n                                        </div>\r\n                                        <div className=\"d-flex gap-2 flex-wrap\">\r\n                                            <span className=\"badge bg-info bg-opacity-10 text-info\">ATR</span>\r\n                                            <p className=\"mb-0 small\">{atrValue ?? \"ยังไม่อ่าน\"}</p>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"flex-fill\">\r\n                                        <h3 className=\"h6 text-uppercase text-muted\">ขั้นตอนอัตโนมัติ</h3>\r\n                                        <div className=\"bg-dark text-white rounded-3 p-3\" style={{ minHeight: 160 }}>\r\n                                            <ul className=\"list-unstyled mb-0 small\">\r\n                                                <li>Card Disconnected.</li>\r\n                                                <li>Step 1 Card Connected.</li>\r\n                                                <li>Step 2 Read card information.</li>\r\n                                                <li>Step 3 Read the picture.</li>\r\n                                            </ul>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"mt-5\">\r\n                            <h2 className=\"h4\">คำแนะนำเพิ่มเติม</h2>\r\n                            <div className=\"row row-cols-1 row-cols-md-2 g-3 mt-3\">\r\n                                <div className=\"col\">\r\n                                    <div className=\"p-3 border rounded-3 h-100\">\r\n                                        <h3 className=\"h6\">บน PC</h3>\r\n                                        <ul className=\"ps-3 mb-0\">\r\n                                            <li>ใช้ Chrome หรือ Edge บน Windows 10/11 เพื่อรับรอง WebUSB</li>\r\n                                            <li>หากไม่เห็นเครื่องอ่านให้ตรวจสอบ Device Manager ว่าไดรเว์อร์ \"Alcorlink\" ถูกติดตั้ง</li>\r\n                                            <li>เปิดหน้านี้แล้วแตะ \"สแกนเครื่องอ่าน USB\" เพื่อให้อุปกรณ์ถามสิทธิ์</li>\r\n                                        </ul>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"col\">\r\n                                    <div className=\"p-3 border rounded-3 h-100\">\r\n                                        <h3 className=\"h6\">บนมือถือ</h3>\r\n                                        <ul className=\"ps-3 mb-0\">\r\n                                            <li>Android (Chrome/Edge) รองรับ WebHID; iOS/Safari ยังไม่รองรับ</li>\r\n                                            <li>เปิดหน้าเว็บนี้จากเบราว์เซอร์ที่รองรับ และแตะ \"สแกนเครื่องอ่าน HID\"</li>\r\n                                            <li>หากยังไม่มีการตอบกลับ ลองสลับสาย USB หรือใช้ฐาน OTG ในกล้อง</li>\r\n                                        </ul>\r\n                                        {isMobileBrowser && (\r\n                                            <p className=\"small text-muted mb-0\">\r\n                                                อยู่ระหว่างเรียกดูจากอุปกรณ์โมบายล์ เลือกปุ่ม HID หากต้องการใช้งานผ่าน USB-C\r\n                                            </p>\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}